(this["webpackJsonpveho-react"]=this["webpackJsonpveho-react"]||[]).push([[93,69],{1337:function(e,t,a){"use strict";a.r(t);var n=a(33),i=a(1),r=a(38),o=a(39),l=a(46),c=a(56),s=a(29),u=a(0),d=a.n(u),m=a(30),p=a(54),f=a(193),h=a(18),y=a(1629),g=a(1654),v=a(1644),b=a(1645),E=a(213),C=a(341),x=a(62),O=a(345),I=a(20),N=a(15);function k(e){var t=e.isEditCityVisible,a=e.closeEditCityModal,n=e.clickClose,i=e.mode,r=e.replaceName;return d.a.createElement("div",{className:"modal-header",id:"editRoute"},d.a.createElement(u.Fragment,null,d.a.createElement("i",{className:"pyt-arrow-left-16 back-icon",onClick:a,style:{visibility:t?"visible":"hidden"}}),d.a.createElement("p",null,t?"add"===i?"Add City":"Replacing ".concat(r):"Edit Route"),d.a.createElement("i",{className:"pyt-close-16 close-icon",onClick:n})))}var w=a(191),j=a(71),T=a(35),S=a.n(T);function A(e){var t=e.enableFooter,a=e.enableTripOption,n=e.applyChanges,i=e.discard;return d.a.createElement("div",{className:"modal-footer ".concat(t?"":"hide")},Object(j.a)()?null:d.a.createElement("p",{className:S()("",{hide:!a})},"Changes will be applied after updating"),d.a.createElement("div",{className:S()("right-btns",{hide:!a})},d.a.createElement("span",{style:{cursor:"pointer"},onClick:i},"Cancel"),d.a.createElement(w.a,{buttonClass:"btn btn-primary",onClickAction:n,buttonText:"Update itinerary"})))}var R=a(14).a.api_url;function _(e,t){switch(e){case"add":return"".concat(R,"city/options/add");case"remove":return"".concat(R,"city/options/remove");default:return"".concat(R,"city/").concat(t,"/options/replace")}}var D="No cities matching your search query!",P="Hey! Looks like there are no other city connection possible here. Please try adding a city from another route.",L="You don\u2019t have the permission to make changes in another user\u2019s itinerary",F="Try again!",M="No, cancel!",B="Oops, access denied!",H=a(23);function U(e){var t=e.cityName,a=e.onButtonClickAction,n=e.descriptionText,i=e.image;return d.a.createElement("li",{onClick:function(e){e&&e.preventDefault(),a()}},d.a.createElement("img",{src:Object(H.a)(i,"w=40&h=40&fit=crop"),alt:t}),d.a.createElement("p",null,t,d.a.createElement("span",null,n)))}function V(e){var t=Math.floor(e/60),a=e%60,n=t?"".concat(t,"h"):"",i=a?"".concat(a,"m"):"";return"".concat(n," ").concat(i)}var z=a(22);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var W=D,Y=P,K=L,J=F,q=M,Q=B;function X(e){var t=e.editCityMode,a=e.city,n=e.closeModal,i=e.cityName,r=e.enableFrom,o=e.enableTo,l=e.fromCity,c=e.toCity,s=e.isFromLanding,u=e.applyChangeDirectly,m=e.descriptionText,p=void 0===m?"":m,f=e.image,h=void 0===f?"":f,y=e.editCityOptions,g=y.previousCityIndex,v=y.replaceIndex,b="add"===t,E=b?"add":"replace",C=b?g:v;return d.a.createElement(U,{cityName:i,onButtonClickAction:function(){s?u(C,a,E.toUpperCase()):n(e[E+"City"](C,a))},buttonText:b?"Add":"Replace",imageUrl:a.image,enableFrom:r,enableTo:o,fromCity:l,toCity:c,image:h,descriptionText:p})}var $=function(e){Object(l.a)(a,e);var t=G(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).closeModal=function(e){n.setState({modalClassName:""},(function(){setTimeout((function(){n.props.closeModal(),e&&e()}),200)}))},n.search=function(e){var t=e.target.value,a=function(e){return e.toLowerCase().replace(/\s/g,"")};n.setState({searchQuery:t},(function(){if(t){var e=a(t),i=n.state.cities.filter((function(t){return 0===a(t.cityName+t.country).indexOf(e)}));n.setState({citiesToShow:i})}else n.setState({citiesToShow:n.state.cities})}))},n.state={cities:[],citiesToShow:[],searchQuery:"",isLoading:!0,hideFields:!0,modalClassName:""},n.searchCity=d.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.editCityMode,n=t.cityToReplace,i=t.editCityOptions,r=t.closeModal;Object(z.a)({url:_(a,n),method:"POST",body:i,onSuccess:function(t){e.setState({cities:t,citiesToShow:t,isLoading:!1})},onFailure:function(t){e.setState({isLoading:!1}),t.response&&401===t.response.status&&(r(),swal({title:Q,text:K,animation:!0,showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:J,cancelButtonText:q,closeOnConfirm:!0,closeOnCancel:!0}))}}),setTimeout((function(){e.setState({modalClassName:"slide-in"})}),100)}},{key:"render",value:function(){var e=this,t=this.state,a=t.cities,n=t.citiesToShow,i=t.hideFields,r=this.state,o=r.searchQuery,l=r.isLoading,c=this.props,s=c.editCityMode,m=c.editCityOptions,p=c.addCity,f=c.replaceCity,h=c.replaceIndex,y=c.previousCityIndex,g=c.enableFrom,v=c.enableTo,b=c.applyChangeDirectly,E=c.isFromLanding;return a=a.filter((function(e){return e.canReplace||e.canAdd})),n=n.filter((function(e){return e.canReplace||e.canAdd})),d.a.createElement(u.Fragment,null,d.a.createElement("div",{className:"replace-backdrop hidden-xs fade-in",onClick:function(){e.closeModal()}}),d.a.createElement("div",{className:"replace-city ".concat(this.state.modalClassName)},d.a.createElement("div",{className:"tbl-header"},d.a.createElement("div",{className:"search ".concat(i?"hide":"")},d.a.createElement("i",{className:"pyt-search-16"}),d.a.createElement("input",{ref:this.searchCity,id:"findcity",value:o,onBlur:function(){e.setState({hideFields:!0})},onFocus:function(){e.setState({hideFields:!1})},onChange:this.search,type:"text",className:"form-control",placeholder:"Destinations nearby"}),d.a.createElement("i",{className:"cursor-pointer pyt-backspace-fill-16",onClick:function(){e.setState({hideFields:!0})}})),d.a.createElement("p",{className:"search-link",onClick:function(){e.setState({hideFields:!1},(function(){e.searchCity.current&&e.searchCity.current.focus()}))}},"Destinations ",d.a.createElement("i",{className:"fs-normal hidden-xs"},"nearby")),null,null),n.length||l?d.a.createElement("ul",null,n.map((function(t,a){return d.a.createElement(X,Object.assign({key:a,isFromLanding:E,applyChangeDirectly:b,editCityMode:s,editCityOptions:m,addCity:p,replaceCity:f,city:t,replaceIndex:h,previousCityIndex:y,closeModal:e.closeModal,enableFrom:g,enableTo:v},t))}))):a.length?d.a.createElement("span",{className:"alert-txt main-para"},W):d.a.createElement("span",{className:"alert-txt main-para"},Y)))}}]),a}(u.Component),Z=a(1685),ee=a(1604),te=a(106);function ae(e){var t=e.decrementClass,a=e.incrementClass,n=e.min,i=e.prefix,r=e.suffix,o=e.onCounterAction,l=e.onEditAction,c=e.onDeleteAction,s=e.hideDeleteAction,u=void 0!==s&&s,m=e.hideEditAction,p=void 0!==m&&m,f=e.activeText,h=e.enableCounter,y=e.enableText,g=e.headerClassName,v=e.customElements,b=e.isModal,E=void 0!==b&&b,C=e.defaultValue,x=e.isActive,O=void 0!==x&&x,I=e.onClickAction,N=void 0===I?function(){}:I,k=e.isCounterEditable,w=void 0===k||k,j=e.deleteTooltip,T=e.isSelected,S=void 0!==T&&T,A={decrementClass:t,incrementClass:a,defaultValue:C,min:n,max:50,prefix:i,suffix:r,onClickAction:o,isCounterEditable:w,incTooltip:ee.d,decTooltip:ee.i,minTooltip:ee.l,maxTooltip:ee.k,disabled:!w};return d.a.createElement("div",{className:g+"".concat(O?" active":""," ").concat(S?"selected":""),onClick:E?N:null},c?d.a.createElement(te.a,{text:j},d.a.createElement("i",{className:"icon pyt-delete-16 ".concat(u?"disabled":""),onClick:u?null:function(e){c&&c(e)}})):null,E?null:l?d.a.createElement("i",{className:"icon pyt-edit-16 ".concat(p?"hide":""),onClick:function(e){l&&l(e)}}):null,v,y?d.a.createElement("p",null,f):null,h?d.a.createElement(d.a.Fragment,null,E?d.a.createElement("div",{className:"anchor-link right-link ".concat(p?"hide":""),onClick:function(e){e&&e.preventDefault(),l&&l(e)}},d.a.createElement("i",{className:"pyt-edit-16"}),d.a.createElement("span",null,"Replace")):null,d.a.createElement(Z.a,A)):null)}ae.defaultProps={decrementClass:"pyt-minus-16",incrementClass:"pyt-plus-16",min:1,max:25,prefix:"",suffix:"n",iconClassName:"icon",headerClassName:"item ",enableCounter:!0,enableText:!0};var ne=a(596),ie=a(593);function re(e){var t=e.replaceTransfer,a=e.enableReplace,n=e.enableAdd,i=void 0===n||n,r=e.addCity,o=e.keyValue,l=e.isModal,c=e.transferModeRotate,s=void 0===c?null:c,m=e.transferMode,p=void 0===m?"":m,f=e.customTransferElement,h=void 0===f?null:f,y=(e.time,e.transferIconClassName),g=e.enableTransferMode,v=e.nextCity,b=l?{transferElement:g?d.a.createElement("span",null,"Transfer by ".concat(p.toLowerCase())):d.a.createElement("span",null,"Travel to ".concat(v)),replaceCityClassName:"replacebtn",addCityClassName:"addcity-link",replaceCityIcon:d.a.createElement("i",{className:"pyt-edit-16"}),addCityIcon:d.a.createElement("i",{className:"pyt-plus-16"}),replaceText:". Change"}:{transferElement:d.a.createElement("span",null,"Transfer by ".concat(p.toLowerCase())),replaceCityClassName:"",addCityClassName:"",replaceCityIcon:null,addCityIcon:null,replaceText:"Replace Transfer"},E=b.transferElement,C=b.replaceCityClassName,x=b.addCityClassName,O=b.replaceCityIcon,I=b.addCityIcon,N=b.replaceText,k=d.a.createElement(ne.a,{id:"score-tooltip",className:"rgba(0, 0, 0, 0.9)"},"Apply your changes to change / check the transfer details");return d.a.createElement(u.Fragment,{key:o},l?null:d.a.createElement("i",{className:"icon pyt-plus-16"}),d.a.createElement("p",null,g||!l?d.a.createElement("i",{className:oe(p,s,y)}):d.a.createElement(ie.a,{id:"ot-matching-score",placement:"top",overlay:k},d.a.createElement("i",{className:"pyt-transfer-24"})),h||E,a&&l?d.a.createElement("span",{className:"anchor-link",onClick:t},N):null),i&&l?d.a.createElement("div",{className:"anchor-link right-link",onClick:r},d.a.createElement("span",null,"Add City")):null,d.a.createElement("ul",{className:"list-unstyled mb-0 ".concat(l?"hide":"")},i?d.a.createElement("li",null,d.a.createElement("a",{href:" ",className:x},I,d.a.createElement("span",{onClick:r},"Add City"))):null,a?d.a.createElement("li",null,d.a.createElement("a",{href:" ",className:C},O,d.a.createElement("span",{onClick:t},N))):null))}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;if(a)return a;switch(e){case"RENTALCAR":case"CAR":return"pyt-car-fill-16";case"TRAIN":return"pyt-train-fill-16";case"FERRY":return"pyt-ship-fill-16";case"BUS":return"pyt-bus-fill-16";case"FLIGHT":return null===t?"pyt-flight-fill-16":"pyt-flight-fill-16 rotate-".concat(t);default:return"pyt-bus-fill-16"}}var le=a(7),ce=a(588);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var ue=a.n(ce).a.Link,de=function(e){Object(l.a)(a,e);var t=se(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={addedRowClass:"triplist-enter",newActionIndex:e.props.newActionIndex,actionCity:null,actionIndex:null,run:!1},e.deleteCity=function(t,a,n){if(n)return null;e.props.isEditable?e.setState({addedRowClass:"triplist-enter",newActionIndex:a},(function(){setTimeout((function(){e.props.deleteCityAction(a,t),e.setState({newActionIndex:null})}),400)})):e.props.deleteCityAction(a,t)},e.handleRowTotemClick=function(t,a,n){var i=e.props,r=i.isEditable,o=i.isBooked,l=i.history,c=i.match;if(r){if(o)return!1;l.push(Object(le.Jb)({itineraryId:c.params.itineraryId,regionCode:c.params.searchRegion,target:le.i,customParams:{transferMode:n,prevCityKey:a,cityKey:t}}))}else l.push(l.location.pathname+"/get-cost")},e.performEventAction=function(e){e&&e.preventDefault(),e&&e.stopPropagation()},e.addCityEnd=function(t){e.performEventAction(t);var a=e.props,n=a.addCityAction,i=a.cities,r=void 0===i?[]:i;e.setState({actionCity:"End"},(function(){n(r.length-1,"End")}))},e.addCityStart=function(t){e.performEventAction(t);var a=e.props.addCityAction;e.setState({actionCity:"Start"},(function(){a(-1,"Start")}))},e.routeEditTrip=function(t){t&&t.preventDefault();var a=e.props,n=a.isFromPackages,i=a.itineraryInfo,r=a.booking,o=a.isReadOnly,l=a.history,c=a.match,s=n&&i.campaignItineraryId;r||o||(n?l.push("".concat(l.location.pathname,"/get-cost").concat(s?"/"+s:"")):l.push(Object(le.Jb)({itineraryId:c.params.itineraryId,regionCode:c.params.searchRegion,target:le.E})))},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;e.newActionIndex!==this.props.newActionIndex&&e.newActionIndex!==this.state.newActionIndex&&setTimeout((function(){t.setState({newActionIndex:t.props.newActionIndex,addedRowClass:"triplist-active"},(function(){setTimeout((function(){t.setState({addedRowClass:""})}),3e3)}))}),100),e.actionCity===this.props.actionCity&&e.actionIndex===this.props.actionIndex||this.state.actionCity===this.props.actionCity&&this.state.actionIndex===this.props.actionIndex||this.setState({actionCity:this.props.actionCity,actionIndex:this.props.actionIndex});var a=document.getElementsByClassName("selected"),n=a?a[0]:null;n&&n.scrollIntoView()}},{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.rootClassName,r=void 0===i?"trip-timeline xs-view":i,o=n.cities,l=void 0===o?[]:o,c=n.handleNightAction,s=n.addCityAction,m=n.replaceCityAction,p=n.setActiveIndex,f=n.activeIndex,h=n.activeField,y=n.isModal,g=void 0===y||y,v=n.isReadOnly,b=n.isEditable,E=n.getCostAction,C=n.actionPerformed,x=n.removeCityInfo,O=n.isEditCityVisible,I=n.editCityMode,k=n.enableLoader,w=n.itineraryInfo,j=l.length,T=j-1,S=l[0]||{},A=S.airportCode,R=void 0===A?"":A,_=S.chosenCityAirport,D=void 0===_?"":_,P=S.cityName,L=void 0===P?"":P,F=(null===w||void 0===w||null===(e=w.itinerary)||void 0===e||!e.booking)&&b,M=!(null===w||void 0===w||null===(t=w.itinerary)||void 0===t||!t.booking)||v,B=d.a.createElement(ae,{isSelected:"Start"===this.state.actionCity&&O,isModal:g,enableText:!1,enableCounter:!1,headerClassName:"item transfer  ".concat(F?"":"disable-pointers"),onClickAction:F?this.addCityStart:E,hideDeleteAction:!M,hideEditAction:!M,isReadOnly:M,customElements:d.a.createElement(re,{customTransferElement:d.a.createElement("span",null,"Arrival at ".concat(R||D)),enableTransferMode:!0,index:0,enableReplace:!1,keyValue:L+"_0",addCity:F?this.addCityStart:E,isModal:g,transferModeRotate:90,transferMode:"FLIGHT",transferIconClassName:"pyt-flight-arrival-fill-16",enableAdd:!M,isReadOnly:M})}),H=l[T]||{},U=d.a.createElement(ae,{isSelected:"End"===this.state.actionCity&&O,isModal:g,enableText:!1,enableCounter:!1,headerClassName:"item transfer ".concat(F?"":"disable-pointers"),onClickAction:F?this.addCityEnd:E,addCity:F?this.addCityEnd:E,hideDeleteAction:M,hideEditAction:M,customElements:d.a.createElement(re,{customTransferElement:d.a.createElement("span",null,"Depart from ".concat(H.airportCode||H.chosenCityAirport)),cityName:H.cityName,enableTransferMode:!0,index:T,enableReplace:!1,keyValue:H.cityName+"_"+T,addCity:F?this.addCityEnd:E,isModal:g,transferModeRotate:0,transferMode:"FLIGHT",transferIconClassName:"pyt-flight-departure-fill-16",enableAdd:!M,isReadOnly:M})}),z=d.a.createElement("section",{className:g?"timeline":"timeline-content"},d.a.createElement("div",{className:"item timeline-title vmargin-small n-tracker-route-modal ".concat(F?"":"disable-pointers"),onClick:function(e){a.routeEditTrip(e),Object(N.Ld)(N.yb,{element_name:"edit route"})}},F?d.a.createElement("i",{className:"icon pyt-edit-16"}):null,d.a.createElement("p",null,d.a.createElement("span",null,"Route overview"))),l.map((function(e,t){var n=e.cityName,i=e.nights,r=n+"_"+t,o=t===j-1?{}:l[t+1],y=o.transferSlotDetails,v=void 0===y?{}:y,b=v.type,N=v.intercityTransferSlotDetailVO,w=void 0===N?{alternateModesAvailable:!1,directTransferDetail:{transferMode:""}}:N,T=C?o.mode:(w.directTransferDetail||{transferMode:o.mode}).transferMode,S=o.travelTime,A="INTERNATIONAL_ARRIVE"!==b&&"INTERNATIONAL_DEPART"!==b&&w.alternateModesAvailable,R=x&&x[t],_=!R||R.canRemove,D=M||1===j||!_;return d.a.createElement(u.Fragment,{key:r},t?null:B,d.a.createElement(ue,{to:g?null:n.replace(" ","_")+"_box"+t,spy:!0,smooth:!0,duration:400,offset:-140},d.a.createElement(ae,{isSelected:a.state.actionCity===e.cityId&&a.state.actionIndex===t&&O&&"change"===I,isActive:g&&f===t&&"City"===h,onClickAction:function(e){e&&e.preventDefault(),e.target.classList.contains("pyt-delete-16")||p(t,"City")},headerClassName:"item ".concat(t===a.state.newActionIndex?a.state.addedRowClass:""),key:r,isModal:g,activeText:n,defaultValue:i,isCounterEditable:F&&!k,deleteTooltip:D?1===j?ee.e:ee.j:ee.f,hideDeleteAction:D,hideEditAction:!!M,onEditAction:M||!g?null:function(n){a.performEventAction(n),a.setState({actionCity:e.cityId,actionIndex:t},(function(){m(t,e.cityId)}))},onDeleteAction:D?function(){}:function(e){a.deleteCity(e,t,D)},onCounterAction:M?null:function(e,n){a.performEventAction(e),c(t,n)},transferMode:T})),t!==j-1?d.a.createElement(ae,{isSelected:a.state.actionCity===e.cityId&&a.state.actionIndex===t&&O&&"add"===I,isModal:g,isActive:g&&f===t&&"Stop"===h,onClickAction:function(n){n&&n.preventDefault(),a.setState({actionCity:e.cityId,actionIndex:t},(function(){F?A?p(t,"Stop"):s(t,e.cityId):E(n)}))},headerClassName:"item transfer ".concat(F?"":"disable-pointers"),enableText:!1,enableCounter:!1,hideDeleteAction:!!M,hideEditAction:!!M,customElements:d.a.createElement(re,{cityName:n,index:t,enableTransferMode:"NONE"!==T,nextCity:o.cityName,enableReplace:A,keyValue:r,replaceTransfer:function(t){a.performEventAction(t),a.handleRowTotemClick(o.cityKey,e.cityKey,T)},enableAdd:!M,addCity:F?function(n){a.performEventAction(n),a.setState({actionCity:e.cityId,actionIndex:t},(function(){s(t,e.cityId)}))}:E,isModal:g,transferMode:T,isReadOnly:M,time:V(S)})}):U)})));return g?z:d.a.createElement("div",{className:r},z)}}]),a}(u.Component);function me(e){var t=e.isEditCityClosing,a=e.isEditCityVisible,n=e.editCityMode,i=e.itineraryId,r=e.cityToReplace,o=e.addCity,l=e.replaceCity,c=e.citySelectedToReplace,s=e.editCityOptions,m=e.fromCityCode,p=e.toCityCode,f=e.cities,h=e.handleNights,y=e.deleteCity,g=e.openEditCityModalAdd,v=e.openEditCityModalReplace,b=e.activeIndex,E=e.setActiveIndex,C=e.activeField,x=e.history,O=e.isBooked,I=e.match,N=e.closeEditCityModal,k=e.isModal,w=e.rootClassName,j=e.isReadOnly,T=e.newActionIndex,S=e.isEditable,A=e.applyChangeDirectly,R=e.isFromLanding,_=e.actionPerformed,D=e.getCostAction,P=e.removeCityInfo,L=e.actionCity,F=e.actionIndex,M=e.enableLoader,B=e.isFromPackages,H=e.itineraryInfo,U=d.a.createElement(de,{cities:f,isModal:k,removeCityInfo:P,rootClassName:w,enableLoader:M,actionPerformed:_,handleNightAction:h,deleteCityAction:y,addCityAction:g,replaceCityAction:v,activeIndex:b,activeField:C,setActiveIndex:E,history:x,isBooked:O,match:I,getCostAction:D,isReadOnly:j,newActionIndex:T,isEditable:S,isEditCityVisible:a,editCityMode:n,actionCity:L,actionIndex:F,isFromPackages:B,itineraryInfo:H});return d.a.createElement(u.Fragment,null,k?d.a.createElement("div",{className:"modal-body "+(a?"scroll-locked replace-city-body":"")},U,a?d.a.createElement($,{isClosing:t,closeModal:N,editCityMode:n,itineraryId:i,cityToReplace:r,editCityOptions:s,addCity:o,replaceCity:l,citySelectedToReplace:c,fromCityCode:m,toCityCode:p,applyChangeDirectly:A,isFromLanding:R,enableFrom:!!m,enableTo:!!p,isReadOnly:j}):null):U)}a(1605);var pe=a(1780),fe=a(194);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var ye=function(e){Object(l.a)(a,e);var t=he(a);function a(e){var n;Object(r.a)(this,a),(n=t.call(this,e)).openEditCityModalReplace=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.props.itineraryInfo,i=a&&a.itinerary,r=i.regionCode,o=i.interests,l=n.state.cities,c=l[e],s=l.length,u=c.cityId,d=e>0?l[e-1]:{cityId:0,airportCode:""},m=e<l.length-1?l[e+1]:{cityId:0,airportCode:""},p={entry:0===e,exit:e===s-1,currentCityId:c.cityId,previousCityId:e>0?l[e-1].cityId:0,nextCityId:m.cityId,replaceIndex:e,region:r,interests:o,citiesInItinerary:n.getCityValues()};n.performModalAction({citySelectedToReplace:c,isEditCityVisible:!0,editCityMode:"change",cityToReplace:u,editCityOptions:p,fromCityCode:d.cityName,toCityCode:m.cityName,actionCity:t,actionIndex:e})},n.openEditCityModalAdd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.state.cities,i=n.props.itineraryInfo,r=i.itinerary,o=r.regionCode,l=r.interests,c=e<a.length-1?a[e+1]:{cityId:0,airportCode:""},s=-1===e,u=e===a.length-1,d=s?{airportCode:""}:a[e],m={entry:s,exit:u,previousCityId:s?0:a[e].cityId,previousCityIndex:e+1,nextCityId:u?0:c.cityId,region:o,interests:l,citiesInItinerary:n.getCityValues()};n.performModalAction({isEditCityVisible:!0,editCityMode:"add",editCityOptions:m,fromCityCode:d.cityName,toCityCode:c.cityName,actionCity:t,actionIndex:e})},n.performModalAction=function(e){var t=n.props,a=t.itineraryInfo,i=t.isModal,r=void 0===i||i,o=t.history,l=a&&a.itinerary,c=l.itineraryId,s=l.regionCode;r?n.setState(e):(e.isFromLanding=!0,o.push(Object(le.Jb)({itineraryId:c,regionCode:s,target:le.E}),e))},n.setActiveIndex=function(e,t){n.setState({activeIndex:e,activeField:t})},n.closeEditCityModal=function(e){e&&e.preventDefault(),n.setState({isEditCityClosing:!0},(function(){n.setState({isEditCityVisible:!1,isEditCityClosing:!1})}))},n.setLoader=function(){n.setState({enableLoader:!0})},n.replaceCity=function(e,t){var a=n.getCities();t.nights=a[e].nights,a[e]=t,t.fromCity&&(a[e].travelTime=t.fromCity.travelTime,a[e].mode=t.fromCity.mode),a[e+1]&&(a[e+1].travelTime=t.toCity.travelTime,a[e+1].mode=t.toCity.mode),n.setCityVal(a,e),Object(N.Ld)(N.Xb,{city_replaced:!0,category:"city",action:N.Hc,city:t.cityName,button_clicked:"Edit Route - Replace City"})},n.addCity=function(e,t){var a=n.getCities();t.fromCity&&(t.travelTime=t.fromCity.travelTime,t.mode=t.fromCity.mode),a[e]&&(a[e].travelTime=t.toCity.travelTime,a[e].mode=t.toCity.mode),t.nights=t.idealNights,a.splice(e,0,t),n.setCityVal(a,e),Object(N.Ld)(N.Xb,{action:N.e,city_added:!0,category:"city",city:Object(h.a)(t,"cityName"),button_clicked:"Edit Route - Add City"})},n.deleteCity=function(e,t){t&&t.preventDefault();var a=n.props.isModal,i=void 0===a||a,r=i?function(){}:n.applyChanges;n.setState({cityToDelete:e,enableFooter:!0,enableTripOption:!0,isRemoveCityLoading:!0,newActionIndex:null,actionPerformed:i},(function(){var t=n.getCities(),a=t.splice(e,1);t[e]&&(t[e].mode="NONE"),n.processAPIAction(t,r),Object(N.Ld)(N.Xb,{action:N.Dc,city_removed:!0,category:"city",city:Object(h.a)(a,"cityName"),button_clicked:n.props.isModal?"Edit Route - Remove City":"Itinerary - Remove City"})}))},n.applyChangeDirectly=function(e,t,a){n.setState({enableLoader:!0},(function(){var i=n.getCities();"REPLACE"===a?(t.nights=i[e].nights,i[e]=t):(t.nights=t.idealNights,i.splice(e,0,t)),n.processAPIAction(i,n.applyChanges)}))},n.getCities=function(){return(n.state.cities||[]).map((function(e){return Object(i.a)({},e)}))},n.setCityVal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.setState({cities:e,enableFooter:!0,enableTripOption:!0,newActionIndex:t,actionPerformed:!0},(function(){n.updateRemovableInfo()}))},n.performGetCost=function(e){e&&e.preventDefault&&e.preventDefault();var t=n.props,a=t.history,i=t.itineraryInfo,r=t.isFromPackages,o=i&&i.itinerary,l=o.itineraryId,c=o.regionCode,s=r&&i.campaignItineraryId,u="".concat(a.location.pathname,"/get-cost").concat(s?"/"+s:""),d=Object(le.Jb)({itineraryId:l,regionCode:c,target:le.E});r&&!Object(x.a)(a.location.pathname,["get-cost"])?a.push(u):r||a.push(d)},n.handleNights=function(e,t){var a,r,o=n.props,l=o.isModal,c=void 0===l||l,s=o.addDayInCity,u=o.removeDayInCity,d=o.itineraryInfo,m=n.getCities(),p=m[e].nights;if(p===t)return null;p>t?(a=u,r={category:"night",night_removed:!0,action:N.Dc}):(a=s,r={category:"night",night_added:!0,action:N.e}),m[e].nights=t;var f=m[e].allDayKeys,h=!1;(m[e].days||[]).map((function(e){h||(h=(e.slots||[]).some((function(e){return"INTERNATIONAL_DEPART"===e.type})))})),n.setState({cities:m,enableFooter:!0,enableTripOption:!0},(function(){c?Object(N.Ld)(N.Xb,Object(i.a)(Object(i.a)({},r),{},{button_clicked:r.night_added?"Edit Route - Add Night":"Edit Route - Remove Night"})):n.setState({enableLoader:!0},(function(){a({itineraryId:d.itinerary.itineraryId,cityId:m[e].cityId,dayIdentifier:f&&f[f.length-(h?2:1)]}).then((function(){n.setState({enableLoader:!1}),Object(N.Ld)(N.Xb,Object(i.a)(Object(i.a)({},r),{},{button_clicked:r.night_added?"Itinerary - Add Night":"Itinerary - Remove Night"}))})).catch((function(){n.setState({enableLoader:!1})}))}))}))},n.discard=function(){n.setState({cities:n.state.actualCities,enableFooter:!1})},n.processAPIAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={cities:n.getCityValues("cityId",e)};Object(z.a)({url:_("remove"),method:"POST",body:a,onSuccess:function(a){n.props.updateEditableDetails(a).then((function(){n.setState({cities:e,isRemoveCityLoading:!1},(function(){t()}))}))},onFailure:function(){n.setState({isRemoveCityLoading:!1},(function(){t()}))}})},n.updateRemovableInfo=function(){n.setState({isRemoveCityLoading:!0},(function(){n.processAPIAction(n.state.cities)}))},n.clickClose=function(){n.setState({modalClass:" "},(function(){setTimeout((function(){var e=n.props,t=e.history,a=e.itineraryInfo,i=a&&a.itinerary,r=i.itineraryId,o=i.regionCode;t.push(Object(le.Jb)({itineraryId:r,regionCode:o}))}),200)}))},n.handleKeyUp=function(e){27===e.keyCode&&(n.state.isEditCityVisible?n.setState({isEditCityVisible:!1}):n.clickClose())},n.handleGuide=function(e){[pe.c.FINISHED,pe.c.SKIPPED].includes(e.status)&&(Object(N.Ld)(N.ld,{element_name:"city_itinerary_pg_btn"}),window.localStorage.setItem("trip_timeline_user_guide",1),n.setState({showGuide:!1}))},n.getCityValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cityId",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.cities;return t.map((function(t){return t[e]}))},n.applyChanges=function(){var e=n.props,t=e.itineraryInfo,a=e.editCityModalApplyChanges;n.setState({enableLoader:!0},(function(){var e={itineraryId:t.itinerary.itineraryId,cities:n.getCityValues(),nights:n.getCityValues("nights")};a(e.itineraryId,e).then((function(){n.setState({enableLoader:!1}),n.clickClose(),Object(N.Ld)(N.Xb,{trip_edited:!0,action:N.C,button_clicked:"Edit Route - Apply Changes"})})).catch((function(){n.setState({enableLoader:!1}),n.clickClose()}))}))};var o=e.location.state||{},l=o.editCityMode,c=void 0===l?"add":l,s=o.editCityOptions,u=void 0===s?{}:s,d=o.citySelectedToReplace,m=void 0===d?{}:d,p=o.isEditCityVisible,f=void 0!==p&&p,y=o.cityToReplace,g=void 0===y?0:y,v=o.fromCityCode,b=void 0===v?"":v,E=o.toCityCode,C=void 0===E?"":E,O=o.isFromLanding,I=void 0!==O&&O,k=o.actionCity,w=void 0===k?null:k,j=o.actionIndex,T=void 0===j?null:j;return n.state={modalClass:"",showGuide:!1,cities:[],isRemoveCityLoading:!1,isApplyChangesLoading:!1,isEditCityVisible:f,isEditCityClosing:!1,editCityMode:c,cityToReplace:g,citySelectedToReplace:m,editCityOptions:u,isApplyChangesEnabled:!1,activeIndex:0,activeField:"City",enableFooter:!1,fromCityCode:b,toCityCode:C,actualCities:[],removeCityInfo:[],newActionIndex:null,isFromLanding:I,enableLoader:!1,actionPerformed:!1,actionCity:w,actionIndex:T},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var t=e.props.cities;e.setState({modalClass:"in",cities:t,actualCities:t},(function(){e.props.itineraryInfo&&e.updateRemovableInfo()}));var a=e.props.isModal;void 0===a||a?(Object(C.a)(),document.addEventListener("keyup",e.handleKeyUp)):1!=window.localStorage.getItem("trip_timeline_user_guide")&&e.setState({showGuide:!0})}),200)}},{key:"componentWillUnmount",value:function(){var e=this.props.isModal;(void 0===e||e)&&(Object(E.a)(),document.removeEventListener("keyup",this.handleKeyUp))}},{key:"render",value:function(){var e=this,t=this.props,a=t.itineraryInfo,i=t.history,r=t.match,o=t.isModal,l=void 0===o||o,c=t.rootClassName,s=t.isFromPackages,u=t.isReadOnly,m=a&&a.itinerary||{},p=m.itineraryId,f=m.booking||m.frozen,h=this.state,y=h.isEditCityVisible,g=h.cities,v=void 0===g?[]:g,b=h.enableFooter,E=h.cityToReplace,C=h.citySelectedToReplace,x=h.editCityMode,N=h.editCityOptions,w=h.enableTripOption,j=h.modalClass,T=h.activeField,S=h.activeIndex,R=h.isEditCityClosing,_=h.toCityCode,D=h.fromCityCode,P=h.newActionIndex,L=h.isFromLanding,F=h.enableLoader,M=h.actionPerformed,B=h.actionCity,H=h.actionIndex,U=!(s||u),V=this.props.removeCityInfo?Object(n.a)(this.props.removeCityInfo):[],z=d.a.createElement(me,{isModal:l,actionPerformed:M,rootClassName:c,isEditCityVisible:y,editCityMode:x,isEditCityClosing:R,closeEditCityModal:this.closeEditCityModal,itineraryId:p,cityToReplace:E,editCityOptions:N,addCity:U?this.addCity:this.performGetCost,replaceCity:U?this.replaceCity:this.performGetCost,citySelectedToReplace:C,fromCityCode:D,toCityCode:_,cities:v,isEditable:U,removeCityInfo:V,handleNights:U?this.handleNights:this.performGetCost,deleteCity:U?this.deleteCity:this.performGetCost,openEditCityModalAdd:U?this.openEditCityModalAdd:this.performGetCost,openEditCityModalReplace:U?this.openEditCityModalReplace:this.performGetCost,activeIndex:S,activeField:T,getCostAction:this.performGetCost,setActiveIndex:this.setActiveIndex,history:i,isBooked:f,match:r,isReadOnly:u,applyChangeDirectly:this.applyChangeDirectly,isFromLanding:L,newActionIndex:P,actionCity:B,actionIndex:H,enableLoader:F,isFromPackages:s,itineraryInfo:a});return d.a.createElement("div",{className:l?"modal fade parent-close ".concat(j," edit-trip-popup ").concat(b&&!y?"modal-sticky-bars":"modal-sticky-header"):"sidebar-content hidden-xs hidden-sm",onClick:function(t){Object(O.a)(t,e.clickClose)}},l||Object(I.a)()||u?null:d.a.createElement(pe.d,{run:this.state.showGuide,callback:this.handleGuide,steps:[{target:".trip-timeline",placement:"right-start",textAlign:"left",hideCloseButton:!0,disableBeacon:!0,hideFooter:!0,content:d.a.createElement("div",{className:"text-right"},d.a.createElement("p",{className:"text-left mb-0"},d.a.createElement("strong",null,"New!"),"\xa0Hover over your route map for adding/removing cities and changing your stay duration."),d.a.createElement("a",{className:"bold color-white cursor-pointer",onClick:function(){return e.handleGuide({status:pe.c.FINISHED})}},"Got It"))}],styles:{options:{arrowColor:"#1895b3",backgroundColor:"#1895b3",textColor:"#FFFFFF",zIndex:5e3,overlayColor:"rgba(0,0,0,.4)"},tooltipContent:{padding:"0px"},spotlight:{backgroundColor:" rgba(255, 255, 255, 0.3)"}}}),l?d.a.createElement("div",{className:"modal-dialog"},d.a.createElement("div",{className:"modal-content ".concat(b&&!y?"with-sticky-bars":"with-header")},l?d.a.createElement(k,{isEditCityVisible:y,closeEditCityModal:this.closeEditCityModal,clickClose:this.clickClose,mode:x,replaceName:(C||{}).cityName}):null,z,l?d.a.createElement(A,{enableFooter:b&&!y,enableTripOption:w,applyChanges:this.applyChanges,discard:this.discard}):null),F?d.a.createElement(fe.a,{enableBackDrop:!0,type:"ONE_SEC"}):null):z)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.cities,n=e.removeCityInfo,i=void 0===n?[]:n;return Object(f.a)(a,t.actualCities)&&Object(f.a)(i,t.removeCityInfo)?t:{cities:a,actualCities:a,removeCityInfo:i}}}]),a}(u.Component);t.default=Object(m.c)((function(e){var t=e.app,a=void 0===t?{}:t;return{itineraryInfo:a.itineraryInfo,user_details:a.user_details,removeCityInfo:a.removeCityInfo,cities:a.itineraryInfo.iterCities||[]}}),(function(e){return{editCityModalApplyChanges:Object(p.b)(y.a,e),updateEditableDetails:Object(p.b)(g.a,e),addDayInCity:Object(p.b)(v.a,e),removeDayInCity:Object(p.b)(b.a,e)}}))(ye)},1338:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(11),r=a(38),o=a(39),l=a(46),c=a(56),s=a(29),u=a(0),d=a.n(u),m=a(137),p=a(30),f=a(54),h=a(2),y=a(588),g=a.n(y),v=a(47),b=a(5),E=a(110),C=h.default.ul.withConfig({displayName:"DayNavigator__DaysNavWrapper"})(["",";",";width:100%;text-align:center;padding:0 12px;padding:24px 0px 16px 0px;li{float:left;min-width:72px;position:relative;margin-right:4px;margin-bottom:4px;a{display:block;color:",";font-weight:",";",";padding:11px 15px;background-color:rgba(38,119,240,0.2);border-radius:8px;cursor:pointer;&:hover{background-color:rgba(38,119,240,0.1);}&.active{background-color:rgba(0,0,0,0.8);color:",";}.icon-pill{position:absolute;left:-11px;top:50%;margin-top:-11px;width:22px;height:22px;display:flex;align-items:center;justify-content:center;background-color:",";color:",";border-radius:100%;box-shadow:0 0 0 2px ",";font-size:",";}}&:last-child{margin-right:0;a{.icon-pill{left:auto;right:-12px;}}}}"],v.d,v.f,b.theme.accent15,b.theme.semiBold,E.i,b.theme.white,b.theme.accent15,b.theme.white,b.theme.white,b.theme.baseSecondary),x=function(e){var t=e.data,a=void 0===t?[]:t;if(!Array.isArray(a))return null;var n=a.length;return d.a.createElement(C,null,a.map((function(e){return d.a.createElement("li",{key:e.dayNum},d.a.createElement(g.a.Link,{to:"day".concat(e.dayNum),spy:!0,smooth:!0,duration:500,offset:-100},1===e.dayNum||e.dayNum===n?d.a.createElement("span",{className:"icon-pill"},d.a.createElement("i",{className:"pyt-flight-fill-16"})):null,"".concat(e.mon," ").concat(e.day)))})))},O=a(33),I=a(6),N=a(20),k=a(74),w=h.default.div.withConfig({displayName:"DayWiseTitle__DayTitleWrapper"})(["display:flex;width:100%;align-items:center;margin-bottom:16px;","{margin-bottom:24px;}p{margin-bottom:0;",";color:",";padding-right:24px;display:inline-block;vertical-align:top;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;b{color:",";}.holiday{",";color:",";position:relative;text-decoration:underline;display:inline-block;margin-left:4px;padding-left:20px;cursor:pointer;&:before{content:'\\e9ae';font-family:'pyticon';color:#e5b52e;position:absolute;top:0;left:0;font-size:",";line-height:1;}}","{",";}}"],I.md,E.j,b.theme.greyMedium,b.theme.baseColor,E.c,b.theme.black,b.theme.baseSecondary,I.md,E.h),j=h.default.div.withConfig({displayName:"DayWiseTitle__RemoveLink"})(["display:inline-block;margin-left:auto;transition:all 0.2s;cursor:pointer;color:",";&:before{content:'\\E909';font-family:'pyticon';font-size:",";display:inline-block;vertical-align:middle;}","{overflow:hidden;white-space:nowrap;span{display:inline-block;vertical-align:middle;",";padding-left:5px;}&:hover{color:#ef435d;}}"],b.theme.greyLight,b.theme.medium,I.md,E.e),T=function(e){var t=e.dayNum,a=void 0===t?0:t,n=e.dateObj,i=void 0===n?{}:n,r=e.metaData,o=e.handleNights,l=void 0===o?function(){return!1}:o;return d.a.createElement(w,null,d.a.createElement("p",null,d.a.createElement("b",null,"Day ",a>9?a:"0".concat(a))," |"," ",Object(k.a)().getMonthFormat(i,"MMMM")," ",i.getDate(),","," ",Object(k.a)().getDayFormat(i,"DDDD"),r?d.a.createElement("span",{className:"holiday"},r):null),"function"===typeof l?d.a.createElement(j,{onClick:l},Object(N.a)()?null:d.a.createElement("span",null,"Remove Day")):null)},S=a(71),A=h.default.ul.withConfig({displayName:"XsImageGrids__XsImgWrapper"})(["",";padding:0;list-style:none;margin:0 -2px 20px;li{float:left;width:25%;padding:0 2px;cursor:pointer;position:relative;margin-bottom:4px;@media (min-width:600px){width:16.66%;}span{display:block;width:100%;padding-top:100%;background-position:center;background-repeat:no-repeat;background-size:cover;border-radius:8px;position:relative;overflow:hidden;background-color:#c4c4c4;&:before{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background:linear-gradient( 0deg,rgba(0,0,0,0.8) 0%,rgba(0,0,0,0) 40.72% );}}}"],v.d),R=function(e){var t=e.data;return d.a.createElement(A,null,t.map((function(e,t){return d.a.createElement("li",{key:t},d.a.createElement("span",{style:{backgroundImage:'url("'+e+'")'}}))})))},_=a(589),D=a.n(_),P=(a(618),a(619),{slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,autoplay:!0}),L=h.default.div.withConfig({displayName:"ImageSlider__ImageSliderWrapper"})([".slick-slider{height:360px;.slick-slide{outline:0 none;div{height:100%;}}.slick-list{border-radius:8px;height:100%;div{height:100%;}}.item{display:block;width:100%;height:100%;position:relative;background-repeat:no-repeat;background-size:cover;background-position:center;background-color:#aaaaaa;&:after{content:'';width:100%;height:100%;position:absolute;left:0;top:0;background:linear-gradient( 0deg,rgba(0,0,0,0.3) 2.41%,rgba(0,0,0,0) 16.92% );}}.slick-dots{bottom:12px;display:flex !important;justify-content:space-evenly;padding:0 8px;li{margin:0;width:100%;height:5px;padding:0 4px;button{width:100%;height:5px;padding:0;background-color:rgba(255,255,255,0.5);border-radius:16px;&:before{display:none;}}&.slick-active{button{background-color:rgba(255,255,255,1);}}}}}"]),F=function(e){var t=e.data;return d.a.createElement(L,null,d.a.createElement(D.a,P,t.map((function(e,t){return d.a.createElement("div",{key:t},d.a.createElement("div",{className:"item",style:{backgroundImage:'url("'+e+'")'}}))}))))},M=a(1719),B=h.default.section.withConfig({displayName:"DayWiseActivity__ActivityCardWrapper"})(["",";width:100%;","{margin-bottom:24px;}"],v.d,I.sm),H=h.default.div.withConfig({displayName:"DayWiseActivity__InnerRow"})(["",";width:100%;"],v.d),U=h.default.div.withConfig({displayName:"DayWiseActivity__LeftCol"})(["float:left;width:49%;"]),V=h.default.div.withConfig({displayName:"DayWiseActivity__RightCol"})(["float:left;width:100%;","{width:51%;padding-left:16px;}"],I.sm),z=function(e){var t=e.day,a=e.dayNum,n=e.dateObj,i=e.staleCost,r=void 0!==i&&i,o=e.metaData,l=e.isAdmin,c=void 0!==l&&l,s=e.slotDetails,u=e.removeNights,m=e.onUpgradeClick,p=void 0===m?function(){return!1}:m,f=e.onActivityClick,h=void 0===f?function(){return!1}:f,y=[];return s.forEach((function(e){y.push.apply(y,Object(O.a)(e.sliderImages))})),d.a.createElement(B,null,d.a.createElement(T,{day:t,dayNum:a,dateObj:n,metaData:o,handleNights:u}),d.a.createElement(H,null,Object(N.a)()?d.a.createElement(R,{data:y}):null,Object(S.a)()?null:d.a.createElement(U,null,d.a.createElement(F,{data:y})),d.a.createElement(V,null,d.a.createElement(M.a,{staleCost:r,isAdmin:c,data:s,onUpgradeClick:p,onActivityClick:h}))))},G=a(353),W=a(1721),Y=h.default.section.withConfig({displayName:"LeisureSection__LeisureCardWrapper"})(["",";width:100%;margin-bottom:24px;"],v.d),K=function(e){var t=e.day,a=e.dayNum,n=e.dateObj,i=e.removeNights,r=e.onClick;return d.a.createElement(Y,null,d.a.createElement(T,{day:t,dayNum:a,dateObj:n,handleNights:i}),d.a.createElement(W.a,{onClick:r}))},J=a(61),q=a(55),Q=h.default.section.withConfig({displayName:"ReviewSection__ReviewCardWrapper"})(["",";width:100%;margin-bottom:24px;text-align:center;padding:40px 48px;background-color:rgba(0,198,132,0.1);border-radius:8px;strong{display:block;",";margin-bottom:20px;}p{",";color:",";margin-bottom:16px;}","{padding:15px 24px;font-size:20px;line-height:1.2;letter-spacing:-0.5px;margin:0 4px;&.btn_whatsapp{background-color:",";border:1px solid rgba(0,0,0,0.33);color:",";}}"],v.d,E.d,E.j,b.theme.grey,J.a,b.theme.white,b.theme.grey),X=function(e){var t=e.cost,a=void 0===t?0:t,n=e.onPrimaryClick,i=void 0===n?function(){return!1}:n,r=e.onSecondaryClick,o=void 0===r?function(){return!1}:r,l=e.isPrimaryBtnDark,c=void 0===l||l,s={value:a};return d.a.createElement(u.Fragment,null,Object(N.a)()?null:d.a.createElement(Q,null,d.a.createElement("strong",null,"Pay just",d.a.createElement(q.a,{objectData:s,path:"value",defaultValue:"0"}),"and block this booking"),d.a.createElement("p",null,"Block your bookings by paying just 70% now and avoid airline and hotel price fluctuations. Speak to our destination experts for any planning assistance."),d.a.createElement(J.a,{className:"btn_whatsapp",onClick:o},"Talk to us"),d.a.createElement(J.a,{btnPrimaryDark:c,btnPrimary:!c,onClick:i},"Review inclusions & Book")))},$=a(1731),Z=a(1675),ee=a(15),te=a(1644),ae=a(1645),ne=a(291),ie=a(7),re=a(1602),oe=a(294),le=a(14),ce=a(1873);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}a.d(t,"LeftContainer",(function(){return ue})),a.d(t,"RightContainer",(function(){return de}));var ue=h.default.div.withConfig({displayName:"DubaiItinerary__LeftContainer"})(["float:left;width:100%;padding-left:16px;padding-right:16px;","{width:62%;padding-left:12px;padding-right:12px;}","{width:66.66666667%;padding-right:36px;}","{margin:8px -16px 30px;","{margin:8px 0 32px;}}","{",";color:#c3c3c3;","{padding:6px 8px;background-color:",";border-radius:24px;border:1px solid transparent;&:hover{color:",";border:1px solid ",";}}}"],I.md,I.lg,G.a,I.md,G.b,E.i,I.md,b.theme.white,b.theme.grey,b.theme.greyLight),de=h.default.div.withConfig({displayName:"DubaiItinerary__RightContainer"})(["float:left;width:100%;padding-left:16px;padding-right:16px;","{width:38%;padding-left:12px;padding-right:12px;}","{width:33.33333333%;}"],I.md,I.lg),me=function(e){Object(l.a)(a,e);var t=se(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).navigatorData=function(){var e=(o.props.itineraryInfo||{}).iterDayByKey,t=void 0===e?{}:e;return t?Object.values(t).sort((function(e,t){return e.dayNum-t.dayNum})):[]},o.getFormattedImageUrl=function(e,t){var a=window.encodeURIComponent(JSON.stringify(e)),n=le.a.MapboxAccessToken,r=window.encodeURIComponent("https://pyt-images.imgix.net/images/web_app/dubai-itinerary/in_to_dubai_start.png"),l=window.encodeURIComponent("https://pyt-images.imgix.net/images/web_app/dubai-itinerary/in_to_dubai_end.png");t&&(r=window.encodeURIComponent("https://pyt-images.imgix.net/images/web_app/dubai-itinerary/dubai_to_in_end.png"),l=window.encodeURIComponent("https://pyt-images.imgix.net/images/web_app/dubai-itinerary/dubai_to_in_start.png"));var c,s,u,d=o.getGeoCodesOfAirports(),m="";if(2===d.length){var p=Object(i.a)(d,2);c=p[0],s=p[1],m="url-".concat(r,"(").concat(c[0],",").concat(c[1],"),url-").concat(l,"(").concat(s[0],",").concat(s[1],")")}else if(3===d.length){var f=Object(i.a)(d,3);c=f[0],u=f[1],s=f[2],m="url-".concat(r,"(").concat(c[0],",").concat(c[1],"),url-").concat(l,"(").concat(u[0],",").concat(u[1],")"),t&&(m="url-".concat(r,"(").concat(s[0],",").concat(s[1],"),url-").concat(l,"(").concat(u[0],",").concat(u[1],")"))}return"https://api.mapbox.com/styles/v1/sasikumar1418/cjukr8o595v3e1fobdt1gzw7e/static/geojson(".concat(a,"),").concat(m,"/auto/360x360@2x?access_token=").concat(n,"&attribution=false&logo=false")},o.buildGeoJson=function(e,t,a){var n=Object(ce.a)(e,t,{npoints:a?2:100,offset:a?-100:200}),i=Object(ce.a)(t,e,{npoints:a?100:2,offset:a?-100:100});return{type:"FeatureCollection",features:[{type:"Feature",properties:{stroke:"#009E6A","stroke-width":2},geometry:{type:"LineString",coordinates:n.geometry.coordinates}},{type:"Feature",properties:{stroke:"#90B1B6","stroke-width":1},geometry:{type:"LineString",coordinates:i.geometry.coordinates}}]}},o.getFlightRoute=function(){var e=o.props.itineraryInfo,t=(e=void 0===e?{}:e).allFlightCostingRefs,a=t&&t[0];if(a){var n,i=a.replace("#"," ").split(" "),r=i[0].split("_"),l=null!==i&&void 0!==i&&i[1]?null===i||void 0===i||null===(n=i[1])||void 0===n?void 0:n.split("_"):r;return[r[0],r[1],l[1]]}return[]},o.getCityAirport=function(e){for(var t=o.props.itineraryInfo,a=(t=void 0===t?{}:t).cityById,n=Object.keys(a),i=0;i<n.length;i+=1){var r=a[n[i]];if(e===r.airportCode)return r}},o.getGeoCodesOfAirports=function(){var e=o.getFlightRoute(),t=Object(i.a)(e,2),a=t[0],n=t[1],r=o.props.itineraryInfo,l=(r=void 0===r?{}:r).cityById;if(a===n){var c=Object.values(l),s=Object(i.a)(c,2),u=s[0],d=s[1];if(u&&d){var m=u.latitude,p=u.longitude,f=d.latitude;return[[d.longitude,f],[p,m]]}return[]}for(var h=[],y=0;y<e.length;y+=1){var g=o.getCityAirport(e[y]);if(g){var v=g.latitude,b=g.longitude;h.push([b,v])}}return h},o.getSlotDetails=function(e){var t,a,r,l="",c="",s=o.getGeoCodesOfAirports();if(s.length)if(2===s.length){var u=Object(i.a)(s,2);t=u[0],a=u[1],l=o.getFormattedImageUrl(o.buildGeoJson(t,a,!1),!1),c=o.getFormattedImageUrl(o.buildGeoJson(t,a,!1),!0)}else if(3===s.length){var d=Object(i.a)(s,3);t=d[0],r=d[1],a=d[2],l=o.getFormattedImageUrl(o.buildGeoJson(t,r,!1),!1),c=o.getFormattedImageUrl(o.buildGeoJson(r,a,!1),!0)}var m=o.props.itineraryInfo.activityCostings;return e.map((function(e){var i,r,o=e||{},s=o.type,u=o.arrivalSlotDetail,d=o.departureSlotDetail,p=o.activitySlotDetail,f=o.leisureSlotDetail,h="",y=[];switch(s){case"INTERNATIONAL_ARRIVE":h=u.slotText,t&&a?y.push(l):y.push("".concat(le.a.imgix_base,"/images/cityImages/20/arrival_flight.jpg"));break;case"INTERNATIONAL_DEPART":h=d.slotText,t&&a?y.push(c):y.push("".concat(le.a.imgix_base,"/images/cityImages/20/departure_flight.png"));break;case"ACTIVITY_WITH_TRANSFER":case"ACTIVITY":i=p.title,h=p.shortDesc,y.push(p.mainPhoto);var g=p.activityCostingIdentifier;r=m&&m.costingById&&m.costingById[g].upgradable;break;case"LEISURE":h=f.text}return Object(n.a)(Object(n.a)({},e),{},{slotTitle:i,slotText:h,sliderImages:y,upgradable:r})}))},o.handleNights=function(e,t){var a,i,r=o.props,l=r.addDayInCity,c=r.removeDayInCity,s=r.itineraryInfo,u=s.iterDayByKey,d=Object.keys(u).length;if(d===e)return null;d>e?(a=c,i={category:"night",night_removed:!0,action:ee.Dc}):(a=l,i={category:"night",night_added:!0,action:ee.e}),o.setState({enableLoader:!0},(function(){a({itineraryId:s.itinerary.itineraryId,cityId:20,dayIdentifier:t}).then((function(){o.setState({enableLoader:!1}),Object(ee.Ld)(ee.Xb,Object(n.a)(Object(n.a)({},i),{},{button_clicked:i.night_added?"Itinerary - Add Night":"Itinerary - Remove Night"}))})).catch((function(){o.setState({enableLoader:!1})}))}))},o.navigateToActivity=function(e,t){var a=o.props,n=a.history,i=a.itineraryInfo.itinerary,r=i.itineraryId,l=i.regionCode,c=Object(re.a)(e),s=Object(ie.Jb)({itineraryId:r,regionCode:l,parentPage:ie.Lb.itinerary,target:t,customParams:{configKey:c}});n.push(s)},o.onUpgradeClick=function(e,t){var a=Object(oe.a)()?ie.d:ie.e;a===ie.e&&Object(ee.Ld)(ee.d,{is_upgradable:t.upgradable,activity_slot_no:t.index,activity_name:t.slotTitle,activity_id:t.slotIdentifier,region_code:"dxb"}),o.navigateToActivity(e,a)},o.onActivityClick=function(e){o.navigateToActivity(e,ie.b)},o.onCBRClick=function(){var e=o.props,t=e.history,a=e.itineraryInfo.itinerary,n=a.itineraryId,i=a.regionCode;t.push(Object(ie.Jb)({itineraryId:n,regionCode:i,target:ie.r}))},o.state={enableLoader:!1},o}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.navigatorData(),a=this.props.user_details,n=a.userType,r=a.loggedIn,o=n===le.a.user_type_admin,l=this.props.itineraryInfo||{},c=l.festivals,s=l.itinerary,m=s.booking,p=s.frozen,f=s.staleCost,h=(l.paymentSchedule||{}).paymentOptions,y=(h||[]).length>1&&!(m||p);return d.a.createElement(u.Fragment,null,Object(N.a)()?null:d.a.createElement(x,{data:t}),d.a.createElement(ue,null,t.map((function(a,n){var r=a||{},l=r.dayNum,s=r.day,u=r.mon,m=r.dayTs,p=r.slots,h=void 0===p?[]:p,y=r.dayIdentifier,v={day:s,dayNum:l,dateObj:new Date(m),isAdmin:o,staleCost:f},b=!1,E={};Array.isArray(h)&&1===h.length&&h[0]&&3===h[0].span&&"LEISURE"===h[0].type&&(b=!0),Array.isArray(c)&&c.length&&(E=c.find((function(e){return e.day===s&&e.mon===u})));var C=e.getSlotDetails(h);return d.a.createElement(g.a.Element,{name:"day".concat(l),key:l},b?d.a.createElement(K,Object.assign({},v,{metaData:(E||{}).name,slotDetails:C,onClick:function(t){t.preventDefault(),t.stopPropagation();var a=Object(i.a)(C,1)[0].slotIdentifier;e.onActivityClick(a)},removeNights:1===l?null:function(){return e.handleNights(t.length-1,y)}})):d.a.createElement(z,Object.assign({},v,{metaData:(E||{}).name,slotDetails:e.getSlotDetails(h),onUpgradeClick:e.onUpgradeClick,onActivityClick:e.onActivityClick,removeNights:1===l||l===t.length?null:function(){return e.handleNights(t.length-1,y)}})),n!==t.length-1?d.a.createElement(G.c,{links:[{text:"Add another day",iconClassName:"pyt-plus-16",textColor:"#aaaaaa",onClickAction:function(){e.handleNights(t.length+1,y)}}]}):null)})),f?null:Array.isArray(h)&&y?d.a.createElement(X,{cost:(h[1]||{amount:0}).amount,onPrimaryClick:function(){Object(ee.Ld)(ee.Kc,{clicked:!0,region_code:"dxb"}),e.props.goToInclusions()},onSecondaryClick:this.onCBRClick,isPrimaryBtnDark:!1}):null,d.a.createElement($.a,null)),Object(N.a)()?null:d.a.createElement(Z.a,Object.assign({},this.props,{customOptions:{marginTop:r?o?"-290px":"-270px":"-250px"},isItinerary:!0,isSandune:!0,goToInclusions:function(){Object(ee.Ld)(ee.Jc,{clicked:!0,region_code:"dxb"}),e.props.goToInclusions()},isItineraryPage:!0})))}}]),a}(u.Component);t.default=Object(m.withLastLocation)(Object(p.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=a.itineraryInfo,i=void 0===n?{}:n,r=a.user_details,o=a.unAuth,l=a.isReadOnly,c=a.isReload,s=i||{};return{itineraryInfo:i,metaData:s.metaData,campaignDetail:s.campaignDetail,user_details:r,unAuth:o,isReadOnly:l,adult_count:s.adult_count,child_count:s.child_count,isReload:c}}),(function(e){return{addDayInCity:Object(f.b)(te.a,e),removeDayInCity:Object(f.b)(ae.a,e),actions:{getCost:Object(f.b)(ne.a,e)}}}))(me))},1340:function(e,t,a){"use strict";a.r(t),a.d(t,"DubaiItineraryMobileFooter",(function(){return f}));var n=a(11),i=a(0),r=a.n(i),o=a(35),l=a.n(o),c=a(2),s=a(61),u=a(1670),d=a(55),m=c.default.section.withConfig({displayName:"DubaiItineraryMobileFooter__BottomOptionsBar"})(["position:fixed;width:100%;left:0;transition:all 0.3s ease-out;z-index:1031;",";.bg-overlay{position:fixed;left:0;top:0;height:100%;background-color:rgba(44,47,66,0.4);visibility:hidden;width:100%;transition:all 0.4s;opacity:0;}",";"],(function(e){return e.themeDark&&Object(c.css)(["","{background:#333333;box-shadow:0px -2px 10px rgba(0,0,0,0.1);.btn-actions{.left-icons{","{i{color:rgba(255,255,255,0.5);}}}.right-btn{p{color:#999999;&.price-txt{color:rgba(255,255,255,0.9);}}}}ul{li{a{color:rgba(255,255,255,0.9);}}}}"],p,s.a)}),(function(e){return e.open&&Object(c.css)(["bottom:0;.bg-overlay{opacity:1;visibility:visible;}"])})),p=c.default.div.withConfig({displayName:"DubaiItineraryMobileFooter__BottomOptionsContent"})(["position:relative;background-color:#ffffff;box-shadow:0px -2px 10px rgba(0,0,0,0.1);.btn-actions{display:flex;align-items:center;min-height:64px;padding:8px 16px;.left-icons{","{background-color:transparent;padding:8px 4px;i{font-size:24px;color:rgba(0,0,0,0.5);}}}.right-btn{display:flex;align-items:center;margin-left:auto;.price-details{display:flex;flex-wrap:wrap;flex-direction:column;&.column-reverse{flex-direction:column-reverse;.price-txt{margin:2px 0 0;}}p{text-align:right;margin-bottom:0;&:first-child{margin-bottom:2px;}&.price-txt{color:#333333;font-size:18px;line-height:20px;letter-spacing:-0.02em;}.offer-txt{display:inline-block;color:#7d42a1;font-weight:bold;font-size:10px;line-height:12px;letter-spacing:-0.01em;text-transform:uppercase;vertical-align:middle;margin-left:8px;&.highlight-skew{z-index:1;&:before{background-color:rgba(255,209,82,0.8);}}}}}","{background:#00b277;border-color:#00b277;margin-left:16px;font-size:17px;line-height:1.54;letter-spacing:-0.02em;padding:10px 16px;}}}.dubai-comfy-score{width:100%;}.alert-txt{position:relative;padding:4px;background:#f15f75;p{color:#ffffff;font-size:13px;line-height:20px;letter-spacing:-0.02em;font-weight:600;text-align:center;margin-bottom:0;}}ul{width:100%;list-style:none;padding-left:0;padding:24px;margin-bottom:0;font-size:18px;letter-spacing:-0.45px;line-height:1.27;li{margin-bottom:24px;&:last-child{margin-bottom:0;}a{color:#666666;i{margin-right:16px;}}}}"],s.a,s.a),f=function(e){var t=e.isCosted,a=e.staleCost,o=e.liOptions,c=void 0===o?[]:o,f=e.onOptionClick,h=e.onButtonClickAction,y=void 0===h?function(){}:h,g=e.footerData,v=e.booking,b=void 0!==v&&v,E=e.isInclusion,C=void 0!==E&&E,x=e.discount,O=void 0===x?"":x,I=e.strikedCost,N=void 0===I?"":I,k=e.comfyScore,w=void 0===k?0:k,j=e.footerButtonText,T=void 0===j?"Review Inclusions":j,S=e.setComfyScoreModal,A=void 0===S?function(){}:S,R=Object(i.useState)(!1),_=Object(n.a)(R,2),D=_[0],P=_[1],L={value:O},F={value:N};Object(i.useEffect)((function(){var e=document.getElementById("dubai_mobile_footer"),t=document.getElementById("dubai_mobile_footer_option").offsetHeight;e.style.bottom=D?"0px":-t+"px"}),[D,a]);return r.a.createElement(m,{id:"dubai_mobile_footer",open:D},r.a.createElement("div",{className:"bg-overlay",onClick:function(){P(!1)}}),r.a.createElement(p,null,parseInt(w).toFixed()&&!a?r.a.createElement(u.a,{comfyScore:w,setComfyScoreModal:A,className:"dubai-comfy-score"}):null,!C&&L.value?r.a.createElement("div",{className:"alert-txt"},r.a.createElement("p",null,"You save",r.a.createElement(d.a,{objectData:L,path:"value",defaultValue:"0"}),"on the total trip cost!")):null,r.a.createElement("div",{className:l()("btn-actions",{signed:t&&!a,unsigned:!t||a})},r.a.createElement("div",{className:"left-icons"},r.a.createElement(s.a,{onClick:function(e){return function(e){e&&e.preventDefault(),P(!D)}(e)}},r.a.createElement("i",{className:"pyt-more-vertical-24"}))),r.a.createElement("div",{className:"right-btn"},a?null:r.a.createElement("div",{className:"price-details ".concat(C?"column-reverse":"")},r.a.createElement("p",{className:"price-txt"},r.a.createElement("span",null,r.a.createElement("b",null,r.a.createElement(d.a,{objectData:g,path:"price",defaultValue:"0"})))),r.a.createElement("p",null,null!==F&&void 0!==F&&F.value?r.a.createElement("span",{className:"color-grey fine-text strike-line"},r.a.createElement(d.a,{objectData:F,path:"value",defaultValue:"0"})):null,C&&null!==L&&void 0!==L&&L.value?r.a.createElement("span",{className:"offer-txt highlight-skew"},r.a.createElement(d.a,{objectData:L,path:"value",defaultValue:"0"}),"Saved"):null)),r.a.createElement(s.a,{disabled:b&&C,btnPrimary:!0,onClick:function(){y&&y()}},T))),r.a.createElement("ul",{id:"dubai_mobile_footer_option"},(c||[]).map((function(e,t){return r.a.createElement("li",{key:t},e.isRedirect?r.a.createElement("a",{target:"_blank",href:e.redirectLink,style:{display:(null===e||void 0===e?void 0:e.icon)&&"flex",flexDirection:(null===e||void 0===e?void 0:e.icon)&&"row",alignItems:(null===e||void 0===e?void 0:e.icon)&&"center",fontFamily:(null===e||void 0===e?void 0:e.icon)&&"Source Sans Pro"}},null!==e&&void 0!==e&&e.icon?r.a.createElement(r.a.Fragment,null,null===e||void 0===e?void 0:e.icon):r.a.createElement("i",{className:e.iconName}),e.text):r.a.createElement("a",{onClick:function(t){f(t,e.text),P(!1)}},r.a.createElement("i",{className:e.iconName}),e.text))})))))}},1377:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),u=a(35),d=a.n(u),m=a(2),p=a(14),f=a(213),h=a(341),y=a(345),g=a(2054),v=a(54),b=a(30),E=a(191),C=a(7),x=(a(1605),a(22));function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var I=m.default.div.withConfig({displayName:"multi_mode_transfer_modal__MultiModeWrapper"})([".options-wrapper{min-height:100px;vertical-align:top;margin:12px;}.alternate-option{opacity:0.8;padding:12px 12px;border:1px solid rgba(47,209,93,0.8);.border-radius(4px);height:100px;width:100px;font-size:12px;&:hover,&.active{opacity:1;background-color:rgba(47,209,93,0.15);border-color:#2fd15d;}.icons-block{font-size:40px;}}"]),N=p.a.api_url,k=function(e){Object(r.a)(a,e);var t=O(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).getCurrentDetails=function(e){var t=e.itineraryInfo;if(t&&Object.keys(t).length&&!Object.keys(i.state.currentPick).length){var a=i.props.match.params,n=a.currentMode,r=a.prevCityKey,o=a.nextCityKey,l={};l.currentMode=n,l.fromCityId=r.split("_")[0],l.toCityId=o.split("_")[0],i.setState({currentPick:l},(function(){i.getTransfersOptions(l)}))}},i.openModal=function(){i.setState({showModal:!0,deleteActivity:!1},(function(){Object(h.a)()}))},i.closeModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=i.props,a=t.history,n=t.match;setTimeout((function(){i.setState({showModal:!1,deleteActivity:!1},(function(){Object(f.a)();var t=Object(C.Jb)({itineraryId:n.params.itineraryId,regionCode:n.params.searchRegion});e?a.replace(t):a.push(t)}))}),400)},i.getTransfersOptions=function(e){i.setState({requestPayload:e});var t=e.currentMode,a="".concat(N,"itinerary/transfer/alternateModes");Object(x.a)({url:a,method:"POST",body:{fromCity:e.fromCityId,toCity:e.toCityId,transitCity:0,currentModes:[t]},onSuccess:function(e){i.setState({data:e.data})},onFailure:function(){swal("Something went wrong. Try again.")}})},i.handleKeyUp=function(e){27===e.keyCode&&i.closeModal()},i.getTransferIcon=function(e,t){switch(e){case"RENTALCAR":case"CAR":return s.a.createElement("span",{key:"mode_icon_"+t,className:"pyt-car-16"});case"TRAIN":return s.a.createElement("span",{key:"mode_icon_"+t,className:"pyt-train-16"});case"FERRY":return s.a.createElement("span",{key:"mode_icon_"+t,className:"pyt-ship-16"});case"BUS":case"SHUTTLE":return s.a.createElement("span",{key:"mode_icon_"+t,className:"pyt-bus-16"});case"FLIGHT":return s.a.createElement("span",{key:"mode_icon_"+t,className:"pyt-flight-16"});case"FLIGHT_ARRIVE":return s.a.createElement("span",{key:"mode_icon_"+t,className:"pyt-flight-arrival-16"});case"FLIGHT_DEPART":return s.a.createElement("span",{key:"mode_icon_"+t,className:"pyt-flight-departure-16"});case"HOTEL":return s.a.createElement("span",{key:"mode_icon_"+t,className:"pyt-bed-16"});default:return}},i.getTransferModeIcons=function(e){return e.modes.map((function(e,t){return i.getTransferIcon(e,t)}))},i.handleSelect=function(e){var t=i.props,a=t.match,n={itineraryId:t.itineraryDetail.itineraryId,prevCityKey:a.params.prevCityKey,nextCityKey:a.params.nextCityKey,transitCity:0,newModes:e.modes};i.props.changeTransferMode(n).then((function(){i.closeModal()})).catch((function(){i.closeModal()}))},i.state={showModal:!1,data:{},currentPick:{}},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.openModal(),this.getCurrentDetails(this.props),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{tabIndex:"0",className:d()("modal fade modal-sticky-header inpage-modal parent-close",{in:this.state.showModal}),onClick:function(t){Object(y.a)(t,e.closeModal)}},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content with-header"},s.a.createElement(w,Object.assign({},this.props,{onCloseModal:this.closeModal})),s.a.createElement("div",{className:"modal-body"},s.a.createElement(j,Object.assign({},this.state,{getTransferModeIcons:this.getTransferModeIcons,handleSelect:this.handleSelect}))))))}}]),a}(c.Component),w=function(e){return s.a.createElement("div",{className:"modal-header"},s.a.createElement("section",{className:"subheader-modals"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-10 left-txt"},s.a.createElement("p",null,s.a.createElement("span",null,"ITINERARY / Change mode of transfer"),"Change mode of transfer")),s.a.createElement("div",{className:"col-xs-2 text-right"},s.a.createElement(E.a,{buttonClass:"action-btn",onClickAction:e.onCloseModal},s.a.createElement("i",{className:"pyt-close-16"}))))))},j=function(e){return s.a.createElement("div",{className:"modal-row pt-0"},s.a.createElement("div",{className:"item-header"},s.a.createElement("p",{className:"spacer-both text-center fade base"},"Choose your preferred mode of transfer from"," ",s.a.createElement("b",null,e.data.fromCity)," to ",s.a.createElement("b",null,e.data.toCity))),s.a.createElement("div",{className:"spacer-both"},s.a.createElement(I,{className:"clearfix spacer text-center"},Object.keys(e.data).length>0?e.data.alternateModes.map((function(t,a){return s.a.createElement("div",{key:"alternate_modes_"+a,className:"inline-block options-wrapper"},s.a.createElement("div",{onClick:function(){return e.handleSelect(t)},className:"cursor-pointer alternate-option "+(t.chosen?"active":"")},s.a.createElement("div",{className:"icons-block"},e.getTransferModeIcons(t)),t.type),t.popular?s.a.createElement("span",{className:"dim meta-text"},"(Most popular)"):null)})):null,s.a.createElement("hr",{className:"mute"}),s.a.createElement("p",{className:"fine-text"},s.a.createElement("span",{className:"pill bg-accent-4 color-white"},"Warning!")," ",s.a.createElement("span",{className:"dim"},"Activities & bookings linked with transfers may get changed when you change the mode.")))))};t.default=Object(b.c)((function(e){var t=e.app;return t.itineraryInfo&&Object.keys(t.itineraryInfo).length?{itineraryInfo:t.itineraryInfo,itineraryDetail:t.itineraryInfo.itinerary,user_details:t.user_details,adult_count:t.itineraryInfo.adult_count,child_count:t.itineraryInfo.child_count}:{itineraryInfo:t.itineraryInfo,itineraryDetail:{},user_details:t.user_details}}),(function(e){return{changeTransferMode:Object(v.b)(g.a,e)}}))(k)},1476:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(38),r=a(39),o=a(46),l=a(56),c=a(29),s=a(0),u=a.n(s),d=a(54),m=a(35),p=a.n(m),f=a(36),h=a(30),y=a(588),g=a.n(y),v=a(247),b=a(1596),E=a(213),C=a(20),x=a(1821),O=a(1693),I=a(1702),N=a(1684),k=a(1820),w=a(2066),j=a(191);function T(e){var t=e.header,a=e.content,n=e.buttonText,i=e.enableButton,r=e.buttonClass,o=e.headerClass,l=e.contentClass,c=e.onClickAction;return u.a.createElement(s.Fragment,null,u.a.createElement("h2",{className:o},t),u.a.createElement("p",{className:l},a),i?u.a.createElement(j.a,{buttonClass:r,buttonText:n,onClickAction:c}):null)}T.defaultProps={header:"Need help?",content:"Speak to our destination experts for any planning assistance.",buttonText:"Talk to an expert",enableButton:!1,buttonClass:"btn btn-primary btn-xl",headerClass:"bold mt-0 mbottom-medium",contentClass:"light fade mbottom-medium"};var S=a(7),A=a(15),R=a(55);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var D=function(e){Object(o.a)(a,e);var t=_(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).buttonHandler=function(t,a){var n=e.props,i=n.history,r=n.itineraryId,o=n.regionCode,l=n.updateCostHandler,c=n.isFromPackages,s=n.itineraryInfo,u=c&&(void 0===s?{}:s).campaignItineraryId||null;switch(a){case"CBR":i.push(c?"".concat(i.location.pathname,"/request-callback"):Object(S.Jb)({itineraryId:r,regionCode:o,target:S.r}));break;case"CBR_WHATSAPP":i.push(c?"".concat(i.location.pathname,"/request-whatsapp-chat"):Object(S.Jb)({itineraryId:r,regionCode:o,target:S.s}));break;case"GCM":i.push(c?"".concat(i.location.pathname,"/get-cost/").concat(u):Object(S.Jb)({itineraryId:r,regionCode:o,target:S.Q}));break;case"booking-traveller":i.push("/booking-travellers/".concat(r));break;case"Update":l()}},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isCosted,n=t.staleCost,i=t.recommendedPayment;return t.isReadOnly?null:u.a.createElement(w.b,null,u.a.createElement("div",{className:"half-width"},u.a.createElement("div",{className:"left-block"},u.a.createElement(T,null)),u.a.createElement("div",{className:"right-block"},a&&!n?u.a.createElement(T,{headerClass:"bold mt-0 mbottom-medium",header:"Like this itinerary?",contentClass:"light fade mbottom-medium",content:u.a.createElement("span",null,"Airline and hotel prices may keep changing, block these rates by paying just"," ",u.a.createElement("span",null,u.a.createElement(R.a,{objectData:i,path:"percentage",defaultValue:"0",enablePrefix:!1}))," ","% now!")}):u.a.createElement(T,{headerClass:"bold mt-0 mbottom-medium",header:"Like this itinerary?",contentClass:"light fade mbottom-medium",content:[u.a.createElement("span",{key:"alert_con"},"Go ahead and book your hotels, flights and transfers in less than 2 minutes!")]}))),u.a.createElement("div",{className:"half-width"},u.a.createElement("div",null,u.a.createElement(j.a,{buttonClass:"btn btn-primary btn-xl",buttonText:"Talk to an Expert",onClickAction:function(t){Object(A.Ld)(A.hd,{element_name:"request_callback_itinerary",element_type:"button"}),e.buttonHandler(t,"CBR")}})),u.a.createElement("div",null,a&&!n?u.a.createElement(j.a,{buttonClass:"btn btn-primary btn-xl",onClickAction:function(t){e.buttonHandler(t,"booking-traveller")},buttonText:u.a.createElement("span",null,"Pay just"," ",u.a.createElement("span",null,u.a.createElement(R.a,{objectData:{value:i.amount},path:"value",defaultValue:"0"}))," ","& book")}):u.a.createElement(j.a,{buttonClass:"btn btn-primary btn-xl",buttonText:a&&n?"Update Cost":"Calculate trip cost",onClickAction:function(t){e.buttonHandler(t,a&&n?"Update":"GCM")}}))))}}]),a}(s.Component),P=a(843),L=a(1602),F=a(294),M=a(596),B=a(593),H=a(2),U=a(1653),V=a(49),z=a.n(V),G=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function W(e){var t=z()(e).day();return G[t]}var Y=a(62),K=a(23),J=a(1644),q=a(1645),Q=a(626),X=a(1709),$=a(2067),Z=function(e){var t=e.data,a=z()(t.time,"HHmm").format("hh:mm a");return u.a.createElement($.a,null,u.a.createElement("div",{className:"match-info-inner"},u.a.createElement("span",{className:"agent-logo"}),u.a.createElement("div",{className:"right-info"},u.a.createElement(X.b,{text1:t.countryOne,text2:t.countryTwo}),u.a.createElement("p",null,"Starts at ",a))))};function ee(e){var t=e.rootClassName,a=e.enableInfo,n=e.notifyContent,i=e.sessionClassName,r=e.sessionText,o=e.contentClassName,l=e.content,c=e.isClickable,d=e.isReadOnly,m=e.onClickAction,f=e.onChangeAction,h=e.totalTextLength,y=e.notifyType,g=e.notifyClassName,v=e.enableAnchor,b=e.anchorText,E=e.slotSpan,x=e.tagElement,O=e.worldCupActivityData,I=e.additionalInfo,N="ICON"!==y&&Object(K.a)(n,"w=32&h=32&fit=crop&crop=entropy"),k=Object(C.a)();return u.a.createElement("div",{className:p()("card_inner_row "+t,{clickable:c}),onClick:c?m:null,total_text_length:h},O?u.a.createElement(Z,{data:O}):u.a.createElement(s.Fragment,null,k&&a?u.a.createElement("i",{className:"pyt-chevron-left-16 arrow-btn visible-xs visible-sm"}):null,!k&&v&&a&&c&&!d?u.a.createElement("button",{type:"button",onClick:f,className:"btn btn-link edit-btn btn-xs"},u.a.createElement("i",{className:"pyt-edit-24"}),u.a.createElement("span",{className:"fine-text regular"},"Change")):null,u.a.createElement("div",{className:"info-text"},u.a.createElement("span",{className:g},"ICON"===y?u.a.createElement("i",{className:n}):u.a.createElement("img",{src:N,alt:"act-img"})),u.a.createElement("span",{className:i},r,"\xa0 ",x),u.a.createElement("p",{className:o,"data-full-text":l,"slot-span":E},l,"."," ",!v||a||d?null:u.a.createElement("span",{className:"anchor-link ".concat("Change"===b?"":"visible"),onClick:c?f:function(){}}," ".concat(b)," ",u.a.createElement("i",{className:"pyt-plus-16"}))),I||null)))}ee.defaultProps={rootClassName:"col-sm-8 col-md-8",enableInfo:!1,notifyContent:"pyt-car-16",sessionClassName:"pill color-grey text-uppercase",sessionText:"",contentClassName:"meta-text",content:"",isClickable:!1,notifyType:"ICON",enableAnchor:!1,anchorText:"Add activity",notifyClassName:"icon"};var te=a(68),ae=a(2068),ne=a(341);function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var re=H.default.div.withConfig({displayName:"CardRow__DayNumberCard"})(["width:75px;"]),oe=function(e){Object(o.a)(a,e);var t=ie(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showOptionsState:!1},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dayText,n=void 0===a?"":a,i=t.dateValue,r=void 0===i?"":i,o=t.children,l=t.dayVal,c=t.isHoliday,d=t.holidayTitle,m=t.holidayDesc,p=t.isCosted,f=t.staleCost,h=Object(te.a)({},d,[{label:d,subLabel:m}]),y=p&&!f&&c,g="holiday"+d+n;return u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:"row day-title hidden-md hidden-lg"},u.a.createElement("div",{className:"col-xs-12 col-sm-12 meta-text bold color-grey"},n,"  ","\xa0",y?u.a.createElement(s.Fragment,null,u.a.createElement("span",{className:"color-accent-10",onClick:function(){Object(ne.a)(),e.setState({showOptionsState:!0})}},d),"\xa0",u.a.createElement("i",{className:"pyt-help-16 main-para"})):null,this.state.showOptionsState?u.a.createElement(ae.a,{enableFooter:!0,isOpen:this.state.showOptionsState,closeAlertOption:function(){Object(E.a)(),e.setState({showOptionsState:!1})},filterCollection:h,type:d}):null)),u.a.createElement("div",{className:"row day-list"},y?u.a.createElement(B.a,{target:g,id:g,placement:"right",trigger:["hover"],overlay:u.a.createElement(M.a,{className:"mw-250 p-10 text-left",id:g},u.a.createElement("p",{className:"meta-text mb-0"},d),m?u.a.createElement("p",{className:"color-grey-medium mtop-small mb-0"},m):null)},u.a.createElement(re,{className:"col-md-1 hidden-sm hidden-xs text-center holiday-row"},l?u.a.createElement("span",{className:"meta-text color-grey"},l,","):null,u.a.createElement("span",{className:"meta-text color-grey"},r),u.a.createElement("span",{className:"meta-text vmargin-small mb-0"},u.a.createElement("i",{className:"pyt-star-16 color-accent-10",id:g})))):u.a.createElement(re,{className:"col-md-1 hidden-sm hidden-xs text-center"},l?u.a.createElement("span",{className:"meta-text color-grey"},l,","):null,u.a.createElement("span",{className:"meta-text color-grey"},r)),o))}}]),a}(s.Component);oe.defaultProps={rootClassName:"col-sm-8 col-md-8",dropDownContents:[],dropdownClassName:"pull-right color-grey-medium dropdown-toggle pyt-edit-16"};var le=a(1741),ce=a(6),se=Object(H.default)(le.a).withConfig({displayName:"CardHeader__RecommendedFlag"})(["{margin-left:10px;","{display:flex;z-index:1;margin:8px auto 0;b{color:#2c2f42;}}}"],ce.xs);function ue(e){var t=e.rootClassName,a=e.headerClassName,n=e.iconClassName,i=e.cityName,r=e.stayCount,o=e.suffixText,l=e.buttonText,c=e.buttonClassName,d=e.onButtonClickAction,m=e.buttonParentClass,p=e.contentClassName,f=e.isReadOnly,h=e.isHideButtons,y=e.showHotelPrice,g=e.hotelPrice,v=e.cityImage,b=e.onEditTripAction,E=e.rcText,C=e.recommendedHotel,x=e.exclusiveRecommended,O=e.buttonLink,I={value:g};return u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:t},u.a.createElement("div",{className:"col-xs-12 city-bg hidden-md hidden-lg",style:{backgroundImage:"url(".concat(v,")")}},u.a.createElement("b",{className:"medium-heading"},i),u.a.createElement("span",{className:"fine-text"},r," ",o," ",b?u.a.createElement(s.Fragment,null,"|"," ",u.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),e.stopPropagation(),b()}},"Change")):null,f||h?null:u.a.createElement(s.Fragment,null," ","|"," ",u.a.createElement("a",{href:O,target:"_blank",className:"",onClickAction:d},l))),x?u.a.createElement(se,null,u.a.createElement("i",{className:"pyt-flag-16"}),u.a.createElement("b",null,"PYT Exclusive")):C?u.a.createElement(se,null,u.a.createElement("i",{className:"pyt-thumb-up-16"}),u.a.createElement("b",null,"Top Recommended")):null),u.a.createElement("div",{className:"col-md-12 hidden-xs hidden-sm"},u.a.createElement("p",{className:a},u.a.createElement("i",{className:n}),u.a.createElement("b",null,i),u.a.createElement("span",{className:p},u.a.createElement("i",{className:"hidden-xs hidden-sm"}," \u2014")," ",r," ",o,y?u.a.createElement("span",{className:"color-grey"},"\xa0 - \xa0",u.a.createElement(R.a,{objectData:I,path:"value",defaultValue:"0"})):null),x?u.a.createElement(se,null,u.a.createElement("i",{className:"pyt-flag-16"}),u.a.createElement("b",null,"PYT Exclusive")):C?u.a.createElement(se,null,u.a.createElement("i",{className:"pyt-thumb-up-16"}),u.a.createElement("b",null,"Top Recommended")):null)),f||h?null:u.a.createElement("div",{className:m},u.a.createElement("a",{href:O,target:"_blank",className:c,onClickAction:d},l))),E?u.a.createElement("div",{className:"row pickup-row"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement("i",{className:"icon pyt-car-16"}),u.a.createElement("p",{className:"meta-text mb-0 color-grey-secondary"},E))):null)}function de(e){var t=e.rootClassName,a=e.connectivityClassName,n=e.textClassName,i=e.textName,r=e.iconClassName;return u.a.createElement("section",{className:t},u.a.createElement("div",{className:a}),u.a.createElement("i",{className:r}),u.a.createElement("p",{className:n},i))}ue.defaultProps={iconClassName:"pyt-location-16 hidden-md hidden-lg",cityName:"connector-bg",stayCount:0,buttonClassName:"btn-xs",buttonText:"Add stay",rootClassName:"row activity-title",headerClassName:"main-text mb-0",buttonParentClass:"col-md-3 hidden-xs hidden-sm text-right",contentClassName:"color-grey-secondary light",suffixText:"nights stay"},de.defaultProps={rootClassName:"clearfix fw transfer-row",connectivityClassName:"connector-bg",textClassName:"color-grey-secondary",textName:"",iconClassName:"pyt-flight-arrival-16 "};var me=a(1598),pe=a(214),fe=a(1592),he=a(18),ye=a(1593),ge=a(105);function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var be=H.default.span.withConfig({displayName:"ItinerarySingleCard__ComboElementWrapper"})(["border-radius:3px;background-clip:padding-box;color:#53576d;background-color:#feda46;text-transform:uppercase;display:inline-block;font-size:10px;font-weight:700;text-align:center;padding:3px 8px;line-height:14px;letter-spacing:-0.23px;&.for-current-pick{line-height:2.2;}"]),Ee=g.a.Element,Ce=u.a.createElement(M.a,{id:"advisor-tooltip",className:"rgba(0, 0, 0, 0.9)"},"Self Exploration"),xe=function(e){Object(o.a)(a,e);var t=ve(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).getSlotTitle=function(e){var t="";switch(e.type){case"INTERNATIONAL_ARRIVE":return e.arrivalSlotDetail.slotText;case"INTERNATIONAL_DEPART":return e.departureSlotDetail.slotText;case"ACTIVITY":case"ACTIVITY_WITH_TRANSFER":return e.activitySlotDetail.title;case"LEISURE":return e.leisureSlotDetail.text;case"INTERCITY_TRANSFER":return"DIRECT"===e.intercityTransferSlotDetailVO.transferType&&(t=e.intercityTransferSlotDetailVO.directTransferDetail.slotText),t}},e.getSlotSideText=function(t,a,n){if(e.props.isReadOnly)return null;var i=e.props.itineraryInfo;if("mle"===i.itinerary.regionCode||"sez"===i.itinerary.regionCode)return"";switch(t.type){case"INTERNATIONAL_ARRIVE":case"INTERNATIONAL_DEPART":return"";case"ACTIVITY_WITH_TRANSFER":case"ACTIVITY":return"Change";case"LEISURE":return a&&n&&"ADMIN"!==n.userType?"":"Add activity";case"INTERCITY_TRANSFER":return t.intercityTransferSlotDetailVO.canBeReplacedWithActivity?"Replace with activity":""}},e.getClickableCard=function(t,a,n){var i,r,o=!0,l=t.intercityTransferSlotDetailVO,c=e.props.itineraryInfo;switch(t.type){case"INTERNATIONAL_ARRIVE":case"INTERNATIONAL_DEPART":o=!1;break;case"INTERCITY_TRANSFER":(!l.canBeReplacedWithActivity||null!==c&&void 0!==c&&null!==(i=c.itinerary)&&void 0!==i&&i.booking)&&(o=!1),(!t.intercityTransferSlotDetailVO.canBeReplacedWithActivity||null!==c&&void 0!==c&&null!==(r=c.itinerary)&&void 0!==r&&r.booking)&&(o=!1);break;case"LEISURE":o=!a,a&&n&&n.loggedIn&&("ADMIN"===n.userType||"AGENT"===n.userType)&&(o=!1),"mle"===c.itinerary.regionCode&&(o=!1)}return o},e.renderItineraryHeader=function(t,a){var n,i,r,o=t.cityName,l=t.nights,c=t.image,s=t.hotelInCity,d=t.rcText,m=t.guideUrl,p=e.props,f=p.history,h=p.booking,y=p.isCosted,g=p.staleCost,v=p.itineraryInfo,b=p.isFromPackages,E=p.isReadOnly,C=y&&!g,x=l>1?"nights":"night",O="".concat(x," stay"),I=v&&v.itinerary,N=I.itineraryId,k=I.regionCode,w=!1;return C&&s&&(n=s.publishedCost,i=s.pytRecommended,r=s.sourceProvider,O="".concat(x," stay").concat(s.name?" @ "+s.name:""),n&&!Object(pe.b)(v)&&(w=!0)),u.a.createElement(ue,{key:a+"header",cityName:o,cityImage:Object(K.a)(c,"w=300&h=104&fit=crop&crop=faces"),isHideButtons:!m,stayCount:l,suffixText:O,isReadOnly:E,buttonText:"View Guide",buttonLink:m,showHotelPrice:w,hotelPrice:n,rcText:d,recommendedHotel:i,exclusiveRecommended:"DATABASE"===r,onButtonClickAction:function(){m||(b&&!Object(Y.a)(f.location.pathname,["get-cost"])?f.push(f.location.pathname+"/get-cost"):b||f.push(Object(S.Jb)({itineraryId:N,regionCode:k,target:S.E})))},onEditTripAction:E||h?null:function(){b&&!Object(Y.a)(f.location.pathname,["get-cost"])?f.push(f.location.pathname+"/get-cost"):b||f.push(Object(S.Jb)({itineraryId:N,regionCode:k,target:S.E}))}})},e.getCostValue=function(t){if(e.props.isCosted&&!e.props.staleCost)switch(t.type){case"ACTIVITY_WITH_TRANSFER":case"ACTIVITY":var a=t.activitySlotDetail.costingInfo,n=a?a.publishedCost:0;if(a&&"SOLD_OUT"===a.status)return u.a.createElement("span",{className:"sold-out-flag pill color-white bg-accent-7"},"SOLD OUT");if(t.activitySlotDetail.free)return u.a.createElement(B.a,{id:"ot-matching-score",placement:"top",overlay:Ce},u.a.createElement("i",{className:"pyt-binocular-24 color-black main-para"}));if("VIATOR"===t.activitySlotDetail.selectedTourGrade.ourSourceProvider&&a&&a.cancelled)return u.a.createElement(be,{className:"in-combo"},"CANCELLED");if(n&&a)return a.inCombo?u.a.createElement(be,{className:"in-combo"},"IN COMBO"):t.activitySlotDetail.costingInfo.inSwissPass?u.a.createElement(be,{className:"in-combo"},"IN SWISS PASS"):u.a.createElement("span",{className:"fine-text normal fade spaced color-primary"},u.a.createElement(R.a,{objectData:{value:n},path:"value",defaultValue:"0"}))}},e.getAdditionalInfo=function(e,t){var a,n,i,r=null===(a=e.activitySlotDetail)||void 0===a?void 0:a.activityCostingIdentifier,o=null===(n=e.activitySlotDetail)||void 0===n?void 0:n.selectedTourGrade,l=null===t||void 0===t||null===(i=t.costingById)||void 0===i?void 0:i[r];switch(e.type){case"ACTIVITY_WITH_TRANSFER":case"ACTIVITY":return u.a.createElement(ge.a,{direction:"columns",gutter:0,marginTop:8},(null===o||void 0===o?void 0:o.duration)&&u.a.createElement("span",{className:"fine-text text-uppercase"},"Duration: ",u.a.createElement("span",{className:"color-grey text-capitalize"},null===o||void 0===o?void 0:o.duration)),((null===l||void 0===l?void 0:l.startTime)||(null===o||void 0===o?void 0:o.departureTime))&&u.a.createElement("span",{className:"fine-text text-uppercase"},"Pick up time:"," ",u.a.createElement("span",{className:"color-grey text-capitalize"},null!==l&&void 0!==l&&l.startTime?z()(l.startTime,"HHmm").format("hh:mm a"):(null===o||void 0===o?void 0:o.departureTime)&&z()(null===o||void 0===o?void 0:o.departureTime,"HHmm").format("hh:mm a"))));case"INTERNATIONAL_ARRIVE":case"INTERNATIONAL_DEPART":var c,s,d=null===e||void 0===e||null===(c=e.costingInfo)||void 0===c?void 0:c.allTrips,m=null===e||void 0===e||null===(s=e.costingInfo)||void 0===s?void 0:s.trips,p="",f="";if((null===d||void 0===d?void 0:d.length)>0){var h,y,g=m[d[0]],v=null===g||void 0===g||null===(h=g.routes)||void 0===h?void 0:h[0],b=null===g||void 0===g?void 0:g.routes[g.routes.length-1];return p="".concat(null===g||void 0===g?void 0:g.dayOfWeek,", ").concat(null===g||void 0===g?void 0:g.day," ").concat(null===g||void 0===g?void 0:g.mon," ").concat(null===v||void 0===v?void 0:v.departureTime.substring(0,5)),f="".concat(null===g||void 0===g?void 0:g.landDayOfWeek,", ").concat(null===g||void 0===g?void 0:g.landDay," ").concat(null===g||void 0===g?void 0:g.landMon," ").concat(null===b||void 0===b||null===(y=b.arrivalTime)||void 0===y?void 0:y.substring(0,5)),u.a.createElement(ge.a,{direction:"columns",gutter:0,marginTop:8},u.a.createElement(ge.a.Item,null,u.a.createElement("span",{className:"fine-text text-uppercase"},"Departure At:",u.a.createElement("span",{className:"color-grey text-capitalize"}," ",p))),u.a.createElement(ge.a.Item,null,u.a.createElement("span",{className:"fine-text text-uppercase"},"Arrival At:",u.a.createElement("span",{className:"color-grey text-capitalize"}," ",f))))}break;case"INTERCITY_TRANSFER":var E=null===e||void 0===e?void 0:e.costingInfo;if("TRAIN"===("DIRECT"===(null===e||void 0===e?void 0:e.intercityTransferSlotDetailVO.transferType)?Object(he.a)(e,"intercityTransferSlotDetailVO.directTransferDetail.transferMode"):null)){var C,x,O="".concat(null===E||void 0===E?void 0:E.dayOfWeek,", ").concat(null===E||void 0===E?void 0:E.day," ").concat(null===E||void 0===E?void 0:E.mon," ").concat(null===E||void 0===E||null===(C=E.departureTime)||void 0===C?void 0:C.substring(0,5)),I="".concat(null!==E&&void 0!==E&&E.landDayOfWeek?null===E||void 0===E?void 0:E.landDayOfWeek:null===E||void 0===E?void 0:E.dayOfWeek,", ").concat(null!==E&&void 0!==E&&E.landDay?null===E||void 0===E?void 0:E.landDay:null===E||void 0===E?void 0:E.day," ").concat(null!==E&&void 0!==E&&E.landMon?null===E||void 0===E?void 0:E.landMon:null===E||void 0===E?void 0:E.mon," ").concat(null===E||void 0===E||null===(x=E.arrivalTime)||void 0===x?void 0:x.substring(0,5));return u.a.createElement(ge.a,{direction:"columns",gutter:0,marginTop:8},u.a.createElement(ge.a.Item,null,u.a.createElement("span",{className:"fine-text text-uppercase"},"Departure At:",u.a.createElement("span",{className:"color-grey text-capitalize"}," ",O))),u.a.createElement(ge.a.Item,null,u.a.createElement("span",{className:"fine-text text-uppercase"},"Arrival At:",u.a.createElement("span",{className:"color-grey text-capitalize"}," ",I))))}}},e.renderActivityCard=function(t,a,i,r){var o,l=e.getSlotTitle(t),c=e.props,s=c.user_details,d=c.itineraryInfo,m=c.isReadOnly,p=Object(pe.b)(d),f="col-sm-12 col-md-12",h=0;3===t.span?f="col-sm-12 col-md-12":2===t.span?f="col-sm-8 col-md-8":(f="col-sm-4 col-md-4",h=l.length);var y=t&&t.mainPhoto?t.mainPhoto:t.activitySlotDetail&&t.activitySlotDetail.mainPhoto,g=e.props.getTransferMode(t,"slot"),v=e.getSlotSideText(t),b=e.getClickableCard(t,r,s),E=b&&"LEISURE"!==t.type,C=t.activitySlotDetail&&t.activitySlotDetail.worldCupT20,x=C?Object(n.a)({time:Object(he.a)(t.activitySlotDetail,"selectedTourGrade.departureTime")},t.activitySlotDetail.matchDetails):null,O=s&&s.loggedIn&&"ADMIN"===s.userType,I=Object(fe.a)({key:ye.A,permissions:null===s||void 0===s?void 0:s.permissions})?e.getAdditionalInfo(t,null===d||void 0===d?void 0:d.activityCostings):null;return u.a.createElement(ee,{totalTextLength:h,slotSpan:t.span,rootClassName:f,sessionText:t.name,enableInfo:E,content:l,isReadOnly:m,isClickable:!p&&b,tagElement:p?"":e.getCostValue(t),notifyType:t.imageSource||y?"IMAGE":"ICON",notifyContent:m&&"LEISURE"===t.type?"":t.imageSource?t.imageSource:y||(g||"pyt-plus-16"),notifyClassName:m&&"LEISURE"===t.type?"":t.imageSource||y||"LEISURE"!==t.type?"icon":"icon add hidden-md hidden-lg",onClickAction:function(a){e.props.onClickActivity(t,a,"card")},onChangeAction:function(a){a&&(a.preventDefault(),a.stopPropagation()),e.props.onClickActivity(t,a,"change")},enableAnchor:!r&&!(!O&&r||Object(U.a)(v)||""===v),anchorText:v,isAdmin:O,key:a,worldCupActivityData:C?x:null,selectedTourGrade:(null===(o=t.activitySlotDetail)||void 0===o?void 0:o.selectedTourGrade)||{},additionalInfo:I})},e.renderActivitiesCard=function(t,a,n,i,r,o){return r.slots.map((function(t,n){return e.renderActivityCard(t,n,a,o)}))},e.renderItineraryBody=function(t,a,n,i){var r=e.props,o=r.isCosted,l=r.staleCost,c=(r.itineraryInfo,r.isFromPackages,r.holidays);return o&&!l&&(a.hotelInCity&&Object(me.a)(a.hotelInCity.configKey)),t.map((function(t,r,s){var d="Day "+(t.dayNum>9?t.dayNum:"0"+t.dayNum),m=null;if(o&&!l){var p=t.month;d=t.day+" "+p,m=W(t.dayTs)}var f=s,h=e.props.addingDayAfter,y=Object(Q.a)(f,"dayIdentifier").indexOf(h);if(y>-1){var g={dayIdentifier:"new_day_in_"+e.props.city.cityId,type:"new_day_placeholder"};f.splice(y+1,0,g)}var v=!1,b=null,E=null;if(c){var C=new Date(t.dayTs);c.every((function(e){if(!e.date)return!0;var t=e.date.split(/[^0-9]/),a=new Date(t[0],t[1]-1,t[2]);return a.getDate()!==C.getDate()||a.getMonth()!==C.getMonth()||(v=!0,b=e.name,E=e.description,!1)}))}return u.a.createElement(oe,{key:n+"body"+a+r,dayText:d,dayVal:m,dateValue:d,isHoliday:v,holidayTitle:b,holidayDesc:E,isCosted:o,staleCost:l},u.a.createElement("div",{className:"col-sm-12 col-md-11 inner-row"},u.a.createElement("div",{className:"row"},e.renderActivitiesCard(t.activities,r,e.props,f,t,i))))}))},e.renderItineraryDetails=function(){var t=e.props.itineraryInfo,a=t.iterCities.length;return t.iterCities.map((function(n,i){var r=i!==a-1&&e.props.getTransferMode(t.iterCities[i+1].transferSlotDetails,"isConnectivity"),o=i!==a-1&&e.props.getDisplayIconText(t.iterCities[i+1].transferSlotDetails),l=t.itinerary.booking||t.itinerary.frozen;return u.a.createElement(Ee,{key:i,name:n&&n.cityName.replace(" ","_")+"_box"+i},u.a.createElement("section",{className:"clearfix fw activity-container",id:n&&n.cityName.replace(" ","_")+"_box"+i},e.renderItineraryHeader(n,i),e.renderItineraryBody(n.days,n,i,l)),i!==a-1?u.a.createElement(de,{iconClassName:r,textName:o}):null)}))},e}return Object(r.a)(a,[{key:"handleRowTotemCloseClick",value:function(){var e=this.props,t=e.history,a=e.match;t.replace("/view/".concat(a.params.itineraryId))}},{key:"render",value:function(){return u.a.createElement(s.Fragment,null,this.renderItineraryDetails())}}]),a}(s.Component),Oe=Object(h.c)((function(e){return{holidays:e.app.holidays}}),(function(e){return{actions:{addDayInCity:Object(d.b)(J.a,e),removeDayInCity:Object(d.b)(q.a,e)}}}))(xe);function Ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var Ne=function(e){Object(o.a)(a,e);var t=Ie(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getTransferIcon=function(e){switch(e){case"RENTALCAR":case"CAR":return"pyt-car-16";case"TRAIN":return"pyt-train-16";case"FERRY":return"pyt-ship-16";case"BUS":case"SHUTTLE":return"pyt-bus-16";case"FLIGHT":return"pyt-flight-16";case"FLIGHT_ARRIVE":return"pyt-flight-arrival-16";case"FLIGHT_DEPART":return"pyt-flight-departure-16";case"HOTEL":return"pyt-bed-16";default:return"pyt-flight-arrival-16"}},e.getTransferMode=function(t,a){var n="FLIGHT";switch(null===t||void 0===t?void 0:t.type){case"INTERNATIONAL_ARRIVE":n="link_row"===a?"FLIGHT":"FLIGHT_ARRIVE";break;case"INTERNATIONAL_DEPART":n="link_row"===a?"FLIGHT":"FLIGHT_DEPART";break;case"ACTIVITY_WITH_TRANSFER":n="CAR";break;case"INTERCITY_TRANSFER":"DIRECT"===(null===t||void 0===t?void 0:t.intercityTransferSlotDetailVO.transferType)&&(n=null===t||void 0===t?void 0:t.intercityTransferSlotDetailVO.directTransferDetail.transferMode);break;default:n="FLIGHT"}return"LEISURE"===(null===t||void 0===t?void 0:t.type)?"pyt-plus-16":e.getTransferIcon(n)},e.openAlternates=function(t,a,n){e.props.history.push(Object(S.Jb)({itineraryId:t,regionCode:a,target:S.b,customParams:{configKey:n}}))},e.onClickActivityDetails=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"card";a&&a.preventDefault(),t.isFromAlternateList=!1;var i=e.props,r=i.history,o=i.location,l=i.itineraryInfo,c=i.isReadOnly,s=i.isFromPackages,u=s&&l.campaignItineraryId||null,d=l&&l.itinerary,m=d.campaign,p=d.regionCode,f=d.itineraryId,h=o.pathname;if(h.indexOf("packages/")>0&&m&&-1===r.location.pathname.indexOf("get-cost"))r.push("".concat(h,"/get-cost/").concat(u));else{var y=t.type,g=t.slotIdentifier,v=t.intercityTransferSlotDetailVO,b=t.activitySlotDetail,E=Object(L.a)(g);switch(y){case"ACTIVITY":case"ACTIVITY_WITH_TRANSFER":"change"===n?e.openAlternates(f,p,E):(r.push(Object(F.a)()?Object(S.Jb)({itineraryId:f,regionCode:p,target:S.d,customParams:{configKey:E}}):Object(S.Jb)({itineraryId:f,regionCode:p,target:S.e,customParams:{configKey:E}})),!Object(F.a)()&&Object(A.Ld)(A.k,{activity_id:b.activityId,activity_name:b.title,action:"OPEN"}));break;case"LEISURE":if(c)return;l.itinerary.campaign||(Object(A.Ld)(A.Xb,{activity_interaction:A.e,slot_type:y}),e.openAlternates(f,p,E));break;case"INTERCITY_TRANSFER":if(c)return;v.canBeReplacedWithActivity&&e.openAlternates(f,p,E)}}},e.getDisplayIconText=function(e){var t=e,a="Transfer Text";switch(null===t||void 0===t?void 0:t.type){case"INTERNATIONAL_ARRIVE":a=t.arrivalSlotDetail.transferIndicatorText;break;case"INTERNATIONAL_DEPART":a=t.departureSlotDetail.transferIndicatorText;break;case"ACTIVITY_WITH_TRANSFER":case"INTERCITY_TRANSFER":"DIRECT"===t.intercityTransferSlotDetailVO.transferType?a=t.intercityTransferSlotDetailVO.directTransferDetail.transferIndicatorText:"TRANSIT"===t.intercityTransferSlotDetailVO.transferType?(a=t.intercityTransferSlotDetailVO.transitTransferDetail.transferIndicatorText,!0):a="inter city transfer text";break;default:a="transfer text"}return a},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.itineraryInfo,a=e.user_details,n=e.match,i=e.isFromPackages,r=e.campaignDetail;return u.a.createElement(Oe,Object.assign({itineraryInfo:t},this.props,{campaignDetail:r,isFromPackages:i,getTransferIcon:this.getTransferIcon,getDisplayIconText:this.getDisplayIconText,getTransferMode:this.getTransferMode,onClickActivity:this.onClickActivityDetails,user_details:a,match:n}))}}]),a}(s.Component),ke=a(2129),we=a(1901),je=a(591),Te=a(291),Se=a(610),Ae=a(1819),Re=a(137),_e=a(1634),De=a(1663),Pe=a(1822),Le=a(1595),Fe=a(4),Me=a(249),Be=a(126),He=a(42),Ue=function(e){var t=e.currentProps,a=e.locale;return u.a.createElement(f.Switch,null,u.a.createElement(f.Route,{path:S.bb.EDIT_TRIP_ROUTE,component:Fe.Rb}),u.a.createElement(f.Route,{path:S.bb.GET_COST_ROUTE,exact:!0,component:Fe.Db}),u.a.createElement(f.Route,{path:S.bb.UPDATE_COST_ROUTE,exact:!0,component:function(e){return u.a.createElement(Fe.Db,Object.assign({},e,{page:S.Db}))}}),u.a.createElement(f.Route,{path:S.bb.GET_COST_DEPARTURE_CITY_ROUTE,exact:!0,component:function(e){return u.a.createElement(Fe.Db,Object.assign({},e,{page:S.A}))}}),u.a.createElement(f.Route,{path:S.bb.GET_COST_DEPARTURE_DATE_ROUTE,exact:!0,component:function(e){return u.a.createElement(Fe.Db,Object.assign({},e,{page:S.B}))}}),u.a.createElement(f.Route,{path:S.bb.GET_COST_DURATION_ROUTE,exact:!0,component:function(e){return u.a.createElement(Fe.Db,Object.assign({},e,{page:S.C}))}}),u.a.createElement(f.Route,{path:S.bb.GET_COST_PAX_ROUTE,exact:!0,component:function(e){return u.a.createElement(Fe.Db,Object.assign({},e,{page:S.tb}))}}),u.a.createElement(f.Route,{path:S.bb.EDIT_TITLE_ROUTE,component:Fe.Qb}),u.a.createElement(f.Route,{path:S.bb.ACTIVITY_DETAILS_ROUTE,component:Fe.l}),u.a.createElement(f.Route,{path:S.bb.ACTIVITY_DETAILS_PREVIEW_ROUTE,component:Fe.m}),u.a.createElement(f.Route,{path:S.bb.COSTING_IN_PROGRESS_ROUTE,component:Fe.X}),u.a.createElement(f.Route,{path:S.bb.HOTEL_DETAILS_ROUTE,component:Fe.oc}),u.a.createElement(f.Route,{path:S.bb.HOTEL_ALTERNATE_ROOMS_ROUTE,exact:!0,component:Fe.z}),u.a.createElement(f.Route,{path:S.bb.HOTEL_ALTERNATES_ROUTE,exact:!0,component:Fe.A}),u.a.createElement(f.Route,{path:S.bb.HOTEL_ALTERNATES_DETAILS_ROUTE,exact:!0,component:Fe.oc}),u.a.createElement(f.Route,{path:S.bb.BLOCK_CARD_HOTEL_ROUTE,exact:!0,component:Fe.P}),u.a.createElement(f.Route,{path:S.bb.BLOCK_CARD_FLIGHT_ROUTE,exact:!0,component:Fe.P}),u.a.createElement(f.Route,{path:S.bb.ALTERNATE_FLIGHTS_ROUTE,exact:!0,component:Fe.x}),u.a.createElement(f.Route,{path:S.bb.SHARE_ITINERARY_ROUTE,component:Fe.Ed}),u.a.createElement(f.Route,{path:S.bb.LOGIN_ROUTE,component:Fe.Bc}),u.a.createElement(f.Route,{path:S.bb.CBR_ROUTE,component:Fe.Bd}),u.a.createElement(f.Route,{path:S.bb.CBR_WHATSAPP_ROUTE,component:Fe.Bd}),u.a.createElement(f.Route,{path:S.bb.ICC_CBR_ROUTE,component:Fe.Xd}),u.a.createElement(f.Route,{path:S.bb.SIGNUP_ROUTE,component:function(e){return u.a.createElement(u.a.Fragment,null,Object(He.a)(a)||"in"===a?u.a.createElement(Fe.Bc,Object.assign({},e,{actionType:"SIGNUP",headerText:Object(Me.a)()?"Price Match Guarantee":u.a.createElement(s.Fragment,null,"Welcome to ",u.a.createElement("span",{className:"logo-txt"},"Pickyourtrail")),subText:Object(Me.a)()?"We\u2019ll drop our price by Rs.2000 if you find one lower than ours.":"Create an account to save your itineraries. "})):u.a.createElement(Fe.lc,Object.assign({},e,{actionType:"SIGNUP",headerText:Object(Me.a)()?"Price Match Guarantee":u.a.createElement(s.Fragment,null,"Welcome to ",u.a.createElement("span",{className:"logo-txt"},"Pickyourtrail")),subText:Object(Me.a)()?"We\u2019ll drop our price by Rs.2000 if you find one lower than ours.":"Create an account to save your itineraries. "})))}}),u.a.createElement(f.Route,{path:S.bb.ALTERNATE_TRANSFER_MODE_ROUTE,component:Fe.Rc}),u.a.createElement(f.Route,{path:S.bb.ALTERNATE_RENTAL_CAR_ROUTE,component:Fe.C}),u.a.createElement(f.Route,{path:S.bb.RATE_MATCH_FLIGHT_ROUTE,exact:!0,component:Object(C.a)()?Fe.zd:Fe.Ad}),u.a.createElement(f.Route,{path:S.bb.RATE_MATCH_HOTEL_ROOM_ROUTE,component:Object(C.a)()?Fe.zd:Fe.Ad}),u.a.createElement(f.Route,{path:S.bb.RATE_MATCH_TRANSFER_ROUTE,exact:!0,component:Object(C.a)()?Fe.zd:Fe.Ad}),u.a.createElement(f.Route,{path:S.bb.RATE_MATCH_RENTAL_CAR_ROUTE,exact:!0,component:Object(C.a)()?Fe.zd:Fe.Ad}),u.a.createElement(f.Route,{path:S.bb.RATE_MATCH_FERRY_ROUTE,exact:!0,component:Object(C.a)()?Fe.zd:Fe.Ad}),u.a.createElement(f.Route,{path:S.bb.RATE_MATCH_ACTIVITY_ROUTE,component:Object(C.a)()?Fe.zd:Fe.Ad}),u.a.createElement(f.Route,{path:S.bb.RATE_MATCH_TOTAL_ROUTE,component:Object(C.a)()?Fe.zd:Fe.Ad}),u.a.createElement(f.Route,{path:S.bb.FERRY_ALTERNATE_ROUTE,exact:!0,component:Fe.v}),u.a.createElement(f.Route,{path:S.bb.FERRY_DETAILS_ROUTE,exact:!0,component:Fe.Wb}),u.a.createElement(f.Route,{path:S.bb.CHANGE_RENTAL_CAR_INSURANCE_ROUTE,exact:!0,component:Fe.fb}),u.a.createElement(f.Route,{path:S.bb.SPLIT_PRICE_ROUTE,exact:!0,component:function(e){return u.a.createElement(Fe.Jd,Object.assign({},e,{itineraryInfo:t.itineraryInfo}))}}),a?u.a.createElement(f.Redirect,{path:S.bb.BEFORE_YOU_BOOK_ROUTE,to:"/booking-travellers/".concat(t.itineraryInfo.itinerary?t.itineraryInfo.itinerary.itineraryId:"")}):u.a.createElement(f.Route,{path:S.bb.BEFORE_YOU_BOOK_ROUTE,component:Fe.M}),u.a.createElement(f.Route,{path:S.bb.COMFY_SCORE_ITINERARY_ROUTE,component:function(e){return u.a.createElement(Fe.kb,Object.assign({},e,{itineraryDetails:t.itineraryInfo.itinerary}))}}),u.a.createElement(f.Route,{path:"/packages/:destination".concat(Be.a.CBR_ROUTE),exact:!0,component:function(e){return u.a.createElement(Fe.Xd,Object.assign({},e,{theme:t.theme}))}}),u.a.createElement(f.Route,{path:S.bb.CANCELLATION_POLICY_ROUTE,exact:!0,component:Fe.Z}),u.a.createElement(f.Route,{path:S.bb.DEAL_SIZE_HISTORY_ROUTE,exact:!0,component:Fe.ub}),u.a.createElement(f.Route,{path:S.bb.IMAGE_GALLERY_ROUTE,exact:!0,component:Fe.qc}),u.a.createElement(f.Route,{path:S.bb.EMAIL_QUOTE_ADMIN_ROUTE,component:Fe.Ub}),u.a.createElement(f.Route,{path:S.bb.EMAIL_QUOTE_ROUTE,component:Fe.Tb}))},Ve=(a(2435),a(194)),ze=a(69),Ge=a(5),We=a(110),Ye=["itineraryInfo","headerData","sectionStyle"],Ke=H.default.div.withConfig({displayName:"PaxText__PaxTextWrapper"})(["display:block;width:100%;text-align:center;color:",";",";i{cursor:pointer;color:rgba(0,0,0,0.5);font-size:",";margin-left:6px;}"],Ge.theme.accent15,We.i,Ge.theme.baseSecondary),Je=function(e){var t=e.itineraryInfo,a=void 0===t?{}:t,i=e.headerData,r=void 0===i?{}:i,o=e.sectionStyle,l=void 0===o?{}:o,c=Object(ze.a)(e,Ye),s=a.costingConfiguration,d=void 0===s?{departureAirport:""}:s,m=a.itinerary,p=void 0===m?{}:m,f=a.flightCostings,h=(void 0===f?{}:f).costingById,y=void 0===h?{}:h,g=p.booking,v=void 0!==g&&g,b=r.costingConfig,E=void 0===b?{dateMonth:"",totalAdults:""}:b,C="$$$"===d.departureAirport,x=Object.values(y||[]).some((function(e){return"BLOCKED"===e.status})),O=E.dateMonth,I=void 0===O?"":O,N=E.totalAdults,k=void 0===N?"":N,w=E.from,j=void 0===w?"":w;return I=I?"".concat(I,"."):"",u.a.createElement(Ke,{style:l,onClick:function(e){return v||x?null:Object(Le.i)(e,"UCM",Object(n.a)(Object(n.a)({},c),{},{itineraryInfo:a}))}},"".concat(C?"Arr:":"Dep:"),"".concat(I?"".concat(I,"."):""),"".concat(C?"":"".concat(j," . ")),k,v||x?null:u.a.createElement("i",{className:"pyt-edit-16"}))},qe=a(1984),Qe=a(1878),Xe=a(592),$e=a(1675),Ze=a(602),et=a(484),tt=a(674),at=a(1887),nt=a(658),it=a(640),rt=a(2069);function ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var lt=H.default.section.withConfig({displayName:"itineraryLanding__ItineraryContentWrapper"})(["","{background-color:#fff;}"],ce.md),ct=function(e){Object(o.a)(a,e);var t=ot(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={setTop:!1},e.updateCostHandler=function(){var t=e.props,a=t.itineraryInfo,n=t.user_details,i=t.history,r=t.lastLocation,o=t.campaignDetail;if(n.loggedIn){var l,c=a&&a.itinerary.itineraryId||o&&(null===o||void 0===o||null===(l=o.seoDetails)||void 0===l?void 0:l._id),s={itineraryId:c,costingType:"RECOST",costingConfig:a.costingConfiguration};e.props.actions.getCost({itineraryId:c,regionCode:a.itinerary.regionCode,req_data:s,history:i,lastLocation:r,campaign:!1})}else-1===i.location.pathname.indexOf("get-cost")&&i.push(Object(S.Jb)({itineraryId:a.itinerary.itineraryId,regionCode:a.itinerary.regionCode,target:S.Q}))},e.clickGetCost=function(t,a){Object(Le.i)(t,a,e.props)},e.closeAlert=function(){e.props.actions.manageUnAuthAlert({show:!1}).then((function(){e.props.history.push("/"),Object(E.a)()}))},e.closeCREDAlert=function(){e.props.actions.manageCREDAlert(!1).then((function(){Object(Ze.a)("/cred-bali"),Object(E.a)()}))},e.scrollListener=function(){var t=document.getElementById("itinerary_page"),a=document.getElementsByTagName("header")[0];if(t&&a){var n=t.getBoundingClientRect().top,i=e.state.setTop;n<=0&&!i?(a.classList.add("unpin-md"),e.setState({setTop:!0})):n>0&&i&&(a.classList.remove("unpin-md"),e.setState({setTop:!1}))}},e.goToInclusions=function(){var t=e.props,a=t.history,n=t.itineraryInfo.itinerary||{},i=n.regionCode,r=n.itineraryId;a.push(Object(S.Jb)({itineraryId:r,regionCode:i,parentPage:S.Lb.inclusion}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isReadOnly,a=e.match,i=e.location,r=e.actions,o=e.itineraryInfo,l=void 0===o?{}:o,c=e.lastLocation,s=e.locale,u=e.isFromPackages,d=a.params,m=d.itineraryId,p=d.searchRegion,f=localStorage.getItem("inclusion-scroll-position"),h=localStorage.getItem("isTabClicked");(f?(window.scrollTo(0,c&&c.pathname!=="/customize/".concat(p,"/inclusions/").concat(m)?+f:0),localStorage.removeItem("inclusion-scroll-position")):window.scrollTo(0,0),h)&&(document.getElementsByTagName("header")[0].classList.add("unpin-md"),window.scrollTo(0,Object(C.a)()?56:72),localStorage.removeItem("isTabClicked"));var y=i.search;Object(N.a)(),window.addEventListener("scroll",this.scrollListener),window.addEventListener(Object(I.a)(),r.resizeHandler);var g=document.getElementsByTagName("header")[0];g&&g.classList.remove("unpin-md"),m&&!i.pathname.includes("/calculating-cost/")&&(Object(b.a)(l)||l.itinerary&&m!==l.itinerary.itineraryId)&&m&&r.getItinerary(m,y,s).then((function(){})).catch((function(){}));var v=document.getElementsByClassName("site-footer")[0];if(Object(C.a)()||document.body.classList.add("hdr-scroll-sticky"),t&&v&&v.classList.add("hide"),u&&"dxb"===(null===l||void 0===l?void 0:l.regionCode)){var E,x=this.props,O=x.user_details,k=void 0===O?{}:O,w=x.campaignDetail,j=void 0===w?{}:w,T=Object(n.a)(Object(n.a)({userEmail:null===k||void 0===k?void 0:k.email,userPhone:null===k||void 0===k?void 0:k.mobileNumber},k),{},{regionCode:null===l||void 0===l?void 0:l.regionCode,regionName:null===j||void 0===j?void 0:j.name,title:null===l||void 0===l||null===(E=l.itinerary)||void 0===E?void 0:E.specialTitle,level:2});Object(rt.a)(T)}}},{key:"componentDidUpdate",value:function(){Object(k.a)();var e=this.props,t=e.itineraryInfo,a=e.location,n=e.lastLocation;if(Object.keys(t).length){var i=t.itinerary,r=i.itineraryId,o=i.regionCode;if(t.version&&"speedboat"===t.version.toLowerCase())return void this.props.history.push(Object(S.Jb)({itineraryId:r,regionCode:o,parentPage:S.ab}));var l=Object(S.Jb)({itineraryId:r,regionCode:o});a&&n&&a.pathname!==n.pathname&&a.pathname===l&&Object(E.a)()}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollListener),window.removeEventListener(Object(I.a)(),this.props.actions.resizeHandler);var e=document.getElementsByClassName("site-footer")[0];this.props.isReadOnly&&e&&e.classList.add("hide"),Object(Le.j)(),document.body.classList.remove("hdr-scroll-sticky");var t=document.getElementsByTagName("header")[0];t&&t.classList.remove("unpin-md")}},{key:"render",value:function(){var e=this,t=this.props,a=t.itineraryInfo,n=t.user_details,i=t.adult_count,r=t.child_count,o=t.history,l=t.location,c=t.match,d=t.unAuth,m=t.isFromPackages,f=t.campaignDetail,h=t.credAlertStatus,y=t.isReadOnly,b=t.metaData,E=t.locale,O=t.similarItineraries,I=t.blogs,N=a||{},k=N.seoMapping,w=N.itinerary,j=void 0===w?{}:w;k||(k=Object(he.a)(f,"seoDetails",{}));var T=Object(he.a)(f,"locales",[]),S=j.regionCode,A=Object(nt.a)(S),R="string"===typeof a.version&&"sandune"===a.version.toLowerCase(),_=((a.paymentSchedule||{}).paymentOptions||[]).filter((function(e){return!0===e.recommended}));_=_.length>0?_[0]:Object(he.a)(a,"paymentSchedule.paymentOptions[0]",{amount:0,percentage:0});var L=this.state.setTop,F=Object(he.a)(n,"loggedIn",!1),M=F&&"ADMIN"===Object(he.a)(n,"userType"),B=(a.adult_count||0)+(a.child_count||0);if(Object.keys(a).length){if((a.flow||"").includes(Xe.a)||A&&!R)return u.a.createElement(s.Fragment,null,m?u.a.createElement(v.a,null,Object(qe.a)({location:l,locale:E})):null,u.a.createElement(Fe.Gb,{itineraryInfo:a,isSingleCityItinerary:A,history:o,match:this.props.match,isFromPackages:m,campaignDetail:f,isReadOnly:y,user_details:n||{}}),u.a.createElement(_e.d,Object.assign({},d,{callback:this.closeAlert})),u.a.createElement(De.a,{alertDirection:"bottom-left",showNewPop:!0}),u.a.createElement(Ue,{currentProps:this.props,locale:E}));if(Object(x.a)(a||{}).status)return u.a.createElement(Pe.a,{credAlertStatus:h,callback:this.closeCREDAlert});var H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.a.createElement(ke.a,Object.assign({enableLogo:L,itineraryInfo:a,isReadOnly:y,isFromPackages:m,campaignDetail:f,enableBredCrumb:m&&!y&&a},e.props,t,{target:"Itinerary",match:c,history:o,adult_count:i,child_count:r,clickGetCost:a.itinerary.booking?function(){}:e.clickGetCost,locale:E}))},U=y||a.itinerary.booking?[]:[{iconName:"pyt-help-16",text:"FAQ",scrollTo:"faq-section"}];return R?(U=[],u.a.createElement("div",{className:p()("itinerary-page ",{"with-site-footer":m}),id:"itinerary_page"},u.a.createElement(_e.d,Object.assign({},d,{callback:this.closeAlert})),u.a.createElement(De.a,{alertDirection:"bottom-left",showNewPop:!0}),m&&(k||b)?u.a.createElement(v.a,null,Object(it.a)({location:l,supportedLocales:T}),Object(qe.a)({location:l,locale:E}),u.a.createElement("title",null,k.metaTitle||b.title||""),u.a.createElement("meta",{name:"description",content:k.metaDescription||b.description}),u.a.createElement("meta",{name:"keywords",content:k.metaKeywords||b.keywords})):null,H({simpleHeader:!0}),Object(C.a)()?u.a.createElement(Je,{sectionStyle:{padding:"12px 0",marginBottom:"24px",boxShadow:"0px 8px 8px rgba(0, 0, 0, 0.12)",borderBottom:"1px solid #E5E5E5",color:"#1baacc"},itineraryInfo:a,history:o,isFromPackages:m,user_details:n||{},location:l,headerData:{costingConfig:(Object(Le.e)(a,i,r)||{}).costingConfiguration}}):null,u.a.createElement(lt,null,u.a.createElement("div",{className:"container sm-full-width lg-container no-padding mb-0"},u.a.createElement(Fe.Mb,{goToInclusions:a.itinerary.staleCost?this.updateCostHandler:this.goToInclusions}))),Object(C.a)()?u.a.createElement(we.a,{isDubai:!0,goToInclusions:a.itinerary.staleCost?this.updateCostHandler:this.goToInclusions,history:o,match:this.props.match,itineraryInfo:a,adult_count:i,child_count:r,clickGetCost:this.clickGetCost,user_details:n||{},isReadOnly:y,isFromPackages:m,defaultFooterOptions:U,locale:E}):null,u.a.createElement(Ue,{currentProps:this.props,locale:E}))):u.a.createElement("div",{className:p()("itinerary-page ",{"with-site-footer":m}),id:"itinerary_page"},u.a.createElement(_e.d,Object.assign({},d,{callback:this.closeAlert})),u.a.createElement(De.a,{alertDirection:"bottom-left",showNewPop:!0}),m&&(k||b)?u.a.createElement(v.a,null,Object(it.a)({location:l,supportedLocales:T}),Object(qe.a)({location:l,locale:E}),u.a.createElement("title",null,k.metaTitle||b.title||""),u.a.createElement("meta",{name:"description",content:k.metaDescription||b.description}),u.a.createElement("meta",{name:"keywords",content:k.metaKeywords||b.keywords})):u.a.createElement(v.a,null,u.a.createElement("meta",{name:"robots",content:"noindex, follow"})),H({simpleHeader:!0}),u.a.createElement(lt,null,u.a.createElement("div",{className:"container sm-full-width lg-container no-padding mb-0"},u.a.createElement("div",{className:"right-container"},u.a.createElement("div",{name:"day-by-day"},u.a.createElement(Ne,{isReadOnly:y,campaignDetail:f,itineraryInfo:a,staleCost:a.itinerary.staleCost,booking:a.itinerary.booking,isCosted:a.itinerary.costed,history:o,isFromPackages:m,location:o.location,user_details:n||{},match:c})),a.itinerary.booking?null:u.a.createElement(s.Fragment,null,u.a.createElement("section",{className:"need-help hidden-xs hidden-sm"},u.a.createElement(D,{isReadOnly:y,history:o,campaignDetail:f,isFromPackages:m,itineraryInfo:a,staleCost:a.itinerary.staleCost,recommendedPayment:_,isCosted:a.itinerary.costed,itineraryId:a.itinerary.itineraryId,regionCode:a.itinerary.regionCode,updateCostHandler:a.itinerary.booking?null:this.updateCostHandler})),(O||[]).length>0?u.a.createElement("div",{style:{marginTop:"40px"}},u.a.createElement(et.a,{title:u.a.createElement("span",{style:Object(C.a)()?{paddingLeft:"16px"}:{}},"Similar itineraries"),noOfCardsToShow:2,extraProps:{isPackagesCardSlider:!0,pagePaddingGap:"0px",marginBottom:Object(C.a)()?"8px":"12px"},openNewTab:!0,data:Object(tt.a)(O||[],!1,o)})):null,u.a.createElement("section",{className:"faq",style:{padding:"0 12px"},id:"faq"},u.a.createElement(g.a.Element,{name:"faq-section"},u.a.createElement(P.a,{isReadOnly:y,itineraryInfo:a,user_details:n||{},history:o,location:this.props.location,content:[{title:"Can I customize this itinerary?",body:"Yes, your itinerary is completely customizable. Add or remove any number of days, cities and activities based on your preferences. Click on 'Get trip cost' placed at top right to get the trip cost of this itinerary."},{title:"Can I change or replace a city in an itinerary?",body:"Of course, you can! See the 'Customize' option on top left corner? Click on that to add, remove or replace a city from your itinerary. "},{title:"How do I save this itinerary?",body:"Itineraries can only be saved if you\u2019re logged in. CREATE_AN_ACCOUNT if you don't have one or simply LOGIN to view your auto-saved itineraries from the \u2018Your Vacations\u2019 tab nested in your account menu."},{title:"How do I change an existing activity?",body:"Changing an activity is very easy. All you have to do is select the activity you want to change and on clicking the activity tab, you'll land in your activity details page. See the 'Change Activity' button on the left side? Give that a click and you\u2019ll have the liberty to change your activity. You also have the freedom to remove the activities from your itinerary."},{title:"Can I talk to the travel consultants to help me plan my itinerary better?",body:"Yes, you absolutely can! See the 'Talk to an expert' button? Give that a click and you'll be prompted with a CBR form. Fill in your details and we'll get in touch with you. Happy to help, as always :)"}]}))),((I||{}).list||[]).length>0?u.a.createElement("div",{style:{marginTop:"40px"},id:"related-blogs"},u.a.createElement(et.a,{title:u.a.createElement("span",{style:Object(C.a)()?{paddingLeft:"16px"}:{}},"Related blogs"),noOfCardsToShow:2,viewAllLink:(I||{}).categoryUrl,openNewTab:!0,extraProps:{pagePaddingGap:"0px",margin:"0 12px",marginBottom:Object(C.a)()?"8px":"12px"},titleRightText:"View All",data:Object(at.a)((I||{}).list)})):null,a.seoMapping&&a.seoMapping.seoContent?u.a.createElement(Qe.a,{content:a.seoMapping.seoContent}):null)),Object(C.a)()?null:u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:"inclusions"},u.a.createElement($e.a,{match:c,itineraryInfo:a,user_details:n,history:o,isItinerary:!0,isFromPackages:m,goToInclusions:a.itinerary.staleCost?this.updateCostHandler:this.goToInclusions,customOptions:{enableSticky:!0,marginTop:F?M?"-210px":"-200px":"-180px",stickTop:10,hideComfyScore:!0},paxConfigText:"Price for ".concat(B," ").concat(B>1?"persons":"person")}))))),Object(C.a)()?u.a.createElement(we.a,{history:o,match:this.props.match,itineraryInfo:a,adult_count:i,child_count:r,clickGetCost:this.clickGetCost,user_details:n||{},isReadOnly:y,isFromPackages:m,defaultFooterOptions:U,locale:E}):null,u.a.createElement(Ue,{currentProps:this.props,locale:E}))}return u.a.createElement("div",{className:p()("itinerary-page ",{"with-site-footer":m}),id:"itinerary_page"},u.a.createElement(Ve.a,{backgroundClass:"bg-white"},d?u.a.createElement(_e.d,Object.assign({},d,{callback:this.closeAlert})):null),u.a.createElement(Ue,{currentProps:this.props,locale:E}))}}]),a}(s.Component);t.default=Object(Re.withLastLocation)(Object(f.withRouter)(Object(h.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.blogs,i=a.itineraryInfo,r=void 0===i?{}:i,o=a.user_details,l=a.unAuth,c=a.isReadOnly,s=a.credAlertStatus,u=a.isReload,d=a.locale;return{itineraryInfo:r,metaData:r.metaData,campaignDetail:r.campaignDetail,credAlertStatus:s,user_details:o,unAuth:l,isReadOnly:c,adult_count:r.adult_count,child_count:r.child_count,isReload:u,locale:d,blogs:n,similarItineraries:r.similarItineraries}}),(function(e){return{actions:{getItinerary:Object(d.b)(je.a,e),getCost:Object(d.b)(Te.a,e),manageUnAuthAlert:Object(d.b)(Se.a,e),manageCREDAlert:Object(d.b)(Ae.a,e),resizeHandler:Object(d.b)(O.a,e)}}}))(ct)))},1547:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(38),r=a(39),o=a(58),l=a(46),c=a(56),s=a(29),u=a(0),d=a.n(u),m=a(54),p=a(30),f=a(35),h=a.n(f),y=a(49),g=a.n(y),v=a(2590),b=a(2588),E=a(2074),C=a(23);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var O=function(e){Object(l.a)(a,e);var t=x(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cityName,a=e.openAlternates,n=e.allAlternates,i=e.showLoading,r=e.removedActivity;return i?d.a.createElement(u.Fragment,null,d.a.createElement("h6",{className:"medium-heading semi-bold mt-0 mbottom-large"},"Finding other activities in ",t),d.a.createElement("ul",{className:"clearfix fw list-unstyled mbottom-large img-grid-list"},Array(5).fill(Math.random()).map((function(e,t){return d.a.createElement("li",{key:"show_lo_"+e+t},d.a.createElement("a",{href:"#"},d.a.createElement(E.b,{loaderState:!1,styleObj:{marginRight:0}})))})))):d.a.createElement(u.Fragment,null,d.a.createElement("h6",{className:"medium-heading semi-bold mt-0 mbottom-large"},"Go ahead, ",t," has a lot more to offer.",d.a.createElement("br",null),"Find another activity."),d.a.createElement("ul",{className:"clearfix fw list-unstyled mbottom-large img-grid-list"},n&&n.slice(0,4).map((function(e,t){return d.a.createElement("li",{key:"act_"+t},d.a.createElement("a",{href:" ",onClick:function(e){return a(e,"",n,r)}},d.a.createElement("img",{src:Object(C.a)(e.mainPhoto,"w=95&h=95&fit=crop"),alt:"prev_list_item_"+t})))})),d.a.createElement("li",null,d.a.createElement("a",{href:"#",onClick:function(e){return a(e,"",n,r)}},d.a.createElement("i",{className:"pyt-arrow-right-24"})))))}}]),a}(u.PureComponent),I=a(352),N=a(20),k=a(1596),w=a(349),j=a(253),T=a(1613),S=a(1602),A=a(2097),R=a(106),_=a(2098),D=a(591),P=a(1646),L=a(159),F=a(902),M=a.n(F),B=a(2543),H=a.n(B),U=a(298),V=a.n(U),z=a(2545),G=a.n(z),W=a(1651),Y=a.n(W),K=a(656),J=a.n(K),q=a(192),Q=a.n(q),X=a(194),$=a(7),Z=a(1604),ee=a(22),te=(a(2552),a(14)),ae=a(15),ne=a(564),ie=a(1731),re=a(592);function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var le=te.a.api_url,ce=function(e){Object(l.a)(a,e);var t=oe(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={baseURLParams:null,removedActivity:null,allAlternates:null,actualSlot:null,showPreview:!1,movingForward:!1,showLoading:!1},e.getEventDefaultProps=function(e){return{activity_id:M()(e,"activitySlotDetail.activityId"),activity_name:M()(e,"activitySlotDetail.title")}},e.handleKeyEvents=function(t){var a=e.props,n=a.match,i=a.previewList,r=Object(T.a)(n.params.configKey),o=J()(i,(function(e){return e.slotIdentifier===r})),l=i[o],c=0===o,s=o===i.length-1;27===t.keyCode?e.closePreview(l,"ESC_BUTTON"):39!==t.keyCode||s?37!==t.keyCode||c||e.navigatePreview({currentIndex:o,next:!1,keyboardEvent:!0,slotInfo:l}):e.navigatePreview({currentIndex:o,next:!0,keyboardEvent:!0,slotInfo:l})},e.closePreview=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.state.baseURLParams,r=e.props.history;e.setState({showPreview:!1},(function(){setTimeout((function(){r.push(Object($.Jb)(i)),t&&Object(ae.Ld)(ae.k,Object(n.a)(Object(n.a)({},e.getEventDefaultProps(t)),{},{action:"CLOSE",action_source:a}))}),400)}))},e.openAlternates=function(t,a,i,r,o){t&&t.preventDefault(),t&&t.stopPropagation();var l=e.state,c=l.baseURLParams,s=l.actualSlot,u=l.removedActivity,d=e.props,m=d.history,p=d.match,f=o||ae.i,h=e.getEventDefaultProps(r);a&&(h.tag_name=a),f===ae.i&&(h.action_source=o?"BUTTON":"THUMBNAILS"),Object(ae.Ld)(f,Object(n.a)({},h)),m.push({pathname:Object($.Jb)(Object(n.a)(Object(n.a)({},c),{},{target:$.b,customParams:{configKey:u?Object(S.a)(s.slotIdentifier):p.params.configKey}})),state:{filter:a,alternates:i}})},e.openDetails=function(t){var a=e.state.baseURLParams,i=e.props,r=i.history,o=i.match,l=e.getEventDefaultProps(t);Object(ae.Ld)(ae.p,l),r.push(Object($.Jb)(Object(n.a)(Object(n.a)({},a),{},{target:$.d,customParams:{configKey:o.params.configKey}})))},e.navigatePreview=function(t){var a=t.currentIndex,i=void 0===a?0:a,r=t.next,o=void 0===r||r,l=t.keyboardEvent,c=void 0!==l&&l,s=t.slotInfo,u=e.state.baseURLParams,d=e.props,m=d.history,p=d.previewList,f=d.generateActivityPreviewList,h=d.itineraryInfo;e.setState({movingForward:o,allAlternates:null});var y=p[o?i+1:i-1],g=e.getEventDefaultProps(s),v={current_activity_id:g.activity_id,current_activity_name:g.activity_name,action_source:c?"KEYBOARD":"BUTTON"},b=e.getEventDefaultProps(y),E={activity_id:b.activity_id,activity_name:b.activity_name};o?Object(ae.Ld)(ae.j,Object(n.a)(Object(n.a)({},v),{},{next_activity_id:E.activity_id,next_activity_name:E.activity_name})):Object(ae.Ld)(ae.l,Object(n.a)(Object(n.a)({},v),{},{prev_activity_id:E.activity_id,prev_activity_name:E.activity_name})),m.push(Object($.Jb)(Object(n.a)(Object(n.a)({},u),{},{target:$.e,customParams:{configKey:Object(S.a)(y.slotIdentifier)}}))),s.removed&&f(h)},e.removeActivity=function(t){var a=e.props,n=a.itineraryInfo;(0,a.manageActivity)({action:"REMOVE",activitySlot:t,itineraryId:M()(n,"itinerary.itineraryId")}).then((function(){e.fetchAlternates()})).catch((function(){}))},e.removeButtonClickHandler=function(t){e.setState({removedActivity:t});var a=e.getEventDefaultProps(t);Object(ae.Ld)(ae.m,a);var n=Object(o.a)(e);void 0!==t.activitySlotDetail.costingInfo?t.activitySlotDetail.costingInfo.inCombo?swal({title:"This will remove your Combo Package savings",text:"Are you sure you want to remove this activity? You might lose huge amount of savings!",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Ok, Continue",cancelButtonText:"No, Don't remove this activity",closeOnConfirm:!0,closeOnCancel:!0},(function(e){e&&n.removeActivity(t)})):t.activitySlotDetail.costingInfo.inSwissPass?swal({title:"This will reduce your Swiss Pass savings",text:"Are you sure you want to remove this activity? You might lose huge amount of savings!",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Ok, Continue",cancelButtonText:"No, Don't remove this activity",closeOnConfirm:!0,closeOnCancel:!0},(function(e){e&&n.removeActivity(t)})):n.removeActivity(t):n.removeActivity(t)},e.fetchAlternates=function(){var t=e.props,a=t.itineraryInfo,n=t.match,i=e.state.removedActivity,r=n.params.configKey,o=Object(T.a)(r),l=a.iterSlotByKey[o],c=Q()(i);if(l)c=Object.assign(c,l);else{var s=a.iterDayByKey[i.dayIdentifier],u=H()(s.slots,(function(e){return"LEISURE"===e.type}));c=Object.assign(c,u)}var d=a.iterDayByKey[c.dayIdentifier],m=c.cityKey,p=J()(a.itinerary.allCityKeys,(function(e){return e===m})),f=c.activitySlotDetail,h=c.cityId,y=c.cityId,g="ACTIVITY_WITH_TRANSFER"===c.type;if(g&&(h=c.intercityTransferSlotDetailVO.fromCity,y=c.intercityTransferSlotDetailVO.toCity),c.prevCity&&d){var v=a.itinerary.allCityKeys[p-1];y=h=a.iterCityByKey[v].cityId}var b={cityId:h,itineraryId:a.itinerary.itineraryId,currentActivityId:"",alternateActivityIds:e.getOtherActivities(f.activityId),timeSlotType:6,showOtherSlots:!0,slotSpan:c.span,startSlot:c.start,showActivitiesWithTransferOnly:g,dropCityId:y,rcAvailable:d&&d.rcAvailable,primaryTravelMode:"UNKNOWN",activityCostingKey:"",dayNum:d.dayNum};e.setState({showLoading:!0,actualSlot:c},(function(){var t="".concat(le,"activity/alternates");Object(ee.a)({url:t,method:"POST",body:b,onSuccess:function(t){var n=t.data||[],i=Object(_.a)(n,a.itinerary.splitPricing);e.setState({showLoading:!1,allAlternates:i})},onFailure:function(){e.setState({showLoading:!1,allAlternates:[]})}})}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.itineraryInfo,n=t.getItinerary,i=t.previewList,r=t.generateActivityPreviewList,o=M()(this.props,"match.params.itineraryId");Object(k.a)(a)&&o?o&&n(o).then((function(){})).catch((function(){})):(this.setState({baseURLParams:{itineraryId:M()(a,"itinerary.itineraryId"),regionCode:M()(a,"itinerary.regionCode")}}),i||r(a).then((function(){})).catch((function(){}))),setTimeout((function(){e.setState({showPreview:!0})}),300),Object(w.a)(),window.addEventListener("keydown",this.handleKeyEvents)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.itineraryInfo,n=t.generateActivityPreviewList;Y()(e.itineraryInfo)&&!Y()(a)&&(this.setState({baseURLParams:{itineraryId:M()(a,"itinerary.itineraryId"),regionCode:M()(a,"itinerary.regionCode")}}),n(a))}},{key:"componentWillUnmount",value:function(){Object(j.a)(),Object(A.a)(),window.removeEventListener("keydown",this.handleKeyEvents)}},{key:"getOtherActivities",value:function(e){var t=this.props.itineraryInfo.activityById;return Y()(e)||(t=G()(t,[e])),V()(t)}},{key:"render",value:function(){var e,t,a,n=this,i=this.state,r=i.showPreview,o=i.movingForward,l=i.removedActivity,c=i.allAlternates,s=i.showLoading,m=this.props,p=m.match,f=m.itineraryInfo,y=m.previewList,E=m.user_details;if(Object(N.a)()||Object(k.a)(f))return null;if(!y||Y()(y))return d.a.createElement(se,null);var x=f.itinerary.booking||f.itinerary.frozen||!1,w="ADMIN"===M()(E,"userType"),j=!(f.flow||"").includes(re.a),S=p.params.configKey,A=Object(T.a)(S),_=J()(y,(function(e){return e.slotIdentifier===A})),D=y[_];if(!D)return d.a.createElement(se,{showPreview:r,closePreview:this.closePreview});var P=D.removed?l.activitySlotDetail:D.activitySlotDetail,L=null===f||void 0===f||null===(e=f.activityCostings)||void 0===e||null===(t=e.costingById)||void 0===t||null===(a=t[null===P||void 0===P?void 0:P.activityCostingIdentifier])||void 0===a?void 0:a.startTime,F=0===_,B=_===y.length-1,H=M()(f.iterDayByKey,D.dayIdentifier),U=M()(D.activitySlotDetail.costingInfo,"upgradable"),V=null,z=null;return H&&(z=H.mon?H.mon:"Day",V=H.day||H.dayNum),d.a.createElement(u.Fragment,null,d.a.createElement(ne.a,{className:h()("offcanvas-bg",{"fade-in":r,"fade-out":!r}),onClick:function(){return n.closePreview(D,"BACKDROP")}}),d.a.createElement("aside",{className:h()("activity-preview scroll-locked bg-white",{"slide-in":r})},d.a.createElement(v.a,{component:null},d.a.createElement(b.a,{timeout:300,key:"day_".concat(V),classNames:"title-layer"},d.a.createElement("section",{className:h()("title-layer color-white",{forward:o,backward:!o})},d.a.createElement("div",{className:"pull-left text-center date-cell"},d.a.createElement("span",{className:"caps-text-mini block color-grey-medium semi-bold text-uppercase"},z),d.a.createElement("b",{className:"block medium-heading-sm color-accent-5"},V)),d.a.createElement("p",{className:"bold mb-0 medium-heading-sm truncate"},D.cityName,d.a.createElement("span",{className:"block caps-text-small semi-bold truncate"},D.name)),d.a.createElement("i",{className:"preview-close cursor-pointer pyt-close-16",onClick:function(){return n.closePreview(D,"CLOSE_BUTTON")}})))),d.a.createElement(v.a,{component:null},d.a.createElement(b.a,{timeout:100,key:"slot_in_".concat(V),classNames:"sidebar"},d.a.createElement("div",{className:h()("sidebar-inner",{forward:o,backward:!o})},d.a.createElement("section",{className:h()("banner vertical-center pos-r bg-grey-lighter",{"blur-img":D.removed})},d.a.createElement("i",{className:"banner-img bg-cover",style:{backgroundImage:"url(".concat(Object(C.a)(P.mainPhoto,"w=600&h=320&fit=crop"),")")}}),D.removed?d.a.createElement("p",{className:"pos-r fw text-center dim color-white mb-0 bold medium-heading"},"Activity Removed!"):null),D.removed?d.a.createElement(O,{cityName:l.cityName,fetchAlternates:this.fetchAlternates,removedActivity:l,openAlternates:this.openAlternates,allAlternates:c,showLoading:s}):d.a.createElement(u.Fragment,null,d.a.createElement("h6",{className:"medium-heading bold mt-0 mbottom-small"},P.title),d.a.createElement("span",{className:"block main-para color-grey mbottom-medium"},(P.interestNames||[]).map((function(e,t,a){return d.a.createElement("i",{onClick:function(t){return!w&&x?null:n.openAlternates(t,e,null,D,ae.n)},className:h()("fs-normal",{"anchor-link":!(!w&&x)}),key:t},e,t+1!==a.length?", ":null," ")}))),d.a.createElement("ul",{className:"amenities-list list-unstyled clearfix fw meta-text mbottom-large"},d.a.createElement("li",null,d.a.createElement("i",{className:"pyt-clock-16"}),P.selectedTourGrade.duration," duration"),d.a.createElement("li",null,d.a.createElement("i",{className:"pyt-shared-activity-16"}),P.privateTour?"Private":"Shared"," ","activity"),d.a.createElement("li",null,d.a.createElement("i",{className:"pyt-transfer-16"}),"Transfer ",P.transferIncluded?"":"not"," ","included")),d.a.createElement("p",{dangerouslySetInnerHTML:Object(I.a)(P.shortDesc)}),d.a.createElement("span",null,"Pick up time -"," ",L?g()(L,"HHmm").format("hh:mm a"):P.selectedTourGrade.departureTime&&g()(P.selectedTourGrade.departureTime,"HHmm").format("hh:mm a")),U?d.a.createElement(ie.a,null):null)))),d.a.createElement("section",{className:"btm-bar bg-white fw vertical-center"},d.a.createElement("div",{className:"btn-group"},d.a.createElement(R.a,{text:Z.a},d.a.createElement("button",{type:"button",disabled:F,onClick:function(){return n.navigatePreview({currentIndex:_,next:!1,slotInfo:D})},className:"btn btn-default btn-outline btn-outline-bg"},d.a.createElement("i",{className:"pyt-chevron-left-24"}))),d.a.createElement(R.a,{text:Z.b},d.a.createElement("button",{type:"button",disabled:B,onClick:function(){return n.navigatePreview({currentIndex:_,next:!0,slotInfo:D})},className:"btn btn-default btn-outline btn-outline-bg"},d.a.createElement("i",{className:"pyt-chevron-right-24"})))),D.removed?d.a.createElement("div",{className:"ml-auto vertical-center"},d.a.createElement("button",{type:"button",className:"btn btn-default btn-outline",onClick:function(e){return n.openAlternates(e,"",c,l,ae.i)}},"Add Activity")):d.a.createElement("div",{className:"ml-auto vertical-center"},j?d.a.createElement(d.a.Fragment,null," ",d.a.createElement("button",{type:"button",onClick:function(){return n.removeButtonClickHandler(D)},className:"btn btn-link-grey",disabled:x},d.a.createElement("i",{className:"pyt-delete-24"}),"Remove"),d.a.createElement("button",{type:"button",className:"btn btn-default btn-outline",onClick:function(e){return n.openAlternates(e,"",c,D,ae.q)},disabled:x},"Find More Activities")):null,d.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return n.openDetails(D)}},"View details")))))}}]),a}(u.Component);t.default=Object(p.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.activitiesPreviewList,i=void 0===n?[]:n;return{itineraryInfo:a.itineraryInfo,user_details:a.user_details,previewList:i.activityList}}),(function(e){return{getItinerary:Object(m.b)(D.a,e),manageActivity:Object(m.b)(P.a,e),generateActivityPreviewList:Object(m.b)(L.f,e)}}))(ce);var se=function(e){var t=e.showPreview,a=e.closePreview;return d.a.createElement(u.Fragment,null,d.a.createElement("offCanvasBackdrop",{className:"offcanvas-bg in",onClick:a}),d.a.createElement("aside",{className:h()("activity-preview scroll-locked bg-white",{"slide-in":t})},d.a.createElement("div",{className:"sidebar-inner is-loading"},d.a.createElement(X.a,null))))}},1592:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=e.permissions,a=e.key;return null===t||void 0===t?void 0:t.includes(a)}},1593:function(e,t,a){"use strict";a.d(t,"y",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"z",(function(){return r})),a.d(t,"G",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"r",(function(){return c})),a.d(t,"s",(function(){return s})),a.d(t,"d",(function(){return u})),a.d(t,"w",(function(){return d})),a.d(t,"j",(function(){return m})),a.d(t,"k",(function(){return p})),a.d(t,"q",(function(){return f})),a.d(t,"l",(function(){return h})),a.d(t,"L",(function(){return y})),a.d(t,"F",(function(){return g})),a.d(t,"v",(function(){return v})),a.d(t,"a",(function(){return b})),a.d(t,"t",(function(){return E})),a.d(t,"u",(function(){return C})),a.d(t,"x",(function(){return x})),a.d(t,"h",(function(){return O})),a.d(t,"I",(function(){return I})),a.d(t,"H",(function(){return N})),a.d(t,"J",(function(){return k})),a.d(t,"i",(function(){return w})),a.d(t,"D",(function(){return j})),a.d(t,"g",(function(){return T})),a.d(t,"B",(function(){return S})),a.d(t,"C",(function(){return A})),a.d(t,"m",(function(){return R})),a.d(t,"K",(function(){return _})),a.d(t,"A",(function(){return D})),a.d(t,"E",(function(){return P})),a.d(t,"b",(function(){return L})),a.d(t,"p",(function(){return F})),a.d(t,"o",(function(){return M})),a.d(t,"f",(function(){return B})),a.d(t,"n",(function(){return H}));var n="sendToPlato",i="applyOverallDiscount",r="share",o="splitPricing",l="changeBookingStatus",c="removeAllActivities",s="removeAllTransfers",u="blockFlight",d="removeTrain",m="emailQuote",p="emailQuoteForUser",f="rateMatch",h="enableNetBankingOnly",y="viewSplitPrice",g="shuffleCost",v="removeHotel",b="addBlockCard",E="removeBlockCard",C="removeFlight",x="removeTransfer",O="customPaymentSchedule",I="updateItineraryLocale",N="swapItinerary",k="updatePass",w="customInstalmentDeadline",j="showCuratorManagers",T="chooseHotelProvider",S="showAllActivities",A="cancellationTimeLine",R="enableSplitFlight",_="viewAllocation",D="showActivityTiming",P="showDealSizeHistory",L="allowBookingForPartialPayment",F="lineItemBookingNotes",M="itineraryBookingQuestions",B="choosePytRecommended",H="iPinLogin"},1594:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(590);function i(e,t){e(Object(n.a)({show_notification:!0,message:t,show_undo:!1}))}},1595:function(e,t,a){"use strict";a.d(t,"e",(function(){return I})),a.d(t,"k",(function(){return N})),a.d(t,"i",(function(){return k})),a.d(t,"c",(function(){return w})),a.d(t,"h",(function(){return j})),a.d(t,"a",(function(){return T})),a.d(t,"j",(function(){return S})),a.d(t,"b",(function(){return A})),a.d(t,"d",(function(){return R})),a.d(t,"f",(function(){return _})),a.d(t,"g",(function(){return D}));var n=a(1635),i=(a(350),a(49)),r=a.n(i),o=a(1608),l=a(1597),c=a(598),s=a(20),u=a(1606),d=a(7),m=a(14),p=a(15),f=a(590),h=a(43),y=a(22),g=a(1636),v=a(214),b=a(126),E=a(1592),C=a(1593),x=m.a.api_url,O=m.a.user_type_agent;function I(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,l=a&&a.itinerary||{},s={},u="",d="",m=Object(c.a)(a),p=a.costingConfiguration;s={title:m,unsavedChanges:"2 unsaved changes.",save:"Save this itinerary"};var f=l.costed&&!l.staleCost;if(f&&p){var h=p.departureDate;e=h&&r()(h,"DD/MMM/YYYY").format("MMM DD")}u=p&&"$$$"!==p.departureAirport?p.departureCity:null,d=Object(o.a)(n,i);var y=p&&"$$$"!==p.departureAirport&&p.departureAirport,g=p&&"$$$"!==p.departureAirport&&p.departureCityName||"",v={HeaderData:s,HeaderCostedData:[{title:m,costingConfig:t={totalAdults:d,dateMonth:e,from:y,departureCityName:g,price:l.totalCost,text:"Book Now"}}],costingConfiguration:t,departureAirport:y,departure_city:u,departure_date:e};return v}function N(e){var t,a=e.itineraryInfo,n=e.user_details,i=e.history,o=e.location,l=e.lastLocation,c=e.campaignDetail,s=e.actions,u=a&&a.itinerary.itineraryId||c&&(null===c||void 0===c||null===(t=c.seoDetails)||void 0===t?void 0:t._id),m=a.itinerary,p=m.regionCode,f=m.campaign;if(n.loggedIn){var h=a.costingConfiguration;if(r()(h.departureDate,"DD/MMM/YYYY").isSameOrBefore(r()())&&-1===i.location.pathname.indexOf(d.Db))i.push(Object(d.Jb)({itineraryId:u,regionCode:p,target:d.Db,location:o}));else{var y={itineraryId:u,costingType:"RECOST",costingConfig:h};s.getCost({itineraryId:u,regionCode:p,req_data:y,history:i,lastLocation:l,campaign:f})}}else-1===i.location.pathname.indexOf(d.Db)&&i.push(Object(d.Jb)({itineraryId:u,regionCode:p,target:d.Db,location:o}))}function k(e,t,a){e&&e.preventDefault();var n=a.history,i=a.isFromPackages,r=a.user_details,o=a.itineraryInfo,l=a.location,c=a.locale,s=i&&o.campaignItineraryId||null;if(Object(v.b)(o))n.push("".concat(l.pathname).concat(b.a.CBR_ROUTE));else{var u=o&&o.itinerary,m=u.itineraryId,p=u.regionCode,f=void 0===p?"region":p;if(o.itinerary.booking)return null;switch(t){case"Update":N(a);break;case"BookTrip":r.loggedIn||c?n.push(Object(d.Jb)({itineraryId:m,regionCode:f,target:d.k,location:l})):n.push("/login");break;default:n.push(s?n.location.pathname+"/get-cost/".concat(s):Object(d.Jb)({itineraryId:m,regionCode:f,target:"UCM"===t?d.Db:d.Q,location:l}))}}}function w(e,t,a){var n=null,i=null;if(e.itineraryInfo&&Object.keys(e.itineraryInfo).length&&e.itineraryInfo.flightCostings&&(!Object.keys(t.flight).length||a)){var r=Object(l.a)(e.match.params.configKey);n=e.itineraryInfo.flightCostings.costingById[r],i=e.itineraryInfo.flightCostings.costingById[r]}return e.flightDetailFromAlternate&&(i=e.flightDetailFromAlternate),{currentFlight:n,flight:i,isRefresh:a}}function j(e){var t=e.history,a=e.match,n=e.location;t.push(Object(d.Jb)({itineraryId:a.params.itineraryId,location:n,regionCode:a.params.searchRegion}))}function T(e){var t=e.props,a=e.emailId,n=e.callBack,i=e.isMobile,r=void 0!==i&&i,o=e.locale,l=t.user_details,c=t.history,s=t.itineraryInfo,u=a||l.email,m=s.itinerary.itineraryId,g=l.userType,v=l.loggedIn,b="".concat(x,"cost/").concat(m,"/downloadItineraryPdf"),I="".concat(x,"cost/").concat(m,"/emailquote/mail");if(r&&""!==o||(!o||""===o)&&!v)c.push(Object(d.Jb)({itineraryId:m,regionCode:s.itinerary.regionCode,location:c.location,target:Object(E.a)({permissions:null===l||void 0===l?void 0:l.permissions,key:C.k})?d.F:d.G}));else if(g===O)window.open(b,"_blank").focus();else if(Object(E.a)({permissions:null===l||void 0===l?void 0:l.permissions,key:C.k})){Object(p.Ld)(p.Cc);var N={itineraryId:m,email:u};Object(E.a)({permissions:null===l||void 0===l?void 0:l.permissions,key:C.k})||(N.cclist=l.email),Object(y.a)({url:I,method:"POST",body:N,onSuccess:function(e){n?n(e.emailSent?"Please check your inbox to see if you've received it":e.message,!0):h.b.dispatch(Object(f.a)({message:e.message,show_notification:!0,show_undo:!1}))},onFailure:function(e){n&&n(e.response&&401===e.response.status?"Looks like you are not authorized to do this action":"Unable to send email. Please try again.",!1)}})}else c.push(Object(d.Jb)({itineraryId:m,regionCode:s.itinerary.regionCode,location:c.location,target:d.G}))}function S(){localStorage.setItem("inclusion-scroll-position",window.scrollY)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.b,i=[];if(t){var r={NEUTRAL:"pyt-info-16",POSITIVE:"pyt-check-square-16 color-primary",NEGATIVE:"pyt-alert-square-16"};return e.map((function(e){if(!e.inventory||e.inventory.includes(a))return i.push({className:a===g.a?"pyt-radiobtn-checked-16 dim":r[e.type],text:e.message})})),Object(n.a)(i,"text")}return e.map((function(e){if(!e.inventory||e.inventory.includes(a))return i.push({type:"info",iconClass:"color-grey pyt-fyi-36",data:e.message})})),Object(n.a)(i,"data")}function R(e){var t=function(e){var t=e.split(":");return"".concat(t[0],":").concat(t[1])};return e.allTrips.map((function(a){if(Object(s.a)())return a.replace("_"," \u2192 ");var n=e.trips[a],i=n.routes,r=i[0],o=i[i.length-1];return"".concat(r.departureAirportCode," ").concat(t(r.departureTime)," \u2192 ").concat(n.flyTime," \u2192  ").concat(o.arrivalAirportCode," ").concat(t(o.arrivalTime))})).join(" / ")}function _(e){var t=[],a=e.maxRoomOccupancy,n=e.roomSize;return a&&t.push({className:"pyt-people-16",text:"Accommodates ".concat(a," adults")}),null!==n&&void 0!==n&&n.includes("Sq.m")||null!==n&&void 0!==n&&n.includes("Sq.ft")?t.push({className:"pyt-area-16",text:"Area ".concat(n)}):null!==n&&void 0!==n&&n.length&&t.push({className:"pyt-area-16",text:"Area ".concat(n," Sqft")}),t}function D(e){var t=[],a=Object(u.a)(e.mealType);return e.refundable?t.push({className:"pyt-refundable-16 color-primary-dark",text:"Refundable"}):t.push({className:"pyt-non-refundable-16 color-accent-7",text:" Non-Refundable"}),a?t.push({className:"pyt-included-16 color-primary-dark",text:" ".concat(a)}):t.push({className:e.freeBreakfast?"pyt-included-16 color-primary-dark":"pyt-excluded-16 color-accent-7",text:" ".concat(e.breakfastText)}),t.push({className:e.freeWireless?"pyt-included-16 color-primary-dark":"pyt-excluded-16 color-accent-7",text:" Wifi"}),t.push({className:e.acAvailable?"pyt-included-16 color-primary-dark":"pyt-excluded-16 color-accent-7",text:"Air Conditioner"}),t}},1596:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e||{}).length}a.d(t,"a",(function(){return n}))},1597:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g,"###")}a.d(t,"a",(function(){return n}))},1598:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/###/g,"-")}a.d(t,"a",(function(){return n}))},1600:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l}));var n=a(14),i=a(20),r=n.a.images_cdn_misc_url+"placeholders/",o={activitySmall:r+"Activity1-50x50.png",activityMedium:r+"Activity1-125x125.png",activityLarge:r+"Activity1-640x360.png",activity2Small:r+"Activity2-50x50.png",activity2Medium:r+"Activity2-125x125.png",activity2Large:r+"Activity2-640x360.png",activity3Small:r+"Activity3-50x50.png",activity3Medium:r+"Activity3-125x125.png",activity3Large:r+"Activity3-640x360.png",airLineLogo:r+"Airline-logo.png",citySmall:r+"Guides-City-395x360.png",cityLarge:r+"Guides-City-790x720.png",foodSmall:r+"Guides-Food-120x120.png",foodLarge:r+"Guides-Food-240x240.png",innerAreasSmall:r+"Guides-InnerAreas-230x140.png",innerAreasLarge:r+"Guides-InnerAreas-460x280.png",shoppingSmall:r+"Guides-Shopping-150x105.png",shoppingLarge:r+"Guides-Shopping-300x210.png",hotelSmall:r+"Hotel-50x50.png",hotelMedium:r+"Hotel-125x125.png",hotelBig:r+"Hotel-200x150.png",hotelLarge:r+"Hotel-640x360.png",roomsSmall:r+"HotelRooms-120x90.png",roomsLarge:r+"HotelRooms-240x180.png"};function l(e){var t=Object(i.a)()?"mobile":"desktop",a="https://pyt-images.imgix.net/images/costing_screen/placeholder";switch((e||"").toUpperCase()){case"ACTIVITIES":return"".concat(a,"/").concat(t,"/activities.png");case"CAR":return"".concat(a,"/").concat(t,"/car.png");case"HOTEL":return"".concat(a,"/").concat(t,"/hotels.png");case"INSURANCE":return"".concat(a,"/").concat(t,"/insurance.png");case"FLIGHT":return"".concat(a,"/").concat(t,"/plane.png");case"FERRY":return"".concat(a,"/").concat(t,"/ship.png");case"TRAIN":return"".concat(a,"/").concat(t,"/train.png");case"VISA":return"".concat(a,"/").concat(t,"/visa.png");default:return"".concat(a,"/").concat(t,"/default.png")}}},1601:function(e,t,a){"use strict";function n(e,t,a){1===arguments.length&&(t=e,e=0),t=t||0;var n=[];if(0!==(a=a||1)){if(t>0&&a>0)for(;e<t;e+=a)n.push(e);else if(t<0&&a<=0)for(;e>t;e+=a)n.push(e);else for(;e>t;e-=a)n.push(e);return n}return Array(t-e).fill(e,0,t-e)}a.d(t,"a",(function(){return n}))},1602:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/#/g,"-")}a.d(t,"a",(function(){return n}))},1604:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"i",(function(){return i})),a.d(t,"l",(function(){return r})),a.d(t,"k",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"j",(function(){return s})),a.d(t,"m",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return h}));var n="Add Night",i="Remove Night",r="Unable to decrease night",o="Unable to increase night",l="Remove City",c="Itinerary should have atleast one city",s="Unable to remove this city in this itinerary",u="View details",d="Pickyourtrail filters out flights with times inconvenient to your travel plans.\n Turn off the filter to have more flights listed.",m="Our expert's pick for a hassle-free stay during your vacation",p="Pickyourtrail has handpicked a list of activities that is value for money\nand is also best enjoyed by their customers! Click this for our special recommendations.",f="Next activity",h="Previous activity"},1605:function(e,t,a){},1606:function(e,t,a){"use strict";t.a=function(e){return e?e.includes("HB")?"Breakfast & Dinner":e.includes("FB")?"Breakfast, Lunch & Dinner":e.includes("BB")?"Bed & Breakfast":e.includes("AI")?"Breakfast, Lunch, Dinner & Unlimited Alcohol/Beverages":e:null}},1608:function(e,t,a){"use strict";function n(e,t){var a="";return e>0&&(a="".concat(e,1===e?" adult":" adults")),t>0&&(a+=", ".concat(t,1===t?" child":" children")),a}a.d(t,"a",(function(){return n}))},1613:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g,"#")}a.d(t,"a",(function(){return n}))},1617:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return u}));var n=a(0),i=a.n(n);function r(e){var t=e.rootClassName,a=void 0===t?"stop-indicator":t,n=e.content,r=e.iconClassName,o=void 0===r?"pyt-flight-16":r;return i.a.createElement("div",{className:a},i.a.createElement("span",null,n),i.a.createElement("i",{className:o}))}function o(e){var t=e.rootClassName,a=void 0===t?"pill color-accent-11 orange":t,n=e.boldContent,r=e.content;return i.a.createElement("span",{className:a},i.a.createElement("b",null,n)," ",r)}function l(e){var t=e.rootClassName,a=void 0===t?"badge-flame bg-accent-1":t,n=e.iconClassName,r=void 0===n?"pyt-fire-24 color-white":n,o=e.contentClassName,l=void 0===o?"color-accent-1 bg-accent-2":o,c=e.badgeValue;return i.a.createElement("span",{className:a},i.a.createElement("i",{className:r}),i.a.createElement("b",{className:l},c))}function c(e){var t=e.rootClassName,a=void 0===t?"pill square md bg-accent-2":t,n=e.iconClassName,r=void 0===n?"pyt-flash-on-16 color-accent-1":n,o=e.content,l=void 0===o?"Likely to sell out":o;return i.a.createElement("span",{className:a},i.a.createElement("i",{className:r}),l)}function s(e){var t=e.rootClassName,a=void 0===t?"free-activity color-grey-secondary":t,n=e.content,r=void 0===n?"EXPLORATION":n;return i.a.createElement("span",{className:a},"SELF",i.a.createElement("br",null),r)}function u(e){var t=e.rootClassName,a=void 0===t?"sold-out":t,n=e.content,r=void 0===n?"Sold Out":n;return i.a.createElement("span",{className:a},r)}},1625:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),u=a(1601);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var m=function(e){Object(r.a)(a,e);var t=d(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.rating,a=void 0===t?0:t,n=e.fillEmpty,i=e.parentClass,r=e.insideFigure,o=e.parentElement,l=e.addStarClr,c=s.a.createElement("span",{className:"pyt-half-star-16 ".concat(l?"star-clr":"")}),d=o||"div",m=parseInt(a,10),p=a%m,f=Object(u.a)(0,m).map((function(e,t){return s.a.createElement("span",{key:"filled_star_"+t,className:"pyt-star-16 ".concat(l?"star-clr":"")})})),h=null;if(n){var y=5-Math.ceil(a);y>=1&&(h=Object(u.a)(0,y).map((function(e,t){return s.a.createElement("span",{key:"empty_star_"+t,className:"pyt-star-outline-16 ".concat(l?"star-clr":"")})})))}return r?s.a.createElement("figcaption",{className:"stars inverse text-left"},f,p>0?c:null,h):s.a.createElement(d,{className:i||""},f,p>0?c:null,h)}}]),a}(c.Component)},1629:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),r=a(245),o=a(15),l=a(340),c=a(190),s=a(12),u=a(1594);function d(e,t,a){return function(d){return new Promise((function(m,p){var f="".concat(n.a.api_url,"itinerary/").concat(e,"/edit");Object(i.a)({url:f,method:"POST",body:t,onSuccess:function(e){Object(r.a)(d,e.data,l.c),Object(o.Ld)(o.Xb,{trip_edited:!0}),Object(u.a)(d,l.c),a&&a(),m("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,d),d({type:s.F,payload:{status:(e.response||{}).status}}),p("Failed")}})}))}}},1634:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return h})),a.d(t,"e",(function(){return y})),a.d(t,"a",(function(){return g})),a.d(t,"d",(function(){return v}));var n=a(0),i=a.n(n),r=a(1625),o=a(14),l=a(1601),c=a(289),s=a.n(c),u=a(23),d=a(15),m=o.a.images_cdn_icons_url,p=o.a.domain_url;function f(e){var t=e.rating;return i.a.createElement("div",{className:"rating-badge"},i.a.createElement("p",null,i.a.createElement("span",{className:"rating-per"},"4.8"),i.a.createElement(r.a,{rating:t,fillEmpty:!0,parentClass:"rating-star",parentElement:"span",insideFigure:!1}),i.a.createElement("span",{className:"rating-desc"},"Based on the opinions of 1000+ people on Facebook")))}function h(e){var t=e.rating,a=void 0===t?0:t,n=e.wrapperClass,r=e.logoAsImage,o=e.fillEmptyCircle,c=Object(u.a)("".concat(m,"tripadvisor-owl.png")),s=i.a.createElement("div",null,i.a.createElement("span",{className:"pyt-half-checked-16"})),d=parseInt(a,10),p=a%d,f=Object(l.a)(0,d).map((function(e,t){return i.a.createElement("div",{key:"full_star_"+t+Math.random()},i.a.createElement("span",{key:"filled_star_"+t,className:"pyt-radiobtn-checked-16"}))})),h=null;if(o){var y=5-Math.ceil(a);y>=1&&(h=Object(l.a)(0,y).map((function(e,t){return i.a.createElement("div",{key:"empty_star_"+t+Math.random()},i.a.createElement("span",{key:"empty_star_"+t,className:"pyt-radiobtn-unchecked-16"}))})))}return i.a.createElement("div",{className:"rating owl "+(n||"")},r?i.a.createElement("div",{className:"tripadvisor-logo"},i.a.createElement("img",{src:c,alt:"ta"})):i.a.createElement("div",null,i.a.createElement("span",{className:"pyt-trip-advisor-16"})),f,p>0?s:null,h)}function y(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4?arguments[4]:void 0,r=t?t.region:"",o=(r||"").split(" + ").join(" "),l=[],c=i?"".concat(p).concat(i,"/"):p;return e||r&&r.length>0?l.push({content:"Home",href:"".concat(c)}):a&&l.push({content:"Your Saved itineraries",href:"".concat(c,"your-vacations"),onClick:function(){Object(d.Ld)(d.Nc,{saved_itinerary_btn:!0})}}),e&&(n?"WORLDCUP_T20_MEN"===n&&l.push({content:"Men T20 Packages",href:"".concat(c,"icc-t20-worldcup-event-men")}):l.push({content:"Packages",href:"".concat(c,"packages")})),r&&r.length>0&&!n&&l.push({content:r,href:"".concat(c,"packages/").concat(o.toLowerCase().replace(/ /g,"-"))}),l}function g(e){var t=e.itinerary,a=e.campaignDetail,n=a?a.region:"",r=n.split(" + ").join(" ");return i.a.createElement("ol",{vocab:"http://schema.org/",typeof:"BreadcrumbList",className:"breadcrumb"},i.a.createElement("li",{property:"itemListElement",typeof:"ListItem"},i.a.createElement("i",{className:"home-icon "}),i.a.createElement("a",{href:"".concat(p),property:"item",typeof:"WebPage"},i.a.createElement("span",{property:"name"},"Home")),i.a.createElement("meta",{property:"position",content:"1"})),i.a.createElement("li",{property:"itemListElement",typeof:"ListItem"},i.a.createElement("a",{href:"".concat(p,"packages"),property:"item",typeof:"WebPage"},i.a.createElement("span",{property:"name"},"Packages")),i.a.createElement("meta",{property:"position",content:"2"})),n&&n.length>0?i.a.createElement("li",{property:"itemListElement",typeof:"ListItem"},i.a.createElement("a",{href:"".concat(p,"packages/").concat(r.toLowerCase().replace(/ /g,"-")),property:"item",typeof:"WebPage"},i.a.createElement("span",{className:"text-capitalize",property:"name"},n)),i.a.createElement("meta",{property:"position",content:"3"})):null,i.a.createElement("li",null,i.a.createElement("span",null,(t||{}).specialTitle)))}function v(e){var t=e.show,a=e.title,n=e.message,r=e.callback;return i.a.createElement(s.a,{show:t,title:a||"Oops, access denied!",text:n||"You don\u2019t have the permission to make changes in another user\u2019s itinerary.",onConfirm:r,animation:"pop",confirmButtonText:"Okay! Go to Homepage"})}},1635:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(33);function i(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function o(e,t){return e.reduce((function(e,a){if(a)if(0===e.length)e.push(a);else{var n,r=!1,o=i(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(t(l)===t(a)){r=!0;break}}}catch(c){o.e(c)}finally{o.f()}r||e.push(a)}return e}),[])}function l(e,t){return e&&Array.isArray(e)&&Array.length>0?t&&t.constructor===Function?o(e,t):t&&t.constructor===String?o(e,(function(e){return e[t]})):Object(n.a)(new Set(e)):[]}},1636:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n="BEFORE_YOU_BOOK",i="LINE_ITEM_CARD"},1638:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(2),o=a(57),l=a(61),c=a(5),s=a(6),u=a(250),d=a(110),m=r.default.div.withConfig({displayName:"NoItems__NoItemsWrapper"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;margin:40px 0;animation:"," 0.4s ease-in 0;animation-iteration-count:1;p{margin-bottom:8px;font-size:17px;line-height:1.09;letter-spacing:-0.25px;","{font-size:22px;}}span{margin-bottom:0;font-size:15px;line-height:22px;","{font-size:16px;}}button{margin-top:12px;margin-bottom:12px;}a{",";font-weight:bold;color:",";}img{width:100px;height:100px;","{width:160px;height:153px;}margin-bottom:24px;}"],u.e,s.sm,s.sm,d.c,c.theme.brandPrimary,s.sm);t.a=function(e){var t=e.image,a=e.text,n=e.ctaText,r=e.ctaAction,c=e.subLinkText,s=e.subLink,u=e.rootClassName,d=void 0===u?"":u;return i.a.createElement(m,{className:d},t?i.a.createElement("img",{src:t,alt:"No-items-found"}):null,a,n?i.a.createElement(l.a,{onClick:r,btnPrimary:!0},n):null,s?i.a.createElement(o.Link,{to:s},c):null)}},1639:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var d=a(2).default.label.withConfig({displayName:"Switch"})(["display:inline-block;width:",";height:",";position:relative;margin-left:",";margin-bottom:0;.slider{position:absolute;top:",";left:0;height:",";cursor:pointer;width:100%;background-color:#cccccc;transition-property:all;transition-duration:0.3s;transition-timing-function:ease;transition-delay:0s;border-radius:22px;&:before{content:'';position:absolute;left:",";top:",";height:",";width:",";vertical-align:",";border:",";background-color:",";border-radius:50%;transition:all 0.3s;}}input{opacity:0;width:0;height:0;&:checked + .slider{background-color:#1baacc;}&:checked + .slider:before{transform:",";border-color:",";}}"],(function(e){return e.v2?"30px":"44px"}),(function(e){return e.v2?"unset":"10px"}),(function(e){return e.v2?"8px":"0"}),(function(e){return e.v2?"0":"4px"}),(function(e){return e.v2?"18px":"16px"}),(function(e){return e.v2?"2px":"0"}),(function(e){return e.v2?"2px":"-3px"}),(function(e){return e.v2?"14px":"22px"}),(function(e){return e.v2?"14px":"22px"}),(function(e){return e.v2?"4px":null}),(function(e){return e.v2?"2px solid #FFFFFF":"1px solid #cccccc"}),(function(e){return e.v2?"transparent":"white"}),(function(e){return e.v2?"translateX(12px)":"translateX(22px)"}),(function(e){return e.v2?"#FFFFFF":"#1baacc"})),m=function(e){Object(r.a)(a,e);var t=u(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e))._handleChange=function(){var e=!i.state.value;i.setState({value:e},(function(){i.props.onChangeAction&&i.props.onChangeAction(e)}))},i.state={value:e.value||!1,defaultValue:e.value||!1},i}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement(d,{v2:this.props.v2},s.a.createElement("input",{type:"checkbox",checked:this.state.value,onChange:this._handleChange}),s.a.createElement("span",{className:"slider"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.defaultValue?{defaultValue:e.value,value:e.value}:t}}]),a}(c.Component)},1640:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(616),i=a(33),r=a(38),o=a(39),l=a(46),c=a(56),s=a(29),u=a(0),d=a.n(u),m=a(35),p=a.n(m),f=a(192),h=a.n(f),y=a(193),g=a(2);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var b=g.default.label.withConfig({displayName:"GroupButton__TripAdvisorLabel"})(["position:relative;font-weight:400;cursor:pointer;user-select:none;padding-left:24px;&.non-active{&:before{color:#aaaaaa;font-size:17px;font-family:'pyticon';line-height:1;content:'\\eac1';position:absolute;left:0;top:2px;}}&.active{&:before{content:'\\eac0';color:#26cf96;}}"]),E=g.default.div.withConfig({displayName:"GroupButton__GroupButtonWrapper"})(["padding:",";"],(function(e){var t=e.padding;return t||"15px"})),C=g.default.label.withConfig({displayName:"GroupButton__LabelWrapper"})(["display:block;color:",";font-size:",";font-weight:400;&:first-child{margin-top:0;}i{line-height:1;}span{color:",";font-size:",";}i{font-size:",";line-height:1;margin-right:10px;vertical-align:text-bottom;font-weight:",";}",""],(function(e){var t=e.labelColor;return t||"black"}),(function(e){var t=e.labelSize;return t||"16px"}),(function(e){var t=e.textColor;return t||"#53576d"}),(function(e){var t=e.textSize;return t||"18px"}),(function(e){var t=e.iconSize;return t||"20px"}),(function(e){var t=e.iconWeight;return t||400}),(function(e){var t=e.customOptions,a=e.active,n=e.nonActive;return t&&Object(g.css)([""," ",""],n&&Object(g.css)(["i{color:#aaaaaa;}"]),a&&Object(g.css)(["i{font-weight:100;color:",";}span{color:#000000;}"],(function(e){var t=e.iconActiveColor;return t||"#26cf96"})))})),x=function(e){Object(l.a)(a,e);var t=v(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).clickAction=function(e,t,a){var i=n.state,r=i.activeButtons,o=i.defaultActiveButtons,l=n.props,c=l.allowMultiple,s=l.componentValues,u=l.isRadio;if(e.target.blur(),e&&e.preventDefault()&&e.stopPropagation(),c)if(r.includes(t)){var d=r.indexOf(t);if(r.splice(d,1),o.includes(t)){var m=o.indexOf(t);o.splice(m,1)}if(r.includes("VIEWALL")){var p=r.indexOf(t);if(r.splice(p,1),o.includes(t)){var f=o.indexOf(t);o.splice(f,1)}}"VIEWALL"===t&&(r=[],o=[])}else"VIEWALL"===t?r=s.map((function(e){return e.value})):r.push(t);else u?r=t:(r=[]).push(t);n.setState({activeButtons:r,defaultActiveButtons:o},(function(){n.props.onClickAction&&n.props.onClickAction(e,t,a,n.state.activeButtons.includes(t))}))},n.renderPillElements=function(){var e=n.state,t=e.activeButtons,a=e.defaultActiveButtons,i=void 0===a?[]:a,r=n.props,o=r.target,l=r.componentValues,c=r.isRadio,s=[],u=null;return!c&&t.map((function(e,t){i.includes(e)||(u=function(e){var t=(l||[]).filter((function(t){return!t.disablePill&&t.value===e}));return!t.length||t[0].disablePill?null:t[0].pillContent||t[0].text}(e))&&s.push(d.a.createElement("li",{key:t},d.a.createElement("span",{className:"tag-sm round"},u,d.a.createElement("i",{className:"pyt-close-16 cursor-pointer",onClick:function(t){n.clickAction(t,e,o)}}))))})),s},n.state={activeButtons:[],defaultActiveButtons:[]},n.pillElements=null,n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.activeButtons,a=e.isRadio,r=a?t||"":h()(t)||[];Object(y.a)(this.state.activeButtons,r)||this.setState({activeButtons:a?r:Object(n.a)(Array,Object(i.a)(r)),defaultActiveButtons:a?r:Object(n.a)(Array,Object(i.a)(r))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.buttonClass,n=t.orientation,i=t.componentValues,r=t.target,o=t.allowMultiple,l=t.isCheckBox,c=void 0!==l&&l,s=t.isRadio,u=void 0!==s&&s,m=t.padding,f=void 0===m?"":m;return a+="Vertical"!==n?" btn-group":"",this.pillElements=this.renderPillElements(),d.a.createElement(E,{padding:f,className:c||u?"opt-list".concat(" ",a):p()(a,{"btn-group-vertical":"Vertical"===n,"btn-group-justified":"Horizontal"===n})},function(a){var n=a.buttons,i=a.target,r=a.isCheckBox,o=a.isRadio,l=e.state.activeButtons;return n.map((function(a,n){var c=a.text,s=void 0===c?"":c,u=a.subText,m=void 0===u?"":u,f=a.textClass,h=void 0===f?"":f,y=a.subTextClass,g=void 0===y?"":y,v=a.value,E=a.iconClass,x=void 0===E?[]:E,O=a.checked,I=a.name,N=void 0===I?"":I,k=a.iconText,w=void 0===k?"":k;h+=" btn btn-grey-lighter",g+=" pull-right color-grey fade";var j=t.textColor,T=void 0===j?"":j,S=t.textSize,A=void 0===S?"":S,R=t.labelColor,_=void 0===R?"":R,D=t.labelSize,P=void 0===D?"":D,L=t.iconSize,F=void 0===L?"":L,M=t.iconActiveColor,B=void 0===M?"":M,H=t.iconWeight,U=void 0===H?"":H;if(r||o){var V=function(e){return d.a.createElement(C,e)};"taRating"===N&&(V=b);var z=o?l===v:l.includes(v)||O,G=o?z?"pyt-radiobtn-checked-16":"pyt-radiobtn-unchecked-16":r?z?"pyt-check_box_active-16":"pyt-check_box_blank-16":null;return d.a.createElement(V,{className:p()("non-active",{active:z,radio:o}),key:n,name:N,value:v,onClick:function(t){t.preventDefault(),e.clickAction(t,v,i)},title:s,customOptions:"taRating"!==N,active:z,nonActive:!z,textColor:T,textSize:A,labelColor:_,labelSize:P,iconSize:F,iconActiveColor:B,iconWeight:U},d.a.createElement("i",{className:G}),d.a.createElement("span",null,s))}return d.a.createElement("a",{href:" ",name:N,value:v,key:n,className:p()("".concat(h),{active:o&&l===v||l.includes(v)||O}),onClick:function(t){t.preventDefault(),e.clickAction(t,v,i)},title:s},w," ",x.length?function(e){return e.map((function(e,t){return d.a.createElement("i",{key:t,className:e})}))}(x):null,s,m?d.a.createElement("span",{className:g},m):null)}))}({buttons:i,target:r,allowMultiple:o,isCheckBox:c,isRadio:u}))}}]),a}(u.Component);x.defaultProps={orientation:"Horizontal",allowMultiple:!0,buttonClass:"",componentValues:[],isVertical:!1}},1644:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),r=a(340),o=a(1594),l=a(245),c=a(190),s=a(171);function u(e){return function(t){return new Promise((function(a,u){var d="".concat(n.a.api_url,"itinerary/day/add");Object(i.a)({url:d,method:"POST",body:e,onSuccess:function(e){Object(l.a)(t,e.data,r.a),Object(o.a)(t,r.a),a("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,t),Object(s.a)(e,t),u("Failed")}})}))}}},1645:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),r=a(245),o=a(1594),l=a(190),c=a(171),s=a(340);function u(e){return function(t){return new Promise((function(a,u){var d="".concat(n.a.api_url,"itinerary/day/remove");Object(i.a)({url:d,method:"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data,s.l),Object(o.a)(t,s.l),a("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,t),Object(c.a)(e,t),u("Failed")}})}))}}},1646:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(14),i=a(22),r=a(245),o=a(1594),l=a(15),c=a(190),s=a(171),u=a(62),d=a(18);function m(e){return function(t){return new Promise((function(a,m){var p={},f="POST";if("REMOVE"===e.action){var h=e.activitySlot,y=h.cityId,g=h.cityId,v="ACTIVITY_WITH_TRANSFER"===h.type;v&&(y=h.intercityTransferSlotDetailVO.fromCity,g=h.intercityTransferSlotDetailVO.toCity),p={itineraryId:e.itineraryId,newActivityId:h.activitySlotDetail.planningToolId,slotIdentifier:h.slotIdentifier,activityWithTransfer:v,modifyType:e.action,fromCityId:y,toCityId:g,cancelled:!(!h.activitySlotDetail.costingInfo||!h.activitySlotDetail.costingInfo.cancelled)}}else p="REMOVEALL"===e.action?{itineraryId:e.itineraryId}:{itineraryId:e.itineraryId,newActivityId:e.activitySlot.activitySlotDetail.planningToolId,slotIdentifier:e.activitySlot.slotIdentifier,activityWithTransfer:e.activityWithTransfer,modifyType:e.action,fromCityId:e.fromCityId,toCityId:e.toCityId,cancelled:e.cancelled,attractionId:e.attractionId};var b="".concat(n.a.api_url,"itinerary/activity/remove"),E="Removed activity from your itinerary";"ADD"===e.action?(b="".concat(n.a.api_url,"itinerary/activity/add"),E="Activity added to your itinerary"):"CHANGE"===e.action?(b="".concat(n.a.api_url,"itinerary/activity/replace"),E="Activity updated in your itinerary"):"REMOVEALL"===e.action&&(b="".concat(n.a.api_url,"itinerary/").concat(e.itineraryId,"/activity/removeAll"),f="GET",E="Removed all the activities from the itinerary"),Object(i.a)({url:b,method:f,body:p,onSuccess:function(n){if("REMOVE"===e.action?(t({type:"ACTIVITY_PREVIEW_REMOVED",payload:e.activitySlot.slotIdentifier}),Object(u.a)(window.location.pathname,["/".concat("activity-preview","/")])||Object(o.a)(t,E)):Object(o.a)(t,E),Object(r.a)(t,n.data,"ACTIVITY_".concat(e.action)),"ADD"===e.action){var i,c=Object(d.a)(e,"options.activitySlot.activitySlotDetail.title");"alternate_activity"===e.type?i="Activity Add - Activity Alternates - Choose":"activity_details"===e.type&&(i="Activity Add - Activity Details - Choose"),Object(l.Ld)(l.Xb,{activity_added:!0,action:l.e,category:l.z,button_clicked:i,from_name:"",to_name:c})}else if("REMOVE"===e.action){var s,m=Object(d.a)(e,"options.activitySlot.cityName"),p=Object(d.a)(e,"options.activitySlot.day"),f=Object(d.a)(e,"options.activitySlot.mon");"activity_details"===e.type&&(s="Activity Replace - Activity Details - Remove"),Object(l.Ld)(l.Xb,{activity_removed:!0,action:l.Dc,category:l.z,button_clicked:s,city:m,day:f+" "+p})}else if("CHANGE"===e.action){var h=Object(d.a)(e,"options.activitySlot.cityName"),y=Object(d.a)(e,"options.activitySlot.day"),g=Object(d.a)(e,"options.activitySlot.mon"),v=Object(d.a)(e,"options.activitySlot.activityName"),b=Object(d.a)(e,"options.activitySlot.activitySlotDetail.title"),C="";"alternate_activity"===e.type?C="Activity Replace - Activity Alternates - Update":"activity_details"===e.type&&(C="Activity Replace - Activity Details - Update"),Object(l.Ld)(l.Xb,{activity_changed:!0,action:l.B,category:l.z,button_clicked:C,city:h,day:g+" "+y,from_name:v,to_name:b})}a("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,t),Object(s.a)(e,t),m("Failed")}})}))}}},1647:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return x}));var n=a(0),i=a.n(n),r=a(35),o=a.n(r),l=a(589),c=a.n(l),s=a(191),u=a(1617),d=a(23),m=a(106),p=a(55),f=a(105),h=a(141),y=a(2592),g=a(1592),v=a(1593);function b(e){var t=e.badgeValue,a=void 0===t?0:t,r=e.images,o=void 0===r?[]:r,l=e.contentType,c=e.activityName,d=e.description,p=e.subText,f=e.isPriceIncreased,h=void 0===f||f,y=e.price,b=void 0===y?0:y,I=e.onReplaceAction,N=e.onCardClick,k=e.status,w=e.enableFreeTag,j=e.disableDiffIcon,T=e.likeCount,S=e.dislikeCount,A=e.sourceProvider,R=e.isAdmin,_=e.activityDetails,D=e.onChangeAlert,P=e.userDetails,L=e.recommendedActivity,F=Object(g.a)({permissions:P.permissions,key:v.f}),M=i.a.createElement(s.a,{buttonClass:"btn btn-primary btn-sm choose-btn",buttonText:"Choose",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),L&&F?D(_):I(e)}});return i.a.createElement("div",{className:"activity-alter-card",onClick:function(e){e&&e.preventDefault(),N()}},a?i.a.createElement(u.a,{badgeValue:a}):null,i.a.createElement("div",{className:"pos-r"},function(e){switch(e){case"FILLING_FAST":return i.a.createElement(u.f,{rootClassName:"likely-tag bg-accent-1 color-white",iconClassName:"pyt-flash-on-16 color-accent-2",content:"Filling fast!"});case"SELL_OUT":return i.a.createElement(u.f,null);default:return null}}(l),i.a.createElement(E,{images:o,sliderSettings:{slidesToShow:1,slidesToScroll:1,arrows:!0,infinite:!0,speed:500,lazyLoad:"ondemand",responsive:[{settings:{infinite:!1,slidesToShow:1}}]}})),i.a.createElement("div",{className:"detail-box"},i.a.createElement(O,{activityName:c,description:d,subText:p,status:k,sourceProvider:A,isAdmin:R}),i.a.createElement("div",{className:"price-txt"},i.a.createElement(C,{likeCount:T,dislikeCount:S}),i.a.createElement("div",{className:"rgt-txt vertical-center"},w?i.a.createElement(m.a,{text:"Self Exploration"},i.a.createElement("span",{className:"pill square md color-white bg-black"},i.a.createElement("i",{className:"pyt-binocular-16 color-accent-2"}),i.a.createElement("b",{className:"semi-bold"},"\xa0Self Exploration"))):i.a.createElement(x,{disableDiffIcon:j,enableFreeTag:w,isPriceIncreased:h,price:b}),i.a.createElement(n.Fragment,null,M))),i.a.createElement("p",{className:"desc"},i.a.createElement("span",{className:"fw truncate-3-lines"},d),i.a.createElement("a",null,"Read more ",i.a.createElement("i",{className:"pyt-arrow-right-24"})))))}var E=function(e){var t=e.images,a=void 0===t?[]:t,n=e.sliderSettings,r=a.map((function(e,t){var a={backgroundImage:"url(".concat(Object(d.a)(e,"h=200&w=260&fit=crop&crop=faces"),")")};return i.a.createElement("div",{key:t},i.a.createElement("figure",{style:a}))}));return i.a.createElement(c.a,Object.assign({className:"activity-alter-slider"},n),r)},C=function(e){var t=e.likeCount,a=void 0===t?0:t,n=e.dislikeCount,r=void 0===n?0:n;return i.a.createElement("div",{className:"like-icon"},a?i.a.createElement("span",null,i.a.createElement("i",{className:"pyt-thumb-up-16"}),i.a.createElement("b",{className:"semi-bold"},a)):null,r?i.a.createElement("span",null,i.a.createElement("i",{className:"pyt-thumb-down-16"}),i.a.createElement("b",{className:"semi-bold"},r)):null)};function x(e){var t=e.enableFreeTag,a=void 0!==t&&t,n=e.disableDiffIcon,r=void 0!==n&&n,l=e.price,c=e.isPriceIncreased,s=e.disablePriceVariation,d=void 0!==s&&s,m=e.rootClassName,f=void 0===m?"varied-price":m,h=e.RootElement,y=void 0===h?"p":h;if(!a&&!l)return null;var g={value:l};return a?i.a.createElement(u.b,{rootClassName:"pull-right free-activity color-grey-secondary"}):l?i.a.createElement(y,{className:f},r?null:i.a.createElement("i",{className:o()({"pyt-arrow-down-16":!c&&!d,"pyt-arrow-top-16":c&&!d})}),i.a.createElement("b",null,"\xa0",i.a.createElement(p.a,{objectData:g,path:"value",defaultValue:"0"}))):null}var O=function(e){var t=e.activityName,a=e.subText,n=e.status,r=e.sourceProvider,o=e.isAdmin;return i.a.createElement("p",{className:"detail-txt"},i.a.createElement("span",{className:"meta-text bold"},t),i.a.createElement(f.a,{gutter:4,alignItems:"center"},i.a.createElement("b",{className:"semi-bold"},a),r&&o&&i.a.createElement(f.a.Item,{maxWidth:"40%",flexDirection:"row",backgroundColor:"#feda46",paddingVertical:4,paddingHorizontal:8,alignItems:"center",justifyContent:"center",borderRadius:4,marginBottom:10,gap:4},i.a.createElement(y.a,{fill:"rgb(102, 102, 102)"}),i.a.createElement(h.a,{fontFamily:"Source Sans Pro",color:"rgb(102, 102, 102)",fontWeight:600,fontSize:12,lineHeight:16,letterSpacing:"-0.1px"},r))),n)}},1649:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(11);function i(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function o(e,t){return e&&e.length>0?t.constructor===Function?e.findIndex(t):function(e,t){if(t.constructor===Object){var a,r=i(e.entries());try{for(r.s();!(a=r.n()).done;){var o=Object(n.a)(a.value,2),l=o[0],c=o[1],s=!0;for(var u in t)s=!!Object.prototype.hasOwnProperty.call(c,u)&&(c[u]===t[u]&&s);if(s)return l}}catch(C){r.e(C)}finally{r.f()}return-1}if(t.constructor===Array){var d,m=i(e.entries());try{for(m.s();!(d=m.n()).done;){var p=Object(n.a)(d.value,2),f=p[0],h=p[1];if(Object.prototype.hasOwnProperty.call(h,t[0])&&h[t[0]]===t[1])return f}}catch(C){m.e(C)}finally{m.f()}return-1}if(t.constructor===String){var y,g=i(e.entries());try{for(g.s();!(y=g.n()).done;){var v=Object(n.a)(y.value,2),b=v[0],E=v[1];if(Object.prototype.hasOwnProperty.call(E,t)&&E[t])return b}}catch(C){g.e(C)}finally{g.f()}return-1}}(e,t):-1}},1651:function(e,t,a){var n=a(1665),i=a(613),r=a(903),o=a(195),l=a(468),c=a(614),s=a(615),u=a(901),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||r(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(s(e))return!n(e).length;for(var a in e)if(d.call(e,a))return!1;return!0}},1653:function(e,t,a){"use strict";function n(e){return void 0===e||null===e}a.d(t,"a",(function(){return n}))},1654:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(12);function i(e){return function(t){return new Promise((function(a){t({type:n.Pb,payload:e}),a("Promised resolved from fetch")}))}}},1660:function(e,t,a){"use strict";t.a={FlightsandHotels:"all-flight-hotel-panels",Flights:"flight",Hotels:"stay",Transfers:"transfer",VisaInsurance:"all-visa-panels",CustomCard:"all-others-panels",Activities:"activities",PassPanels:"all-pass-panels",TotalCost:"more"}},1661:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),u=a(35),d=a.n(u);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var p=function(e){Object(r.a)(a,e);var t=m(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).clickAction=function(e,t){e&&e.preventDefault();var a=i.props.onClickAction,n=void 0===a?function(){}:a,r=i.state.disableIndex,o=r.indexOf(t);t=i.state.activeIndex===t?null:t,o>=0?r.splice(o,1):r.push(t),i.setState({activeIndex:t,disableIndex:r},(function(){n(e,t)}))},i.accordianElements=function(){var e=i.props,t=e.rootClassName,a=void 0===t?"panel":t,n=e.components,r=void 0===n?[]:n,o=e.expandAll,l=void 0===o||o,c=i.state,u=c.activeIndex,m=c.disableIndex;return r.map((function(e,t){if(!e)return null;var n=e.header,r=e.headerClassName,o=void 0===r?"panel-heading":r,c=e.content,p=e.contentClassName,f=void 0===p?"panel-collapse collapse":p,h=!(l||u===t)||l&&m.indexOf(t)>=0;return s.a.createElement("section",{itemProp:"mainEntity",itemScope:"",itemType:"http://schema.org/Question",key:t,className:a},n?s.a.createElement("div",{className:d()(o,{collapsed:h}),"data-toggle":"collapse","data-parent":"#accordion",onClick:function(e){i.clickAction(e,t)},"aria-expanded":!h},n):null,s.a.createElement("div",{className:d()(f,{in:!h}),"aria-expanded":!h},s.a.createElement("div",{className:"panel-body"},c)))}))},i.state={activeIndex:e.activeIndex,disableIndex:[]},i}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"panel-group",id:"accordion"},this.accordianElements())}}]),a}(c.Component);p.defaultProps={headerClassName:"panel-heading",childrenClassName:"panel-collapse collapse",rootClassName:"panel"}},1662:function(e,t,a){"use strict";a.d(t,"d",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return E})),a.d(t,"c",(function(){return C}));var n=a(0),i=a.n(n),r=a(900),o=a(1601),l=a(196),c=a.n(l),s=a(20),u=function(){return i.a.createElement("div",null,"Dummy")},d=function(e){var t=e.loaderState,a=e.rows,n=void 0===a?2:a;return i.a.createElement(c.a,{color:"transparent",className:"animated-background",type:"text",rows:n,ready:t},i.a.createElement(u,null))},m=function(e){var t=e.loaderState;return i.a.createElement(r.RectShape,{color:"transparent",className:"animated-background media-image",style:{width:"100%"},ready:t},i.a.createElement(u,null))},p=function(e){return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(d,e)))};function f(e){return Object(s.a)()?Object(o.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"hotel-alter-card",style:{padding:"5px",border:"1px solid #dddddd",height:"180px"}},i.a.createElement("div",{style:{height:"100px"}},i.a.createElement(m,e)),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))))),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))))))})):Object(o.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"flight-card"},i.a.createElement("div",{className:"left-col"},i.a.createElement(m,e)),i.a.createElement("div",{className:"middle-col"},i.a.createElement("div",{className:"clearfix route"},i.a.createElement("div",{className:"split-width",style:{width:"98%"}},i.a.createElement(d,e))),i.a.createElement("div",{className:"clearfix route"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(d,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(d,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(d,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"clearfix route"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(d,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(d,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(d,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"card-footer"},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"col-xs-4 col-xs-offset-4",style:{width:"32%"}},i.a.createElement(d,Object.assign({},e,{rows:1})))))),i.a.createElement("div",{className:"right-col price-variant-col"},i.a.createElement(m,e)))}))}function h(e){return Object(s.a)()?Object(o.a)(0,4).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"hotel-alter-card mbottom-medium",style:{padding:"5px",border:"1px solid #dddddd",height:"180px"}},i.a.createElement("div",{style:{height:"100px"}},i.a.createElement(m,e)),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))))),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))))))})):Object(o.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"train-card"},i.a.createElement("div",{className:"left-col"},i.a.createElement(m,e)),i.a.createElement("div",{className:"middle-col"},i.a.createElement("div",{className:"clearfix route"},i.a.createElement("p",{className:"split-width",style:{width:"98%"}},i.a.createElement(d,e))),i.a.createElement("div",{className:"clearfix route mtop-small"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(d,Object.assign({},e,{rows:"1"})))),i.a.createElement("div",{className:"clearfix route mtop-small"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(d,Object.assign({},e,{rows:"1"})))),i.a.createElement("div",{className:"card-footer mtop-small"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4 col-xs-offset-4",style:{width:"32%"}},i.a.createElement(d,Object.assign({},e,{rows:"1"})))))),i.a.createElement("div",{className:"right-col price-variant-col"},i.a.createElement(m,Object.assign({},e,{height:"100px"}))))}))}function y(e){return Object(o.a)(0,6).map((function(t){return i.a.createElement("div",{className:"col-md-4",key:"loading_placeholder_"+t},i.a.createElement("div",{className:"activity-alter-card"},i.a.createElement("div",{className:"pos-r"},i.a.createElement("div",{className:"activity-alter-slider slick-initialized slick-slider"},i.a.createElement(m,e))),Object(s.a)()?null:i.a.createElement("div",{className:"detail-box"},i.a.createElement("div",{className:"detail-txt"},i.a.createElement("span",{className:"meta-text"},i.a.createElement(d,Object.assign({},e,{rows:1}))),i.a.createElement("span",{style:{width:"50%"}},i.a.createElement(d,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"row clearfix"},i.a.createElement("div",{className:"col-md-6 pr-0"},i.a.createElement(d,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(d,Object.assign({},e,{rows:1})))))))}))}function g(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),Object(o.a)(0,5).map((function(t,a){return i.a.createElement(n.Fragment,{key:a},i.a.createElement("section",{className:"panel"},i.a.createElement(d,e),i.a.createElement(p,e)),i.a.createElement("hr",null))})))}function v(e){var t=Object(s.a)();return i.a.createElement("div",{tabIndex:"0",className:"flights-alternate mbottom-large"},e.children,i.a.createElement("div",{className:"container lg-container"},i.a.createElement("div",{className:"row"},t?null:i.a.createElement("aside",{className:"col-md-3 altermodal-filters",style:{zIndex:1}},i.a.createElement("div",{className:"panel-group"},i.a.createElement(g,{loaderState:!1}))),i.a.createElement("div",{className:"col-md-9"},i.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium"},"Loading..."),i.a.createElement(f,{loaderState:!1,isMobileDevice:t,title:"Change Flight"})))))}function b(e){return Object(s.a)()?Object(o.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"hotel-alter-card",style:{padding:"5px",border:"1px solid #dddddd",height:"180px"}},i.a.createElement("div",{style:{height:"100px"}},i.a.createElement(m,e)),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))))),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(d,Object.assign({},e,{rows:"1"}))))))})):Object(o.a)(0,6).map((function(t){return i.a.createElement("div",{className:"col-md-4",key:"loading_placeholder_"+t},i.a.createElement("div",{className:"activity-alter-card"},i.a.createElement("div",{className:"pos-r"},i.a.createElement("div",{className:"activity-alter-slider slick-initialized slick-slider"},i.a.createElement(m,e))),Object(s.a)()?null:i.a.createElement("div",{className:"detail-box"},i.a.createElement("div",{className:"detail-txt"},i.a.createElement("span",{className:"meta-text"},i.a.createElement(d,Object.assign({},e,{rows:1}))),i.a.createElement("span",{style:{width:"50%"}},i.a.createElement(d,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"row clearfix"},i.a.createElement("div",{className:"col-md-6 pr-0"},i.a.createElement(d,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(d,Object.assign({},e,{rows:1})))))))}))}function E(){var e=Object(s.a)();return i.a.createElement(y,{loaderState:!1,isMobileDevice:e,title:"Change Hotel"})}function C(e){var t=Object(s.a)();return i.a.createElement("div",{tabIndex:"0",className:"hotels-alternate train-alternate mbottom-large mbottom-large"},e.children,i.a.createElement("div",{className:"container lg-container"},i.a.createElement("div",{className:"row"},t?null:i.a.createElement("aside",{className:"col-md-3 altermodal-filters"},i.a.createElement("div",{className:"panel-group"},i.a.createElement(g,{loaderState:!1}))),i.a.createElement("div",{className:"col-md-9"},i.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium"},"Loading..."),i.a.createElement(h,{parentClass:"train-card",loaderState:!1,isMobileDevice:t,title:"Change Train"})))))}},1663:function(e,t,a){"use strict";var n=a(1),i=a(11),r=a(0),o=a.n(r),l=a(54),c=a(14),s=a(22),u=a(245),d=a(190),m=a(12);function p(e){return function(t){return new Promise((function(a,n){var i="".concat(c.a.api_url,"itinerary/").concat(e,"/undo"),r={itineraryId:e};Object(s.a)({url:i,method:"POST",body:r,onSuccess:function(e){Object(u.a)(t,e.data),a("Promised resolved from fetch")},onFailure:function(e){Object(d.a)(e,t),t({type:m.F,payload:{status:(e.response||{}).status}}),n("Failed")}})}))}}var f=a(590),h=a(30),y=a(35),g=a.n(y),v=a(251),b="";t.a=Object(h.c)((function(e){var t=e.app,a=(t.itineraryInfo||{}).itinerary;return Object(n.a)({itinerary:a},t.soft_notification)}),(function(e){return{actions:{manageSoftNotification:Object(l.b)(f.a,e),undo:Object(l.b)(p,e)}}}))((function(e){var t=e.show_notification,a=e.showNewPop,n=e.actions,l=e.message,c=e.show_undo,s=e.itinerary,u=e.alertDirection,d=void 0===u?"bottom-left":u,m=Object(v.a)(),p=Object(r.useState)(!1),f=Object(i.a)(p,2),h=f[0],y=f[1],E=Object(r.useState)(!1),C=Object(i.a)(E,2),x=C[0],O=C[1];Object(r.useEffect)((function(){m||(h?(window.clearTimeout(b),y(!1),O(!1)):h||y(!0))}),[t]),Object(r.useEffect)((function(){!m&&h&&setTimeout((function(){O(!0)}),300)}),[h]),Object(r.useEffect)((function(){!m&&x&&(b=setTimeout((function(){I()}),a?8e3:7900))}),[x]);var I=function(){n.manageSoftNotification({show_notification:!1,message:"",show_undo:!1}).then((function(){y(!1)})).catch((function(){y(!1)}))},N=function(e){e&&e.preventDefault(),s&&n.undo(s.itineraryId).then((function(){I()}))};return a?o.a.createElement("div",{style:{zIndex:"10000"},className:g()("msg-notification ".concat(d),{show:h})},o.a.createElement("p",{className:"with-close"},l,c?o.a.createElement("span",{className:"anchor-link",onClick:N},"Undo"):null,o.a.createElement("i",{className:"close-icon cursor-pointer fade pyt-close-16",onClick:function(e){e&&e.preventDefault(),y(!1)}}))):o.a.createElement("div",{className:g()("bottom-options-bar text-center",{"bottom-left":"bottom-left"===d,"slide-in":h}),style:{zIndex:11502}},o.a.createElement("section",{className:"bottom-options-content"},o.a.createElement("div",{className:"clearfix hidden-xs sm-text"},o.a.createElement("p",{className:"pull-left"},l),c?o.a.createElement("button",{onClick:N,className:g()("pull-right btn btn-primary",{"progress-btn":x})},x?o.a.createElement("span",{className:"progress-bg"}):null,o.a.createElement("span",{className:"btn-txt"},"Undo action")):null),o.a.createElement("div",{className:"clearfix visible-xs xs-btns"},o.a.createElement("p",{className:"text-center"},l),o.a.createElement("div",{className:"clearfix visible-xs xs-btns"},c?o.a.createElement("div",{className:"btn-col pull-right"},o.a.createElement("button",{onClick:N,className:g()("btn btn-primary-dark btn-block btn-sm",{"progress-btn":x})},x?o.a.createElement("span",{className:"progress-bg"}):null,o.a.createElement("span",{className:"btn-txt"},"Undo"))):null))))}))},1664:function(e,t,a){"use strict";t.a=function(e,t){var a=Math.abs(window.scrollY-e)/(t/15),n=setInterval((function(){window.scrollY<=e?window.scrollBy(0,a):clearInterval(n)}),15)}},1665:function(e,t,a){var n=a(469)(Object.keys,Object);e.exports=n},1669:function(e,t,a){"use strict";function n(e,t){var a;if(!e)return 0;try{switch(typeof e){case"object":a=+e[t];break;case"string":a=+e;break;case"undefined":a=0;break;default:a=e||0}return a}catch(n){return 0}}a.d(t,"a",(function(){return n}))},1670:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),i=a.n(n),r=a(1696),o=a(20),l=i.a.forwardRef((function(e){var t,a=e.className,n=e.comfyScore,l=(e.setComfyScoreModal,e.refs),c=(t=n)<2?"#FF321D":t<4?"#FF561E":t<6?"#FE791F":t<8?"#FE9A21":"#FDC722",s=Object(o.a)()?r.b:r.a;return i.a.createElement(s,{className:a,comfyScore:n,bgColor:c,ref:l,style:{width:"0px"}})}))},1673:function(e,t,a){"use strict";var n=a(11),i=a(0),r=a.n(i),o=a(2),l=a(20),c=o.default.div.withConfig({displayName:"ScrollProgressBar__ProgressContainer"})(["position:absolute;left:0;top:0;right:0;background:",";height:4px;z-index:2;"],(function(e){return e.backgroundColor||"#000"})),s=o.default.span.withConfig({displayName:"ScrollProgressBar__ProgressLine"})(["position:absolute;top:0px;bottom:0px;left:0px;background:#777777;transition:width 0.3s;"]);t.a=function(e){var t=e.backgroundColor,a=void 0===t?"":t,i=r.a.useState(0),o=Object(n.a)(i,2),u=o[0],d=o[1];r.a.useEffect((function(){return window.addEventListener("scroll",m),function(){window.removeEventListener("scroll",m)}}),[]);var m=function(){var e=document.scrollingElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,a="".concat(e/t*100,"%");d(a)};return Object(l.a)()?null:r.a.createElement(c,{backgroundColor:a},r.a.createElement(s,{style:{width:u}}))}},1674:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),u=a(35),d=a.n(u),m=a(191),p=a(1673),f=a(23),h=a(156);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var g=function(e){Object(r.a)(a,e);var t=y(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeIndes:[],searchExpand:!1},e.onClickAction=function(t,a,n){t&&t.preventDefault();var i=e.state.activeIndes,r=i.indexOf(n);r>-1?i.splice(r,1):i.push(n),e.setState({activeIndex:i}),a.onClickAction()},e.onChangeAction=function(t){t&&t.preventDefault();var a=t.currentTarget.value;e.props.onChangeAction(a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isMobile,n=void 0!==a&&a,i=t.onClickCloseAction,r=t.headerContent,o=t.sortingContents,l=void 0===o?[]:o,u=t.searchPlaceHolder,y=void 0===u?"Find":u,g=t.enableSearch,v=void 0!==g&&g,b=t.rootClassName,E=void 0===b?null:b,C=t.defaultActiveIndes,x=void 0===C?null:C,O=t.isFetching,I=void 0===O?null:O,N=t.buttonText,k=void 0===N?"Back to itinerary":N,w=s.a.createElement("div",{className:"container sm-full-width lg-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:d()("col-xs-9 col-sm-11 left-txt",{"col-md-10":n,"col-md-3":!n})},s.a.createElement("p",{style:{display:"inline-block"}},s.a.createElement("img",{width:n?26:28,src:Object(f.a)("https://pyt-images.imgix.net/images/web_app/logo/logo-mark-white.svg"),onClick:function(){Object(h.a)("/","")},alt:"pickyourtrail",style:{marginRight:"6px",marginBottom:"2px"}}),r)),n?null:function(){var t=e.state.activeIndes,a=l.map((function(a,n){var i=(x||t).indexOf(n)>-1;return s.a.createElement("li",{onClick:function(t){return e.onClickAction(t,a,n)},key:n,className:d()("",{active:i})},i?s.a.createElement("i",{className:"pyt-sort-".concat("ASC"!=(a.sortOrder||"").toUpperCase()?"descending":"ascending","-16")}):null," ".concat(a.title))}));return s.a.createElement("div",{className:"col-md-6 hidden-sm hidden-xs"},s.a.createElement("section",{className:"mid-tabs"},I?null:s.a.createElement(c.Fragment,null,v?s.a.createElement("div",{className:"search ".concat(e.state.searchExpand?"expand":"")},s.a.createElement("input",{onChange:e.onChangeAction,onFocus:function(t){t&&t.preventDefault(),e.setState({searchExpand:!0})},value:e.props.searchTerm,onBlur:function(t){t&&t.preventDefault(),e.setState({searchExpand:!1})},type:"text",placeholder:y}),s.a.createElement("i",{className:"pyt-backspace-24",onClick:function(t){t&&t.preventDefault(),e.setState({searchExpand:!1,textValue:""},(function(){e.props.onChangeAction("")}))}})):null,s.a.createElement("ul",null,a))))}(),s.a.createElement("div",{className:d()("col-xs-3 col-sm-1 text-right",{"col-md-2":n,"col-md-3":!n})},n?s.a.createElement(m.a,{buttonClass:"action-btn",onClickAction:i},s.a.createElement("i",{className:"pyt-close-16"})):s.a.createElement(m.a,{buttonClass:"back-link",onClickAction:i,buttonText:k}))));return n?s.a.createElement("div",{className:E||"subheader-modals"},w):s.a.createElement("section",{className:E||"subheader-modals mbottom-medium"},s.a.createElement(p.a,null),w)}}]),a}(c.Component)},1675:function(e,t,a){"use strict";a.d(t,"b",(function(){return A}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),u=a(30),d=a(1686),m=a(14),p=a(15),f=a(49),h=a.n(f),y=a(289),g=a.n(y),v=a(7),b=a(1660),E=a(1596),C=a(1595),x=a(18),O=a(22),I=a(214),N=a(126),k=a(1669),w=a(1592),j=a(1593);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var S=m.a.api_url,A=function(e,t){var a=[],n=[],i=[],r=[],o=e.allFlightCostingRefs,l=void 0===o?[]:o,u=e.flightCostings,d=e.allHotelCostingRefs,m=void 0===d?[]:d,p=e.hotelCostings,f=e.allActivityCostingRefs,h=void 0===f?[]:f,y=e.activityCostings,g=e.allTransferCostingRefs,v=void 0===g?[]:g,C=e.allTrainCostingRefs,x=void 0===C?[]:C,O=e.allFerryCostingRefs,I=void 0===O?[]:O,N=e.allRentalCostingRefs,w=void 0===N?[]:N,j=e.allInsuranceCostingRefs,T=void 0===j?[]:j,S=e.transferCostings,A=e.trainCostings,R=e.ferryCostings,_=e.rentalCarCostings,D=e.allPassCostingRefs,P=void 0===D?[]:D,L=e.passCostings,F=e.allVisaCostingRefs,M=void 0===F?[]:F,B=e.visaCostings,H=e.insuranceCosting,U=e.customCostings,V=void 0===U?[]:U,z=e.itinerary,G=e.itinerary,W=G.taxesAndFees,Y=G.grossCostWithoutTCS,K=((null===W||void 0===W?void 0:W.costings)||[]).find((function(e){return"GST"===e.description})),J=K?Y-(null===K||void 0===K?void 0:K.cost)||0:Y;r.push({title:"Trip cost",cost:J});var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(!e.length||Object(E.a)(t))&&e.some((function(e){return t[e]&&"SUCCESS"!==t[e].status}))};if(l.length&&!t&&(a.push(b.a.Flights),n.push("pyt-flight-16"),i.push(q(l,u.costingById)?s.a.createElement(c.Fragment,null,l.length,s.a.createElement("i",{className:"pyt-serif-info-16"})," "):l.length),r.push({title:"Internal-Flights (".concat(l.length,")"),cost:u.totalPublishedCost})),m.length&&(a.push(b.a.Hotels),n.push("pyt-hotel-16"),i.push(q(m,p.costingById)?s.a.createElement(c.Fragment,null,m.length,s.a.createElement("i",{className:"pyt-serif-info-16"})," "):m.length),r.push({title:"Hotel (".concat(m.length,") - ").concat(z.nights," nights"),cost:p.totalPublishedCost})),v.length||x.length||I.length||w.length){a.push(b.a.Transfers),n.push("pyt-transfer-16");var Q=v.length+x.length+I.length+w.length,X=q(v,(S||{}).costingById)||q(x,(A||{}).costingById)||q(I,(R||{}).costingById)||q(w,(_||{}).costingById);i.push(X?s.a.createElement(c.Fragment,null,Q,s.a.createElement("i",{className:"pyt-serif-info-16"})," "):Q);var $=Object(k.a)(S,"totalPublishedCost")+Object(k.a)(A,"totalPublishedCost")+Object(k.a)(R,"totalPublishedCost")+Object(k.a)(_,"totalPublishedCost");r.push({title:"Transfer (".concat(Q,")"),cost:$})}if(h.length&&(a.push(b.a.Activities),n.push("pyt-activities-16"),i.push(q(h,y.costingById)?s.a.createElement(c.Fragment,null,h.length,s.a.createElement("i",{className:"pyt-serif-info-16"})," "):h.length),r.push({title:"Activity (".concat(h.length,")"),cost:y.totalPublishedCost})),M.length&&null!=B){a.push(b.a.VisaInsurance),n.push("pyt-insurance-16"),i.push(M.length+1);var Z=Object(k.a)(B,"totalPublishedCost");r.push({title:"Visa (".concat(M.length,")"),cost:Z})}if(T.length&&null!==H){a.push(b.a.VisaInsurance),n.push("pyt-insurance-16"),i.push(T.length+1);var ee=Object(k.a)(H,"totalPublishedCost");r.push({title:"Insurance (".concat(M.length,")"),cost:ee})}if(V.length){a.push(b.a.CustomCard),i.push(V.length);var te=0;(V||[]).forEach((function(e){return"CUSTOM"===(null===e||void 0===e?void 0:e.entity)?te+=e.publishedCost:null})),te&&r.push({title:"Others",cost:te})}return P.length&&(a.push(b.a.PassPanels),n.push("pyt-ticket-16"),i.push(P.length),r.push({title:"Passes (".concat(P.length,")"),cost:L.totalPublishedCost})),a.push(b.a.TotalCost),n.push("pyt-recepit-16"),null!==e&&void 0!==e&&e.abCardTotalPublishedCost&&r.push({title:"AB Card",cost:null===e||void 0===e?void 0:e.abCardTotalPublishedCost}),{panelMenu:a,menuIcons:n,priceDetails:r=r.filter((function(e){return!isNaN(parseInt(e.cost,10))})),menuIconCount:i}},R=function(e){Object(r.a)(a,e);var t=T(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showEmailQuoteAlert:!1,emailQuoteResponse:""},e.getItineraryId=function(){return e.props.itineraryInfo.itinerary.itineraryId},e.suffleCostHandler=function(t){t.preventDefault();var a="".concat(S,"itinerary/").concat(e.getItineraryId(),"/shuffleCost");Object(O.a)({url:a,method:"GET",body:{},onSuccess:function(){return swal("Email will be sent with shuffled cost soon...")}})},e.toggleSplitPricing=function(t,a){t.preventDefault(),e.props.actions.toggleSplitPricing(a)},e.updateCostClickHandler=function(t){t&&t.preventDefault(),Object(p.Ld)(p.Vb,{button:p.Ac});var a=e.props,n=a.itineraryInfo,i=a.user_details,r=a.history,o=a.lastLocation,l=a.actions,c=r.location;if(i.loggedIn){var s=e.getItineraryId(),u=n.costingConfiguration;if(h()(u.departureDate,"DD/MMM/YYYY").isSameOrBefore(h()())&&-1===c.pathname.indexOf("get-cost"))c.pathname.includes("/view")?r.push(Object(v.Jb)({itineraryId:Object(x.a)(n,"itinerary.itineraryId"),regionCode:Object(x.a)(n,"itinerary.regionCode"),location:r.location,target:v.Db})):r.push("".concat(c.pathname,"/get-cost"));else{var d={itineraryId:s,costingType:"RECOST",costingConfig:u};l.getCost({itineraryId:s,regionCode:Object(x.a)(n,"itinerary.regionCode"),req_data:d,history:r,location:c,lastLocation:o})}}else-1===c.pathname.indexOf("get-cost")&&(c.pathname.includes("/view")?r.push(Object(v.Jb)({itineraryId:Object(x.a)(n,"itinerary.itineraryId"),regionCode:Object(x.a)(n,"itinerary.regionCode"),location:r.location,target:v.Db})):r.push("".concat(c.pathname,"/get-cost")))},e.bookTripCall=function(t){t&&t.preventDefault();var a=e.props,n=a.user_details,i=a.history,r=a.itineraryInfo,o=a.locale,l=Object(x.a)(r,"itinerary.itineraryId");Object(w.a)({permissions:null===n||void 0===n?void 0:n.permissions,key:j.p})&&Object(x.a)(r,"itinerary.booking")?i.push("/booking-notes/".concat(l)):(Object(p.Ld)(p.u,{button:p.Ac}),n.loggedIn||o?i.push(Object(v.Jb)({itineraryId:l,regionCode:Object(x.a)(r,"itinerary.regionCode"),location:i.location,target:v.k})):i.replace("/login"))},e.setComfyScoreModal=function(t){t&&t.preventDefault();var a=e.props,n=a.history,i=a.itineraryInfo,r=a.isItineraryPage;n.push(Object(v.Jb)({itineraryId:Object(x.a)(i,"itinerary.itineraryId"),regionCode:Object(x.a)(i,"itinerary.regionCode"),parentPage:r?v.Lb.itinerary:v.Lb.inclusion,target:v.x}))},e.emailQuoteClickHandler=function(t,a,n){t.preventDefault(),Object(p.Ld)(p.Cc,{button_clicked:"Inclusions - Cost Panel"}),Object(C.a)({props:e.props,emailId:a,callBack:n})},e.openChat=function(t,a){t&&t.preventDefault();var n=e.props,i=n.history,r=n.match,o=(void 0===r?{}:r).params,l=void 0===o?{}:o;l.itineraryId?i.push(Object(v.Jb)({itineraryId:l.itineraryId,regionCode:l.searchRegion,target:a,location:i.location})):l.destination?i.push("".concat(l.destination,"/request-whatsapp-chat")):i.push("request-whatsapp-chat")},e.triggerT20CBR=function(t){t&&t.preventDefault();var a=e.props.history;a.push("".concat(a.location.pathname).concat(N.a.CBR_ROUTE))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.itineraryInfo,n=void 0===a?{}:a,i=t.user_details,r=t.history,o=t.isReadOnly,l=t.itineraryAlerts,u=t.location,m=t.isItinerary,p=t.isSandune,f=t.goToInclusions,h=t.customOptions,y=void 0===h?{}:h,v=t.paxConfigText,b=t.isFromPackages,E=t.locale,O=n.itinerary,N=n.paymentSchedule,k=void 0===N?{}:N,T=O.booking,S=O.totalCost,R=O.netCost,_=O.shared,D=O.costed,P=O.staleCost,L=O.discounts,F=void 0===L?{}:L,M=O.taxesAndFees,B=O.grossCostWithoutTCS,H=((k||{}).paymentOptions||[]).filter((function(e){return!1===e.recommended}))||[{amount:S,percentage:100}];H=H.length>0?H[0]:{amount:S,percentage:100};var U=i&&i.loggedIn,V=i&&i.loggedIn&&"AGENT"===i.userType,z=i&&i.loggedIn&&"ADMIN"===i.userType,G=function(e){var t=e.permission;return Object(w.a)({permissions:null===i||void 0===i?void 0:i.permissions,key:t})&&!T},W=n.adult_count,Y=n.child_count,K=Object(I.b)(n),J=Object(C.e)(n,W,Y),q=null===i||void 0===i?void 0:i.email;console.log({isNewUser:q});var Q={loggedIn:U,isItinerary:m,isFromPackages:b,hidePYTAdvantage:z||m&&!p,isSandune:p,goToInclusions:f,savingByDiscountAmount:F&F.costings&&1===F.costings.length&&"SANDUNE"===F.costings[0].discount?F.total:0,isReadOnly:o,location:u,history:r,getQuoteText:void 0===q?"Add Email":V?"Download PDF":"Mail this Quote",isAdmin:z,packageAmount:S,discountAmount:F.total,taxAmount:0,totalAmount:S,tripCost:B,discounts:F,netCost:R,isAgent:V,taxesAndFees:M,itineraryInfo:n,enableCheaperQuote:G({permission:j.F}),enableOverallDiscount:G({permission:j.c}),enableShareItinerary:!_&&G({permission:j.z}),enableChangeLocale:G({permission:j.I}),enableSwapItinerary:"mle"===Object(x.a)(n,"itinerary.regionCode")&&G({permission:j.H}),enablePlatoOption:G({permission:j.y}),enableSharePDF:G({permission:j.z}),enableSplitPricingOption:G({permission:j.G}),enableNetBankingOnly:G({permission:j.l}),splitPricing:O.splitPricing,booking:T,toggleSplitPricing:this.toggleSplitPricing,onShareItineraryClickAction:function(e){e&&e.preventDefault(),Object(d.d)(n,r)},onChangeLocaleClickAction:function(e){e&&e.preventDefault(),Object(d.g)(n,r)},onClickSwapItineraryAction:function(e){e&&e.preventDefault(),Object(d.f)(n,r)},itineraryId:this.getItineraryId(),onCheaperQuoteClickAction:this.suffleCostHandler,onCallbackClickAction:this.openChat,isUpdateCost:P,onBookTripClickAction:K?this.triggerT20CBR:P?this.updateCostClickHandler:this.bookTripCall,onQuoteMailAction:this.emailQuoteClickHandler,blockAmount:H.amount,blockPercentage:H.percentage,alerts:Object(C.b)(Object(x.a)(l,"ITINERARY.alerts.itinerary"),!0)},X=A(n,o,z);return Q.panelMenu=X.panelMenu,Q.menuIcons=X.menuIcons,Q.menuIconCount=X.menuIconCount,Q.priceDetails=X.priceDetails,s.a.createElement(c.Fragment,null,s.a.createElement(g.a,{show:this.state.showEmailQuoteAlert,title:"Email successfully sent",text:this.state.emailQuoteResponse,animation:"pop",onConfirm:function(){return e.setState({showEmailQuoteAlert:!1})}}),s.a.createElement(d.a,Object.assign({},Q,{HeaderData:D?P?J.HeaderData:J.HeaderCostedData&&J.HeaderCostedData[0]:J.HeaderData,staleCost:P,setComfyScoreModal:this.setComfyScoreModal,customOptions:y,paxConfigText:v,locale:E,userDetails:i})))}}]),a}(c.Component);t.a=Object(u.c)((function(e){var t=e.app;return{locale:(void 0===t?{}:t).locale}}),null)(R)},1680:function(e,t,a){"use strict";e.exports=function(e){}},1681:function(e,t,a){"use strict";e.exports=a(1682)},1682:function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=a(36),r=n(a(0)),o=a(101);a(3),a(467);var l=n(a(136));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function u(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],0<=t.indexOf(a)||(i[a]=e[a]);return i}var d=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).history=o.createBrowserHistory(t.props),t}return s(t,e),t.prototype.render=function(){return r.createElement(i.Router,{history:this.history,children:this.props.children})},t}(r.Component),m=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).history=o.createHashHistory(t.props),t}return s(t,e),t.prototype.render=function(){return r.createElement(i.Router,{history:this.history,children:this.props.children})},t}(r.Component),p=function(e,t){return"function"==typeof e?e(t):e},f=function(e,t){return"string"==typeof e?o.createLocation(e,null,null,t):e},h=function(e){return e},y=r.forwardRef;void 0===y&&(y=h);var g=y((function(e,t){var a=e.innerRef,n=e.navigate,i=e.onClick,o=u(e,["innerRef","navigate","onClick"]),l=o.target,s=c({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),n())}});return s.ref=h!==y&&t||a,r.createElement("a",s)})),v=y((function(e,t){var a=e.component,n=void 0===a?g:a,o=e.replace,s=e.to,d=e.innerRef,m=u(e,["component","replace","to","innerRef"]);return r.createElement(i.__RouterContext.Consumer,null,(function(e){e||l(!1);var a=e.history,i=f(p(s,e.location),e.location),u=i?a.createHref(i):"",g=c({},m,{href:u,navigate:function(){var t=p(s,e.location);(o?a.replace:a.push)(t)}});return h!==y?g.ref=t||d:g.innerRef=d,r.createElement(n,g)}))})),b=function(e){return e},E=r.forwardRef;void 0===E&&(E=b);var C=E((function(e,t){var a=e["aria-current"],n=void 0===a?"page":a,o=e.activeClassName,s=void 0===o?"active":o,d=e.activeStyle,m=e.className,h=e.exact,y=e.isActive,g=e.location,C=e.sensitive,x=e.strict,O=e.style,I=e.to,N=e.innerRef,k=u(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(i.__RouterContext.Consumer,null,(function(e){e||l(!1);var a=g||e.location,o=f(p(I,a),a),u=o.pathname,w=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),j=w?i.matchPath(a.pathname,{path:w,exact:h,sensitive:C,strict:x}):null,T=!!(y?y(j,a):j),S=T?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return e})).join(" ")}(m,s):m,A=T?c({},O,{},d):O,R=c({"aria-current":T&&n||null,className:S,style:A,to:o},k);return b!==E?R.ref=t||N:R.innerRef=N,r.createElement(v,R)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return i.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return i.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return i.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return i.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return i.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return i.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return i.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return i.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return i.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return i.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return i.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return i.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return i.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return i.withRouter}}),t.BrowserRouter=d,t.HashRouter=m,t.Link=v,t.NavLink=C},1684:function(e,t,a){"use strict";function n(){window.currentSize={width:window.innerWidth,height:window.innerHeight}}a.d(t,"a",(function(){return n}))},1685:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),u=a(35),d=a.n(u),m=a(106);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var f=function(e){Object(r.a)(a,e);var t=p(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={oldValue:+e.props.defaultValue||0,value:+e.props.defaultValue||0},e.counterAction=function(t,a){var n=e.state.value,i=e.props,r=i.incrementCount,o=void 0===r?1:r,l=i.decrementCount,c=void 0===l?1:l,s=i.min,u=void 0===s?0:s,d=i.max,m=void 0===d?10:d;n+="INCREMENT"===a?o:-c,e.props.isCounterEditable||(n=e.state.value),n>=u&&n<=m?e.setState({value:n},(function(){e.props.onClickAction&&e.props.onClickAction(t,e.state.value)})):e.props.onClickAction&&e.props.onClickAction(t,e.state.value)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.decrementClass,n=t.incrementClass,i=t.min,r=t.max,o=t.prefix,l=t.suffix,c=t.singularSuffixText,u=t.rootClassName,p=t.customValueAction,f=t.incTooltip,h=t.decTooltip,y=t.minTooltip,g=t.maxTooltip,v=t.disabled,b=this.state.value,E=s.a.createElement("i",{className:d()(a,{disabled:v||b<=i}),onClick:function(t){e.counterAction(t,"DECREMENT")}}),C=s.a.createElement("i",{className:d()(n,{disabled:v||b>=r}),onClick:function(t){e.counterAction(t,"INCREMENT")}});return s.a.createElement("div",{className:u},s.a.createElement(m.a,{text:y&&b===i?y:h},E),s.a.createElement("span",{className:"meta-text"}," ",o,p(b),b>1?l:c||l," "),s.a.createElement(m.a,{text:g&&b===r?g:f},C))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.defaultValue!==t.oldValue?{oldValue:+e.defaultValue,value:+e.defaultValue}:t}}]),a}(c.Component);f.defaultProps={decrementClass:"pyt-minus-16",incrementClass:"pyt-plus-16",min:0,max:10,prefix:"",suffix:"",rootClassName:"days-counter",customValueAction:function(e){return e}}},1686:function(e,t,a){"use strict";var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),u=a(290),d=a(36),m=a(2),p=a(191),f=a(598),h=a(156),y=a(62),g=a(14),v=a(22),b=a(1),E=a(193),C=a(1664),x=a(30),O=a(54),I=a(1629),N=a(1654),k=a(1337);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var j=m.default.aside.withConfig({displayName:"itineraryLeftTab__RouteOverviewWrapper"})(["width:100%;padding:24px 12px 0 0;"]),T=function(e){Object(r.a)(a,e);var t=w(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={cities:[],preProps:e.props.itineraryInfo.iterCities,tooltipKey:null,headerClassName:"timeline-row",isRemoveCityLoading:!1,isApplyChangesLoading:!1,isRemoveConfirmationVisible:!1,isEditCityVisible:!1,isEditCityClosing:!1,editCityMode:"add",cityToReplace:0,cityToDelete:-1,citySelectedToReplace:{},editCityOptions:{},isApplyChangesEnabled:!1,setTop:!0,topLocation:72},e.scrollListener=function(){var t=document.getElementsByClassName("trip-timeline-heading")[0],a=document.getElementsByTagName("footer")[0];if(t&&a){var n=t.parentElement.getBoundingClientRect(),i=n.y,r=n.height;i=i<0?124:i;var o=a.getBoundingClientRect(),l=e.state.setTop,c=i+r+10,s=o.y;c<s&&!l?e.setState({setTop:!0}):c>s&&l&&e.setState({setTop:!1})}},e.renderftrButton=function(e){return e.map((function(e,t){return s.a.createElement(p.a,{key:t,buttonClass:e.className,buttonText:e.text,type:"button"})}))},e.applyChanges=function(t,a){var n=e.state.cities.map((function(e){return Object(b.a)({},e)}));n[t].nights=a;var i=n[t].cityName.replace(" ","_")+"_box"+t,r=document.getElementById(i),o=r?r.offsetTop-100:0;Object(C.a)(o,500),e.setState({cities:n},(function(){var t={itineraryId:e.props.itineraryInfo.itinerary.itineraryId,cities:e.state.cities.map((function(e){return e.cityId})),nights:e.state.cities.map((function(e){return e.nights}))};e.props.editCityModalApplyChanges(t.itineraryId,t).then((function(){})).catch((function(){}))}))},e.updateNightsInIcon=function(t,a,n){e.setState({tooltipKey:a.cityName+"_"+n,headerClassName:Object(y.a)(e.state.headerClassName,["open-dropdown"])?"timeline-row":"timeline-row open-dropdown"})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.locale?280:220;this.setState({cities:this.props.itineraryInfo&&this.props.itineraryInfo.iterCities,topLocation:e}),this.props.isFromPackages&&window.addEventListener("scroll",this.scrollListener)}},{key:"componentWillUnmount",value:function(){window.addEventListener("scroll",this.scrollListener)}},{key:"render",value:function(){var e=this.props,t=e.isReadOnly,a=e.itineraryInfo.itinerary,n=(void 0===a?{}:a).booking;return s.a.createElement(c.Fragment,null,s.a.createElement(j,{id:"leftside_container",className:"".concat(t||n?"isDisabled":null)},s.a.createElement("div",{className:"trip-timeline-heading"}),s.a.createElement(k.default,Object.assign({isModal:!1,rootClassName:"trip-timeline"},this.props))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Object(E.a)(e.itineraryInfo.iterCities,t.preProps)?null:{cities:e.itineraryInfo&&e.itineraryInfo.iterCities,preProps:e.itineraryInfo.iterCities}}}]),a}(c.Component),S=Object(x.c)((function(e){var t=e.app;return{itineraryInfo:t.itineraryInfo,user_details:t.user_details,removeCityInfo:t.removeCityInfo}}),(function(e){return{editCityModalApplyChanges:Object(O.b)(I.a,e),updateEditableDetails:Object(O.b)(N.a,e)}}))(T),A=a(7),R=a(15),_=a(1338),D=a(1722),P=a(5),L=a(110),F=a(55),M=m.default.div.withConfig({displayName:"DiscountSection__DiscountWrapper"})(["display:block;width:100%;text-align:center;color:",";",";font-weight:",";position:relative;background-color:#8b35bf;padding:7px 8px;margin-bottom:6px;&:after{content:'';width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #8b35bf;position:absolute;bottom:-6px;left:24px;}"],P.theme.white,L.i,P.theme.semiBold);var B=function(e){var t=e.price,a={value:t};return t?s.a.createElement(M,null,"You save \xa0",s.a.createElement(F.a,{objectData:a,path:"value",defaultValue:"0"}),"\xa0on the total trip cost!"):null},H=a(214),U=a(106),V=a(1670),z=a(35),G=a.n(z),W=a(1595),Y=m.default.span.withConfig({displayName:"GetCostingDetails__AnchorText"})(["",""],(function(e){return!e.disableClick&&Object(m.css)(["color:#2677f0;opacity:0.8;cursor:pointer;:hover{color:#2677f0;opacity:1;}"])})),K=function(e){var t=e.itineraryInfo,a=void 0===t?{}:t,n=e.HeaderData,i=void 0===n?{}:n,r=a.costingConfiguration,o=void 0===r?{departureAirport:"",hotelGuestRoomConfigurations:0}:r,l=a.itinerary,u=void 0===l?{}:l,d=a.flightCostings,m=(void 0===d?{}:d).costingById,p=void 0===m?{}:m,f=u.booking,h=void 0!==f&&f,y=u.costed,g=void 0!==y&&y,v=u.staleCost,b=void 0!==v&&v,E=i.costingConfig,C=void 0===E?{dateMonth:"",totalAdults:"",price:0}:E,x=Object.values(p||[]).some((function(e){return"BLOCKED"===e.status})),O=o.hotelGuestRoomConfigurations.length;return s.a.createElement(U.a,{text:h||x?"":"Edit trip details",placement:"bottom"},s.a.createElement(c.Fragment,null,s.a.createElement("i",{className:"pyt-edit-16"}),s.a.createElement(Y,{className:G()("meta-text block semi-bold"),disableClick:h||x,onClick:function(t){return h||x?null:Object(W.i)(t,g?"UCM":"GCM",e)}},g&&!b?"".concat(C.dateMonth," . ").concat(C.from?"".concat(C.from," ."):""," ").concat(C.totalAdults," . ").concat(O," ").concat(O>1?"rooms":"room"):"".concat(g?"Update":"Enter"," Travel details"))))},J=a(592),q=a(137),Q=a(1723),X=a(20),$=a(18),Z=a(42),ee=g.a.api_url,te=m.default.div.withConfig({displayName:"WhatsAppUsCard__GlobalWhatsappLink"})(["border:1px solid #80e3c2;border-radius:8px;padding:8px 16px;margin:15px 0 8px;display:flex;justify-content:space-between;align-items:center;background-color:#f7f8fb;cursor:pointer;transition:all 150ms ease-out;:hover{background-color:",";}div{display:flex;align-items:center;div{display:flex;flex-direction:column;align-items:flex-start;p{font-size:15px;line-height:20px;letter-spacing:-0.295652px;color:#333333;margin-bottom:0;}span{font-size:13px;line-height:16px;letter-spacing:-0.295652px;color:#aaaaaa;}}}& > i{color:#00b277;}"],P.theme.white),ae=m.default.div.withConfig({displayName:"WhatsAppUsCard__ProfilePicture"})(["width:max-content;img{width:72px;margin-right:16px;}"]),ne=function(){var e=Object(d.useParams)().itineraryId,t=Object(x.e)((function(e){var t=e.itinerary,a=void 0===t?{}:t;return Object($.a)(a,"owners.salesOwner",{})}));return Object(Z.a)(t)?null:s.a.createElement(te,{onClick:function(){return function(e){var t=window.open();Object(v.a)({url:"".concat(ee,"itinerary/whatsAppLink?itineraryId=").concat(e),method:"GET",body:{},onSuccess:function(e){"SUCCESS"===e.status&&(t.location.href=e.data)}})}(e)}},s.a.createElement("div",null,s.a.createElement(ae,null,s.a.createElement("img",{src:t.imageUrl,alt:"profile"})),s.a.createElement("div",null,s.a.createElement("p",null,"Whatsapp ",t.name),s.a.createElement("span",null,"Planned ",t.tripsPlanned||800,"+ trips so far"))),s.a.createElement("i",{className:"pyt-chevron-right-16"}))},ie=a(254),re=a(1732),oe=a(2594),le=a(1592),ce=a(1593),se=a(1724),ue=a(92);function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}a.d(t,"e",(function(){return xe})),a.d(t,"d",(function(){return Oe})),a.d(t,"b",(function(){return Ie})),a.d(t,"g",(function(){return Ne})),a.d(t,"f",(function(){return ke})),a.d(t,"c",(function(){return we}));var me=g.a.api_url,pe=m.default.div.withConfig({displayName:"RightSidePanel__VerticalSplitBar"})(["content:' ';border-bottom:1px solid #e5e5e5;margin:1em -1.1em 1em -1.4em;"]),fe=m.default.div.withConfig({displayName:"RightSidePanel__PriceBox"})(["width:100%;color:#53576d;border:1px solid #d4d4d4;padding:24px 18px "," 24px;border-radius:8px;min-height:",";background:",";"],(function(e){return e.paddingBottom||0}),(function(e){return e.minHeight||"300px"}),P.theme.white),he=m.default.div.withConfig({displayName:"RightSidePanel__PriceCol"})(["padding:0 24px 0px;margin:0 -24px;display:flex;flex-wrap:wrap;-webkit-flex-align:center;align-items:center;.tooltip{z-index:2;display:none;margin-top:0;.tooltip-inner{min-width:200px;max-width:200px;ul{li{display:flex;align-items:center;justify-content:space-between;width:100%;padding:4px;span{color:#d4d4d4;& + span{padding-left:4px;color:",";}}&:last-child{&:not(.disabled-line){border-top:1px solid rgba(255,255,255,0.4);margin-top:4px;padding-top:8px;span:last-child{font-weight:bold;}}}}}}}.info-icon{margin-left:4px;position:relative;&:hover{.tooltip{display:inline-block;}}.tooltip.bottom{top:100%;left:50%;transform:translateX(-50%);}}"],P.theme.white),ye=m.default.ul.withConfig({displayName:"RightSidePanel__AdvantageList"})(["margin-bottom:20px;color:",";padding-left:0;li{display:block;position:relative;padding-left:24px;margin-bottom:12px;&:before{content:'\\E94D';font-family:pyticon;position:absolute;left:0;top:0;font-size:",";line-height:1;}}"],P.theme.grey,P.theme.base),ge=m.default.div.withConfig({displayName:"RightSidePanel__ShareLinks"})(["ul{display:flex;justify-content:center;margin:16px -18px "," -24px;width:auto;color:#006342;background-color:#e5f9f3;border-top:",";border-radius:",";li{width:100%;height:40px;transition:all 0.2s;justify-content:center;display:flex;align-items:center;padding:6px 12px;border-left:1px solid #c4c4c4;cursor:pointer;&:hover,&:focus{opacity:0.8;}&:first-child{border-left:none;}i{margin-right:6px;font-size:16px;}}}"],(function(e){return e.isLastRow?"0":"16px"}),(function(e){return e.isLastRow?"1px solid rgba(0, 0, 0, 0.1)":"none"}),(function(e){return e.isLastRow?"0 0 8px 8px":"0"})),ve=m.default.div.withConfig({displayName:"RightSidePanel__AdminLinks"})(["width:100%;border:1px solid #e5e5e5;border-radius:8px;margin-top:20px;background-color:#fff;ul{display:flex;flex-direction:column;justify-content:center;margin:0;width:100%;color:#333;padding:0;li{width:100%;transition:all 0.2s;justify-content:flex-start;display:flex;align-items:center;padding:12px 24px;border-top:1px solid #e5e5e5;cursor:pointer;&:hover,&:focus{opacity:0.8;}a{color:inherit;font-size:16px;line-height:20px;letter-spacing:-0.02em;}&:first-child{border-top:none;}i{margin-right:6px;font-size:16px;}}}"]),be=m.default.div.withConfig({displayName:"RightSidePanel__GCMTextWrapper"})(["background:",";height:44px;display:flex;align-items:center;justify-content:center;border-top-left-radius:8px;border-top-right-radius:8px;margin:-24px -18px 18px -24px;border-bottom:1px solid #e5e5e5;"],P.theme.white),Ee=function(e){var t,a=e.enablePlatoOption,n=e.itineraryId,i=e.enableCheaperQuote,r=e.onCheaperQuoteClickAction,o=void 0===r?function(){}:r,l=e.enableShareItinerary,u=e.onShareItineraryClickAction,d=void 0===u?function(){}:u,m=e.onChangeLocaleClickAction,p=void 0===m?function(){}:m,f=e.enableChangeLocale,h=e.onClickSwapItineraryAction,y=void 0===h?function(){}:h,v=e.enableSwapItinerary,b=e.enableSharePDF,E=e.itineraryInfo,C=e.enableSplitPricingOption,x=e.enableNetBankingOnly,O=e.toggleSplitPricing,I=void 0===O?function(){}:O,N=e.actions,k=void 0===N?{}:N,w=e.splitPricing,j=e.netBankingOnly,T=e.history,S=e.userDetails,R=e.onQuoteMailAction,_=e.getQuoteText,D=e.booking,P=(null===(t=E.itinerary)||void 0===t?void 0:t.dealSizeHistory)||[];return s.a.createElement(c.Fragment,null,l?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return d(e)},href:" "},s.a.createElement("i",{className:"pyt-share-16"})," Share Itinerary")):null,D?null:Object(le.a)({permissions:null===S||void 0===S?void 0:S.permissions,key:ce.j})&&s.a.createElement("li",{style:{cursor:"pointer"}},s.a.createElement("a",{onClick:"Add Email"===_?function(){return Object(ue.a)("/account?edit=true")}:R},s.a.createElement("i",{className:"pyt-email-16"})," ",_)),a?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),we(n)},href:" "},s.a.createElement("i",{className:"pyt-navigation-16"}),"Send to PLATO")):null,Object(le.a)({permissions:null===S||void 0===S?void 0:S.permissions,key:ce.C})?s.a.createElement("li",null,s.a.createElement("a",{href:"_",onClick:function(e){return Ie(e,E,T)}},s.a.createElement("i",{className:"pyt-close-circle-16"})," Cancellation Policy")):null,D?null:Object(le.a)({permissions:null===S||void 0===S?void 0:S.permissions,key:ce.j})&&s.a.createElement("li",{className:"pyt-pdf-16"},s.a.createElement("a",{style:{display:"flex",flexDirection:"row",alignItems:"center",fontFamily:"Source Sans Pro"},href:"".concat(g.a.api_url,"cost/").concat(n,"/downloadItineraryPdf"),download:!0},s.a.createElement(oe.a,{style:{marginRight:"10px"},fill:"rgb(51, 51, 51)"}),"Download PDF")),b?s.a.createElement("li",null,s.a.createElement("a",{target:"_blank",href:"_",onClick:function(e){xe(e,E,n)}},s.a.createElement("i",{className:"pyt-whatsapp-16"})," Share PDF on WhatsApp")):null,Object(le.a)({permissions:null===S||void 0===S?void 0:S.permissions,key:ce.p})?s.a.createElement("li",null,s.a.createElement("a",{href:"/booking-notes/".concat(n)},s.a.createElement("i",{className:D?"pyt-edit-24":"pyt-plus-24"})," ",D?"Edit":"Add"," HOD")):null,Object(le.a)({permissions:null===S||void 0===S?void 0:S.permissions,key:ce.o})?s.a.createElement("li",null,s.a.createElement("a",{href:"/booking-message/".concat(n)},s.a.createElement("i",{className:D?"pyt-edit-24":"pyt-plus-24"})," ",D?"Edit":"Add"," Booking Message")):null,x?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation(),swal({title:j?"Remove Netbanking payment restriction?":"Restrict payment to Netbanking/UPI only?",text:j?"All payment options will be enabled":"All Credit card offers will be removed, same applies for future installments",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes! Proceed",closeOnConfirm:!0,closeOnCancel:!0},(function(e){e&&k.toggleNetbankingPGSettings({itineraryId:n,netBankingOnly:!j})}))},href:" "},s.a.createElement("i",{className:"pyt-recepit-16"}),j?"Enable all payment options":"Enable Net banking payment only")):null,Object(le.a)({permissions:null===S||void 0===S?void 0:S.permissions,key:ce.E})&&null!==P&&void 0!==P&&P.length?s.a.createElement("li",null,s.a.createElement("a",{href:"_",onClick:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;e&&e.preventDefault();var n=t.itinerary,i=n.regionCode,r=n.itineraryId;a.push(Object(A.Jb)({itineraryId:r,regionCode:i,location:a.location,parentPage:A.Lb.inclusion,target:A.z}))}(e,E,T)}},s.a.createElement("i",{className:"pyt-info-16"})," Deal Size History")):null,f?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return p(e)},href:" "},s.a.createElement("i",{className:"pyt-global-24"})," Update Locale")):null,v?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return y(e)},href:" "},s.a.createElement("i",{className:"pyt-flag-outline-24"})," Swap Itinerary")):null,C?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return I(e,{itineraryId:n,splitPricing:!w})},href:" "},s.a.createElement("i",{className:"pyt-recepit-16"}),w?" Disable":" Enable"," split pricing for customer")):null,i?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return o(e)},href:" "},s.a.createElement("i",{className:"pyt-saving-money-16"})," Get better cost")):null)},Ce=function(e){Object(r.a)(a,e);var t=de(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={enableBookTrip:!0,openMenuItems:!1,enableStick:!1,showMore:!1,onSuccess:!1,onLoading:!1},e.componentDidMount=function(){window.addEventListener("scroll",e.scrollListener)},e.componentWillUnmount=function(){window.removeEventListener("scroll",e.scrollListener)},e.setShowMore=function(t){e.setState({showMore:t})},e.scrollListener=function(){e.setState({enableStick:window.scrollY>=30})},e._onEditClick=function(t){t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var a=e.props,n=a.history,i=a.location,r=a.itineraryInfo,o=(void 0===r?{itinerary:{}}:r).itinerary,l=o.itineraryId,c=o.regionCode;if(o.booking)return!1;n.push(Object(A.Jb)({itineraryId:l,regionCode:c,location:i,target:A.lb,customParams:{called_from:"TOTAL_COST"}}))},e._closeMenu=function(){e.setState({openMenuItems:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){var e,t,a,n,i=this,r=this.props,o=r.loggedIn,l=r.totalAmount,d=r.discountAmount,m=r.goToInclusions,f=void 0===m?function(){}:m,h=r.onBookTripClickAction,y=void 0===h?function(){}:h,v=r.onCallbackClickAction,b=void 0===v?function(){}:v,E=r.isUpdateCost,C=r.onQuoteMailAction,x=void 0===C?function(){}:C,O=r.enableOverallDiscount,I=r.netCost,N=r.isAgent,k=r.priceDetails,w=void 0===k?[]:k,j=r.getQuoteText,T=r.booking,R=r.itineraryInfo,P=void 0===R?{}:R,L=r.itineraryId,M=r.isAdmin,z=void 0!==M&&M,G=r.isItinerary,Y=r.isSandune,q=r.staleCost,$=r.savingByDiscountAmount,Z=r.enablePlatoOption,ee=r.setComfyScoreModal,te=void 0===ee?function(){}:ee,ae=r.customOptions,oe=void 0===ae?{}:ae,se=r.paxConfigText,de=void 0===se?"":se,me=r.hidePYTAdvantage,Ce=r.taxesAndFees,xe=r.discounts,Oe=r.locale,Ne=r.history,ke=r.userDetails,we=this.state.showMore,je=g.a.enable_Contact_Number,Te=Object(H.b)(P),Se={value:I},Ae={value:l},Re={value:$},_e={value:d},De=(Y||!Y&&!G)&&je?Object(ie.a)():null,Pe=Object(le.a)({permissions:null===ke||void 0===ke?void 0:ke.permissions,key:ce.p}),Le=Pe&&T?"Edit HOD":Te?"Reserve":E?"Update trip cost":"Book now",Fe=P.itinerary,Me=void 0===Fe?{}:Fe,Be=P.flow,He=Me.strikedCost,Ue=Me.costed,Ve=Me.campaign,ze=Me.netBankingOnly,Ge=0;P&&P.itinerary&&(Ge=isNaN(P.itinerary.comfyScore)?0:Number(P.itinerary.comfyScore).toFixed(2));var We=oe.marginTop,Ye=oe.enableSticky,Ke=oe.stickTop,Je=oe.hideComfyScore,qe=(Be||"").includes(J.a),Qe=null===P||void 0===P||null===(e=P.itinerary)||void 0===e?void 0:e.partialPaid,Xe=w.length?w.filter((function(e){var t,a;return null===(t=e.title)||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes("trip")}))[0]:{},$e=null===ke||void 0===ke||null===(t=ke.userType)||void 0===t?void 0:t.includes("FRANCHISE");return s.a.createElement(_.RightContainer,{style:{marginTop:We||"-210px",float:"right",paddingRight:"0px"}},this.state.openMenuItems?s.a.createElement("div",{className:"fade in",style:{position:"fixed",opacity:0,top:0,right:"0",bottom:"0",left:"0",zIndex:5,backgroundColor:"#2c2f42"},onClick:function(e){e&&e.preventDefault(),i.setState({openMenuItems:!1})}}):null,s.a.createElement(u.a,{bottomBoundary:"#faq",top:void 0!==Ke?Ke:18,enabled:void 0!==Ye?Ye:this.state.enableStick},s.a.createElement("aside",{className:"price-card"},s.a.createElement(fe,{minHeight:"auto"},s.a.createElement(be,null,s.a.createElement(K,this.props)),!q&&Y?s.a.createElement("div",{className:"meta-text text-center mbottom-medium"},s.a.createElement(B,{price:$})):null,s.a.createElement(he,null,Ue?s.a.createElement("div",{className:"".concat(Te?"col-md-7":"col-md-5"," pl-0 pr-0")},q?null:s.a.createElement(c.Fragment,null,N?s.a.createElement("span",{className:"meta-text color-grey clearfix"},"Net Price: ",s.a.createElement(F.a,{objectData:Se,path:"value",defaultValue:"0"}),s.a.createElement("i",{className:"color-base pyt-edit-16",onClick:this._onEditClick})):null,de?s.a.createElement("span",{className:"meta-text block ".concat(Y?"":"text-right")},de):null,!q&&Y&&He||qe&&He?s.a.createElement("p",{className:"mb-0 color-grey-medium meta-text ".concat(Y?"":"text-right")},s.a.createElement("span",{className:"strike-line"},s.a.createElement(F.a,{objectData:Me,path:"strikedCost",defaultValue:"0"}))):null,s.a.createElement("p",{className:"medium-heading-sm mb-0 ".concat(Y||Te?"":"text-right")},Te?s.a.createElement(c.Fragment,null,s.a.createElement("span",{className:"meta-text block ".concat(Y?"":"text-right")},"Starting from"),s.a.createElement("span",{className:"block"},s.a.createElement("b",{className:"valign-middle"},s.a.createElement(F.a,{objectData:Ae,path:"value",defaultValue:"0"})),s.a.createElement("i",{className:"fs-normal meta-text valign-middle"},"/person"),s.a.createElement(U.a,{text:"Price is based on double occupancy.",placement:"bottom"},s.a.createElement("i",{className:"pyt-info-16 cursor-pointer main-para color-grey info-icon valign-middle"})))):s.a.createElement("b",null,s.a.createElement(F.a,{objectData:Ae,path:"value",defaultValue:"0"})),!Te&&o&&!Oe&&((null===Ce||void 0===Ce||null===(a=Ce.costings)||void 0===a?void 0:a.length)>0||(null===xe||void 0===xe||null===(n=xe.costings)||void 0===n?void 0:n.length)>0)?s.a.createElement("span",{className:"pyt-faq-16 main-para color-grey info-icon"},s.a.createElement("div",{role:"tooltip",className:"fade in tooltip bottom"},s.a.createElement("div",{className:"tooltip-arrow"}),s.a.createElement("div",{className:"tooltip-inner"},s.a.createElement("ul",{className:"list-unstyled mb-0 regular text-left"},(w||[]).map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("span",null,e.title),s.a.createElement("span",null,s.a.createElement(F.a,{objectData:e,path:"cost",defaultValue:"0"})))})),((null===Ce||void 0===Ce?void 0:Ce.costings)||[]).map((function(e,t){return s.a.createElement("li",{className:"GST"===e.description||"TCS"===e.description?"text-uppercase":"text-capitalize",key:"taxes-and-fees-".concat(t)},s.a.createElement("span",null,e.description.replace(/_/g," ").toLowerCase()),s.a.createElement("span",null,s.a.createElement(F.a,{objectData:e,path:"cost",defaultValue:"0"})))})),Object(le.a)({permissions:null===ke||void 0===ke?void 0:ke.permissions,key:ce.c})?s.a.createElement(c.Fragment,null,Y&&$?s.a.createElement("li",null,s.a.createElement("span",null,"Discount"),s.a.createElement("span",null,s.a.createElement(F.a,{objectData:Re,path:"value",defaultValue:"0"}))):null,d&&Z?s.a.createElement("li",null,s.a.createElement("span",null,Y?"Admin Discount":"Discount"),s.a.createElement("span",null,s.a.createElement(F.a,{objectData:_e,path:"value",defaultValue:"0"}))):null):(xe.costings||[]).map((function(e,t){return s.a.createElement("li",{className:"GST"===e.description||"TCS"===e.description?"text-uppercase":"text-capitalize",key:"taxes-and-fees-".concat(t)},s.a.createElement("span",null,e.description.replace(/_/g," ").toLowerCase()),s.a.createElement("span",null,"- ",s.a.createElement(F.a,{objectData:e,path:"cost",defaultValue:"0"})))})),$&&Y?s.a.createElement("li",{className:"disabled-line"}):s.a.createElement("li",null,s.a.createElement("span",null,"Total Cost"),s.a.createElement("span",null,s.a.createElement(F.a,{objectData:Ae,path:"value",defaultValue:"0"}))))))):null,O&&!Te?s.a.createElement("i",{className:"pyt-edit-16 main-para color-grey cursor-pointer",onClick:this._onEditClick}):null))):null,s.a.createElement("div",{className:"".concat(Ue&&q&&G?"col-md-12 pl-0":Te?"col-md-5 pl-0":Ue?"col-md-7":"col-md-12 pl-0"," pr-0 ").concat(G?"pb-10":"")},s.a.createElement("div",{className:Ue&&q&&G||!Ue?"":Te?"pull-right":"dropdown pull-right ".concat(q?"btn-group-primary":"btn-group btn-group-primary"," ").concat(this.state.openMenuItems?"open":"")},G?s.a.createElement(p.a,{isDisabled:!!T&&(!Pe&&(!(E&&!T)&&(T||q))),buttonClass:"btn btn-xl btn-block btn-primary",buttonText:q?Le:Y?"Review Inclusions":Ue?T&&Pe?"Edit HOD":"Book this trip":"Get trip cost",onClickAction:T&&Pe?function(){Ne.push("/booking-notes/".concat(L))}:Ue?Ue&&!q?y:f:function(e){return Object(W.i)(e,"GCM",i.props)}}):s.a.createElement(c.Fragment,null,s.a.createElement(p.a,{buttonClass:"btn btn-xl btn-primary",buttonText:Le,isDisabled:!!T&&(!Pe&&(!E&&!this.state.enableBookTrip||0==l&&!E||(!Qe||!Object(le.a)({permissions:null===ke||void 0===ke?void 0:ke.permissions,key:ce.b}))&&Qe)),onClickAction:y}),q||Te||Pe?null:s.a.createElement(p.a,{buttonClass:"btn btn-xl btn-primary dropdown-toggle",onClickAction:function(e){e&&e.preventDefault(),i.setState({openMenuItems:!i.state.openMenuItems})}},s.a.createElement("i",{className:"pyt-chevron-down-16 valign-middle"})),Pe?null:s.a.createElement("ul",{className:"dropdown-menu meta-text",onMouseLeave:this._closeMenu},s.a.createElement(Ee,Object.assign({},this.props,{netBankingOnly:ze,userDetails:ke}))))))),Oe||z?Object(X.a)()||G?null:s.a.createElement(pe,null):null,G||!Oe&&!Object(le.a)({permissions:null===ke||void 0===ke?void 0:ke.permissions,key:ce.L})?null:s.a.createElement(Q.c,{priceDetails:w||[],staleCost:q,isSandune:Y,savingByDiscountAmount:$,savingDiscount:Re,discountAmount:d,taxesAndFees:Ce,discountCost:_e,totalCost:Ae,setShowMore:this.setShowMore,showMore:we,userDetails:ke,isAdmin:z}),z||q||Oe||!Ce||$e?null:s.a.createElement(s.a.Fragment,null,s.a.createElement(pe,null),s.a.createElement(Q.d,{isMobile:X.a},s.a.createElement(Q.b,null,"Trip cost"),s.a.createElement("span",null,s.a.createElement(F.a,{objectData:Xe,path:"cost",defaultValue:"0"}))),(Ce.costings||[]).map((function(e,t){if("PLANNING_FEE"!==e.description)return s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.d,{key:t,isMobile:X.a},s.a.createElement(Q.b,null,e.description.replace(/_/g," ").toUpperCase()),s.a.createElement("span",null,"PLANNING_FEE"!==e.description?s.a.createElement(F.a,{objectData:e,path:"cost",defaultValue:"0"}):null)),t===Ce.costings.length-1?s.a.createElement(Q.e,null):null)})),s.a.createElement(Q.d,{isMobile:X.a},s.a.createElement(Q.b,{bold:!0},"Payable Amount"),s.a.createElement(Q.a,null,s.a.createElement(F.a,{objectData:Ae,path:"value",defaultValue:"0"})))),Pe?null:s.a.createElement(ge,{isLastRow:G&&!Y},s.a.createElement("ul",{className:"reset-list meta-text semi-bold vertical-center"},De?s.a.createElement("li",{onClick:function(e){return b(e,A.r)}},s.a.createElement("i",{className:"pyt-phone-16"})," ","Request callback"):null,Ue&&!q&&!Te&&Object(le.a)({permissions:null===ke||void 0===ke?void 0:ke.permissions,key:ce.C})&&s.a.createElement("li",{onClick:function(e){return Ie(e,P,Ne)}},s.a.createElement("i",{className:"pyt-excluded-16"}),"Cancellation terms"),Object(le.a)({permissions:null===ke||void 0===ke?void 0:ke.permissions,key:ce.j})&&s.a.createElement("li",{onClick:"Add Email"===j?function(){return Object(ue.a)("/account?edit=true")}:x},s.a.createElement("i",{className:"pyt-email-16"}),j))),Je?null:parseInt(parseInt(Ge).toFixed())?s.a.createElement(V.a,{comfyScore:Ge,setComfyScoreModal:te}):null,me||we||Y&&q?null:Y?s.a.createElement(D.a,{data:P.itineraryInclusions}):s.a.createElement(c.Fragment,null,s.a.createElement("p",{className:"small-heading semi-bold vertical-center mtop-medium"},s.a.createElement("img",{height:"28",src:"https://pyt-images.imgix.net/images/web_app/icons/pyt_recommend.svg",alt:"Advantages"}),"\xa0\xa0Pickyourtrail Advantage"),s.a.createElement(ye,{className:"meta-text"},Te?s.a.createElement(c.Fragment,null,s.a.createElement("li",null,"Official World Cup T20 ticketing partner"),s.a.createElement("li",null,"Flexible payment options"),s.a.createElement("li",null,"100% customisable itineraries"),s.a.createElement("li",null,"Certified Tourism Australia consultants"),s.a.createElement("li",null,"Live trip assistance & expert tips")):s.a.createElement(c.Fragment,null,s.a.createElement("li",null,"All inclusive real-time pricing"),s.a.createElement("li",null,"Travel concierge through app"),s.a.createElement("li",null,"Flexible payment options")))))),Ve||Pe?null:s.a.createElement(ne,null),Object(le.a)({permissions:null===ke||void 0===ke?void 0:ke.permissions,key:ce.h})?s.a.createElement(re.a,{showPopUp:Object(le.a)({permissions:null===ke||void 0===ke?void 0:ke.permissions,key:ce.h})}):null,G?s.a.createElement(S,this.props):Pe&&Ue&&!q?s.a.createElement(ve,null,s.a.createElement("ul",{className:"meta-text button-list",onMouseLeave:this._closeMenu},s.a.createElement(Ee,Object.assign({},this.props,{netBankingOnly:ze,userDetails:ke})))):null))}}]),a}(c.Component);function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;e&&e.preventDefault();var n=Object(f.a)(t),i="",r=function(e){var t="https://wa.me/".concat(e,"?text=Unwrap your customized itinerary ").concat(n?"for ".concat(n):"","\n          ").concat(me,"cost/").concat(a,"/createpdf/v3");Object(h.a)(t)};new Promise((function(e){var t="".concat(me,"itinerary/").concat(a,"/user");Object(v.a)({url:t,method:"GET",body:{},onSuccess:function(t){if("SUCCESS"===t.status){var a=t.data,n=a.mobileNumber,o=a.countryPhoneCode;o=Object(y.a)(o,["+"],-1)?o.slice(1,o.length):o,i="".concat(o).concat(n)}r(i),e(t.data)},onFailure:function(t){r(i),e(t)}})}))}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.itinerary,n=a.regionCode,i=a.itineraryId;t.push(Object(A.Jb)({itineraryId:i,regionCode:n,location:t.location,target:A.ub}))}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;e&&e.preventDefault(),Object(R.Ld)(R.y);var n=t.itinerary,i=n.regionCode,r=n.itineraryId;a.push(Object(A.Jb)({itineraryId:r,regionCode:i,location:a.location,parentPage:A.Lb.inclusion,target:A.q}))}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.itinerary,n=a.regionCode,i=a.itineraryId;t.push(Object(A.Jb)({itineraryId:i,regionCode:n,location:t.location,target:A.u}))}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.itinerary,n=a.regionCode,i=a.itineraryId;t.push(Object(A.Jb)({itineraryId:i,regionCode:n,location:t.location,target:A.yb}))}function we(e){swal({title:'<div class"block-center">\n        <div class="loading-circle loading-circle-primary"></div>\n        <h4 class="text-center">Sending to PLATO<h4>\n      </div>',showCancelButton:!1,showConfirmButton:!1,html:!0});var t="".concat(me,"itinerary/").concat(e,"/sendToPlato");Object(v.a)({url:t,method:"POST",body:{itineraryId:e},onSuccess:function(){swal("Success!","The data sent to PLATO","success")},onFailure:function(){}})}t.a=Object(q.withLastLocation)(Object(d.withRouter)(Object(x.c)(null,(function(e){return{actions:{toggleNetbankingPGSettings:Object(O.b)(se.a,e)}}}))(Ce)))},1693:function(e,t,a){"use strict";function n(e){return function(t){var a=(window.currentSize||{}).width,n=void 0===a?null:a;if(!e||!e.target||null===n)return null;var i=e.target.innerWidth,r=e.target.innerHeight;(n>=767&&i<=767||n<=767&&i>=767||n>=991&&i<=991||n<=991&&i>=991)&&(window.currentSize={width:i,height:r},t({type:"RELOAD_COMPONENT",payload:[]}))}}a.d(t,"a",(function(){return n}))},1694:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n),r=a(191),o=function(e){var t=e.disableSearch,a=e.showSearch,n=e.updateShowSearch,o=e.showFilter,l=e.onUpdateClick,c=e.onFilterShow,s=e.searchTerm,u=e.onChangeSearchTerm,d=e.pills,m=0;(void 0===d?[]:d).map((function(e){e.current&&e.current.pillElements&&(m+=e.current.pillElements.length)}));var p=m>0;return i.a.createElement("div",{className:"altermodal-xs-ftr popular-search-ftr"},i.a.createElement("div",{className:"space-around-btns"},!o&&i.a.createElement(r.a,{buttonClass:"btn btn-link-grey ".concat(p?"pos-r":""),onClickAction:c},i.a.createElement("i",{className:"pyt-filter-24"})," ","FILTER",p?i.a.createElement("span",{className:"highlight"},m):null),t?null:!a&&!o&&i.a.createElement(r.a,{buttonClass:"btn btn-link-grey showSearch",onClickAction:n},i.a.createElement("i",{className:"pyt-search-24"})," SEARCH")),a&&!o&&i.a.createElement("div",{className:"search-input"},i.a.createElement("input",{type:"text",placeholder:"Popular Search",onChange:function(e){e&&e.preventDefault(),u(e.currentTarget.value)},value:s}),i.a.createElement("i",{className:"pyt-search-16"}),i.a.createElement("i",{className:"pyt-backspace-fill-16 closeSearch",onClick:n})),o&&i.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:l},"Update"))}},1695:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a.n(n);function r(e){var t=e.pills,a=[];return(void 0===t?[]:t).map((function(e){e.current&&e.current.pillElements&&a.push(e.current.pillElements)})),a.length?i.a.createElement("ul",{className:"popular-tags list-inline no-margin"},a):null}},1696:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=a(2),i=a(6),r=n.default.div.withConfig({displayName:"MobileFooterButtonStyle__MobileFooterButton"})(["width:50%;height:40px;display:flex;align-items:center;font-weight:600;font-size:14px;line-height:18px;border-radius:0px;border-top:1px solid #e5e5e5;border-bottom:1px solid #e5e5e5;border-left:none;border-right:none;justify-content:center;","{height:48px;justify-content:space-between;border-radius:6px;font-size:18px;line-height:20px;letter-spacing:-0.02em;margin-bottom:12px;padding-right:10px;border:1px solid rgba(0,0,0,0.2);box-shadow:0px 3px 8px rgba(0,0,0,0.1);background:#ffffff;}& > span:first-child{span{display:inline-block;width:22px;height:22px;text-align:center;font-size:13px;line-height:20px;letter-spacing:-0.02em;margin-left:6px;font-weight:bold;border:1px solid ",";background-color:",";border-radius:10em;","{margin-left:6px;}}}& > span:nth-child(2){padding-left:8px;}i{vertical-align:middle;font-size:1.2em;}"],i.sm,(function(e){return e.bgColor}),(function(e){return e.bgColor}),i.sm),o=n.default.div.withConfig({displayName:"MobileFooterButtonStyle__ComfortScoreButton"})(["width:100%;height:40px;display:flex;align-items:center;font-weight:600;font-size:14px;line-height:18px;background:#f7f7f7;border-radius:0px;border-top:1px solid #e5e5e5;border-bottom:1px solid #e5e5e5;border-left:none;border-right:none;padding-left:16px;","{height:48px;justify-content:space-between;border-radius:6px;font-size:18px;line-height:20px;letter-spacing:-0.02em;margin-bottom:12px;padding-right:10px;border:1px solid rgba(0,0,0,0.2);"," background:#ffffff;}& > span:first-child{padding-right:8px;","{color:rgba(0,0,0,0.5);}}& > span:nth-child(2){span{display:inline-block;width:38px;height:28px;text-align:center;padding-top:2px;font-weight:bold;font-size:16px;line-height:20px;letter-spacing:-0.02em;"," font-weight:bold;border:1px solid ",";background-color:",";border-radius:32px;","{margin-right:6px;}}}a{color:#999999;font-size:13px;text-decoration:underline;cursor:pointer;}i{vertical-align:middle;color:#888888;}"],i.sm,"",i.sm,"",(function(e){return e.bgColor}),(function(e){return e.bgColor}),i.sm)},1702:function(e,t,a){"use strict";function n(){return function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}()&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize"}a.d(t,"a",(function(){return n}))},1709:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(0),i=a.n(n),r=a(2),o=a(5),l={AUS:"<span>&#127462;&#127482;</span>",BAN:"<span>&#127463;&#127465;</span>",NZL:"<span>&#127475;&#127487;</span>",SRI:"<span>&#127473;&#127472;</span>",IND:"<span>&#127470;&#127475;</span>",RSA:"<span>&#127487;&#127462</span>",ENG:"<span>&#127988;&#917607;&#917602;&#917605;&#917614;&#917607;&#917631;</span>",AFG:"<span>&#127462;&#127467;</span>"},c=r.default.div.withConfig({displayName:"VersusText__VersusPara"})(["display:block;font-size:",";font-weight:",";line-height:24px;b{font-size:12px;font-weight:",";padding:0 8px;}i{display:inline-block;vertical-align:middle;font-style:normal;span{display:inline-block;margin-right:1px;font-size:24px;vertical-align:middle;line-height:1;}}"],(function(e){return e.smallCard?o.theme.small:o.theme.medium}),o.theme.semiBold,o.theme.semiBold),s=function(e){return{__html:e}},u={SFA:"Semi final 1",SFB:"Semi final 1",SFC:"Semi final 2",SFD:"Semi final 2",FLA:"Final match",FLB:"Final match",TBC:"Fixtures TBD"};function d(e){var t=e.text1,a=void 0===t?"":t,r=e.text2,o=void 0===r?"":r,d=e.smallCard,m=void 0!==d&&d,p=e.team1Label,f=e.team2Label,h=e.as,y=void 0===h?"":h;return i.a.createElement(c,{as:y,smallCard:m},u[a]?i.a.createElement("span",null," ",u[a]," "):i.a.createElement(n.Fragment,null," ",i.a.createElement("i",null,i.a.createElement("span",{role:"img","aria-label":a,dangerouslySetInnerHTML:s(l[a])}),p||a),i.a.createElement("b",null,"VS"),i.a.createElement("i",null,i.a.createElement("span",{role:"img","aria-label":o,dangerouslySetInnerHTML:s(l[o])}),f||o)))}},1710:function(e,t,a){"use strict";a.d(t,"b",(function(){return H})),a.d(t,"a",(function(){return V}));var n=a(68),i=a(1),r=a(38),o=a(39),l=a(46),c=a(56),s=a(29),u=a(0),d=a.n(u),m=a(20),p=a(106),f=a(35),h=a.n(f),y=a(290),g=a(1678),v=a(192),b=a.n(v),E=a(1674),C=a(1600),x=a(1647),O=a(1640),I=a(1661),N=a(1694),k=a(1662),w=a(1695),j=a(1639),T=a(1604),S=a(15),A=a(7),R=a(23),_=a(1638),D=a(55),P=a(898),L=a.n(P),F=a(105),M=a(895);function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var H=function(e,t){return t?void 0===t.cost||null===t.cost?t.diff&&"PRICEINCREASE"===t.diff.diffChangeType:e-t.cost>0:0},U=function(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText},V=function(e){Object(l.a)(a,e);var t=B(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).closeFilter=function(){var e=b()(o.props.filterData);o.setState({showFilter:!1,filters:e})},o.onFilterShow=function(){var e=b()(o.props.filterData);o.setState({showFilter:!0,filters:e})},o.onUpdateClick=function(){var e=b()(o.state.filters);o.props.onUpdateButtonClick(e),o.closeFilter()},o.onTriggerDetailPage=function(){var e=o.props,t=e.history,a=e.location,n=e.params,i=n.searchRegion,r=n.itineraryId,l=n.configKey;t.push(Object(A.Jb)({itineraryId:r,regionCode:i,location:a,target:A.d,customParams:{configKey:l}}))},o.onFilterChange=function(e,t,a){var r=b()(o.state.filters[a]),l=r.indexOf(t);l>-1?r.splice(l,1):r.push(t),o.props.onClickRemoveNotFoundText(),o.setState((function(e){var t=e.filters;return{filters:Object(i.a)(Object(i.a)({},t),{},Object(n.a)({},a,r))}}))},o.onOtherFilterChange=function(e){null!==e&&(o.props.onClickRemoveNotFoundText(),o.setState((function(t){var a=t.filters,r=a.otherFilters,o=void 0===r?{}:r;return{filters:Object(i.a)(Object(i.a)({},a),{},{otherFilters:Object(i.a)(Object(i.a)({},o),{},Object(n.a)({},e,!o[e]))})}})))},o.updateShowSearch=function(){o.setState({showSearch:!o.state.showSearch},(function(){o.state.showSearch||o.props.onSearchAction("")}))},o.onChangeAlert=function(e){o.setState({openAlert:!0,currenActivity:e})},o.setAlert=function(){o.setState((function(e){return{showAlert:!e.showAlert}}))},o.state={showFilter:!1,showSearch:!1,filters:{},showAlert:!1,openAlert:!1,currenActivity:{}},o.durationReference=d.a.createRef(),o.slotReference=d.a.createRef(),o.typeReference=d.a.createRef(),o.interestReference=d.a.createRef(),o.otherReference=d.a.createRef(),o.transferReference=d.a.createRef(),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=b()(this.props.filterData);this.setState({filters:e})}},{key:"render",value:function(){var e=this,t=Object(m.a)(),a=this.props,n=a.headerTopContent,i=a.headerContent,r=a.currentPrice,o=a.alternates,l=void 0===o?[]:o,c=a.totalLength,s=a.filteredDataLength,f=a.pagination,v=a.otherFilters,A=void 0===v?[]:v,P=a.interestFilterOptions,B=void 0===P?[]:P,V=a.pytFilterApplied,z=a.sortApplied,G=a.isFilterApplied,W=a.replaceActivity,Y=a.onCardClick,K=a.updateFilters,J=a.updateOtherFilter,q=a.filterOnPytRecommended,Q=a.handlePriceRangeSliderChange,X=a.sortByPrice,$=a.closeActivityAlternate,Z=a.goBackAction,ee=a.onSearchAction,te=a.updatePagination,ae=a.fetchAlternateActivites,ne=a.showSearchResult,ie=a.detailsOpened,re=a.searchTerm,oe=a.splitPricingEnabled,le=a.minPrice,ce=a.maxPrice,se=a.selectedMinPrice,ue=a.selectedMaxPrice,de=a.filterData,me=a.showLoading,pe=a.costed,fe=a.staleCost,he=a.isFetching,ye=a.current_slot,ge=a.activityHeader,ve=a.dataNotFoundText,be=void 0===ve?"":ve,Ee=a.isAdmin,Ce=a.userDetails,xe=c>=250&&re&&!this.props.showReset&&ne,Oe=d.a.createElement(_.a,{image:Object(R.a)("https://d3lf10b5gahyby.cloudfront.net/packages/empty_state_illustration.png",t?"w=100&h=96&fit=crop":"w=160&h=153&fit=crop",20,void 0,!1),text:xe?d.a.createElement(u.Fragment,null,d.a.createElement("p",{key:"no-text-showAllActivitiesFetchCta"},"Oops! We couldn\u2019t find the activity you were looking for."),d.a.createElement("p",{key:"no-text-showAllActivitiesFetchCta"},d.a.createElement("b",null,"Try loading all activities")," and check if your activity is present in that list."," ")):Array.isArray(be)?be.map((function(e,t){return d.a.createElement("p",{key:"no-text-".concat(t)},e)})):be,rootClassName:t?"col-xs-offset-1":"",ctaText:xe?"Load all activities":"",ctaAction:this.setAlert}),Ie=this.state,Ne=Ie.showFilter,ke=Ie.showSearch,we=Ie.showAlert,je=Ie.openAlert,Te=Ie.currenActivity,Se=de,Ae=K,Re=J;t&&(Se=b()(this.state.filters),Ae=this.onFilterChange,Re=this.onOtherFilterChange);var _e=[{text:"Top Highlight",value:"highlight",defaultSelected:A.highlight},{text:"Kid Friendly",value:"kidFriendly",defaultSelected:A.kidFriendly},{text:"Fast Selling",value:"fastSelling",defaultSelected:A.fastSelling},{text:"Less explored gems",value:"explored",defaultSelected:A.explored},{text:"Self Exploration",value:"free",defaultSelected:A.free}],De=[];_e.map((function(e){e.defaultSelected&&De.push(e.value)}));var Pe=[],Le={content:d.a.createElement("div",{className:"smart-filter mbottom-medium"},"Smart Filter",d.a.createElement(p.a,{placement:"bottom",text:T.c},d.a.createElement("i",{className:"cursor-pointer pyt-help-16"})),d.a.createElement(j.a,{onChangeAction:q}))},Fe={header:"Activity Duration",content:d.a.createElement(O.a,{ref:this.durationReference,orientation:"Vertical",buttonClass:"",target:"durationFilters",activeButtons:Se.durationFilters,onClickAction:Ae,componentValues:[{text:"Quarter Day",value:"quarter",active:!0},{text:"Half Day",value:"half"},{text:"Full Day",value:"full"}]})},Me={header:"Time slot",content:d.a.createElement(O.a,{ref:this.slotReference,buttonClass:"",target:"timeFilters",orientation:"Vertical",activeButtons:Se.timeFilters,onClickAction:Ae,componentValues:[{text:"Morning",value:"morning"},{text:"Afternoon",value:"noon"},{text:"Evening",value:"evening"}]})},Be={header:"Group Type",content:d.a.createElement(O.a,{ref:this.typeReference,buttonClass:"",activeButtons:Se.typeFilters,onClickAction:Ae,target:"typeFilters",componentValues:[{text:"Shared",value:"shared"},{text:"Private",value:"private"}]})},He={header:"Interests",content:d.a.createElement(O.a,{ref:this.interestReference,activeButtons:Se.interestFilters,onClickAction:Ae,target:"interestFilters",buttonClass:"",orientation:"Vertical",componentValues:B.map((function(e){return{text:e.category.name,value:e.category.id}}))})},Ue={header:"Other filters",content:d.a.createElement(O.a,{ref:this.otherReference,orientation:"Vertical",onClickAction:Re,activeButtons:De,componentValues:_e})};Pe=[Le,Me,Fe,{header:"Transfer",content:d.a.createElement(O.a,{ref:this.transferReference,onClickAction:Re,componentValues:[{text:"Included",value:"transferIncluded"},{text:"Not Included",value:"transferNotIncluded"}]})},Be,He,Ue,oe?{header:"Price",content:le!==ce?d.a.createElement(u.Fragment,null,d.a.createElement(g.a,{min:le,max:ce,defaultValue:[se||0,ue||100],disabled:!!A.free,range:!0,allowCross:!1,name:"price",onChange:Q}),d.a.createElement("div",null,d.a.createElement("span",{className:"slider-price"},d.a.createElement(D.a,{objectData:{value:se},path:"value",defaultValue:"0"})),d.a.createElement("span",{className:"pull-right slider-price"},d.a.createElement(D.a,{objectData:{value:ue},path:"value",defaultValue:"0"})))):d.a.createElement("span",{className:"fade"},"All options are at same price of",d.a.createElement(D.a,{objectData:{value:le},path:"value",defaultValue:"0"}))}:null];var Ve=[];pe&&!fe&&Ve.push({iconClassName:"icon pyt-wallet-16",title:"Price",subtextContent:z.price?"asc"===z.price?"Low to High":"High to Low":"Order by price",onClickAction:X,sortOrder:z.price,active:!0,type:"SORTING"});var ze=ye.publishedCost,Ge=d.a.createElement(u.Fragment,null,d.a.createElement(E.a,{rootClassName:"subheader-modals",isMobile:t,onClickBackAction:function(){Object(S.Ld)(S.t,{page:"Activity Alternates"}),Z()},searchTerm:re,onClickCloseAction:t&&Ne?this.closeFilter:$,spanContent:n,headerContent:i,enableSearch:!0,searchPlaceHolder:"Find an activity",onChangeAction:ee,defaultActiveIndes:[0],sortingContents:Ve,isFetching:he}),(ye&&"LEISURE"!==ye.type||pe&&!fe&&"SUCCESS"===(ye||{}).status)&&ge&&!t?d.a.createElement("section",{className:"subheader-modals-info bold mbottom-medium"},d.a.createElement("div",{className:"container sm-full-width lg-container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-xs-7 col-sm-6 col-md-6 truncate"},"Now changing:",d.a.createElement("a",{href:"_",onClick:function(t){t&&t.preventDefault(),e.onTriggerDetailPage()}}," ".concat(ge))),d.a.createElement("div",{className:"col-xs-5 col-sm-6 col-md-6 text-right"},ze?d.a.createElement("a",{href:"#"},d.a.createElement(D.a,{objectData:{value:ze},path:"value",defaultValue:"0"})):null)))):d.a.createElement("br",null)),We=Array.isArray(l)?l.map((function(t,a){if(!t.selectedTourGrade)return null;var n,i;Array.isArray(null===t||void 0===t?void 0:t.pickupAreas)&&(n=null===t||void 0===t||null===(i=t.pickupAreas)||void 0===i?void 0:i.includes("outside-sic"));return d.a.createElement("div",{className:t.recommended&&Ee?"col-md-6":"col-md-4",key:a},d.a.createElement(x.b,{onCardClick:function(){return Y(t)},activityName:t.title,images:t.mainPhoto?[t.mainPhoto]:[Object(C.a)("ACTIVITIES","")],contentType:t.fastSelling?"FILLING_FAST":"NONE",description:U(t.shortDesc),subText:"".concat(t.selectedTourGrade.durationType," Day. ").concat(t.free?"":t.privateTour?"Private":"Shared"),isPriceIncreased:H(r,t.selectedTourGrade),disableDiffIcon:!!t.selectedTourGrade.cost,price:null===t.selectedTourGrade.cost?t.selectedTourGrade.diff&&t.selectedTourGrade.diff.diffCost:t.selectedTourGrade.cost,onReplaceAction:function(e){e&&(e.preventDefault(),e.stopPropagation()),W(t)},sourceProvider:null===t||void 0===t?void 0:t.sourceProvider,enableFreeTag:t.free,status:t.status,likeCount:t.likeCount,dislikeCount:t.dislikeCount,isAdmin:Ee,activityDetails:t,userDetails:Ce,onChangeAlert:e.onChangeAlert,recommendedActivity:n}))})):[],Ye=s-l.length,Ke=s>l.length?d.a.createElement("div",{className:"col-xs-12 mbottom-large text-center"},d.a.createElement("button",{className:"btn btn-sm btn-default btn-outline mbottom-medium",onClick:te},"View ",Ye<f?Ye:f," more"," ",Ye>1?"activities":"activity")):(xe||me)&&s?d.a.createElement("div",{className:"col-xs-12 mbottom-large text-center"},d.a.createElement("button",{className:"btn btn-sm btn-default btn-outline mbottom-medium",onClick:this.setAlert},me?"Loading...":"Load search results")):null,Je=me||he?"Loading...":V||G?"Showing ".concat(s," of ").concat(c," available"):s>0?"".concat(s," option").concat(1===s?"":"s"," found"):null;return d.a.createElement(u.Fragment,null,t?d.a.createElement("div",{className:"hidden-md hidden-lg altermodal-xs-view xs-slide-up activity-alternate"},Ge,d.a.createElement("div",{className:"altermodal-xs-content"},d.a.createElement("section",{className:"options-hdr ".concat(t&&Ne?"hide":"")},d.a.createElement("div",{className:"row vertical-center"},d.a.createElement("div",{className:"col-xs-7"},Je),d.a.createElement("div",{className:"col-xs-5"},0===c?null:d.a.createElement("ul",{className:"tab-links"},Ve.map((function(e,t){return d.a.createElement("li",{key:t,className:e.active?"active":""},d.a.createElement("a",{href:" ",onClick:function(t){t?(t.preventDefault(),t.stopPropagation(),e.onClickAction()):e.onClickAction()}},"SORTING"===e.type&&e.active?d.a.createElement("i",{className:"".concat("asc"===e.sortOrder?"pyt-sort-ascending-16":"pyt-sort-descending-16")}):null,d.a.createElement("span",null,"".concat(e.title))))})))))),d.a.createElement("div",{className:"panel-group"},d.a.createElement("aside",{className:"altermodal-filters ".concat(Ne?"":"hide")},Pe.map((function(e,t){return d.a.createElement("section",{key:t,className:"panel"},d.a.createElement("div",{className:"panel-heading"},(e||{}).header),d.a.createElement("div",{className:"panel-body"},(e||{}).content))})))),d.a.createElement(u.Fragment,null,We.length?d.a.createElement("div",{className:"".concat(Ne?"hide":"")}," ",We," "):me?"":Oe,We.length||!me||Ne?null:d.a.createElement(k.a,null),Ne?null:Ke)),0===c?null:d.a.createElement(N.a,{showSearch:ke,updateShowSearch:this.updateShowSearch,showFilter:Ne,onChangeSearchTerm:ee,onUpdateClick:this.onUpdateClick,onFilterShow:this.onFilterShow,searchTerm:re,pills:[this.durationReference,this.slotReference,this.typeReference,this.interestReference,this.otherReference,this.transferReference]})):d.a.createElement("div",{className:h()("hidden-sm hidden-xs activity-alternate",{"details-modal-opened":ie})},d.a.createElement(y.a,{enabled:!t},Ge),d.a.createElement("div",{className:"container lg-container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{id:"activity_filter_options",className:"col-md-3 altermodal-filters"},d.a.createElement(y.a,{enabled:!t,top:145},d.a.createElement(I.a,{components:Pe,activeIndex:G?null:0}))),d.a.createElement("div",{className:"col-md-9"},d.a.createElement("div",{className:"option-header clearfix",style:{"padding-top":"10px"}},d.a.createElement("p",{className:"color-grey-secondary small-heading"},Je),d.a.createElement(w.a,{pills:[this.durationReference,this.slotReference,this.typeReference,this.interestReference,this.otherReference,this.transferReference]})),this.props.showReset&&d.a.createElement(F.a,{justifyContent:"flex-end",marginRight:6},d.a.createElement(M.a,{padding:12,onPress:function(){return ae(ye,!1,!0)}},"Reset Search")),d.a.createElement("div",{className:h()("row",{"row-eq-hgt activity-card-outer":We.length})},We.length?We:me?"":Oe,!We.length&&me||he?d.a.createElement(k.a,null):null),Ke)))),d.a.createElement(L.a,{show:je,title:"Activity not in SIC area",text:"The activity that you are about to add to the itinerary is not in the SIC pickup area. Please proceed with caution.",animation:!0,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel",onConfirm:function(){e.setState({openAlert:!1}),W(Te)},onCancel:function(){e.setState({openAlert:!1})}}),d.a.createElement(L.a,{show:we,title:"Caution!",html:!0,text:'<h5 class="meta-text">Fetching all activities might take some time. Do not refresh the page, or the fetching progress will be lost.</h5>',onConfirm:function(){ae(ye,!0,!1,!0),e.setAlert()},animation:"pop",closeOnConfirm:!0,confirmButtonText:"Understood, fetch all",closeOnCancel:!0}))}}]),a}(u.Component)},1719:function(e,t,a){"use strict";var n=a(1),i=a(38),r=a(39),o=a(46),l=a(56),c=a(29),s=a(0),u=a.n(s),d=a(2),m=a(5),p=a(6),f=a(607),h=a(23),y=a(297),g=a(1720),v=a(7);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var E=d.default.div.withConfig({displayName:"SlotInfo__SlotInfoWrapper"})(["display:block;cursor:pointer;transition:all 0.2s;margin-bottom:24px;padding:",";p,strong{margin:8px 0 0;}strong{display:inline-flex;align-items:center;i{margin-left:4px;}}.pill{vertical-align:top;}.activity-header{.activity-price-holder{margin-left:5px;&.strikethrough{display:inline-block;position:relative;&:before{content:'';width:100%;position:absolute;left:0;top:50%;margin-top:1px;height:1px;background-color:#00a56e;}}}.activity-price{color:#00c684;align-items:center;letter-spacing:-0.02em;font-family:Source Sans Pro;font-size:14px;line-height:18px;}}","{background-color:",";border-radius:10px;padding:",";margin-bottom:8px;&:last-child{margin-bottom:0;}&:hover{box-shadow:0px 1px 10px rgba(0,0,0,0.1);.pill{background-color:",";}strong{color:",";i{color:",";}}}}",""],(function(e){return e.cardPadding||"0"}),p.md,m.theme.white,(function(e){return e.cardPadding||"16px"}),m.theme.grey,(function(e){return e.linkHoverColor||m.theme.accent15}),(function(e){return e.linkHoverColor||m.theme.accent15}),(function(e){return e.linkHoverColor&&Object(d.css)(["i{color:#b7b7b7;}"])})),C=d.default.div.withConfig({displayName:"SlotInfo__LeisureTextStyle"})(["& > span{font-weight:",";font-size:18px;line-height:24px;letter-spacing:-0.02em;color:#444444;}strong{span{text-decoration:underline;color:",";}i{display:inline-block;margin-bottom:3px;margin-left:0;vertical-align:middle;color:",";}}"],m.theme.semiBold,m.theme.linkColor,m.theme.linkColor),x=function(e){Object(o.a)(a,e);var t=b(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=void 0===t?[]:t,i=e.onUpgradeClick,r=void 0===i?function(){return!1}:i,o=e.onActivityClick,l=void 0===o?function(){return!1}:o,c=e.isAdmin,d=void 0!==c&&c,m=e.staleCost,p=void 0!==m&&m,b=e.leisureTextSingleLine,x=void 0!==b&&b,O=e.cardPadding,I=void 0===O?"":O,N=e.linkHoverColor,k=void 0===N?"":N,w=e.history,j=e.canEdit,T=void 0===j||j;return u.a.createElement(s.Fragment,null,a.map((function(e,t){var a=e||{},i=a.name,o=a.type,c=a.start,m=a.slotText,b=a.slotTitle,O=a.slotIdentifier,N=a.upgradable,j=a.activitySlotDetail,S=void 0===j?{}:j,A=a.images,R=void 0===A?[]:A,_=null,D=null,P=o.includes("ACTIVITY");if(P){var L=(S||{}).costingInfo,F=void 0===L?{strikedCost:null,publishedCost:null}:L;_=F.strikedCost,D=F.publishedCost}return u.a.createElement(E,{cardPadding:I,key:c,onClick:function(a){a.preventDefault(),a.stopPropagation(),"LEISURE"===o&&T?l(O):P&&r(O,Object(n.a)(Object(n.a)({},e),{},{index:t+1}))},linkHoverColor:k},u.a.createElement("div",{className:"activity-header vertical-center"},u.a.createElement("span",{className:"pill color-white bg-grey-medium text-uppercase"},i),d&&P&&!p&&u.a.createElement(s.Fragment,null,u.a.createElement(f.a,{value:_,withoutIcon:!0,spanClassName:"activity-price",rootClassName:"activity-price-holder strikethrough",priceClassName:"activity-price",parentTag:"span"}),u.a.createElement(f.a,{value:D,withoutIcon:!0,spanClassName:"activity-price",rootClassName:"activity-price-holder",priceClassName:"activity-price",parentTag:"span"}))),"string"===typeof b?u.a.createElement("strong",{className:"block small-heading semi-bold"},b+" ",u.a.createElement("i",{className:"pyt-arrow-right-16 color-accent-15"})):null,x&&"LEISURE"===o&&!(i||"").toLowerCase().includes("full")?u.a.createElement(C,null,u.a.createElement("span",{dangerouslySetInnerHTML:{__html:m}}),"."," ","LEISURE"===o&&T?u.a.createElement("strong",{className:"inline-block small-heading semi-bold "},u.a.createElement("span",null,"Find things to do")," ",u.a.createElement("i",{className:"pyt-arrow-right-16 color-accent-15"})):null):u.a.createElement(s.Fragment,null,u.a.createElement("p",{className:"meta-text",dangerouslySetInnerHTML:{__html:m}}),N?u.a.createElement("span",{className:"block caps-text-mini semi-bold vmargin-small mb-0 color-accent-15"},"Upgradable!"):null,"LEISURE"===o?u.a.createElement("strong",{className:"block small-heading semi-bold"},"Find things to do"," ",u.a.createElement("i",{className:"pyt-arrow-right-16 color-accent-15"})):null),u.a.createElement(g.e,null,R.length?u.a.createElement(y.b,null,R.slice(0,3).map((function(e,t){return u.a.createElement(y.a,{cardSize:"60px",onClick:function(e){e&&e.preventDefault(),e.stopPropagation(),w.push("".concat(w.location.pathname,"/").concat(v.Z),{images:R,headerTitle:" ",closePath:w.location.pathname})},key:t,bgUrl:Object(h.a)(e,"h=96&w=96&fit=crop")},2===t&&R.length>3?"+".concat(R.length-3):null)}))):null))})))}}]),a}(s.Component);t.a=x},1720:function(e,t,a){"use strict";a.d(t,"g",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a(2),i=a(5),r=a(6),o=n.default.div.withConfig({displayName:"timelinestyles__TimlelineWrapper"})(["padding-top:16px;& > p:first-child{display:flex;align-items:center;justify-content:space-between;font-size:",";line-height:23px;letter-spacing:-0.02em;color:#666666;font-weight:",";margin:0;padding-bottom:20px;letter-spacing:-0.02em;","{font-size:22px;line-height:28px;padding-bottom:16px;}}"],i.theme.medium,i.theme.semiBold,r.sm),l=n.default.div.withConfig({displayName:"timelinestyles__ContentWrapper"})(["background-color:",";box-sizing:border-box;border-radius:8px;padding:0 8px;","{padding:22px 36px;}"],i.theme.white,r.sm),c=n.default.div.withConfig({displayName:"timelinestyles__RouteItemWrapper"})(["position:relative;:before{content:'';position:absolute;display:block;top:18px;bottom:30px;width:2px;background-color:rgba(27,170,204,0.3);}"]),s=n.default.div.withConfig({displayName:"timelinestyles__DayWiseWrapper"})(["padding-left:20px;position:relative;margin:",";","{padding-left:26px;margin:",";}.pill{background:#f0f0f0;color:#777777;}div:hover{"," .pill{background:#f0f0f0;color:#777777;}}& > p:first-child{color:",";font-weight:",";font-size:17px;line-height:21px;letter-spacing:-0.02em;","{font-size:20px;line-height:25px;padding-left:0px;}}:before{content:'';position:absolute;top:4px;left:-5px;width:12px;height:12px;border:2px solid #1baacc;background-color:#ffffff;border-radius:100%;","{top:7px;}","}"],(function(e){return e.dayCardMargin||"0 0 12px 0"}),r.sm,(function(e){return e.dayCardMargin||"0 0 20px 0"}),(function(e){return!e.hoverEffect&&Object(n.css)(["box-shadow:none;"])}),i.theme.inputPlaceholder,i.theme.bold,r.sm,r.sm,(function(e){return e.showLocation&&Object(n.css)(["content:'\\e963';position:absolute;top:-4px;left:-10px;font-family:'pyticon';color:#1baacc;background:",";width:0;height:0;font-size:22px;border:none;","{top:-4px;}"],i.theme.white,r.sm)})),u=n.default.p.withConfig({displayName:"timelinestyles__DayTitle"})(["margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;> i{cursor:pointer;transition:all 300ms ease-in-out;&:hover{color:red;}}"]),d=n.default.div.withConfig({displayName:"timelinestyles__ImageCardWrapper"})(["span{margin-right:8px;margin-top:12px;}"]),m=n.default.button.withConfig({displayName:"timelinestyles__ActionButton"})(["outline:none;border:none;background:transparent;color:#1895b3;font-weight:600;font-size:18px;line-height:24px;margin:auto;display:block;i{vertical-align:middle;margin-right:4px;margin-bottom:2px;font-weight:600;display:inline-block;}"])},1721:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(2),o=a(6),l=r.default.div.withConfig({displayName:"LeisureSlot__LeisureWrapper"})(["display:block;cursor:pointer;"," ","{background-color:",";border-radius:8px;padding:24px;}strong{display:inline-flex;align-items:center;span{color:#2c2f42;","}i{color:",";margin-left:4px;}}"],(function(e){return e.showCardBgInMobile&&Object(r.css)(["background-color:",";border-radius:8px;padding:16px;"],(function(e){return e.bgColor||"rgba(38, 119, 240, 0.1)"}))}),o.md,(function(e){return e.bgColor||"rgba(38, 119, 240, 0.1)"}),(function(e){return e.bgColor&&Object(r.css)(["color:#1895b3;text-decoration:underline;"])}),(function(e){return e.bgColor?"#1895B3":"#2677f0"}));t.a=function(e){var t=e.onClick,a=e.bgColor,n=void 0===a?"":a,r=e.showCardBgInMobile,o=void 0!==r&&r;return i.a.createElement(l,{onClick:t,bgColor:n,showCardBgInMobile:o},i.a.createElement("p",{className:"meta-text mbottom-small"},"At Leisure."),i.a.createElement("strong",{className:"block small-heading semi-bold"},i.a.createElement("span",null,"Find things to do")," ",i.a.createElement("i",{className:"pyt-arrow-right-16"})))}},1722:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(2),o=a(47),l=a(110),c=a(5),s=r.default.div.withConfig({displayName:"TripFeatures__TripFeatureWrapper"})(["p{margin-bottom:0;display:flex;align-items:center;font-weight:",";"," img{margin-right:8px;height:28px;}}"],c.theme.semiBold,l.j),u=r.default.ul.withConfig({displayName:"TripFeatures__TripFeatureList"})(["",";",";width:100%;li{display:block;width:100%;position:relative;margin-top:12px;margin-bottom:12px;padding-left:32px;color:#555555;",";&:before{content:'';position:absolute;left:0;top:-2px;width:24px;height:24px;background:url('https://pyt-images.imgix.net/images/web_app/itinerary/tick_star.svg') no-repeat center;","}&:last-child{margin-bottom:32px;}}"],o.d,o.f,l.i,(function(e){return e.useIcon&&Object(r.css)(["content:'\\E94D';font-family:'pyticon';font-size:17px;line-height:1;background:none;top:0;"])}));t.a=function(e){var t=e.data,a=void 0===t?[]:t,n=e.title,r=void 0===n?"":n,o=e.useIcon;return Array.isArray(a)?i.a.createElement(s,null,r?i.a.createElement("p",null,i.a.createElement("img",{src:"https://pyt-images.imgix.net/images/web_app/icons/pyt_recommend.svg",alt:"Advantages"}),r):null,i.a.createElement(u,{useIcon:o},a.map((function(e,t){return i.a.createElement("li",{key:t},e)})))):null}},1723:function(e,t,a){"use strict";a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return E}));var n=a(0),i=a.n(n),r=a(30),o=a(2),l=a(55),c=a(106),s=a(17),u=a(1592),d=a(1593),m=a(12),p=o.default.ul.withConfig({displayName:"SplitPrice__SplitPriceWrapper"})(["display:flex;flex-direction:column;padding-left:0;list-style:none;padding-top:",";font-size:",";"],(function(e){return e.isMobile?"1.5em":null}),(function(e){return e.isMobile?"17px":"16px"})),f=o.default.div.withConfig({displayName:"SplitPrice__VerticalSplitLine"})(["content:' ';border-bottom:1px solid #e5e5e5;margin:0.5em 0 0.5em 0;"]),h=o.default.li.withConfig({displayName:"SplitPrice__SplitPriceLineItem"})(["display:flex;flex-direction:row;justify-content:space-between;padding:",";"],(function(e){return e.isMobile?e.addIndent?"0.5em 1em 0.5em 2em":"0.5em 1em":(e.addIndent,"0.25em 0")})),y=o.default.div.withConfig({displayName:"SplitPrice__PaymentRow"})(["display:flex;flex-direction:row;justify-content:space-between;"]),g=o.default.span.withConfig({displayName:"SplitPrice__ItemTitle"})(["text-transform:capitalize;font-weight:",";color:",";"],(function(e){return e.bold?600:400}),(function(e){return e.bold?"#333333":"#777777"})),v=o.default.span.withConfig({displayName:"SplitPrice__BoldData"})(["font-weight:600;color:",";"],(function(e){return e.green?"#008B5C":"#333333"})),b=o.default.span.withConfig({displayName:"SplitPrice__ShowMoreBtn"})(["cursor:pointer;color:#777777;width:55%;"," padding:3px 0;font-size:15px;"," margin:.7em 4.5em;justify-content:center;border:0.5px solid #777777;border-radius:32px;border-color:#777777;text-align:center;"],"",""),E=function(e){var t=e.priceDetails,a=e.staleCost,o=e.savingByDiscountAmount,E=e.taxesAndFees,C=e.savingDiscount,x=e.discountAmount,O=e.discountCost,I=e.totalCost,N=e.showMore,k=e.setShowMore,w=e.isMobile,j=e.userDetails,T=e.isAdmin,S=Object(r.d)(),A=N||w?t:t.filter((function(e,t){return t<4})),R=A.filter((function(e){return e.title.toLowerCase().includes("trip cost")}));return a?null:(Object(n.useEffect)((function(){S({type:m.sc,payload:t})}),[I]),i.a.createElement(p,{isMobile:w},A.map((function(e,t){var a="total"===e.type?v:"span";return i.a.createElement(n.Fragment,{key:"split-price-line-".concat(t)},t>0&&i.a.createElement(h,{isMobile:w,addIndent:t>0},i.a.createElement(g,{bold:"total"===e.type},e.title),i.a.createElement(a,null,i.a.createElement(l.a,{objectData:e,path:"cost",defaultValue:"0"}))))})),1===A.length&&R[0]?i.a.createElement(n.Fragment,{key:"split-price-line-0"},i.a.createElement(h,{isMobile:w,addIndent:!1},i.a.createElement(g,null,R[0].title),i.a.createElement("span",null,i.a.createElement(l.a,{objectData:R[0],path:"cost",defaultValue:"0"})))):null,N&&i.a.createElement(f,null),N||w?i.a.createElement(i.a.Fragment,null,(E.costings||[]).map((function(e,t){var a,n=null===(a=e.description.replace(/_/g," "))||void 0===a?void 0:a.toLowerCase();return i.a.createElement(h,{key:t,isMobile:w},"PLANNING_FEE"===e.description?i.a.createElement("div",{style:{alignItems:"center",justifyContent:"space-around"}},i.a.createElement(g,null,n)):i.a.createElement(g,null,["tcs","gst"].includes(n)?n.toUpperCase():n),i.a.createElement("span",null,"PLANNING_FEE"===e.description?i.a.createElement(y,null,i.a.createElement(c.a,{tooltipClassname:"fs-12 color-grey meta-text",text:i.a.createElement(i.a.Fragment,null,i.a.createElement(s.Text,{as:"span",color:"#01C684"},"Launch offer:")," ","Flat 50% off on planning fees")},i.a.createElement(s.Icon,{icon:"pyt-info-16",style:{color:"#777777",alignSelf:"center",paddingLeft:4,justifyContent:"center",cursor:"pointer"}})),i.a.createElement("p",{style:{padding:"0 8px 0 4px",margin:0},className:"strike-line color-grey-medium"},i.a.createElement(l.a,{objectData:e,path:"strikedCost",defaultValue:"0"})),i.a.createElement(l.a,{objectData:e,path:"cost",defaultValue:"0"})):i.a.createElement(l.a,{objectData:e,path:"cost",defaultValue:"0"})))})),o?i.a.createElement(h,{isMobile:w},i.a.createElement(g,null,"Admin Discount"),i.a.createElement(v,{green:!0},"-",i.a.createElement(l.a,{objectData:C,path:"value",defaultValue:"0"}))):null,x?i.a.createElement(h,{isMobile:w},i.a.createElement(g,null,"Discount"),i.a.createElement(v,{green:!0},"- ",i.a.createElement(l.a,{objectData:O,path:"value",defaultValue:"0"}))):null):null,!w&&Object(u.a)({permissions:null===j||void 0===j?void 0:j.permissions,key:d.G})&&i.a.createElement(b,{onClick:function(){return k(!N)}},N?"View Less":"View full split pricing"),N&&i.a.createElement(f,null),T?null:i.a.createElement(h,{isMobile:w},i.a.createElement(g,{bold:!0},"Payable Amount"),i.a.createElement(v,null,i.a.createElement(l.a,{objectData:I,path:"value",defaultValue:"0"})))))}},1724:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(14),i=a(22),r=a(245),o=a(190),l=a(171);function c(e){var t=e.itineraryId,a=e.netBankingOnly;return function(e){return new Promise((function(c,s){var u="".concat(n.a.api_url,"pg_discount/").concat(t,"?netbanking_only=").concat(a);Object(i.a)({url:u,method:"POST",body:{},onSuccess:function(t){Object(r.a)(e,t.data),c("Promised resolved from fetch")},onFailure:function(t){Object(o.a)(t,e),Object(l.a)(t,e),s("Failed")}})}))}}},1731:function(e,t,a){"use strict";var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),u=a(30),d=a(54),m=a(2),p=a(36),f=a(5),h=a(47),y=a(61),g=a(110),v=a(1613),b=a(1649),E=a(42),C=a(470),x=a(14),O=a(22),I=a(190),N=a(171),k=a(159);function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(a){return new Promise((function(n,i){var r="".concat(x.a.api_url,"attraction/upgrades?attractionId=").concat(t);Object(O.a)({url:r,method:"POST",body:e,onSuccess:function(t){a({type:k.d,payload:{key:e.currentActivityId,response:t}}),n("Promised resolved from fetch")},onFailure:function(e){Object(I.a)(e,a),Object(N.a)(e,a),i("Failed")}})}))}}var j=a(18),T=a(604),S=a(1647),A=a(1710),R=a(1646),_=a(7),D=a(15);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var L=m.default.div.withConfig({displayName:"UpgradesList__RulerHeading"})(["",";width:100%;font-size:15px;line-height:24px;margin-top:40px;text-transform:uppercase;font-weight:",";color:#555555;border-bottom:1px solid rgba(0,0,0,0.2);span{display:inline-block;padding-bottom:7px;box-shadow:0 1px 0 rgba(0,0,0,0.8);}"],h.d,f.theme.bold),F=m.default.ul.withConfig({displayName:"UpgradesList__UpgradesLineItem"})(["",";margin-bottom:24px;li{display:flex;align-items:center;padding:16px 0;color:#555555;font-weight:",";box-shadow:0px 1px 0px rgba(0,0,0,0.1);p{margin:0;width:60%;}.right-col{width:40%;justify-content:flex-end;display:flex;align-items:center;strong{margin-right:16px;",";font-weight:",";.pyt-arrow-down-24{color:#00b277;}.pyt-arrow-top-24{color:#7d42a1;}}","{border-color:",";background-color:",";color:",";&:hover{border-color:#c7c7c7;color:",";}}}}"],h.f,f.theme.semiBold,g.j,f.theme.semiBold,y.a,f.theme.greyMedium,f.theme.white,f.theme.grey,f.theme.greyMedium),M=function(e){Object(r.a)(a,e);var t=P(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).fetchUpgradeOptions=function(){var t=e.props,a=t.match,n=t.itineraryInfo,i=t.previewList;if(i){var r=a.params.configKey,o=Object(v.a)(r),l=Object(b.a)(i,(function(e){return e.slotIdentifier===o})),c=l>-1?i[l]:null;if(!c)return null;var s=n.iterDayByKey[c.dayIdentifier],u=c.cityKey,d=Object(b.a)(n.itinerary.allCityKeys,(function(e){return e===u})),m=c.activitySlotDetail,p=c.cityId,f=c.cityId,h="ACTIVITY_WITH_TRANSFER"===c.type;if(h&&(p=c.intercityTransferSlotDetailVO.fromCity,f=c.intercityTransferSlotDetailVO.toCity),c.prevCity&&s){var y=n.itinerary.allCityKeys[d-1];f=p=n.iterCityByKey[y].cityId}var g=c.activitySlotDetail&&c.activitySlotDetail.activityCostingIdentifier||"",E=Object(j.a)(c.activitySlotDetail.costingInfo,"attractionId"),C={cityId:p,itineraryId:n.itinerary.itineraryId,currentActivityId:m.activityId,alternateActivityIds:e.getOtherActivities(m.activityId),timeSlotType:6,showOtherSlots:!0,slotSpan:c.span,startSlot:c.start,showActivitiesWithTransferOnly:h,dropCityId:f,rcAvailable:s&&s.rcAvailable,primaryTravelMode:"UNKNOWN",activityCostingKey:g,dayNum:s.dayNum};e.props.activityUpgradeOptionFetch(C,E)}},e.goToDefaultItineraryOrInclusionsPage=function(){var t=e.props,a=t.history,n=t.location,i=t.itineraryInfo,r=void 0===i?{itinerary:{}}:i;a.push(Object(_.Jb)({itineraryId:r.itinerary.itineraryId,location:n,regionCode:r.itinerary.regionCode}))},e.changeActivity=function(t){var a="CHANGE",n=!1,i=e.props,r=i.match,o=i.itineraryInfo,l=i.previewList,c=i.manageActivity,s=r.params.configKey,u=Object(v.a)(s),d=l[Object(b.a)(l,(function(e){return e.slotIdentifier===u}))],m=Object.assign({},d),p=Object(T.a)(o.iterDayByKey,(function(e){return-1!==e.allSlotKeys.indexOf(m.slotIdentifier)})),f=Object(T.a)(o.iterCityByKey,(function(e){return-1!==e.allDayKeys.indexOf(p)})),h=o.iterCityByKey[f],y=h.cityId,g=h.cityId;"LEISURE"!==m.type&&"INTERCITY_TRANSFER"!==m.type||(a="ADD"),"INTERCITY_TRANSFER"!==m.type&&"ACTIVITY_WITH_TRANSFER"!==m.type||(y=m.intercityTransferSlotDetailVO.fromCity,g=m.intercityTransferSlotDetailVO.toCity,n=!0);var E=!1;m.activitySlotDetail&&m.activitySlotDetail.activityCostingIdentifier&&o.itinerary.costed&&!o.itinerary.staleCost&&(E=o.activityCostings.costingById[m.activitySlotDetail.activityCostingIdentifier].cancelled);m.activitySlotDetail=t;var C=Object(j.a)(d.activitySlotDetail.costingInfo,"attractionId"),x={action:a,type:"alternate_activity",activityWithTransfer:n,itineraryId:o.itinerary.itineraryId,activitySlot:m,fromCityId:y,toCityId:g,cancelled:E,attractionId:C};Object(D.Ld)(D.o,{from_activity_name:Object(j.a)(d,"activitySlotDetail.title"),to_activity_name:t.title,from_activity_id:Object(j.a)(m,"activitySlotDetail.activityId"),to_activity_id:t.planningToolId}),c(x).then((function(){e.goToDefaultItineraryOrInclusionsPage()}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchUpgradeOptions()}},{key:"getOtherActivities",value:function(e){var t=Object.keys(this.props.itineraryInfo.activityById);return Object(E.a)(e)||(t=Object(C.a)(t,[e])),t}},{key:"render",value:function(){var e=this,t=this.props.upgradeOptions,a=this.props,n=a.match,i=a.previewList,r=a.itineraryInfo.itinerary,o=(r=void 0===r?{}:r).booking,l=r.frozen,u=o||l,d=n.params.configKey,m=Object(v.a)(d),p=(i||[])[Object(b.a)(i,(function(e){return e.slotIdentifier===m}))];if(!p||!t)return s.a.createElement("div",null);var f=Object(j.a)(p,"activitySlotDetail.selectedTourGrade.cost"),h=Object(j.a)(p,"activitySlotDetail.activityId"),g=t[Object(j.a)(p,"activitySlotDetail.activityId")]||[];return console.log(h,t,g),g.length?s.a.createElement(c.Fragment,null,s.a.createElement(L,null,s.a.createElement("span",null,"Available Upgrades")),s.a.createElement(F,null,g.map((function(t,a){var n=null===t.selectedTourGrade.cost?t.selectedTourGrade.diff&&t.selectedTourGrade.diff.diffCost:t.selectedTourGrade.cost,i=Object(A.b)(f,t.selectedTourGrade);return s.a.createElement("li",{key:"activity_prev_".concat(a)},s.a.createElement("p",null,t.title),s.a.createElement("span",{className:"right-col"},s.a.createElement(S.a,{price:n,rootClassName:"",isPriceIncreased:i,disablePriceVariation:!t.diff,RootElement:"strong"}),s.a.createElement(y.a,{onClick:function(){return e.changeActivity(t)},disabled:u},"Choose")))})))):null}}]),a}(c.Component);t.a=Object(p.withRouter)(Object(u.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.activitiesPreviewList,i=void 0===n?[]:n,r=e.activityUpgradeOptions,o=void 0===r?[]:r;return{itineraryInfo:a.itineraryInfo,user_details:a.user_details,previewList:i.activityList,upgradeOptions:o.activityUpgrades}}),(function(e){return{activityUpgradeOptionFetch:Object(d.b)(w,e),manageActivity:Object(d.b)(R.a,e)}}))(M))},1732:function(e,t,a){"use strict";var n=a(11),i=a(0),r=a.n(i),o=a(49),l=a.n(o),c=a(33),s=a(1),u=a(594),d=(a(897),a(591)),m=a(1592),p=a(30),f=a(105),h=a(141),y=a(1963),g=a(169),v=a(895),b=a(2593),E=a(2433),C=a(2434),x=a(611),O=a(22),I=a(14),N=a(1593),k=a(55),w=function(e){var t=e.setOpenModal,a=Object(p.e)((function(e){var t=e.app;return(void 0===t?{}:t).itineraryInfo})),o=Object(p.e)((function(e){var t=e.app;return(void 0===t?{}:t).user_details.permissions})),w=Object(i.useMemo)((function(){return a.itinerary.itineraryId}),[a]),j=Object(i.useMemo)((function(){return null===a||void 0===a?void 0:a.paymentDetails}),[a]),T=Object(i.useMemo)((function(){var e;return Math.round(null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.grossCost)}),[a]),S=Object(i.useMemo)((function(){var e;return Math.round(null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.cancellationFee)}),[a]),A=Object(i.useMemo)((function(){var e;return Math.round(null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.exposureAmount)}),[a]),R=Object(i.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.costingConfiguration)||void 0===e?void 0:e.departureDate}),[a]),_=Object(i.useMemo)((function(){var e,t,n;return(null===(e=((null===(t=a.itinerary)||void 0===t||null===(n=t.taxesAndFees)||void 0===n?void 0:n.costings)||[]).find((function(e){return"TCS"===e.description})))||void 0===e?void 0:e.cost)||0}),[a]),D=Object(i.useMemo)((function(){var e;return Math.ceil(null===(e=a.itinerary)||void 0===e?void 0:e.totalCostWithoutTCS)}),[a]),P=Object(i.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.booking}),[a]),L=Object(i.useMemo)((function(){return Object(m.a)({permissions:o,key:N.i})}),[]),F=Object(i.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.swapped}),[a]),M=Object(p.d)(),B=Object(p.e)((function(e){var t=e.app;return(void 0===t?{}:t).locale})),H=l()(),U=l()(R),V=l.a.duration(H.diff(U)).asDays(),z=Object(i.useState)([{expiresOn:l()().add(2,"days"),installment:1,value:0}]),G=Object(n.a)(z,2),W=G[0],Y=G[1],K=Object(i.useState)([{expiresOn:L&&Math.round(Math.abs(V))<=21?l()().set("hour",23).set("minute",59).set("second",0).set("millisecond",0):l()(R).subtract(21,"days").set("hour",23).set("minute",59).set("second",0).set("millisecond",0),installment:0,value:0}]),J=Object(n.a)(K,2),q=J[0],Q=J[1],X=Object(i.useState)({show:!1,index:0}),$=Object(n.a)(X,2),Z=$[0],ee=$[1],te=Object(i.useState)({show:!1,index:0}),ae=Object(n.a)(te,2),ne=ae[0],ie=ae[1],re=Object(i.useState)(!1),oe=Object(n.a)(re,2),le=oe[0],ce=oe[1],se=Object(i.useState)(!0),ue=Object(n.a)(se,2),de=ue[0],me=ue[1],pe=Object(i.useState)(0),fe=Object(n.a)(pe,2),he=fe[0],ye=fe[1],ge=Object(i.useMemo)((function(){return A===T}),[A,T]),ve=Object(i.useMemo)((function(){var e=!1;return null===j||void 0===j||j.forEach((function(t){t.exposureSegment||(e=!0)})),e}),[j]);Object(i.useEffect)((function(){var e=S;j||Y([Object(s.a)(Object(s.a)({},W[0]),{},{value:T<1e4||Math.abs(V)<1?T:j?j[0].value:e>1e4?e:1e4})])}),[]),Object(i.useEffect)((function(){var e,t=0;W.forEach((function(e){t+=+e.value+ +((null===e||void 0===e?void 0:e.tcs)||0)-+((null===e||void 0===e?void 0:e.discount)||0)})),t>=A?(ce(!1),me(!0)):(ce(!0),me(!1)),t>T&&me(!1),W.forEach((function(e){(""===e.value||isNaN(e.value))&&me(!1),e.value+e.tcs!=="0"&&e.value+e.tcs!==0||me(!1)})),q.forEach((function(e,a,n){if("0"===e.value||0===e.value||""===e.value||isNaN(e.value)){if(t===T)return void me(!0);if(+e.value+ +e.tcs===0)return void me(!1);me(!1)}a===n.length-1&&e.value<=0&&me(!1)})),Math.abs(V)<=2&&me(!1),T||me(!1),_&&!W[0].paid&&+W[0].value+(null===(e=W[0])||void 0===e?void 0:e.tcs)<_&&me(!1),q.forEach((function(e){t+=+e.value+(null===e||void 0===e?void 0:e.tcs)})),t-_>T&&me(!1)}),[W,q,V,T]),Object(i.useEffect)((function(){if(null!==j&&void 0!==j&&j.length){var e=[],t=[];me(!1),(j||[]).forEach((function(a){var n={expiresOn:a.dueOn,installment:a.installment,value:Math.round(a.value)-Math.round(null===a||void 0===a?void 0:a.tcs),paid:null===a||void 0===a?void 0:a.paid,tcs:null===a||void 0===a?void 0:a.tcs,discount:null===a||void 0===a?void 0:a.discount,amount:null===a||void 0===a?void 0:a.amount,paymentId:null===a||void 0===a?void 0:a.paymentId};a.exposureSegment?e.push(n):(console.log({val:Math.round(a.value)-Math.round(null===a||void 0===a?void 0:a.tcs)}),t.push(n))})),console.log({segmentTwoData:t}),Y(e),Q(t)}}),[j]),Object(i.useEffect)((function(){var e=0;W.forEach((function(t){e+=+t.value+t.tcs})),ve||Q(T!==e?[{expiresOn:L&&Math.round(Math.abs(V))<=21?l()().set("hour",23).set("minute",59).set("second",0).set("millisecond",0):l()(R).subtract(21,"days").set("hour",23).set("minute",59).set("second",0).set("millisecond",0),installment:0,value:0}]:[])}),[W,ve]);var be=Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={expiresOn:L&&Math.round(Math.abs(V))<=21?l()().set("hour",23).set("minute",59).set("second",0).set("millisecond",0):l()(W[W.length-1].expiresOn).add(1,"d"),installment:e?q.length+1:W.length+1,value:0,tcs:0};e||(t.expiresOn=l()().add(2,"days")),me(!1),e?Q([t].concat(Object(c.a)(q))):Y([].concat(Object(c.a)(W),[t]))}),[W,q]),Ee=Object(i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?Object(c.a)(q):Object(c.a)(W);a.splice(e,1),a.forEach((function(e,t){return e.installment=t+1})),me(!0),t?Q(a):Y(a)}),[W,q]),Ce=Object(i.useCallback)((function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a?Object(c.a)(q):Object(c.a)(W);n[e].value<=0&&(n[e].value=""),""===n[e-1].value&&(n[e-1].value=0),""===(null===(t=n[e+1])||void 0===t?void 0:t.value)&&(n[e+1].value=0),a?Q(n):Y(n)}),[W,q]),xe=function(){ye(1)},Oe=function(){ye(0)},Ie=Object(i.useCallback)((function(e,t,a){var n=Object(c.a)(W);n[t][a]=e;var i=0;n.forEach((function(e){i+=parseInt(e.value)})),"value"===a&&isNaN(e)?(n[t][a]=0,me(!1)):parseInt(e)>0?me(!0):me(!1),me(!0),i>T?(ee({show:!0,index:t}),me(!1)):(ee({show:!1}),me(!0)),Y(n)}),[W,T]),Ne=Object(i.useCallback)((function(e,t,a){var n=Object(c.a)(q);n[t][a]=e;var i=0;"value"===a?n[t].value=e:n[t].expiresOn=e,me(!0),"value"!==a||"0"!==e&&!isNaN(e)?parseInt(e)>0?me(!0):me(!1):(n[t][a]=0,me(!1)),W.forEach((function(e){i+=parseInt(e.value)})),n.forEach((function(e,t,a){t!==a.length-1&&(i+=parseInt(e.value))})),i>T?(ie({show:!0,index:t}),me(!1)):(ie({show:!1}),me(!0)),Q(n)}),[W,q,T]),ke=Object(i.useMemo)((function(){var e=!1;return W.forEach((function(t){return null!==t&&void 0!==t&&t.paid?e=!0:null})),q.forEach((function(t){return null!==t&&void 0!==t&&t.paid?e=!0:null})),!e&&Math.abs(V)<21}),[V,W,q]),we=Object(i.useMemo)((function(){return Math.abs(V)<=2}),[V]),je=Object(i.useMemo)((function(){var e;return(null===(e=W[0])||void 0===e||!e.paid)&&l.a.duration(l()(W[0].expiresOn).diff(H)).asDays()<0}),[W]),Te=Object(i.useMemo)((function(){return!P&&(!je&&W.length>1)}),[W,P,je]),Se=Object(i.useMemo)((function(){return!P&&(!je&&q.length<3)}),[q,P,je]),Ae=Object(i.useMemo)((function(){return!P&&(!je&&q.length>1)}),[q,P,je]),Re=Object(i.useMemo)((function(){return!P&&(!je&&(!we&&W.length<10))}),[W,P,je,we]),_e=Object(i.useMemo)((function(){return!!(_&&+W[0].value+W[0].tcs<_)}),[_,W]);Object(i.useMemo)((function(){var e,t=Object(c.a)(q);if((null===(e=t[t.length-1])||void 0===e||!e.paid)&&!P){var a=0;t.forEach((function(e,t,n){e.value&&t!==n.length-1?(e.value=parseInt(e.value),a+=e.value+(null===e||void 0===e?void 0:e.tcs)):null!==e&&void 0!==e&&e.tcs&&t!==n.length-1&&(a+=null===e||void 0===e?void 0:e.tcs)})),W.forEach((function(e){e.value?(e.value=parseInt(e.value),a+=e.value+(null===e||void 0===e?void 0:e.tcs)):null!==e&&void 0!==e&&e.tcs&&(a+=null===e||void 0===e?void 0:e.tcs)}));var n=T-a,i=Object(c.a)(q);return i.length&&(i[i.length-1].installment=W.length+1,i[i.length-1].value=n),n||me(!1),n}}),[W,q,P]);var De=Object(i.useMemo)((function(){var e="";return e+="Total Deal Size: ".concat(D,"\n    Exposure segment:\n    Total Exposure: ").concat(A,"\n    "),W.forEach((function(t,a){e+="Instalment ".concat(a+1,": ").concat(Object(x.b)("".concat(t.value))," - ").concat(l()(t.expiresOn).format("DD/MM/YYYY HH:mm:ss"),"\n")})),q.length&&q[0].value&&(e+="Non-Exposure segment: \n",q.forEach((function(t,a){e+="Instalment ".concat(W.length+a+1,": ").concat(Object(x.b)("".concat(t.value))," - ").concat(l()(t.expiresOn).format("DD/MM/YYYY HH:mm:ss"),"\n")}))),e}),[D,_,A,W,q]),Pe=Object(i.useMemo)((function(){var e=!1;return W.forEach((function(t){null!==t&&void 0!==t&&t.paid||(e=!0)})),q.forEach((function(t){null!==t&&void 0!==t&&t.paid||(e=!0)})),e}),[W,q]);return console.log({segmentTwo:q}),r.a.createElement(f.a.Item,{paddingBottom:24},r.a.createElement(f.a.Item,{paddingHorizontal:43,paddingTop:10,width:"100%",zIndex:he},r.a.createElement(f.a.Item,{height:"93%",width:"100%",gap:12},r.a.createElement(f.a,{gutter:50,width:"100%",flexWrap:"wrap"},r.a.createElement(f.a.Item,{width:108}),r.a.createElement(h.a,{fontStyle:13,width:150,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Due Date"),r.a.createElement(h.a,{fontStyle:13,width:197,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Due Amount"),r.a.createElement(f.a,{gutter:32,marginLeft:-38},r.a.createElement(h.a,{width:84,fontStyle:13,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"TCS"),r.a.createElement(h.a,{width:84,fontStyle:13,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Discount"),r.a.createElement(h.a,{width:84,fontStyle:13,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Total Payable"),r.a.createElement(h.a,{width:84,fontStyle:13,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Status"))),r.a.createElement(f.a.Item,{height:"100%"},r.a.createElement(f.a.Item,{minHeight:137,backgroundColor:"rgba(229, 249, 243, 1)",gap:24,paddingVertical:24,paddingLeft:12},r.a.createElement(f.a,{gutter:28},r.a.createElement(h.a,{fontSize:16,lineHeight:22,fontWeight:600,color:"rgba(0,0,0,0.9)",selectable:!1},"Total Exposure"),r.a.createElement(h.a,{fontSize:16,lineHeight:22,fontWeight:600,color:"rgba(0,0,0,0.9)"},r.a.createElement(k.a,{objectData:{value:A},path:"value",defaultValue:"0"}),_?" (".concat(S," (non-refundable) + ").concat(_," (TCS))"):"")),(le||_e)&&r.a.createElement(f.a.Item,{flexDirection:"row",gutter:6,width:"100%"},le&&!P&&r.a.createElement(f.a.Item,{flexDirection:"row",gap:4,width:"50%"},r.a.createElement(b.a,{fill:"rgba(255, 0, 0, 1)"}),r.a.createElement(h.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"80%"},"Total exposure amount is not being collected within 48 hours. Please recheck instalment amounts")),_e&&r.a.createElement(f.a.Item,{flexDirection:"row",gap:4,width:"50%"},r.a.createElement(b.a,{fill:"rgba(255, 0, 0, 1)"}),r.a.createElement(h.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"80%"},"First instalment amount should be greater or equal to TCS"))),null===W||void 0===W?void 0:W.map((function(e,t){return r.a.createElement(f.a,{width:"100%",flexWrap:"wrap",gutter:52,key:"DP"+t,zIndex:"unset"},r.a.createElement(h.a,{fontSize:16,lineHeight:22,fontWeight:600,color:"rgba(0,0,0,0.9)",selectable:!1},"Instalment ",t+1),r.a.createElement(y.a,{style:{width:160.5,height:40,borderRadius:4,backgroundColor:"rgba(235, 235, 236, 1)"},inputProps:{editable:!1,fontSize:14},padding:8,value:l()(e.expiresOn).format("DD/MM/YYYY"),editable:!1,selectTextOnFocus:!1}),r.a.createElement(y.a,{focusable:!0,style:{width:150,height:40,borderRadius:4,borderWidth:1,borderColor:Z.show&&Z.index===t?"rgba(215, 60, 84, 1)":"#B7B7B7"},inputProps:{keyboardType:"numeric",fontSize:14,onFocus:function(){return t>0?Ce(t):null},editable:!(P||je||null!==e&&void 0!==e&&e.paid)},focusProps:{backgroundColor:"#F8F8FF"},value:e.value,placeholder:e.value?e.value:"",onChange:function(e){return Ie(e,t,"value")}}),r.a.createElement(f.a,{gutter:32,alignItems:"center"},r.a.createElement(h.a,{width:84,fontSize:14,fontWeight:450,color:"#333333"},r.a.createElement(k.a,{objectData:{value:null===e||void 0===e?void 0:e.tcs},path:"value",defaultValue:"0"})),r.a.createElement(h.a,{width:84,fontSize:14,fontWeight:450,color:"#333333"},r.a.createElement(k.a,{objectData:{value:null===e||void 0===e?void 0:e.discount},path:"value",defaultValue:"0"})),r.a.createElement(h.a,{width:84,fontSize:14,fontWeight:450,color:"#333333"},r.a.createElement(k.a,{objectData:{value:+(null===e||void 0===e?void 0:e.value)+ +(null===e||void 0===e?void 0:e.tcs)-(+e.discount||0)},path:"value",defaultValue:"0"})),null!==e&&void 0!==e&&e.paid?r.a.createElement(h.a,{width:84},"Paid"):r.a.createElement(h.a,{width:84},"Unpaid")),r.a.createElement(f.a.Item,{flexDirection:"row",gap:20},r.a.createElement(g.a,{disabled:!Re||!Pe,onPress:function(){return be(!1)},cursor:Re&&Pe?"pointer":"not-allowed"},r.a.createElement(E.a,{fill:"grey"})),r.a.createElement(g.a,{disabled:!Te||(null===e||void 0===e?void 0:e.paid)||0===t,onPress:function(){return Ee(t)},cursor:!Te||null!==e&&void 0!==e&&e.paid||0===t?"not-allowed":"pointer",paddingRight:8},r.a.createElement(C.a,{fill:"grey"}))))}))),(!ke&&!ge||F)&&r.a.createElement(f.a.Item,{minHeight:137,gap:24,paddingVertical:24,paddingLeft:12},null===q||void 0===q?void 0:q.map((function(e,t,a){var n,i,o,c,s;return r.a.createElement(f.a,{width:"100%",flexWrap:"wrap",gutter:48,key:"DP"+t,zIndex:"unset"},r.a.createElement(h.a,{fontSize:16,lineHeight:22,fontWeight:600,color:"rgba(0,0,0,0.9)",selectable:!1},"Instalment ",W.length+(t+1)," "),r.a.createElement(u.a,{onKeyDown:function(e){e.preventDefault()},selected:l()(e.expiresOn),nextMonthButtonLabel:"",previousMonthButtonLabel:"",onChange:function(e){return Ne(e,t,"expiresOn")},className:"form-control",dateFormat:"DD/MM/YYYY",minDate:0===t?l()(null===(n=W[W.length-1])||void 0===n?void 0:n.expiresOn).add(1,"d"):l()(null===(i=q[t-1])||void 0===i?void 0:i.expiresOn),maxDate:t===a.length-1?null===(o=l()(R))||void 0===o?void 0:o.subtract(21,"d"):0===t&&a.length>1||1===t&&a.length>2?null===(c=l()(q[t+1].expiresOn))||void 0===c?void 0:c.subtract(1,"d"):null===(s=l()(q[0].expiresOn))||void 0===s?void 0:s.subtract(1,"d"),popperPlacement:"top-end",shouldCloseOnSelect:!0,onFocus:xe,onBlur:Oe,readOnly:je||P||(null===e||void 0===e?void 0:e.paid)}),t===a.length-1?r.a.createElement(y.a,{style:{width:150,height:40,borderRadius:4,borderWidth:1,borderColor:"#B7B7B7",backgroundColor:"#E5E5E5"},inputProps:{editable:!1,fontSize:14},value:Object(x.b)("".concat(e.value)),editable:!1,selectTextOnFocus:!1}):r.a.createElement(y.a,{focusable:!0,style:{width:150,height:40,borderRadius:4,borderWidth:1,borderColor:ne.show&&ne.index===t?"rgba(215, 60, 84, 1)":"#B7B7B7"},inputProps:{keyboardType:"numeric",fontSize:14,onFocus:function(){return t>0?Ce(t,!0):null},editable:!(P||je||null!==e&&void 0!==e&&e.paid)},focusProps:{backgroundColor:"#F8F8FF"},value:e.value,onChange:function(e){return Ne(e,t,"value")}}),r.a.createElement(f.a,{gutter:32,alignItems:"center",paddingLeft:4},r.a.createElement(h.a,{width:84},r.a.createElement(k.a,{objectData:{value:null===e||void 0===e?void 0:e.tcs},path:"value",defaultValue:"0"})),r.a.createElement(h.a,{width:84},r.a.createElement(k.a,{objectData:{value:e.discount},path:"value",defaultValue:"0"})),r.a.createElement(h.a,{width:84},r.a.createElement(k.a,{objectData:{value:+(null===e||void 0===e?void 0:e.value)+ +((null===e||void 0===e?void 0:e.tcs)||0)-+(e.discount||0)},path:"value",defaultValue:"0"})),null!==e&&void 0!==e&&e.paid?r.a.createElement(h.a,{width:84},"Paid"):r.a.createElement(h.a,{width:84},"Unpaid")),r.a.createElement(f.a.Item,{flexDirection:"row",gap:20,paddingLeft:4},r.a.createElement(g.a,{disabled:!Se||!Pe,onPress:function(){return be(!0)},cursor:Se&&Pe?"pointer":"not-allowed"},r.a.createElement(E.a,{fill:"grey"})),r.a.createElement(g.a,{disabled:!(Ae&&t!==a.length-1),onPress:function(){return Ae&&t!==a.length?Ee(t,!0):null},cursor:Ae&&t!==a.length-1?"pointer":"not-allowed"},r.a.createElement(C.a,{fill:"grey"}))))}))))),r.a.createElement(f.a.Item,{height:"7%",width:"100%",paddingBottom:12},r.a.createElement(f.a.Item,{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},r.a.createElement(f.a.Item,{width:"78%"},we&&!P?r.a.createElement(h.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"60%"},"This is a short departure itinerary within 48 hours. No custom instalments allowed."):ke?r.a.createElement(h.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"60%"},"This is a short departure itinerary. All instalments should be collected within 48 hours"):je?r.a.createElement(h.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"60%"},"First instalment due date has been crossed. To reset, please delete and re-create custom instalments"):null),r.a.createElement(f.a,null,r.a.createElement(v.a,{alignSelf:"flex-end",backgroundColor:"#fff",padding:15,borderRadius:4,borderWidth:1,borderColor:"#00C684",textProps:{color:"#00C684",fontSize:15,fontWeight:600,lineHeight:20},disabled:!de||je||P,disabledProps:{cursor:"not-allowed",backgroundColor:"#E5E5E5"},onPress:function(){var e="".concat(I.a.api_url,"itinerary/payment/merge-custom-payments"),a={itineraryId:w,value:T,reason:"Clubbing Instalments from FE"};Object(O.a)({url:e,method:"POST",body:a,customHeader:{locale:B},onSuccess:function(e){"SUCCESS"===e.status&&M(Object(d.a)(w,null,B)).then((function(){return t(!1)}))},onFailure:function(){}})}},"Club Instalments"),r.a.createElement(v.a,{alignSelf:"flex-end",backgroundColor:"#00C684",padding:15,borderRadius:4,textProps:{color:"#fff",fontSize:15,fontWeight:600,lineHeight:20},disabled:!de||je||P,disabledProps:{cursor:"not-allowed",backgroundColor:"#E5E5E5"},onPress:function(){var e={itineraryId:w,paymentInstallmentType:"absolute",paymentOptions:[],reason:De},a="".concat(I.a.api_url,"itinerary/payment/schedule/update");if(de){var n=Object(c.a)(W),i=Object(c.a)(q);n.forEach((function(e){var t=l()(e.expiresOn);e.dueOn=t.format("x"),e.expiresOn=t.toISOString(),e.exposureSegment=!0,e.value=e.value+e.tcs})),i.length&&i[0].value&&i.forEach((function(e,t){var a=l()(e.expiresOn).set("hour",23).set("minute",59).set("second",0).set("millisecond",0);e.dueOn=a.format("x"),e.installment=n.length+1+t,e.expiresOn=a.toISOString(),e.exposureSegment=!1,e.value=+e.value}));var r=[];r=i.length&&i[0].value?[].concat(Object(c.a)(n),Object(c.a)(i)):Object(c.a)(n),e.paymentOptions=r,Object(O.a)({url:a,method:"POST",body:e,customHeader:{locale:B},onSuccess:function(e){"SUCCESS"===e.status&&M(Object(d.a)(w,null,B)).then((function(){return t(!1)}))},onFailure:function(){}})}}},"Save Instalments"))))))},j=a(898),T=a.n(j),S=a(138),A=a.n(S),R=a(1334),_=a(896),D=a(1331),P=a(1594),L=a(36),F=a(1663);t.a=function(e){var t,a=e.showPopUp,o=Object(i.useState)(!1),c=Object(n.a)(o,2),s=c[0],u=c[1],m=Object(i.useState)({open:!1,isConfirm:!1}),y=Object(n.a)(m,2),v=y[0],E=y[1],x=Object(p.e)((function(e){var t=e.app;return(void 0===t?{}:t).itineraryInfo})),N=Object(p.d)(),j=Object(i.useMemo)((function(){var e;return null===x||void 0===x||null===(e=x.itinerary)||void 0===e?void 0:e.itineraryId}),[x]),S=Object(i.useMemo)((function(){var e;return null===x||void 0===x||null===(e=x.itinerary)||void 0===e?void 0:e.staleCost}),[x]),M=Object(i.useMemo)((function(){return null===x||void 0===x?void 0:x.paymentDetails}),[x]),B=Object(i.useMemo)((function(){var e;return Math.round(null===x||void 0===x||null===(e=x.itinerary)||void 0===e?void 0:e.totalCost)}),[x]),H=Object(i.useMemo)((function(){var e;return null===x||void 0===x||null===(e=x.costingConfiguration)||void 0===e?void 0:e.departureDate}),[x]),U=Object(i.useMemo)((function(){var e;return null===x||void 0===x||null===(e=x.itinerary)||void 0===e?void 0:e.locale}),[x]),V=Object(i.useMemo)((function(){var e;return null===x||void 0===x||null===(e=x.itinerary)||void 0===e?void 0:e.booking}),[x]),z=Object(i.useMemo)((function(){var e;return null===x||void 0===x||null===(e=x.paymentSchedule)||void 0===e?void 0:e.totalPending}),[x]),G=Object(i.useMemo)((function(){var e;return null===x||void 0===x||null===(e=x.itinerary)||void 0===e?void 0:e.installmentUpdated}),[x]),W=Object(L.useLocation)().pathname,Y=l()(),K=l()(H),J=l.a.duration(Y.diff(K)).asDays();parseFloat(J),A()((function(){if(v.isConfirm){var e="".concat(I.a.api_url,"itinerary/payment/schedule?itineraryId=").concat(j);Object(O.a)({url:e,method:"DELETE",onSuccess:function(e){"SUCCESS"===e.status&&(N(Object(d.a)(j,null,U)),E({open:!1,isConfirm:!1}))},onFailure:function(){return null}})}}),[v]),Object(i.useEffect)((function(){G&&a&&!W.includes("/ab-card")&&(Object(P.a)(N,"Custom Instalment updated!"),setTimeout((function(){q()}),[2e3]))}),[G,W]);var q=Object(i.useCallback)((function(){var e="".concat(I.a.api_url,"itinerary/custom-installment/seen-update/").concat(j);Object(O.a)({url:e,method:"POST",onSuccess:function(e){"SUCCESS"===e.status&&N(Object(d.a)(j,null,U)).then((function(){}))},onFailure:function(){return null}})}),[j,U]);return r.a.createElement(r.a.Fragment,null,null!==x&&void 0!==x&&null!==(t=x.itinerary)&&void 0!==t&&t.costed&&!S&&(!V||null!==M&&void 0!==M&&M.length&&V)?r.a.createElement(f.a,{paddingTop:12,width:"100%",borderWidth:1,borderColor:"#E5E5E5",borderRadius:8,marginTop:24},r.a.createElement(f.a.Item,{width:"100%"},r.a.createElement(f.a,{paddingLeft:20,paddingRight:12,cursor:"pointer",justifyContent:"space-between"},r.a.createElement(g.a,{onPress:function(){return u(!0)},alignItems:"center",flexDirection:"row",paddingBottom:8,gap:2},r.a.createElement(h.a,{fontSize:14,fontWeight:600,lineHeight:19,color:"#00B277"},null!==M&&void 0!==M&&M.length?"Edit ":"Create ","custom instalments"),r.a.createElement(_.a,{fill:"#00B277",width:"15px",height:"15px"})),null!==M&&void 0!==M&&M.length?r.a.createElement(g.a,{onPress:function(){return V?null:E({open:!0,isConfirm:!1})},cursor:V?"not-allowed":"pointer"},r.a.createElement(C.a,{fill:"#E92C2C",height:18,width:18})):null),null!==M&&void 0!==M&&M.length?r.a.createElement(f.a.Item,{backgroundColor:"#F7F7F7",gutter:6,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingBottom:12},r.a.createElement(f.a.Item,{paddingLeft:20,paddingTop:10},r.a.createElement(h.a,{fontSize:14,fontWeight:600,color:"#333333",lineHeight:20},null===M||void 0===M?void 0:M.length," instalments added")),r.a.createElement(f.a.Item,{paddingLeft:20,paddingTop:5},r.a.createElement(f.a,{gutter:4,flexWrap:"wrap",rowGap:4},null===M||void 0===M?void 0:M.map((function(e,t){return r.a.createElement(h.a,{fontSize:14,fontWeight:450,color:"#333333",maxHeight:40,key:t},r.a.createElement(k.a,{objectData:{value:e.amount},path:"value",defaultValue:"0"}))}))))):r.a.createElement(f.a,{paddingVertical:12,backgroundColor:"#FFFAEB",gutter:6,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingBottom:32},r.a.createElement(f.a,{paddingLeft:20,cursor:"pointer"},r.a.createElement(b.a,{fill:"#99791F",width:22,height:22})),r.a.createElement(f.a,{paddingLeft:5},r.a.createElement(h.a,{fontSize:14,width:258,fontWeight:400,color:"#99791F",lineHeight:20,textAlign:"left",maxHeight:40},"By default the exposure amount (non-refundable amount + TCS) or \u20b910,000 is added as first instalment")))),r.a.createElement(R.a,{visible:s,containerProps:{padding:0,width:"100vw",minHeight:"100vh",overflow:"scroll"}},r.a.createElement(f.a,{gutter:"auto",height:"15%",padding:16,backgroundColor:"#F7F7F7",borderTopLeftRadius:8,borderTopRightRadius:8},r.a.createElement(f.a.Item,{paddingLeft:20},r.a.createElement(h.a,{fontWeight:600,fontSize:26,lineHeight:36,color:"rgba(0, 0, 0, 0.9)"},"Custom instalments"),r.a.createElement(f.a,{paddingTop:10},r.a.createElement(f.a,null,r.a.createElement(h.a,{fontSize:14,lineHeight:22,fontWeight:450,color:"#333333"},"Departing in:"),r.a.createElement(h.a,{fontSize:14,lineHeight:22,fontWeight:650,color:"#333333"},Math.round(Math.abs(J))," days (",H,")")),r.a.createElement(f.a,{paddingLeft:10},r.a.createElement(h.a,{fontSize:14,lineHeight:22,fontWeight:450,color:"#333333"},"Total payable:"),r.a.createElement(h.a,{fontSize:14,lineHeight:22,fontWeight:650,color:"#333333"},r.a.createElement(k.a,{objectData:{value:B},path:"value",defaultValue:"0"}))),z<0?r.a.createElement(f.a,{paddingLeft:10},r.a.createElement(h.a,{fontSize:14,lineHeight:22,fontWeight:450,color:"#333333"},"Return Cost:"),r.a.createElement(h.a,{fontSize:14,lineHeight:22,fontWeight:650,color:"#333333"},r.a.createElement(k.a,{objectData:{value:z},path:"value",defaultValue:"0"})," ",r.a.createElement(h.a,{fontSize:14,lineHeight:22,fontWeight:650,color:"#E92C2C"},"(TCS Included)*"))):null)),r.a.createElement(g.a,{onPress:function(){return u(!1)},position:"absolute",top:-40,right:1},r.a.createElement(D.a,{width:20,height:20}))),r.a.createElement(w,{setOpenModal:u}))):null,r.a.createElement(T.a,{show:v.open,title:"Reset Custom Instalment",text:"This will reset the custom instalment to the default state, Are you sure you want to do?",animation:"pop",onCancel:function(){return E({open:!1,isConfirm:!1})},onConfirm:function(){return E({open:!1,isConfirm:!0})},confirmButtonText:"Reset",showCancelButton:!0}),W.includes("/rate-match")&&r.a.createElement(F.a,null))}},1734:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(2),i=a(47),r=a(6),o=n.default.div.withConfig({displayName:"ContainerWrapper"})(["",";padding-left:12px;padding-right:12px;margin-right:auto;margin-left:auto;","{width:1176px;}"],i.d,r.lg)},1741:function(e,t,a){"use strict";var n=a(2),i=a(5),r=n.default.span.withConfig({displayName:"TopRecommended"})(["display:inline-block;vertical-align:top;margin-left:10px;i{display:inline-block;vertical-align:top;background:#00c684;color:",";font-size:",";line-height:24px;padding:0 4px;}b{display:inline-block;vertical-align:top;font-weight:",";font-size:",";line-height:24px;letter-spacing:-0.25px;background-color:",";padding:0 4px;}"],i.theme.white,i.theme.baseSecondary,i.theme.semiBold,i.theme.microSecondary,i.theme.white);t.a=r},1767:function(e,t,a){"use strict";a(1680)("withRouter"),e.exports=a(1681).withRouter},1793:function(e,t,a){var n=a(911),i=a(195);e.exports=function(e,t,a,r){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(a=r?void 0:a)||(a=null==a?[]:[a]),n(e,t,a))}},1819:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(12);function i(e){return function(t){return new Promise((function(a){t({type:n.Ab,payload:e}),a("Promised resolved from fetch")}))}}},1820:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(71);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"itinerary",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.querySelector(".itinerary-header"),i=document.querySelector(".content-wrap"),r=document.querySelector(".itinerary-header-name"),o=document.querySelector(".itinerary-secodary-hdr"),l=document.querySelector(".navbar-outer"),c=l&&l.clientHeight||0,s=document.querySelector(".breadcrumb-container"),u=s&&s.clientHeight||0;s&&!Object(n.a)()?(s.classList.add("sticky"),i.classList.add("with-breadcrumb")):i&&i.classList.remove("with-breadcrumb");var d=document.querySelector("section.itinerary");"costing"===e&&(d=document.querySelector(".costing-tab")),o&&!Object(n.a)()&&(d=o);var m=r&&r.clientHeight;if(a){var p=window.pageYOffset,f=m+6;t&&Object(n.a)()&&(f+=s?s.clientHeight:0),p>f?(a.classList.add("sticky"),d.style.marginTop=a.clientHeight+"px",a.style.top=c+u-f+"px"):(a.classList.remove("sticky"),a.style.top=t?40:0,d.style.marginTop=0)}}},1821:function(e,t,a){"use strict";function n(e){var t=e.couponVO,a=e.hotelCostings;if("object"===typeof t&&"object"===typeof a&&"CRED"===t.couponPartner){var n=a.costingById;if("object"===typeof n)for(var i in n){var r=n[i]||{};if("string"===typeof r.status&&"SOLD_OUT"===r.status)return{status:!0,message:r.name?r:{name:"The hotel"}}}}return{status:!1}}a.d(t,"a",(function(){return n}))},1822:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),i=a.n(n),r=a(289),o=a.n(r),l=a(194);function c(e){var t=e.credAlertStatus,a=e.callback;return i.a.createElement(l.a,{backgroundClass:"bg-white"},i.a.createElement(o.a,{show:t,title:"Oops!",text:"A hotel in the itinerary is unavailable for the selected dates",onConfirm:a,animation:"pop",confirmButtonText:"Select another itinerary"}))}},1827:function(e,t,a){"use strict";a.d(t,"j",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"l",(function(){return f})),a.d(t,"m",(function(){return h})),a.d(t,"k",(function(){return y})),a.d(t,"i",(function(){return g})),a.d(t,"h",(function(){return v})),a.d(t,"f",(function(){return b})),a.d(t,"e",(function(){return E})),a.d(t,"a",(function(){return C}));var n=a(2),i=a(1734),r=a(6),o=a(5),l=a(110),c=a(290),s=n.default.div.withConfig({displayName:"domesticItinerarystyles__DomesticWrapper"})(["","{background-color:",";}"],r.sm,o.theme.whiteGrey),u=Object(n.default)(i.a).withConfig({displayName:"domesticItinerarystyles__DomesticContainer"})(["","{padding:",";}","{padding:",";}"],r.xs,(function(e){return e.containerPadding||"16px"}),r.md,(function(e){return e.containerPadding||"24px 0"})),d=n.default.div.withConfig({displayName:"domesticItinerarystyles__DomesticBannerWarpper"})(["height:252px;margin-right:-16px;margin-left:-16px;.slick-slider{.slick-arrow{right:0;:before{content:'';}}}&.activity-details-xs .details-banner .details-banner-slider figure{height:252px;}","{height:427px;margin-top:8px;margin-right:auto;margin-left:auto;&.activity-details .details-banner .banner-image li{height:427px;margin-right:12px;width:calc(30% - 12px);img{","{border-radius:6px;box-shadow:none;}}:first-child{width:calc(50% - 12px);}:last-child{width:20%;margin-right:0;img{border-top-left-radius:6px;border-top-right-radius:0;border-bottom-left-radius:6px;border-bottom-right-radius:w0;}}}}&.hotel-details .details-banner{","{position:absolute;}}"],r.sm,r.sm,r.sm),m=n.default.div.withConfig({displayName:"domesticItinerarystyles__DomesticLeftContainer"})(["float:left;width:100%;","{width:65%;}","{width:63.03%;}.inclusions-xs .card{margin:16px 0 0;border-radius:8px;}.inclusions .inclusion-box .item-header{background-color:#f0f0f0;}.stacked-more{margin-top:-22px;:before{border-top:16px solid #ccc;}}.panel-group{margin:-12px 0 0;.panel{border-radius:0;box-shadow:0 1px 0 0 #d4d4d4;background:transparent;.panel-title{text-decoration:none;color:",";user-select:none;}}.panel-body{font-size:",";padding:4px 16px;","{padding:0 24px;}a{cursor:pointer;}ol{margin-left:-16px;li{padding-left:2px;}}}}"],r.md,r.lg,o.theme.blackSecondary,o.theme.small,r.sm),p=Object(n.default)(c.a).withConfig({displayName:"domesticItinerarystyles__DomesticRightContainer"})(["float:right;.sticky-inner-wrapper{z-index:3;}margin-top:-64px;","{width:31.95%;}"],r.lg),f=n.default.div.withConfig({displayName:"domesticItinerarystyles__PriceCardWrapper"})(["width:368px;height:295px;border:1px solid #e5e5e5;box-sizing:border-box;border-radius:8px;padding:24px;background-color:",";"],o.theme.white),h=n.default.div.withConfig({displayName:"domesticItinerarystyles__PriceUnBlockWrapper"})(["border:0;display:flex;justify-content:center;padding-bottom:24px;border-bottom:1px solid #d4d4d4;margin:0 -24px 22px;& > span{display:inline-flex;flex-direction:column;letter-spacing:-0.02em;margin-right:18px;span{color:",";","}b{color:",";font-size:24px;line-height:30px;text-align:right;}}button{"," ","}"],o.theme.grey,l.i,o.theme.blackSecondary,l.j,(function(e){return e.isStaleCost&&Object(n.css)(["padding:12px 64px;"])})),y=n.default.div.withConfig({displayName:"domesticItinerarystyles__MobilePriceBlock"})(["display:flex;flex-direction:column;> span{font-size:13px;line-height:16px;color:#777777;letter-spacing:-0.02em;}"]),g=(n.default.p.withConfig({displayName:"domesticItinerarystyles__OverviewText"})(["font-size:",";line-height:20px;letter-spacing:-0.02em;color:",";margin:24px 0 0;","{font-size:",";line-height:24px;margin:18px 0 24px;}"],o.theme.small,o.theme.blackSecondary,r.md,o.theme.base),n.default.section.withConfig({displayName:"domesticItinerarystyles__DomesticSectionWrapper"})(["margin:",";","{margin:",";}&.inclusions-xs{margin:0px;}"],(function(e){return e.margin?e.margin:"0 0 40px"}),r.sm,(function(e){return e.margin?e.margin:"0 0 48px"}))),v=n.default.p.withConfig({displayName:"domesticItinerarystyles__DomesticSectionTitle"})(["font-size:",";line-height:23px;letter-spacing:-0.02em;color:#666666;font-weight:",";margin:0;padding-bottom:",";letter-spacing:-0.02em;","{font-size:22px;line-height:28px;padding-bottom:16px;}"],o.theme.medium,o.theme.semiBold,(function(e){return e.titlePadding||"20px"}),r.sm),b=n.default.p.withConfig({displayName:"domesticItinerarystyles__DomesticMetaText"})(["font-size:",";line-height:20px;letter-spacing:-0.02em;margin-bottom:20px;color:",";&:last-child{margin-bottom:0;}"],o.theme.small,o.theme.blackSecondary),E=n.default.strong.withConfig({displayName:"domesticItinerarystyles__DomesticMetaHeading"})(["display:block;font-size:",";line-height:20px;letter-spacing:-0.02em;color:",";font-weight:",";margin-bottom:8px;"],o.theme.small,o.theme.greyMedium,o.theme.semiBold),C=n.default.ul.withConfig({displayName:"domesticItinerarystyles__BreadcrumbsWrapper"})(["font-size:14px;line-height:18px;color:rgba(0,0,0,0.5);opacity:0.7;padding:0;","{font-size:16px;line-height:23px;}li{list-style:none;display:inline-block;cursor:pointer;:after{content:'\\ea10';font-family:'pyticon';display:inline-block;line-height:1;vertical-align:middle;padding:0 3px;font-size:12px;}:last-child{",":after{display:none;}}}"],r.sm,(function(e){return!e.ignoreLast&&Object(n.css)(["cursor:default;"])}))},1878:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(2),o=a(5),l=a(6),c=a(110),s=r.default.div.withConfig({displayName:"SeoTextSectionComponent__SeoTextSection"})(["border-top:1px solid rgba(44,47,66,0.2);padding:24px 4px 0;margin-top:24px;","{padding-left:0;padding-right:0;}h3{",";margin-top:0;margin-bottom:8px;color:",";font-weight:",";}p{color:",";margin-bottom:16px;",";}"],l.md,c.i,o.theme.grey,o.theme.bold,o.theme.grey,c.c);t.a=function(e){var t=e.content;return i.a.createElement(s,{className:"clearfix fw seo-text",dangerouslySetInnerHTML:{__html:t}})}},1887:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(363),o=a(18);t.a=function(e){return(e||[]).map((function(e,t){return i.a.createElement(r.a,{key:t,image:Object(o.a)(e,"featuredImage.medium"),slug:e.url,regionName:e.title,removeTruncate:!0})}))}},1898:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(14),i=a(22),r=a(610);function o(e,t){return function(a){return new Promise((function(o,l){var c="".concat(n.a.api_url,"itinerary/").concat(e,"/name"),s={itineraryId:e,name:t};Object(i.a)({url:c,method:"POST",body:s,onSuccess:function(e){"SUCCESS"===e.status.toUpperCase()?o():l()},onFailure:function(e){e.responseJSON,401===(e.responseJSON||{}).status&&a(Object(r.a)({show:!0}))}})}))}}},1899:function(e,t,a){"use strict";function n(){var e=document.querySelector("body"),t=document.querySelector(".offcanvas-bg"),a=document.querySelector(".offcanvas-menu");e.classList.add("scroll-locked"),t.classList.add("in"),a&&a.classList.add("open-menu")}a.d(t,"a",(function(){return n}))},1900:function(e,t,a){"use strict";var n=a(11),i=a(0),r=a.n(i),o=a(2),l=a(588),c=a.n(l),s=a(290),u=a(110),d=a(5),m=a(6),p=a(20),f=a(1827),h=a(15),y=a(1660),g=a(1767),v=a.n(g),b=c.a.scroller,E=o.default.div.withConfig({displayName:"ItineraryNavigation__NavigationWrapper"})([".sticky-inner-wrapper{z-index:3;}"]),C=o.default.div.withConfig({displayName:"ItineraryNavigation__ListWrapper"})(["white-space:nowrap;overflow-x:scroll;border-bottom:1px solid #d2d2d2;background:",";::-webkit-scrollbar{width:0px;height:0px;background:transparent;}transition:all 0.2s ease;","{padding:0;a:first-child{span{:before{","{content:'';}}}}a:first-child,a:last-child{span{span{:after{display:none;}}}}}","{height:auto;border-bottom:1px solid #d2d2d2;padding:",";transition:all 0.3s ease;}.active{> span{:after{content:' ';display:inline-block;position:absolute;top:auto;bottom:0;height:3px;width:80px;background:#1895b3;border-radius:8px 8px 0px 0px;","{content:'';height:0;}}color:",";}}"],(function(e){return e.enableWhiteBackground?d.theme.white:"transparent"}),f.c,m.sm,m.sm,(function(e){return e.navPadding||"18px 0"}),m.sm,d.theme.black),x=o.default.span.withConfig({displayName:"ItineraryNavigation__Tab"})(["color:#888888;display:inline-flex;justify-content:center;flex-direction:column;align-items:center;width:80px;height:63px;position:relative;cursor:pointer;padding-top:12px;padding-bottom:12px;margin-right:8px;","{width:114px;height:100%;padding:0;margin:0;}:before{","{content:'+';display:inline-block;position:absolute;right:100%;font-size:20px;line-height:30px;top:10%;color:rgba(0,0,0,0.33);}}i:first-child{font-size:",";}span{display:inline-block;margin-top:4px;position:relative;"," font-weight:",";","{","}:after{","}}"],m.sm,m.sm,d.theme.largeMedium,u.a,d.theme.semiBold,m.sm,u.b,(function(e){return e.showAlert&&Object(o.css)(["content:'\\eaa6';font-weight:normal;font-family:'pyticon';height:16px;position:absolute;font-size:14px;line-height:14px;background-color:#ef435d;border:1px solid #fff;border-radius:100%;background-clip:padding-box;color:",";right:-12px;top:-8px;","{right:-10px;top:-5px;}"],d.theme.white,m.sm)})),O=Object(p.a)();t.a=v()((function(e){var t=e.itineraryInfo,a=void 0===t?{}:t,o=e.unlockDeal,l=void 0===o?function(){}:o,u=e.goToInclusions,d=void 0===u?function(){}:u,m=e.isItineraryView,p=void 0!==m&&m,g=e.navPadding,v=void 0===g?"":g,I=e.location,N=c.a.Link,k=Object(i.useState)(!1),w=Object(n.a)(k,2),j=w[0],T=w[1],S=a.allFlightCostingRefs,A=void 0===S?[]:S,R=a.allHotelCostingRefs,_=void 0===R?[]:R,D=a.allTransferCostingRefs,P=a.allActivityCostingRefs,L=a.allRentalCostingRefs,F=void 0===L?[]:L,M=a.allFerryCostingRefs,B=void 0===M?[]:M,H=a.flightCostings,U=void 0===H?{}:H,V=a.hotelCostings,z=void 0===V?{}:V,G=a.transferCostings,W=void 0===G?{}:G,Y=a.ferryCostings,K=void 0===Y?{}:Y,J=a.activityCostings,q=a.rentalCarCostings,Q=a.itinerary,X=void 0===Q?{}:Q;Object(i.useEffect)((function(){var e=(I.state||{}).target;!p&&e&&b.scrollTo(e,{duration:500,smooth:!0,spy:!0,offset:O?-80:-120})}),[]);var $=!X.costed,Z=X.costed&&X.staleCost,ee=A.length,te=(_||[]).length,ae=(D||[]).length+(F||[]).length+(B||[]).length,ne=(P||[]).length,ie=!!A&&A.some((function(e){return"SUCCESS"!==U.costingById[e].status&&"BLOCKED"!==U.costingById[e].status})),re=!!_&&_.some((function(e){return"SUCCESS"!==z.costingById[e].status})),oe=!!P&&P.some((function(e){return"SUCCESS"!==J.costingById[e].status})),le=D&&D.some((function(e){return"SUCCESS"!==W.costingById[e].status}))||F&&F.some((function(e){return"SUCCESS"!==q.costingById[e].status}))||B&&B.some((function(e){return"SUCCESS"!==K.costingById[e].status})),ce=function(e,t){d(e,"Inclusions",{target:t})},se=[{name:"Day wise plan",panelName:"day-by-day",icon:"pyt-daybyday-fill",clickAction:!p&&function(e){return d(e,"Itinerary")}},$||ee?{name:"".concat(ee>1?"Flights":"Flight"," ").concat($||Z?"":"(".concat(ee,")")),panelName:"flight",icon:"pyt-flight-departure-fill-24",soldOut:ie,clickAction:function(e){$?l(e):p?ce(e,y.a.Flights):Z&&l(e,"Update"),$?Object(h.Ld)(h.Cb,{element_name:"flight"}):Object(h.Ld)(h.Db,{element_name:"flight_costed"})}}:null,{name:"".concat(te>1?"Stays":"Stay"," ").concat($||Z?"":"(".concat(te,")")),panelName:"stay",icon:"pyt-hotel-fill",soldOut:re,clickAction:function(e){$?l(e):p?ce(e,y.a.Hotels):Z&&l(e,"Update"),$?Object(h.Ld)(h.ed,{element_name:"stays"}):Object(h.Ld)(h.fd,{element_name:"stays_costed"})}},{name:"".concat(ae>1?"Transfers":"Transfer"," ").concat($||Z?"":"(".concat(ae,")")),panelName:"transfer",icon:"pyt-transfer-fill",soldOut:le,clickAction:function(e){$?l(e):p?ce(e,y.a.Transfers):Z&&l(e,"Update"),$?Object(h.Ld)(h.md,{element_name:"transfer"}):Object(h.Ld)(h.nd,{element_name:"transfer_costed"})}},$||ne?{name:"".concat(ne>1?"Activities":"Activity"," ").concat($||Z?"":"(".concat(ne,")")),panelName:"activities",icon:"pyt-activities_fill",soldOut:oe,clickAction:function(e){$?l(e):p?ce(e,y.a.Activities):Z&&l(e,"Update"),$?Object(h.Ld)(h.a,{element_name:"activities"}):Object(h.Ld)(h.b,{element_name:"activities_costed"})}}:null,{name:"More",panelName:"more",icon:"pyt-more-fill",clickAction:function(e){$?l(e):p?ce(e,y.a.TotalCost):Z&&l(e,"Update"),$?Object(h.Ld)(h.gc,{element_name:"more"}):Object(h.Ld)(h.hc,{element_name:"more_costed"})}}];return r.a.createElement(E,null,r.a.createElement(s.a,{top:0,onStateChange:function(e){2===e.status?T(!0):T(!1)}},r.a.createElement(C,{enableWhiteBackground:j,navPadding:v},r.a.createElement(f.c,null,se.map((function(e,t){return e?r.a.createElement(N,{to:e.panelName,spy:!0,smooth:!0,duration:500,offset:O?-80:-120,key:"tab-".concat(t),onClick:e.clickAction}," ",r.a.createElement(x,{showAlert:Z?null:e.soldOut},r.a.createElement("i",{className:e.icon}),r.a.createElement("span",null,e.name))):null}))))))}))},1901:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a(33),i=a(0),r=a.n(i),o=a(4),l=a(1595),c=a(588),s=a.n(c),u=a(7),d=a(1686),m=a(14),p=a(216),f=a(15),h=a(1340),y=a(214),g=a(18),v=a(55),b=a(1592),E=a(1593),C=a(2594),x=s.a.scroller,O=m.a.user_type_agent;function I(e){var t=e.itineraryInfo,a=Object(y.b)(t),i=Object(l.e)(t,e.adult_count,e.child_count),c=t.itinerary,s=c.itineraryId,I=c.totalCost,N=c.costed,k=c.staleCost,w=c.booking,j=c.strikedCost,T=c.discount,S=e.history,A=e.match,R=e.isDubai,_=e.goToInclusions,D=e.isInclusion,P=void 0!==D&&D,L=e.hideComfyScore,F=void 0!==L&&L,M=e.hideEditRoute,B=void 0!==M&&M,H=e.hideEditTitle,U=void 0!==H&&H,V=e.locale,z=[],G=e.user_details,W=void 0===G?{loggedIn:!1,userType:"USER"}:G,Y=e.isReadOnly,K=e.defaultFooterOptions,J=void 0===K?[]:K,q=function(){Object(f.Ld)(f.Cc,{button_clicked:"Mobile Footer"}),Object(l.a)({props:e,isMobile:!0,locale:V})};if(!w&&W&&"ADMIN"===W.userType&&(e.itineraryInfo.itinerary.shared||z.push({iconName:"pyt-share-16",text:"Share Itinerary",isRedirect:!1,action:function(){Object(d.d)(t,S)}}),z.push({iconName:"pyt-whatsapp-16",isRedirect:!1,text:"Share PDF",action:function(){Object(d.e)(null,t,s)}},{iconName:"pyt-arrow-top-16",isRedirect:!1,text:"Send to PLATO",action:function(){Object(d.c)(s)}})),!a&&Object(b.a)({permissions:null===W||void 0===W?void 0:W.permissions,key:E.j})&&z.push({iconName:"pyt-email-16",text:W&&W.userType===O?"Download PDF":"Email Quote",action:q}),Object(b.a)({permissions:null===W||void 0===W?void 0:W.permissions,key:E.j})&&z.push({iconName:"pyt-email-16",text:"Download PDF",action:null,icon:r.a.createElement(C.a,{style:{marginRight:"10px"},fill:"rgb(51, 51, 51)"}),isRedirect:!0,redirectLink:"".concat(m.a.api_url,"cost/").concat(s,"/downloadItineraryPdf")}),z.push({iconName:"pyt-close-circle-16",text:"Cancellation Policy",action:function(e){Object(d.b)(e,t,S),Object(f.Ld)(f.y)}}),!w&&!Y&&(W||{}).loggedIn&&!t.itinerary.campaign){var Q=Object(u.Jb)({itineraryId:s,regionCode:A.params.searchRegion||"region",target:u.D,location:S.location});U||J.push({iconName:"pyt-edit-16",text:"Edit Title",isRedirect:!1,redirectLink:Q})}var X=Y?r.a.createElement("span",{className:"text-right",style:{textAlign:"right"}},a?r.a.createElement("span",{className:"caps-text-micro color-grey-light",style:{fontSize:15}},"Starting \xa0"):null,r.a.createElement("span",{style:{fontSize:20,fontWeight:"bold"}},r.a.createElement(v.a,{objectData:{value:I},path:"value",defaultValue:"0"})),r.a.createElement("span",{className:"caps-text-micro color-grey-light",style:{fontSize:15}},"\xa0",a?"/person *":"Price for 2 persons")):"Edit route",$=N&&!k?[].concat(z,Object(n.a)(J)):J,Z=function(e){e&&e.preventDefault(),S.push(Object(u.Jb)({itineraryId:Object(g.a)(t,"itinerary.itineraryId"),regionCode:Object(g.a)(t,"itinerary.regionCode"),parentPage:P?u.Lb.inclusion:u.Lb.itinerary,target:u.x}))},ee=0;return t&&t.itinerary&&(ee=isNaN(t.itinerary.comfyScore)?0:Number(t.itinerary.comfyScore).toFixed(2)),R?r.a.createElement(h.DubaiItineraryMobileFooter,{goToInclusions:_,isCosted:N,staleCost:k,discount:T,strikedCost:j,booking:w,history:S,itineraryInfo:t,isInclusion:P,leftIconClass:N?"icon pyt-flash-on-16":"",onOptionClick:function(e,t){e&&e.preventDefault();var a=$.find((function(e){return e.text===t}));a.redirectLink?S.push(a.redirectLink):a.action?a.action():a.scrollTo&&x.scrollTo(a.scrollTo)},onTalkToExpert:Y||w?null:function(){var t=Object(p.a)(S.location.pathname);e.isFromPackages?S.push("/".concat(t,"/request-callback")):S.push(Object(u.Jb)({itineraryId:s,regionCode:A.params.searchRegion,target:u.r}))},onEditButtonClick:Y&&!N||w?function(){}:e.isFromPackages||N&&!k?e.clickGetCost:function(){var e=Object(u.Jb)({itineraryId:s,regionCode:A.params.searchRegion,target:u.E});S.push(e)},onButtonClickAction:function(t){!N||k?e.clickGetCost(t,"Update"):P?e.clickGetCost(t,"BookTrip"):_()},menuIcons:e.menuIcons,panelMenu:e.panelMenu,footerButtonClass:"btn btn-primary",footerButtonText:k?"Update Cost":Y?"Check Availability":P?"Get trip cost":"Review Inclusions",footerText:X,footerData:i.costingConfiguration,liOptions:$,comfyScore:ee,setComfyScoreModal:Z}):r.a.createElement(o.vc,{isDubai:R,goToInclusions:_,isCosted:N,discount:T,staleCost:k||a,booking:w,history:S,itineraryInfo:t,leftIconClass:N?"icon pyt-flash-on-16":"",isFromPackages:e.isFromPackages,onOptionClick:function(e,t){e&&e.preventDefault();var a=$.find((function(e){return e.text===t}));a.redirectLink?S.push(a.redirectLink):a.action?a.action():a.scrollTo&&x.scrollTo(a.scrollTo)},onClickEmailQuote:q,onTalkToExpert:Y||w?null:function(t){var a=Object(p.a)(S.location.pathname);e.isFromPackages?S.push("/".concat(a,"/request-callback")):S.push(Object(u.Jb)({itineraryId:s,regionCode:A.params.searchRegion,target:t,location:S.location}))},onEditButtonClick:a||Y&&!N||w?function(){}:e.isFromPackages||N&&!k?e.clickGetCost:function(){var e=Object(u.Jb)({itineraryId:s,regionCode:A.params.searchRegion,target:u.E});S.push(e)},onButtonClickAction:e.clickGetCost,menuIcons:e.menuIcons,panelMenu:e.panelMenu,footerButtonClass:"btn btn-primary",footerButtonText:a?"Reserve":k?"Update Cost":Y?"Check Availability":"Get trip cost",footerText:X,hideEditRoute:B,footerData:i.costingConfiguration,liOptions:$,isT20:a,isInclusion:P,comfyScore:ee,setComfyScoreModal:Z,setSplitPriceModal:function(e){e&&e.preventDefault(),S.push(Object(u.Jb)({itineraryId:Object(g.a)(t,"itinerary.itineraryId"),regionCode:Object(g.a)(t,"itinerary.regionCode"),parentPage:P?u.Lb.inclusion:u.Lb.itinerary,target:u.xb}))},hideComfyScore:F,locale:V})}},1913:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=i.a.createContext(null)},1984:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(14),o=a(216);t.a=function(e){var t=e.theme,a=e.location,n=e.isFromPackages,l=e.locale,c=a.pathname.split("/"),s=c.length>2?c[c.length-1]:"";if(n)return l?t&&!s?i.a.createElement("link",{rel:"canonical",href:"".concat(r.a.domain_url).concat(l,"/").concat(t,"-packages")}):t&&s?i.a.createElement("link",{rel:"canonical",href:"".concat(r.a.domain_url).concat(l,"/").concat(t,"-packages/").concat(s)}):"packages"===s?i.a.createElement("link",{rel:"canonical",href:"".concat(r.a.domain_url).concat(l,"/").concat(s)}):i.a.createElement("link",{rel:"canonical",href:"".concat(r.a.domain_url).concat(l,"/packages/").concat(s)}):t?i.a.createElement("link",{rel:"canonical",href:"".concat(r.a.domain_url).concat(l).concat(t,"-packages").concat(s?"/":"").concat(s)}):i.a.createElement("link",{rel:"canonical",href:"".concat(r.a.domain_url).concat(l,"packages").concat(s?"/":"").concat(s)});var u=Object(o.a)(a.pathname);return i.a.createElement("link",{rel:"canonical",href:"".concat(r.a.domain_url).concat(l).concat(l?"/":"").concat(u)})}},2054:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),r=a(245),o=a(1594),l=a(190),c=a(340),s=a(12);function u(e){return function(t){return new Promise((function(a,u){var d="".concat(n.a.api_url,"itinerary/transfer/modify");Object(i.a)({url:d,method:"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data),Object(o.a)(t,c.t),a("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,t),t({type:s.Eb,payload:e}),u("Failed")}})}))}}},2066:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(2),i=n.default.div.withConfig({displayName:"ItineraryFooterStyles"})(["display:flex;flex-direction:column;justify-content:space-between;.half-width{display:flex;justify-content:space-between;padding-bottom:16px;.left-block{width:50%;padding-right:20%;span{color:#26cf96;&:hover{cursor:pointer;}i{vertical-align:-2px;}}}.right-block{padding-left:10%;width:50%;text-align:right;}}}"]),r=n.default.div.withConfig({displayName:"ItineraryFooterStyles__BottomBar"})(["display:flex;& >:first-child{border-right:1px solid #e5e5e5;}"]);t.b=i},2067:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(2),i=a(14),r=a(5),o=a(6),l=a(1709),c=a(23),s=Object(n.css)(["background-image:url('","');background-repeat:no-repeat;background-size:520px 520px;"],Object(c.a)("https:".concat(i.a.imgix_base,"/images/web_app/worldcup/icc_itinerary_v4.png"))),u=n.default.div.withConfig({displayName:"MatchInfoStyles__MatchInfoWrapper"})(["display:flex;flex-wrap:wrap;align-items:center;background-color:#2a5e9b;position:relative;color:",";min-height:",";padding:",";margin:",";","{padding:",";min-height:",";}","{margin:",";}&:before{content:'';",";position:absolute;top:",";bottom:",";left:",";right:",";width:",";height:",";background-position:",";","{left:",";width:",";height:",";background-position:",";}}.match-info-inner{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;position:relative;z-index:1;width:100%;.agent-logo{",";display:inline-block;vertical-align:top;width:80px;height:50px;background-position:-209px -313px;","{width:",";height:",";background-position:",";}}.right-info{","{margin-top:",";width:",";}.match-title{display:block;font-size:12px;font-weight:",";margin-bottom:4px;}","{margin-bottom:2px;}","{","{font-size:",";span{i{vertical-align:middle;}}}}strong{display:block;font-size:",";font-weight:",";margin:12px 0 4px;}p{margin:0;font-size:14px;","{font-size:",";}}}}"],r.theme.white,(function(e){return e.isInclusions?"217px":"70px"}),(function(e){return e.isInclusions?"16px":"11px 16px"}),(function(e){return e.isInclusions?"16px -12px":"-16px"}),o.sm,(function(e){return e.isInclusions?"24px":"13px 24px"}),(function(e){return e.isInclusions?"217px":"96px"}),o.md,(function(e){return e.isInclusions?"0 0 32px":null}),s,(function(e){return e.isInclusions?null:"0"}),(function(e){return e.isInclusions?"0":null}),(function(e){return e.isInclusions?null:"0"}),(function(e){return e.isInclusions?"0":null}),(function(e){return e.isInclusions?"209px":"120px"}),(function(e){return e.isInclusions?"217px":"70px"}),(function(e){return e.isInclusions?"-309.5px 0":"-260px -217px"}),o.sm,(function(e){return e.isInclusions?"0":null}),(function(e){return e.isInclusions?"309.5px":"260px"}),(function(e){return e.isInclusions?"217px":"96px"}),(function(e){return e.isInclusions?"0 0":"0 -217px"}),s,o.sm,(function(e){return e.isInclusions?"209px":"100px"}),(function(e){return e.isInclusions?"130px":"65px"}),(function(e){return e.isInclusions?"0 -313px":"-380px -217px"}),o.xs,(function(e){return e.isInclusions?"20px":null}),(function(e){return e.isInclusions?"100%":null}),r.theme.semiBold,l.a,o.xs,l.a,r.theme.baseSecondary,r.theme.baseSecondary,r.theme.semiBold,o.sm,r.theme.baseSecondary)},2068:function(e,t,a){"use strict";var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),u=a(35),d=a.n(u);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var p=function(e){Object(r.a)(a,e);var t=m(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.headingTxt,a=e.buttonTxt,n=e.closeAlertOption,i=e.enableHeader,r=e.enableFooter,o=e.isOpen,l=e.filterCollection,c=void 0===l?{}:l,u=e.type;return s.a.createElement("div",{className:d()("alert-options outer-space",{"enable-hdr":i},{"enable-ftr":r},{"slide-up":o})},i?s.a.createElement("div",{className:"opt-hdr"},s.a.createElement("p",null,t)):null,s.a.createElement("div",{className:"opt-tabs"},s.a.createElement("ul",{className:"list-unstyled mb-0"},c[u].map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("b",null,e.label),e.subLabel)})))),r?s.a.createElement("div",{className:"opt-ftr"},s.a.createElement("button",{className:"btn btn-light btn-block",onClick:n},a)):null)}}]),a}(c.Component);p.defaultProps={buttonTxt:"Okay, got it",enableHeader:!1,enableFooter:!1,isOpen:!1},t.a=p},2069:function(e,t,a){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];window.bk_async=function(){var t;window.bk_allow_multiple_calls=!0,window.bk_use_multiple_iframes=!0,window.bk_addPageCtx("account","PickYourTrail"),null===(t=Object.keys(e))||void 0===t||t.map((function(t){window.bk_addPageCtx(t,e[t])})),e.userEmail&&window.bk_addEmailHash(e.userEmail),e.userPhone&&window.bk_addPhoneHash(e.userPhone),window.BKTAG.doTag(93225,4)}}},2074:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return g}));var n=a(1),i=a(0),r=a.n(i),o=a(900),l=a(1601),c=a(196),s=a.n(c),u=a(20),d=function(){return r.a.createElement(i.Fragment,null,"Dummy")},m=function(e){var t=e.loaderState,a=e.rows,n=void 0===a?2:a;return r.a.createElement(s.a,{color:"transparent",className:"animated-background",type:"text",rows:n,ready:t},r.a.createElement(d,null))},p=function(e){var t=e.loaderState,a=e.styleObj;return r.a.createElement(o.RectShape,{color:"transparent",className:"animated-background media-image",style:Object(n.a)({width:"100%"},a),ready:t},r.a.createElement(d,null))},f=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(m,e)))};function h(e){return Object(u.a)()?Object(l.a)(0,6).map((function(t){return r.a.createElement("section",{key:"loading_placeholder_"+t,className:"flight-card"},r.a.createElement("div",{className:"left-col",style:{width:"33%"}},r.a.createElement(o.RoundShape,{style:{height:50,width:50,margin:"0 auto"},color:"transparent",className:"animated-background"})),r.a.createElement("div",{className:"card-footer",style:{marginTop:"12px",width:"37%"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12  mbottom-small"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"col-xs-12  mbottom-small"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"col-xs-12  mbottom-small"},r.a.createElement(m,Object.assign({},e,{rows:1}))))),r.a.createElement("div",{className:"right-col",style:{width:"30%",padding:"18px 12px"}},r.a.createElement(p,e)))})):Object(l.a)(0,3).map((function(t){return r.a.createElement("section",{key:"loading_placeholder_"+t,className:"flight-card"},r.a.createElement("div",{className:"left-col"},r.a.createElement(p,e)),r.a.createElement("div",{className:"middle-col"},r.a.createElement("div",{className:"clearfix route"},r.a.createElement("div",{className:"split-width"},r.a.createElement(m,e)),r.a.createElement("div",{className:"split-width text-center"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"split-width"},r.a.createElement(m,e))),r.a.createElement("div",{className:"clearfix route"},r.a.createElement("div",{className:"split-width"},r.a.createElement(m,e)),r.a.createElement("div",{className:"split-width text-center"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"split-width"},r.a.createElement(m,e))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row mbottom-medium"},r.a.createElement("div",{className:"col-xs-4"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"col-xs-4 col-xs-offset-4"},r.a.createElement(m,Object.assign({},e,{rows:1})))))),r.a.createElement("div",{className:"right-col price-variant-col"},r.a.createElement(p,e)))}))}function y(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),Object(l.a)(0,5).map((function(t,a){return r.a.createElement(i.Fragment,{key:a},r.a.createElement("section",{className:"panel"},r.a.createElement(m,e),r.a.createElement(f,e)),r.a.createElement("hr",null))})))}function g(e){var t=Object(u.a)();return r.a.createElement("div",{tabIndex:"0",className:"flights-alternate mbottom-large"},e.children,r.a.createElement("div",{className:"container lg-container"},r.a.createElement("div",{className:"row"},t?null:r.a.createElement("aside",{className:"col-md-3 altermodal-filters"},r.a.createElement("div",{className:"panel-group"},r.a.createElement(y,{loaderState:!1}))),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium"},"Loading..."),r.a.createElement(h,{loaderState:!1,isMobileDevice:t,title:"Change Flight"})))))}},2097:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(18),i=a(1649),r=a(43),o=a(159);function l(){var e=Object(n.a)(r.b.getState().activitiesPreviewList,"activityList");if(e){var t=Object(i.a)(e,(function(e){return e.removed}));-1!==t&&(e.splice(t,1),r.b.dispatch({type:o.a,payload:e}))}}},2098:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1793),i=a.n(n),r=function(e,t){var a=e.filter((function(e){return e.selectedTourGrade.diff&&"PRICEDECREASE"===e.selectedTourGrade.diff.diffChangeType}));if(a.length>0){var n="asc"===t?"desc":"asc";return a=i()(a,["selectedTourGrade.diff.diffCost"],n)}return[]},o=function(e,t){var a=e.filter((function(e){return e.selectedTourGrade.diff&&"PRICEINCREASE"===e.selectedTourGrade.diff.diffChangeType}));return a.length>0?a=i()(a,["selectedTourGrade.diff.diffCost"],[t]):[]};function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",n=e,l=n?n.filter((function(e){return e.free})):[],c=n?n.filter((function(e){return!e.free})):[],s=[];if(t)s=i()(c,[function(e){return e.selectedTourGrade.cost}],[a]);else{var u=c.filter((function(e){return!e.selectedTourGrade.diff}));u.length>0&&(u=i()(u,[function(e){return Number(e.selectedTourGrade.cost)}],[a]),s=s.concat(u));var d=[];d="asc"===a?r(c,a):o(c,a),s=s.concat(d);var m=c.filter((function(e){return e.selectedTourGrade.diff&&"NONE"===e.selectedTourGrade.diff.diffChangeType}));m.length>0&&(s=s.concat(m));var p=[];p="asc"===a?o(c,a):r(c,a),s=s.concat(p)}return s=s.concat(l)}},2129:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(247),o=a(38),l=a(39),c=a(46),s=a(56),u=a(29),d=a(54),m=a(30),p=a(290),f=a(137),h=a(1595),y=a(354),g=a(144),v=a(291),b=a(1898),E=a(591),C=a(1646),x=a(1673),O=a(156),I=a(20),N=a(7),k=a(214),w=a(71),j=a(216),T=a(23),S=a(2),A=a(6),R=S.default.div.withConfig({displayName:"ItineraryHeaderStyles__RightSideSectionStyle"})(["display:flex;justify-content:flex-end;.price-col{display:flex;flex-direction:column;justify-content:center;}.cost-button{padding:14px 38px;}"]),_=(S.default.div.withConfig({displayName:"ItineraryHeaderStyles__HeaderElementStyle"})(["font-size:17px;line-height:25px;font-weight:600;color:#999999;border-bottom:1px solid #1baacc;height:56px;display:flex;align-items:flex-end;background-color:#ffffff;padding-right:4px;transition:border-bottom 1s ease-in-out;","{height:72px;padding-right:0px;margin-top:0px;}&.enabled-sticky{align-items:center;border-bottom:1px solid #e5e5e5;.buttons{padding-bottom:16px;}&.sticky-shadow{box-shadow:0px 8px 8px rgba(0,0,0,0.12);border-bottom:transparent;}.pax-text{animation:0.5s ease-in-out slideTextFromBottom;}}.pax-text{font-weight:normal;display:none;","{display:initial;}.icon{color:#1895b3;vertical-align:middle;margin:0px 6px 0px 0px;opacity:50%;cursor:text;}b{color:#1895b3;cursor:pointer;display:inline-block;font-weight:normal;}&.non-edit{b{cursor:auto;color:#333333;}}}@keyframes slideTextFromBottom{0%{transform:translateY(10%);}100%{transform:translateY(0);}}@keyframes slideFromTop{0%{transform:translateY(-100%);}100%{transform:translateY(0);}}.btn{width:173px;height:48px;margin:0px 18px 0 auto;animation:0.5s ease-in-out slideFromTop;}"],A.md,A.md),S.default.div.withConfig({displayName:"ItineraryHeaderStyles__NavButtons"})(["font-size:15px;line-height:25px;font-weight:600;color:#ffffff;letter-spacing:-0.01em;white-space:nowrap;display:flex;justify-content:space-between;margin:4px auto 0px auto;","{margin:0px 0px 1px 0px;border:none;font-size:17px;padding:0px 16px 0px 12px;}button{width:124px;height:40px;margin:0px 4px -1px 0px;background:#1baacc;border-top-left-radius:8px;border-top-right-radius:8px;border-top:1px solid #1baacc;border-left:1px solid #1baacc;border-right:1px solid #1baacc;border-bottom:transparent;&:last-child{margin-right:0px;margin-right:-2px;}","{width:142px;margin:0px 4px -2px 0px;}&.tab-active{color:#1baacc;background:#ffffff;","{background:#f7f8fb;}}&.tab-active:last-child{color:#1baacc;background:#ffffff;}&:focus{outline:none;}}&.toogle-buttons{width:268px;height:36px;margin:0 auto;padding:2px;background:#1baacc;border-radius:8px;line-height:19px;animation:0.5s ease-in-out slideFromBottom;","{margin:0px 16px 0px 12px;height:41px;animation:0.5s ease-in-out slideFromBottom;}button{width:146px;height:32px;margin:0px;background:none;border-radius:6px;border:none;box-shadow:0px 0px 8px rgba(0,0,0,0.06);","{height:37px;}&.tab-active{background-color:#ffffff;color:#1baacc;}}}@keyframes slideFromBottom{0%{transform:translateY(30%);}100%{transform:translateY(0);}}"],A.md,A.md,A.md,A.md,A.md),S.default.section.withConfig({displayName:"ItineraryHeaderStyles__ItineraryWhiteHeaderStyle"})(["background-color:#ffffff;width:100%;height:56px;display:flex;align-items:center;position:absolute;z-index:26;top:",";&.sticky-shadow{box-shadow:0px 8px 8px rgba(0,0,0,0.12);}"," ","{height:72px;}.header-container{width:100%;margin:auto;display:flex;position:relative;height:56px;justify-content:space-between;align-items:center;padding:0px 16px 0px 16px;","{width:1176px;height:72px;padding:0px 0px 0px 12px;}.header-submenu{","{position:absolute;right:12px;}.caret{color:rgba(44,47,66,0.6);font-weight:400;line-height:1.28;}.dropdown-menu{margin-top:4px;}.user-initials{background:#e5f9f3;color:rgba(0,0,0,0.9);","{background-color:#dddddd;color:rgba(119,119,119,0.6);}}.btn{color:rgba(0,0,0,0.8);padding:0px;font-weight:normal;","{border:1px solid;padding:4px 12px;font-weight:600;}}}}"],(function(e){return e.hasTopBar?"".concat(e.hasTopBar,"px"):0}),(function(e){return e.showBorder&&Object(S.css)(["box-shadow:inset 0 -1px 0 0 rgba(44,47,66,0.1);"])}),A.md,A.md,A.md,A.md,A.md)),D=a(11),P=a(661),L=a(1899),F=a(191),M=a(42),B=function(e){var t=e.user_details,a=e.logoutAction,r=e.history,o=e.location,l=e.isT20,c=void 0!==l&&l,s=e.isMobileDevice,u=void 0!==s&&s,d=e.locale,m=t.loggedIn,p=void 0!==m&&m,f=t.name,h=void 0===f?"":f,y=t.userType,g=void 0===y?"USER":y;if(p){var v=h.split(" ").splice(0,2).map((function(e){var t;return null===(t=e[0])||void 0===t?void 0:t.toUpperCase()})).join(""),b="AGENT"===g,E=Object(n.useState)(!1),C=Object(D.a)(E,2),x=C[0],O=C[1],I=function(e){r.push(e)};return i.a.createElement(P.a,{as:"div",className:"header-submenu ".concat(x?"open":"")},i.a.createElement("a",{className:"dropdown-toggle","data-toggle":"dropdown","aria-expanded":"true",href:" ",onClick:function(e){return e&&e.preventDefault()}},i.a.createElement("span",{className:"user-initials",style:{cursor:"pointer"},onClick:function(e){e&&e.preventDefault(),u?Object(L.a)():O(!x)}},v),"\xa0",i.a.createElement("i",{className:"caret hidden-sm hidden-xs color-white",style:{cursor:"pointer"},onClick:function(e){e&&e.preventDefault(),O(!x)}})),x?i.a.createElement("div",{className:"modal-backdrop fade in",onClick:function(e){e&&e.preventDefault(),O(!1)},style:{zIndex:5,opacity:0}}):null,u?null:i.a.createElement("ul",{className:"dropdown-menu dropdown-menu-right",onMouseLeave:function(){return O(!1)}},i.a.createElement("li",null,i.a.createElement("span",null,h)),i.a.createElement("li",{className:"divider"}),i.a.createElement("li",null,i.a.createElement("a",{href:" ",onClick:function(e){e&&e.preventDefault(),I(b?"/agent/dashboard":"/your-vacations")}},"".concat(b?"Your dashboard":"Your vacations"))),i.a.createElement("li",null,i.a.createElement("a",{href:" ",onClick:function(e){e&&e.preventDefault(),I("/account")}},"Your account")),i.a.createElement("li",null,i.a.createElement("a",{className:"danger-hover",href:" ",onClick:function(e){e&&e.preventDefault(),a({history:r,userType:g,location:o})}},"Logout"))))}return c?null:i.a.createElement(P.a,{as:"div",className:"header-submenu"},i.a.createElement(F.a,{buttonClass:"btn btn-light",buttonText:"Login",onClickAction:function(e){e.preventDefault(),window.location=Object(M.a)(d)||"in"===d?"/login?redirectTo=".concat(r.location.pathname):"/".concat(d,"/signin")}}))},H=a(106),U=a(55),V=function(e){var t=e.isCosted,a=void 0!==t&&t,n=e.staleCost,r=void 0!==n&&n,o=e.isReadOnly,l=void 0!==o&&o,c=e.packageCost,s=e.enableBredCrumb,u=e.itineraryInfo,d=Object(k.b)(u),m=S.default.div.withConfig({displayName:"GetCostingContent__Div"})(["margin-top:16px;margin-right:8px;"]),p={value:c};return!a||r||d?s||l?i.a.createElement("div",{className:"price-col"},i.a.createElement("span",{className:"meta-text anchor-link",style:{cursor:"default"}},l&&!d?"Price for 2 persons":"Starting price/person"),i.a.createElement("strong",{className:"medium-heading"},i.a.createElement(U.a,{objectData:p,path:"value",defaultValue:"0"}),"\xa0",d?i.a.createElement(H.a,{text:"Price is based on double occupancy.",placement:"bottom"},i.a.createElement("span",{className:"meta-text pyt-info-16"})):null)):null:i.a.createElement(m,null,i.a.createElement("strong",{className:"medium-heading"},i.a.createElement(U.a,{objectData:p,path:"value",defaultValue:"0"})))},z=a(15),G=a(1767),W=a.n(G),Y=S.default.div.withConfig({displayName:"RightSideSection__Div"})(["display:flex;flex-direction:column;"]),K=S.default.div.withConfig({displayName:"RightSideSection__WhatsappLink"})(["border:0;padding:13px 24px;border-top:1px solid #d4d4d4;color:#00b277;text-align:center;font-weight:bold;font-size:16px;cursor:pointer;i{font-weight:bold;font-size:18px;vertical-align:-2px;}"]),J=W()((function(e){var t=e.getCostText,a=e.isAnimated,n=e.itineraryInfo,r=e.match,o=void 0===r?{}:r,l=e.history,c=n.itinerary||{},s=c.booking,u=void 0!==s&&s,d=c.campaign,m=void 0!==d&&d;return i.a.createElement(R,{className:"col-md-5 hidden-xs hidden-sm text-right"},i.a.createElement(V,e),i.a.createElement(Y,null,i.a.createElement(F.a,{buttonClass:"btn btn-primary btn-lg cost-button ".concat(a?"animated infinite pulse-zoomer":""),isDisabled:u,onClickAction:function(a){"Get trip cost"===t&&Object(z.Ld)(z.Ib,{elementName:"get trip cost button",elementType:"button"}),Object(h.i)(a,"Book this trip"===t?"BookTrip":"Get latest cost"===t||"Get trip cost"===t||"Check Availability"===t?"GCM":"Update",e)},type:"button",buttonText:t}),i.a.createElement(K,{onClick:function(e){return function(e,t){e&&e.preventDefault();var a=o.params,n=void 0===a?{}:a;m?l.push("".concat(location.pathname,"/request-whatsapp-chat")):l.push(Object(N.Jb)({itineraryId:n.itineraryId,regionCode:n.searchRegion,target:t,location:l.location}))}(e,N.s)}},i.a.createElement("i",{className:"pyt-whatsapp-fill-16"})," Contact us on WhatsApp")))})),q=a(14),Q=a(22),X=a(340),$=a(245),Z=a(1594),ee=a(190),te=a(171);var ae=function(e){var t=e.manageActivity,a=e.itineraryId,r=e.closeModal,o=e.action,l=e.isFaqMobileDevice,c=void 0!==l&&l,s=Object(n.useState)(!1),u=Object(D.a)(s,2),d=u[0],p=u[1],f=Object(m.d)();return i.a.createElement("div",{className:"model-open"},i.a.createElement("div",{className:"modal fade before-you-book modal-sticky-bars in"},i.a.createElement("div",{className:"modal-dialog",style:{top:"".concat(c?"":"20%")}},i.a.createElement("div",{className:"modal-content with-header"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close",onClick:function(){r(!1)}},i.a.createElement("i",{className:"pyt-close-16"}))),i.a.createElement("div",{className:"modal-body text-left",style:{padding:"".concat(c?"":"0 56px 48px")}},i.a.createElement("p",{className:"bold medium-heading"},"Are you sure?"),i.a.createElement("p",{className:"mtop-small",style:{letterSpacing:" -0.02em"}},"Choosing this option will ",i.a.createElement("b",null,"delete all the ",o.toLowerCase())," in your itinerary. Please confirm your selection."),i.a.createElement("button",{disabled:d,className:"btn btn-primary mtop-large ".concat(d?"progress-btn infinite":""),onClick:function(){switch(o){case"ACTIVITIES":p(!0),t({action:"REMOVEALL",itineraryId:a}).then((function(){p(!1),r(!1)}));break;case"TRANSFERS":p(!0),f(function(e){var t=e.itineraryId;return function(e){return new Promise((function(a,n){var i="".concat(q.a.api_url,"itinerary/").concat(t,"/transfer/removeall");Object(Q.a)({url:i,method:"DELETE",body:null,onSuccess:function(t){Object($.a)(e,t.data),setTimeout((function(){Object(Z.a)(e,X.r+" & Custom Instalment updated!")}),300),a("Promised resolved from fetch")},onFailure:function(t){Object(ee.a)(t,e),Object(te.a)(t,e),n("Failed")}})}))}}({itineraryId:a})).then((function(){p(!1),r(!1)}))}}},d?i.a.createElement("span",{className:"progress-bg"}):null,i.a.createElement("span",{className:"btn-text"},"Proceed")),i.a.createElement("button",{className:"btn btn-link mtop-large",onClick:function(){r(!1)}},"Cancel"))))),i.a.createElement("div",{className:"modal-backdrop fade in"}))},ne=a(1592),ie=a(1593),re=a(105),oe=function(e){var t,a,r,o=e.title,l=e.isRename,c=e.renameAction,s=e.listItems,u=e.isReadOnly,d=e.match,m=e.actions,p=e.itineraryInfo,f=e.user_details,y=e.target,g=e.isT20,v=e.isMobileDevice,b=void 0!==v&&v,E=e.isFaqMobileDevice,C=void 0!==E&&E,x=(d&&d.params).itineraryId,O=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"activityById")}),[p]),I=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"transferCostings")}),[p]),N=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"rentalCarCostings")}),[p]),k=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"trainCostings")}),[p]),w=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"ferryCostings")}),[p]),j=Object(n.useMemo)((function(){var e;return null===p||void 0===p||null===(e=p.itinerary)||void 0===e?void 0:e.booking}),[p]),T=Object(n.useState)(!1),S=Object(D.a)(T,2),A=S[0],R=S[1],_=Object(n.useState)(!0),P=Object(D.a)(_,2),L=P[0],F=P[1],M=Object(n.useState)({open:!1,action:""}),B=Object(D.a)(M,2),U=B[0],V=B[1];return i.a.createElement("div",{className:"col-md-7"},i.a.createElement("div",{className:"itin-title-outer"},i.a.createElement("div",{className:"right-col"},i.a.createElement("ol",{vocab:"http://schema.org/",typeof:"BreadcrumbList",className:"breadcrumb meta-text truncate color-grey"},(s||[]).map((function(e,t){return i.a.createElement("li",{key:t,property:"itemListElement",typeof:"ListItem"},i.a.createElement("a",{href:e.href,property:"item",typeof:"WebPage",onClick:function(t){e.href?"function"===typeof e.onClick&&e.onClick(t):(t&&t.preventDefault(),e.action&&e.action())}},i.a.createElement("span",{property:"name"},e.content)),i.a.createElement("meta",{property:"position",content:t||"index"}))})),l?i.a.createElement("li",null):null),i.a.createElement("h1",{id:"title_editable",suppressContentEditableWarning:!0,contentEditable:!(b||!l||!c),className:"semi-bold no-margin ".concat(A?"edit-on":""),onBlur:function(e){e&&e.preventDefault();var t,a=e.target.innerText,n=void 0===a?"":a;R(!1),n.trim()!==o.trim()&&(t=n,m&&m.renameItinerary(x,t).then((function(){Object(z.Ld)(z.Fc,{from:o,to:t}),m.getItinerary(x)}))),L&&setTimeout((function(){var e=document.getElementById("title_editable");F(!1),e.focus(),e.blur()}),100),F(!0)},onClick:function(t){t&&t.preventDefault(),R(!0),l||u||Object(h.i)(t,"GCM",e)},onKeyDown:function(e){return 13===e.keyCode&&e.preventDefault()}},o),l&&c?i.a.createElement(H.a,{text:A?"":"Edit Itinerary Title",placement:"bottom"},i.a.createElement("i",{onClick:function(){var e=document.getElementById("title_editable");R(!0),e.focus()},className:"cursor-pointer pyt-edit-24 color-grey-medium hidden-xs hidden-sm ".concat(A?"hide":"")})):null,i.a.createElement(re.a,null,!Object(ne.a)({permissions:null===(t=f||{})||void 0===t?void 0:t.permissions,key:ie.r})||"inclusion"===(y||"").toLowerCase()||!O||g||!x||null!==p&&void 0!==p&&null!==(a=p.itinerary)&&void 0!==a&&a.booking?null:i.a.createElement("p",{className:"anchor-link meta-text semi-bold",onClick:function(){return V({open:!0,action:"ACTIVITIES"})},style:{margin:"0"}},"Remove Activities"),Object(ne.a)({permissions:null===(r=f||{})||void 0===r?void 0:r.permissions,key:ie.s})&&!j&&"inclusion"!==(y||"").toLowerCase()&&(I||N||k||w)?i.a.createElement("p",{className:"anchor-link meta-text semi-bold",onClick:function(){return V({open:!0,action:"TRANSFERS"})},style:{margin:"0"}},"Remove Transfers"):null),U.open?i.a.createElement(ae,{closeModal:V,action:U.action,itineraryId:x,manageActivity:m.manageActivity,isFaqMobileDevice:C}):null)))},le=a(1900),ce=a(31),se=a(121);function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var de=Object(I.a)(),me=Object(w.a)(),pe=function(e){Object(c.a)(a,e);var t=ue(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={enableStick:!1,enableNonSticky:!1,hasTopBar:0},e.componentDidMount=function(){e.props.user_details||e.props.actions.getUserDetails();var t=document.getElementsByClassName("navbar-outer")[0];if(t&&t.classList.add("hide"),window.addEventListener("scroll",e.scrollListener),!Object(ce.a)()){var a=document.getElementById("verify-block-header");a?e.setState({hasTopBar:a.offsetHeight}):e.setState({hasTopBar:0})}},e.componentWillUnmount=function(){var t=document.getElementsByClassName("navbar-outer")[0];t&&t.classList.remove("hide"),window.removeEventListener("scroll",e.scrollListener)},e.scrollListener=function(){var t=de?window.scrollY>=112:window.scrollY>=135;e.setState({enableStick:t})},e.performTabAction=function(t,a,n){t&&t.preventDefault();var i=e.props,r=i.itineraryInfo,o=void 0===r?{}:r,l=i.history,c=o.itinerary,s=c.itineraryId,u=c.regionCode,d=c.campaign,m=void 0!==d&&d,p=l.location,f=void 0===p?{}:p;if(Object(k.b)(o)){var y="/"+Object(j.a)(f.pathname);"itinerary"===(a||"").toLowerCase()?l.push(y):l.push("".concat(y,"/").concat(N.Lb.inclusion))}else if("Itinerary"===a)if(m){var g="/"+Object(j.a)(f.pathname);l.push(g)}else l.push(Object(N.Jb)({itineraryId:s,regionCode:u}));else{var v=e.props,b=v.isCosted,E=v.staleCost,C=v.getCostText;!b||E?Object(h.i)(t,"Book this trip"===C?"BookTrip":"Get latest cost"===C||"Get trip cost"===C||"Check Availability"===C?"GCM":"Update",e.props):l.push({pathname:Object(N.Jb)({itineraryId:s,regionCode:u,parentPage:N.Lb.inclusion}),state:n})}},e.getLogoStyle=function(e){return e?{height:"40px"}:se.e?de?{height:"34px"}:{height:"54px"}:se.d?de?{height:"54px",left:"-30px",position:"relative"}:{height:"82px",left:"-44px",position:"relative"}:de?{height:"20px"}:{height:"28px"}},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.state.hasTopBar;if(!Object(ce.a)()){var t=document.getElementById("verify-block-header");t&&!e?this.setState({hasTopBar:t.offsetHeight}):e&&!t&&this.setState({hasTopBar:0})}}},{key:"render",value:function(){var e=this.props,t=e.user_details,a=void 0===t?{}:t,r=e.actions,o=e.history,l=e.location,c=e.itineraryInfo,s=e.target,u=e.simpleHeader,d=e.isT20,m=void 0!==d&&d,f=e.localeCodeFromUrl,h=e.locale,y=this.state.enableStick&&de&&"Inclusion"!==s,g=!Object(ce.a)()&&(!0===localStorage.getItem("show_combined_logo")||"true"===localStorage.getItem("show_combined_logo")),v=this.getLogoStyle(g);return i.a.createElement(n.Fragment,null,i.a.createElement(_,{showBorder:!de,className:"".concat(y?"sticky-shadow":""),hasTopBar:this.state.hasTopBar},i.a.createElement(p.a,{enabled:!0,top:0},i.a.createElement(x.a,{backgroundColor:"#FFFFFF"})),i.a.createElement("div",{className:"header-container"},i.a.createElement("div",{className:"logo-mark"},i.a.createElement("img",{style:v,className:"pyt-icon cursor-pointer",src:!se.e&&!se.d||g?Object(T.a)(Object(se.a)({type:g?"CLUB_MAHINDRA":""})):Object(se.a)({type:""}),alt:"pickyourtrail",onClick:function(){Object(O.a)("".concat((f||"").length>0?"/".concat(f):"/"),"")}})),i.a.createElement(B,Object.assign({user_details:a||{}},r,{history:o,location:l,isT20:m,locale:h})))),i.a.createElement("section",{className:"container sm-full-width lg-container itin-title-bar"},u?i.a.createElement("div",{className:"row"},i.a.createElement(oe,Object.assign({},this.props,{isMobileDevice:de,isFaqMobileDevice:me}))):i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"row",style:{marginTop:"85px"}},i.a.createElement(oe,Object.assign({},this.props,{isMobileDevice:de,isFaqMobileDevice:me})),"Inclusion"===s?null:i.a.createElement(J,this.props)))),i.a.createElement(le.a,{itineraryInfo:c,unlockDeal:this.performTabAction,goToInclusions:this.performTabAction,isItineraryView:"Inclusion"!==s,navPadding:"22px 0"}))}}]),a}(n.Component),fe=Object(f.withLastLocation)(Object(m.c)((function(e){var t=e.app,a=void 0===t?{}:t;return{user_details:a.user_details||{},itineraryInfo:a.itineraryInfo,localeCodeFromUrl:a.localeCodeFromUrl,locale:a.locale}}),(function(e){return{actions:{logoutAction:Object(d.b)(y.c,e),getUserDetails:Object(d.b)(g.a,e),getCost:Object(d.b)(v.a,e),renameItinerary:Object(d.b)(b.a,e),getItinerary:Object(d.b)(E.a,e),manageActivity:Object(d.b)(C.a,e)}}}))(pe)),he=a(1634);function ye(e){var t=e.itineraryInfo,a=e.isReadOnly,o=e.isFromPackages,l=e.enableBredCrumb,c=e.clickGetCost,s=e.enableLogo,u=e.user_details,d=e.campaignDetail,m=e.history,p=e.locale,f=Object(h.e)(t,e.adult_count,e.child_count),y=Object(k.b)(t),g=t.itinerary,v=g.totalCost,b=g.staleCost,E=g.costed,C=g.booking,x=g.netCost,O=g.itineraryId,I=g.regionCode,w=void 0===I?"region":I,j=g.agent;return i.a.createElement(n.Fragment,null,o?null:i.a.createElement(r.a,null,i.a.createElement("title",null,f.HeaderData.title||""," ",O||""," | Book Now"),i.a.createElement("meta",{name:"description",content:"".concat(f.HeaderData.title,"  (").concat(O,"). Build an itinerary completely suited to your taste and at the best online prices. Customize & book now.")})),i.a.createElement(fe,Object.assign({history:e.history,location:e.location,isFromPackages:o,simpleHeader:!0,target:e.target,title:f.HeaderData.title,isReadOnly:a,isT20:y,isRename:!C&&!a&&(u||{}).loggedIn&&!t.itinerary.campaign,renameAction:function(){m.push(Object(N.Jb)({itineraryId:O,regionCode:w,target:N.D,location:m.location}))},listItems:Object(he.e)(o,d,(u||{}).loggedIn,t.version,null,p),isAnimated:!0,onButtonClickAction:y?function(){}:c,getCostText:y?"Reserve":a&&!E?"Check Availability":l?"Get latest cost":E?b?"Update Cost":"Book this trip dd":"Get trip cost"},e,{isCosted:E,staleCost:b,itineraryInfo:t,onSaveItinerary:function(){alert("Itinerary Saved")},isAgentItinerary:j,isLoggedIn:(u||{}).loggedIn,isAdmin:(u||{}).loggedIn&&"ADMIN"===(u||{}).userType,packageCost:v,netCost:x,enableBredCrumb:l,openGCMModal:function(){alert("Open Edit Modal")},enableLogo:s,HeaderData:E?b?f.HeaderData:f.HeaderCostedData&&f.HeaderCostedData[0]:f.HeaderData,rightButtonClass:"btn btn-primary btn-lg hidden-xs hidden-sm ".concat(C?"disabled":""),rightButtonText:a&&!E?"Check Availability":l?"Get latest cost":E?b?"Update Cost":"Book this trip ss":"Get trip cost"})))}a.d(t,"a",(function(){return ye}))},2435:function(e,t,a){},2543:function(e,t,a){var n=a(2544)(a(656));e.exports=n},2544:function(e,t,a){var n=a(473),i=a(468),r=a(298);e.exports=function(e){return function(t,a,o){var l=Object(t);if(!i(t)){var c=n(a,3);t=r(t),a=function(e){return c(l[e],e,l)}}var s=e(t,a,o);return s>-1?l[c?t[s]:s]:void 0}}},2545:function(e,t,a){var n=a(634),i=a(655),r=a(2546),o=a(641),l=a(299),c=a(2549),s=a(2551),u=a(924),d=s((function(e,t){var a={};if(null==e)return a;var s=!1;t=n(t,(function(t){return t=o(t,e),s||(s=t.length>1),t})),l(e,u(e),a),s&&(a=i(a,7,c));for(var d=t.length;d--;)r(a,t[d]);return a}));e.exports=d},2546:function(e,t,a){var n=a(641),i=a(2547),r=a(2548),o=a(364);e.exports=function(e,t){return t=n(t,e),null==(e=r(e,t))||delete e[o(i(t))]}},2547:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},2548:function(e,t,a){var n=a(487),i=a(904);e.exports=function(e,t){return t.length<2?e:n(e,i(t,0,-1))}},2549:function(e,t,a){var n=a(2550);e.exports=function(e){return n(e)?void 0:e}},2550:function(e,t,a){var n=a(909),i=a(925),r=a(908),o=Function.prototype,l=Object.prototype,c=o.toString,s=l.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var a=s.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&c.call(a)==u}},2551:function(e,t){e.exports=function(e){return e}},2552:function(e,t,a){},2588:function(e,t,a){"use strict";var n=a(24),i=a(89),r=a(102);function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=a(0),c=a.n(l),s=a(45),u=a.n(s),d=!1,m=a(1913),p=function(e){function t(t,a){var n;n=e.call(this,t,a)||this;var i,r=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?r?(i="exited",n.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",n.state={status:i},n.nextCallback=null,n}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?"entering"!==a&&"entered"!==a&&(t="entering"):"entering"!==a&&"entered"!==a||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,a,n=this.props.timeout;return e=t=a=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,a=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:a}},a.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e){var t=this,a=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[u.a.findDOMNode(this),n],r=i[0],o=i[1],l=this.getTimeouts(),c=n?l.appear:l.enter;!e&&!a||d?this.safeSetState({status:"entered"},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,o),this.safeSetState({status:"entering"},(function(){t.props.onEntering(r,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(r,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,a=this.getTimeouts(),n=this.props.nodeRef?void 0:u.a.findDOMNode(this);t&&!d?(this.props.onExit(n),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(n),e.onTransitionEnd(a.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(n)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(n){a&&(a=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(a&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],r=i[0],o=i[1];this.props.addEndListener(r,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,a=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(i.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.a.createElement(m.a.Provider,{value:null},"function"===typeof a?a(e,n):c.a.cloneElement(c.a.Children.only(a),n))},t}(c.a.Component);function f(){}p.contextType=m.a,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},p.UNMOUNTED="unmounted",p.EXITED="exited",p.ENTERING="entering",p.ENTERED="entered",p.EXITING="exiting";var h=p,y=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.remove(n):"string"===typeof a.className?a.className=o(a.className,n):a.setAttribute("class",o(a.className&&a.className.baseVal||"",n)));var a,n}))},g=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){var n=t.resolveArguments(e,a),i=n[0],r=n[1];t.removeClasses(i,"exit"),t.addClass(i,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var n=t.resolveArguments(e,a),i=n[0],r=n[1]?"appear":"enter";t.addClass(i,r,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var n=t.resolveArguments(e,a),i=n[0],r=n[1]?"appear":"enter";t.removeClasses(i,r),t.addClass(i,r,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"appear"),t.removeClasses(a,"enter"),t.addClass(a,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.resolveArguments(e)[0];t.addClass(a,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"exit"),t.addClass(a,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,a){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,a]},t.getClassNames=function(e){var a=t.props.classNames,n="string"===typeof a,i=n?""+(n&&a?a+"-":"")+e:a[e];return{baseClassName:i,activeClassName:n?i+"-active":a[e+"Active"],doneClassName:n?i+"-done":a[e+"Done"]}},t}Object(r.a)(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var n=this.getClassNames(t)[a+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===a&&i&&(n+=" "+i),"active"===a&&e&&e.scrollTop,n&&(this.appliedClasses[t][a]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,n)||("string"===typeof a.className?a.className=a.className+" "+n:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+n)));var a,n}))}(e,n))},a.removeClasses=function(e,t){var a=this.appliedClasses[t],n=a.base,i=a.active,r=a.done;this.appliedClasses[t]={},n&&y(e,n),i&&y(e,i),r&&y(e,r)},a.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return c.a.createElement(h,Object(n.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.a.Component);g.defaultProps={classNames:""},g.propTypes={};t.a=g},2590:function(e,t,a){"use strict";var n=a(89),i=a(24),r=a(13),o=a(102),l=a(0),c=a.n(l),s=a(1913);function u(e,t){var a=Object.create(null);return e&&l.Children.map(e,(function(e){return e})).forEach((function(e){a[e.key]=function(e){return t&&Object(l.isValidElement)(e)?t(e):e}(e)})),a}function d(e,t,a){return null!=a[t]?a[t]:e.props[t]}function m(e,t,a){var n=u(e.children),i=function(e,t){function a(a){return a in t?t[a]:e[a]}e=e||{},t=t||{};var n,i=Object.create(null),r=[];for(var o in e)o in t?r.length&&(i[o]=r,r=[]):r.push(o);var l={};for(var c in t){if(i[c])for(n=0;n<i[c].length;n++){var s=i[c][n];l[i[c][n]]=a(s)}l[c]=a(c)}for(n=0;n<r.length;n++)l[r[n]]=a(r[n]);return l}(t,n);return Object.keys(i).forEach((function(r){var o=i[r];if(Object(l.isValidElement)(o)){var c=r in t,s=r in n,u=t[r],m=Object(l.isValidElement)(u)&&!u.props.in;!s||c&&!m?s||!c||m?s&&c&&Object(l.isValidElement)(u)&&(i[r]=Object(l.cloneElement)(o,{onExited:a.bind(null,o),in:u.props.in,exit:d(o,"exit",e),enter:d(o,"enter",e)})):i[r]=Object(l.cloneElement)(o,{in:!1}):i[r]=Object(l.cloneElement)(o,{onExited:a.bind(null,o),in:!0,exit:d(o,"exit",e),enter:d(o,"enter",e)})}})),i}var p=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){function t(t,a){var n,i=(n=e.call(this,t,a)||this).handleExited.bind(Object(r.a)(n));return n.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},n}Object(o.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var a,n,i=t.children,r=t.handleExited;return{children:t.firstRender?(a=e,n=r,u(a.children,(function(e){return Object(l.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:d(e,"appear",a),enter:d(e,"enter",a),exit:d(e,"exit",a)})}))):m(e,i,r),firstRender:!1}},a.handleExited=function(e,t){var a=u(this.props.children);e.key in a||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var a=Object(i.a)({},t.children);return delete a[e.key],{children:a}})))},a.render=function(){var e=this.props,t=e.component,a=e.childFactory,i=Object(n.a)(e,["component","childFactory"]),r=this.state.contextValue,o=p(this.state.children).map(a);return delete i.appear,delete i.enter,delete i.exit,null===t?c.a.createElement(s.a.Provider,{value:r},o):c.a.createElement(s.a.Provider,{value:r},c.a.createElement(t,i,o))},t}(c.a.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};t.a=f},467:function(e,t,a){"use strict";a.r(t);t.default=function(e,t){}}}]);