(this["webpackJsonpveho-react"]=this["webpackJsonpveho-react"]||[]).push([[87,69],{1337:function(e,t,a){"use strict";a.r(t);var n=a(33),i=a(1),o=a(38),r=a(39),l=a(46),c=a(56),s=a(29),d=a(0),u=a.n(d),m=a(30),p=a(54),f=a(193),g=a(18),h=a(1629),y=a(1654),v=a(1644),b=a(1645),E=a(213),C=a(341),O=a(62),x=a(345),k=a(20),I=a(15);function N(e){var t=e.isEditCityVisible,a=e.closeEditCityModal,n=e.clickClose,i=e.mode,o=e.replaceName;return u.a.createElement("div",{className:"modal-header",id:"editRoute"},u.a.createElement(d.Fragment,null,u.a.createElement("i",{className:"pyt-arrow-left-16 back-icon",onClick:a,style:{visibility:t?"visible":"hidden"}}),u.a.createElement("p",null,t?"add"===i?"Add City":"Replacing ".concat(o):"Edit Route"),u.a.createElement("i",{className:"pyt-close-16 close-icon",onClick:n})))}var j=a(191),w=a(71),A=a(35),T=a.n(A);function R(e){var t=e.enableFooter,a=e.enableTripOption,n=e.applyChanges,i=e.discard;return u.a.createElement("div",{className:"modal-footer ".concat(t?"":"hide")},Object(w.a)()?null:u.a.createElement("p",{className:T()("",{hide:!a})},"Changes will be applied after updating"),u.a.createElement("div",{className:T()("right-btns",{hide:!a})},u.a.createElement("span",{style:{cursor:"pointer"},onClick:i},"Cancel"),u.a.createElement(j.a,{buttonClass:"btn btn-primary",onClickAction:n,buttonText:"Update itinerary"})))}var S=a(14).a.api_url;function D(e,t){switch(e){case"add":return"".concat(S,"city/options/add");case"remove":return"".concat(S,"city/options/remove");default:return"".concat(S,"city/").concat(t,"/options/replace")}}var P="No cities matching your search query!",_="Hey! Looks like there are no other city connection possible here. Please try adding a city from another route.",B="You don\u2019t have the permission to make changes in another user\u2019s itinerary",L="Try again!",F="No, cancel!",M="Oops, access denied!",V=a(23);function U(e){var t=e.cityName,a=e.onButtonClickAction,n=e.descriptionText,i=e.image;return u.a.createElement("li",{onClick:function(e){e&&e.preventDefault(),a()}},u.a.createElement("img",{src:Object(V.a)(i,"w=40&h=40&fit=crop"),alt:t}),u.a.createElement("p",null,t,u.a.createElement("span",null,n)))}function H(e){var t=Math.floor(e/60),a=e%60,n=t?"".concat(t,"h"):"",i=a?"".concat(a,"m"):"";return"".concat(n," ").concat(i)}var z=a(22);function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var G=P,K=_,Y=B,q=L,J=F,Q=M;function X(e){var t=e.editCityMode,a=e.city,n=e.closeModal,i=e.cityName,o=e.enableFrom,r=e.enableTo,l=e.fromCity,c=e.toCity,s=e.isFromLanding,d=e.applyChangeDirectly,m=e.descriptionText,p=void 0===m?"":m,f=e.image,g=void 0===f?"":f,h=e.editCityOptions,y=h.previousCityIndex,v=h.replaceIndex,b="add"===t,E=b?"add":"replace",C=b?y:v;return u.a.createElement(U,{cityName:i,onButtonClickAction:function(){s?d(C,a,E.toUpperCase()):n(e[E+"City"](C,a))},buttonText:b?"Add":"Replace",imageUrl:a.image,enableFrom:o,enableTo:r,fromCity:l,toCity:c,image:g,descriptionText:p})}var $=function(e){Object(l.a)(a,e);var t=W(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).closeModal=function(e){n.setState({modalClassName:""},(function(){setTimeout((function(){n.props.closeModal(),e&&e()}),200)}))},n.search=function(e){var t=e.target.value,a=function(e){return e.toLowerCase().replace(/\s/g,"")};n.setState({searchQuery:t},(function(){if(t){var e=a(t),i=n.state.cities.filter((function(t){return 0===a(t.cityName+t.country).indexOf(e)}));n.setState({citiesToShow:i})}else n.setState({citiesToShow:n.state.cities})}))},n.state={cities:[],citiesToShow:[],searchQuery:"",isLoading:!0,hideFields:!0,modalClassName:""},n.searchCity=u.a.createRef(),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.editCityMode,n=t.cityToReplace,i=t.editCityOptions,o=t.closeModal;Object(z.a)({url:D(a,n),method:"POST",body:i,onSuccess:function(t){e.setState({cities:t,citiesToShow:t,isLoading:!1})},onFailure:function(t){e.setState({isLoading:!1}),t.response&&401===t.response.status&&(o(),swal({title:Q,text:Y,animation:!0,showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:q,cancelButtonText:J,closeOnConfirm:!0,closeOnCancel:!0}))}}),setTimeout((function(){e.setState({modalClassName:"slide-in"})}),100)}},{key:"render",value:function(){var e=this,t=this.state,a=t.cities,n=t.citiesToShow,i=t.hideFields,o=this.state,r=o.searchQuery,l=o.isLoading,c=this.props,s=c.editCityMode,m=c.editCityOptions,p=c.addCity,f=c.replaceCity,g=c.replaceIndex,h=c.previousCityIndex,y=c.enableFrom,v=c.enableTo,b=c.applyChangeDirectly,E=c.isFromLanding;return a=a.filter((function(e){return e.canReplace||e.canAdd})),n=n.filter((function(e){return e.canReplace||e.canAdd})),u.a.createElement(d.Fragment,null,u.a.createElement("div",{className:"replace-backdrop hidden-xs fade-in",onClick:function(){e.closeModal()}}),u.a.createElement("div",{className:"replace-city ".concat(this.state.modalClassName)},u.a.createElement("div",{className:"tbl-header"},u.a.createElement("div",{className:"search ".concat(i?"hide":"")},u.a.createElement("i",{className:"pyt-search-16"}),u.a.createElement("input",{ref:this.searchCity,id:"findcity",value:r,onBlur:function(){e.setState({hideFields:!0})},onFocus:function(){e.setState({hideFields:!1})},onChange:this.search,type:"text",className:"form-control",placeholder:"Destinations nearby"}),u.a.createElement("i",{className:"cursor-pointer pyt-backspace-fill-16",onClick:function(){e.setState({hideFields:!0})}})),u.a.createElement("p",{className:"search-link",onClick:function(){e.setState({hideFields:!1},(function(){e.searchCity.current&&e.searchCity.current.focus()}))}},"Destinations ",u.a.createElement("i",{className:"fs-normal hidden-xs"},"nearby")),null,null),n.length||l?u.a.createElement("ul",null,n.map((function(t,a){return u.a.createElement(X,Object.assign({key:a,isFromLanding:E,applyChangeDirectly:b,editCityMode:s,editCityOptions:m,addCity:p,replaceCity:f,city:t,replaceIndex:g,previousCityIndex:h,closeModal:e.closeModal,enableFrom:y,enableTo:v},t))}))):a.length?u.a.createElement("span",{className:"alert-txt main-para"},G):u.a.createElement("span",{className:"alert-txt main-para"},K)))}}]),a}(d.Component),Z=a(1685),ee=a(1604),te=a(106);function ae(e){var t=e.decrementClass,a=e.incrementClass,n=e.min,i=e.prefix,o=e.suffix,r=e.onCounterAction,l=e.onEditAction,c=e.onDeleteAction,s=e.hideDeleteAction,d=void 0!==s&&s,m=e.hideEditAction,p=void 0!==m&&m,f=e.activeText,g=e.enableCounter,h=e.enableText,y=e.headerClassName,v=e.customElements,b=e.isModal,E=void 0!==b&&b,C=e.defaultValue,O=e.isActive,x=void 0!==O&&O,k=e.onClickAction,I=void 0===k?function(){}:k,N=e.isCounterEditable,j=void 0===N||N,w=e.deleteTooltip,A=e.isSelected,T=void 0!==A&&A,R={decrementClass:t,incrementClass:a,defaultValue:C,min:n,max:50,prefix:i,suffix:o,onClickAction:r,isCounterEditable:j,incTooltip:ee.d,decTooltip:ee.i,minTooltip:ee.l,maxTooltip:ee.k,disabled:!j};return u.a.createElement("div",{className:y+"".concat(x?" active":""," ").concat(T?"selected":""),onClick:E?I:null},c?u.a.createElement(te.a,{text:w},u.a.createElement("i",{className:"icon pyt-delete-16 ".concat(d?"disabled":""),onClick:d?null:function(e){c&&c(e)}})):null,E?null:l?u.a.createElement("i",{className:"icon pyt-edit-16 ".concat(p?"hide":""),onClick:function(e){l&&l(e)}}):null,v,h?u.a.createElement("p",null,f):null,g?u.a.createElement(u.a.Fragment,null,E?u.a.createElement("div",{className:"anchor-link right-link ".concat(p?"hide":""),onClick:function(e){e&&e.preventDefault(),l&&l(e)}},u.a.createElement("i",{className:"pyt-edit-16"}),u.a.createElement("span",null,"Replace")):null,u.a.createElement(Z.a,R)):null)}ae.defaultProps={decrementClass:"pyt-minus-16",incrementClass:"pyt-plus-16",min:1,max:25,prefix:"",suffix:"n",iconClassName:"icon",headerClassName:"item ",enableCounter:!0,enableText:!0};var ne=a(596),ie=a(593);function oe(e){var t=e.replaceTransfer,a=e.enableReplace,n=e.enableAdd,i=void 0===n||n,o=e.addCity,r=e.keyValue,l=e.isModal,c=e.transferModeRotate,s=void 0===c?null:c,m=e.transferMode,p=void 0===m?"":m,f=e.customTransferElement,g=void 0===f?null:f,h=(e.time,e.transferIconClassName),y=e.enableTransferMode,v=e.nextCity,b=l?{transferElement:y?u.a.createElement("span",null,"Transfer by ".concat(p.toLowerCase())):u.a.createElement("span",null,"Travel to ".concat(v)),replaceCityClassName:"replacebtn",addCityClassName:"addcity-link",replaceCityIcon:u.a.createElement("i",{className:"pyt-edit-16"}),addCityIcon:u.a.createElement("i",{className:"pyt-plus-16"}),replaceText:". Change"}:{transferElement:u.a.createElement("span",null,"Transfer by ".concat(p.toLowerCase())),replaceCityClassName:"",addCityClassName:"",replaceCityIcon:null,addCityIcon:null,replaceText:"Replace Transfer"},E=b.transferElement,C=b.replaceCityClassName,O=b.addCityClassName,x=b.replaceCityIcon,k=b.addCityIcon,I=b.replaceText,N=u.a.createElement(ne.a,{id:"score-tooltip",className:"rgba(0, 0, 0, 0.9)"},"Apply your changes to change / check the transfer details");return u.a.createElement(d.Fragment,{key:r},l?null:u.a.createElement("i",{className:"icon pyt-plus-16"}),u.a.createElement("p",null,y||!l?u.a.createElement("i",{className:re(p,s,h)}):u.a.createElement(ie.a,{id:"ot-matching-score",placement:"top",overlay:N},u.a.createElement("i",{className:"pyt-transfer-24"})),g||E,a&&l?u.a.createElement("span",{className:"anchor-link",onClick:t},I):null),i&&l?u.a.createElement("div",{className:"anchor-link right-link",onClick:o},u.a.createElement("span",null,"Add City")):null,u.a.createElement("ul",{className:"list-unstyled mb-0 ".concat(l?"hide":"")},i?u.a.createElement("li",null,u.a.createElement("a",{href:" ",className:O},k,u.a.createElement("span",{onClick:o},"Add City"))):null,a?u.a.createElement("li",null,u.a.createElement("a",{href:" ",className:C},x,u.a.createElement("span",{onClick:t},I))):null))}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;if(a)return a;switch(e){case"RENTALCAR":case"CAR":return"pyt-car-fill-16";case"TRAIN":return"pyt-train-fill-16";case"FERRY":return"pyt-ship-fill-16";case"BUS":return"pyt-bus-fill-16";case"FLIGHT":return null===t?"pyt-flight-fill-16":"pyt-flight-fill-16 rotate-".concat(t);default:return"pyt-bus-fill-16"}}var le=a(7),ce=a(588);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var de=a.n(ce).a.Link,ue=function(e){Object(l.a)(a,e);var t=se(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={addedRowClass:"triplist-enter",newActionIndex:e.props.newActionIndex,actionCity:null,actionIndex:null,run:!1},e.deleteCity=function(t,a,n){if(n)return null;e.props.isEditable?e.setState({addedRowClass:"triplist-enter",newActionIndex:a},(function(){setTimeout((function(){e.props.deleteCityAction(a,t),e.setState({newActionIndex:null})}),400)})):e.props.deleteCityAction(a,t)},e.handleRowTotemClick=function(t,a,n){var i=e.props,o=i.isEditable,r=i.isBooked,l=i.history,c=i.match;if(o){if(r)return!1;l.push(Object(le.Jb)({itineraryId:c.params.itineraryId,regionCode:c.params.searchRegion,target:le.i,customParams:{transferMode:n,prevCityKey:a,cityKey:t}}))}else l.push(l.location.pathname+"/get-cost")},e.performEventAction=function(e){e&&e.preventDefault(),e&&e.stopPropagation()},e.addCityEnd=function(t){e.performEventAction(t);var a=e.props,n=a.addCityAction,i=a.cities,o=void 0===i?[]:i;e.setState({actionCity:"End"},(function(){n(o.length-1,"End")}))},e.addCityStart=function(t){e.performEventAction(t);var a=e.props.addCityAction;e.setState({actionCity:"Start"},(function(){a(-1,"Start")}))},e.routeEditTrip=function(t){t&&t.preventDefault();var a=e.props,n=a.isFromPackages,i=a.itineraryInfo,o=a.booking,r=a.isReadOnly,l=a.history,c=a.match,s=n&&i.campaignItineraryId;o||r||(n?l.push("".concat(l.location.pathname,"/get-cost").concat(s?"/"+s:"")):l.push(Object(le.Jb)({itineraryId:c.params.itineraryId,regionCode:c.params.searchRegion,target:le.E})))},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;e.newActionIndex!==this.props.newActionIndex&&e.newActionIndex!==this.state.newActionIndex&&setTimeout((function(){t.setState({newActionIndex:t.props.newActionIndex,addedRowClass:"triplist-active"},(function(){setTimeout((function(){t.setState({addedRowClass:""})}),3e3)}))}),100),e.actionCity===this.props.actionCity&&e.actionIndex===this.props.actionIndex||this.state.actionCity===this.props.actionCity&&this.state.actionIndex===this.props.actionIndex||this.setState({actionCity:this.props.actionCity,actionIndex:this.props.actionIndex});var a=document.getElementsByClassName("selected"),n=a?a[0]:null;n&&n.scrollIntoView()}},{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.rootClassName,o=void 0===i?"trip-timeline xs-view":i,r=n.cities,l=void 0===r?[]:r,c=n.handleNightAction,s=n.addCityAction,m=n.replaceCityAction,p=n.setActiveIndex,f=n.activeIndex,g=n.activeField,h=n.isModal,y=void 0===h||h,v=n.isReadOnly,b=n.isEditable,E=n.getCostAction,C=n.actionPerformed,O=n.removeCityInfo,x=n.isEditCityVisible,k=n.editCityMode,N=n.enableLoader,j=n.itineraryInfo,w=l.length,A=w-1,T=l[0]||{},R=T.airportCode,S=void 0===R?"":R,D=T.chosenCityAirport,P=void 0===D?"":D,_=T.cityName,B=void 0===_?"":_,L=(null===j||void 0===j||null===(e=j.itinerary)||void 0===e||!e.booking)&&b,F=!(null===j||void 0===j||null===(t=j.itinerary)||void 0===t||!t.booking)||v,M=u.a.createElement(ae,{isSelected:"Start"===this.state.actionCity&&x,isModal:y,enableText:!1,enableCounter:!1,headerClassName:"item transfer  ".concat(L?"":"disable-pointers"),onClickAction:L?this.addCityStart:E,hideDeleteAction:!F,hideEditAction:!F,isReadOnly:F,customElements:u.a.createElement(oe,{customTransferElement:u.a.createElement("span",null,"Arrival at ".concat(S||P)),enableTransferMode:!0,index:0,enableReplace:!1,keyValue:B+"_0",addCity:L?this.addCityStart:E,isModal:y,transferModeRotate:90,transferMode:"FLIGHT",transferIconClassName:"pyt-flight-arrival-fill-16",enableAdd:!F,isReadOnly:F})}),V=l[A]||{},U=u.a.createElement(ae,{isSelected:"End"===this.state.actionCity&&x,isModal:y,enableText:!1,enableCounter:!1,headerClassName:"item transfer ".concat(L?"":"disable-pointers"),onClickAction:L?this.addCityEnd:E,addCity:L?this.addCityEnd:E,hideDeleteAction:F,hideEditAction:F,customElements:u.a.createElement(oe,{customTransferElement:u.a.createElement("span",null,"Depart from ".concat(V.airportCode||V.chosenCityAirport)),cityName:V.cityName,enableTransferMode:!0,index:A,enableReplace:!1,keyValue:V.cityName+"_"+A,addCity:L?this.addCityEnd:E,isModal:y,transferModeRotate:0,transferMode:"FLIGHT",transferIconClassName:"pyt-flight-departure-fill-16",enableAdd:!F,isReadOnly:F})}),z=u.a.createElement("section",{className:y?"timeline":"timeline-content"},u.a.createElement("div",{className:"item timeline-title vmargin-small n-tracker-route-modal ".concat(L?"":"disable-pointers"),onClick:function(e){a.routeEditTrip(e),Object(I.Ld)(I.yb,{element_name:"edit route"})}},L?u.a.createElement("i",{className:"icon pyt-edit-16"}):null,u.a.createElement("p",null,u.a.createElement("span",null,"Route overview"))),l.map((function(e,t){var n=e.cityName,i=e.nights,o=n+"_"+t,r=t===w-1?{}:l[t+1],h=r.transferSlotDetails,v=void 0===h?{}:h,b=v.type,I=v.intercityTransferSlotDetailVO,j=void 0===I?{alternateModesAvailable:!1,directTransferDetail:{transferMode:""}}:I,A=C?r.mode:(j.directTransferDetail||{transferMode:r.mode}).transferMode,T=r.travelTime,R="INTERNATIONAL_ARRIVE"!==b&&"INTERNATIONAL_DEPART"!==b&&j.alternateModesAvailable,S=O&&O[t],D=!S||S.canRemove,P=F||1===w||!D;return u.a.createElement(d.Fragment,{key:o},t?null:M,u.a.createElement(de,{to:y?null:n.replace(" ","_")+"_box"+t,spy:!0,smooth:!0,duration:400,offset:-140},u.a.createElement(ae,{isSelected:a.state.actionCity===e.cityId&&a.state.actionIndex===t&&x&&"change"===k,isActive:y&&f===t&&"City"===g,onClickAction:function(e){e&&e.preventDefault(),e.target.classList.contains("pyt-delete-16")||p(t,"City")},headerClassName:"item ".concat(t===a.state.newActionIndex?a.state.addedRowClass:""),key:o,isModal:y,activeText:n,defaultValue:i,isCounterEditable:L&&!N,deleteTooltip:P?1===w?ee.e:ee.j:ee.f,hideDeleteAction:P,hideEditAction:!!F,onEditAction:F||!y?null:function(n){a.performEventAction(n),a.setState({actionCity:e.cityId,actionIndex:t},(function(){m(t,e.cityId)}))},onDeleteAction:P?function(){}:function(e){a.deleteCity(e,t,P)},onCounterAction:F?null:function(e,n){a.performEventAction(e),c(t,n)},transferMode:A})),t!==w-1?u.a.createElement(ae,{isSelected:a.state.actionCity===e.cityId&&a.state.actionIndex===t&&x&&"add"===k,isModal:y,isActive:y&&f===t&&"Stop"===g,onClickAction:function(n){n&&n.preventDefault(),a.setState({actionCity:e.cityId,actionIndex:t},(function(){L?R?p(t,"Stop"):s(t,e.cityId):E(n)}))},headerClassName:"item transfer ".concat(L?"":"disable-pointers"),enableText:!1,enableCounter:!1,hideDeleteAction:!!F,hideEditAction:!!F,customElements:u.a.createElement(oe,{cityName:n,index:t,enableTransferMode:"NONE"!==A,nextCity:r.cityName,enableReplace:R,keyValue:o,replaceTransfer:function(t){a.performEventAction(t),a.handleRowTotemClick(r.cityKey,e.cityKey,A)},enableAdd:!F,addCity:L?function(n){a.performEventAction(n),a.setState({actionCity:e.cityId,actionIndex:t},(function(){s(t,e.cityId)}))}:E,isModal:y,transferMode:A,isReadOnly:F,time:H(T)})}):U)})));return y?z:u.a.createElement("div",{className:o},z)}}]),a}(d.Component);function me(e){var t=e.isEditCityClosing,a=e.isEditCityVisible,n=e.editCityMode,i=e.itineraryId,o=e.cityToReplace,r=e.addCity,l=e.replaceCity,c=e.citySelectedToReplace,s=e.editCityOptions,m=e.fromCityCode,p=e.toCityCode,f=e.cities,g=e.handleNights,h=e.deleteCity,y=e.openEditCityModalAdd,v=e.openEditCityModalReplace,b=e.activeIndex,E=e.setActiveIndex,C=e.activeField,O=e.history,x=e.isBooked,k=e.match,I=e.closeEditCityModal,N=e.isModal,j=e.rootClassName,w=e.isReadOnly,A=e.newActionIndex,T=e.isEditable,R=e.applyChangeDirectly,S=e.isFromLanding,D=e.actionPerformed,P=e.getCostAction,_=e.removeCityInfo,B=e.actionCity,L=e.actionIndex,F=e.enableLoader,M=e.isFromPackages,V=e.itineraryInfo,U=u.a.createElement(ue,{cities:f,isModal:N,removeCityInfo:_,rootClassName:j,enableLoader:F,actionPerformed:D,handleNightAction:g,deleteCityAction:h,addCityAction:y,replaceCityAction:v,activeIndex:b,activeField:C,setActiveIndex:E,history:O,isBooked:x,match:k,getCostAction:P,isReadOnly:w,newActionIndex:A,isEditable:T,isEditCityVisible:a,editCityMode:n,actionCity:B,actionIndex:L,isFromPackages:M,itineraryInfo:V});return u.a.createElement(d.Fragment,null,N?u.a.createElement("div",{className:"modal-body "+(a?"scroll-locked replace-city-body":"")},U,a?u.a.createElement($,{isClosing:t,closeModal:I,editCityMode:n,itineraryId:i,cityToReplace:o,editCityOptions:s,addCity:r,replaceCity:l,citySelectedToReplace:c,fromCityCode:m,toCityCode:p,applyChangeDirectly:R,isFromLanding:S,enableFrom:!!m,enableTo:!!p,isReadOnly:w}):null):U)}a(1605);var pe=a(1780),fe=a(194);function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var he=function(e){Object(l.a)(a,e);var t=ge(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).openEditCityModalReplace=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.props.itineraryInfo,i=a&&a.itinerary,o=i.regionCode,r=i.interests,l=n.state.cities,c=l[e],s=l.length,d=c.cityId,u=e>0?l[e-1]:{cityId:0,airportCode:""},m=e<l.length-1?l[e+1]:{cityId:0,airportCode:""},p={entry:0===e,exit:e===s-1,currentCityId:c.cityId,previousCityId:e>0?l[e-1].cityId:0,nextCityId:m.cityId,replaceIndex:e,region:o,interests:r,citiesInItinerary:n.getCityValues()};n.performModalAction({citySelectedToReplace:c,isEditCityVisible:!0,editCityMode:"change",cityToReplace:d,editCityOptions:p,fromCityCode:u.cityName,toCityCode:m.cityName,actionCity:t,actionIndex:e})},n.openEditCityModalAdd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.state.cities,i=n.props.itineraryInfo,o=i.itinerary,r=o.regionCode,l=o.interests,c=e<a.length-1?a[e+1]:{cityId:0,airportCode:""},s=-1===e,d=e===a.length-1,u=s?{airportCode:""}:a[e],m={entry:s,exit:d,previousCityId:s?0:a[e].cityId,previousCityIndex:e+1,nextCityId:d?0:c.cityId,region:r,interests:l,citiesInItinerary:n.getCityValues()};n.performModalAction({isEditCityVisible:!0,editCityMode:"add",editCityOptions:m,fromCityCode:u.cityName,toCityCode:c.cityName,actionCity:t,actionIndex:e})},n.performModalAction=function(e){var t=n.props,a=t.itineraryInfo,i=t.isModal,o=void 0===i||i,r=t.history,l=a&&a.itinerary,c=l.itineraryId,s=l.regionCode;o?n.setState(e):(e.isFromLanding=!0,r.push(Object(le.Jb)({itineraryId:c,regionCode:s,target:le.E}),e))},n.setActiveIndex=function(e,t){n.setState({activeIndex:e,activeField:t})},n.closeEditCityModal=function(e){e&&e.preventDefault(),n.setState({isEditCityClosing:!0},(function(){n.setState({isEditCityVisible:!1,isEditCityClosing:!1})}))},n.setLoader=function(){n.setState({enableLoader:!0})},n.replaceCity=function(e,t){var a=n.getCities();t.nights=a[e].nights,a[e]=t,t.fromCity&&(a[e].travelTime=t.fromCity.travelTime,a[e].mode=t.fromCity.mode),a[e+1]&&(a[e+1].travelTime=t.toCity.travelTime,a[e+1].mode=t.toCity.mode),n.setCityVal(a,e),Object(I.Ld)(I.Xb,{city_replaced:!0,category:"city",action:I.Hc,city:t.cityName,button_clicked:"Edit Route - Replace City"})},n.addCity=function(e,t){var a=n.getCities();t.fromCity&&(t.travelTime=t.fromCity.travelTime,t.mode=t.fromCity.mode),a[e]&&(a[e].travelTime=t.toCity.travelTime,a[e].mode=t.toCity.mode),t.nights=t.idealNights,a.splice(e,0,t),n.setCityVal(a,e),Object(I.Ld)(I.Xb,{action:I.e,city_added:!0,category:"city",city:Object(g.a)(t,"cityName"),button_clicked:"Edit Route - Add City"})},n.deleteCity=function(e,t){t&&t.preventDefault();var a=n.props.isModal,i=void 0===a||a,o=i?function(){}:n.applyChanges;n.setState({cityToDelete:e,enableFooter:!0,enableTripOption:!0,isRemoveCityLoading:!0,newActionIndex:null,actionPerformed:i},(function(){var t=n.getCities(),a=t.splice(e,1);t[e]&&(t[e].mode="NONE"),n.processAPIAction(t,o),Object(I.Ld)(I.Xb,{action:I.Dc,city_removed:!0,category:"city",city:Object(g.a)(a,"cityName"),button_clicked:n.props.isModal?"Edit Route - Remove City":"Itinerary - Remove City"})}))},n.applyChangeDirectly=function(e,t,a){n.setState({enableLoader:!0},(function(){var i=n.getCities();"REPLACE"===a?(t.nights=i[e].nights,i[e]=t):(t.nights=t.idealNights,i.splice(e,0,t)),n.processAPIAction(i,n.applyChanges)}))},n.getCities=function(){return(n.state.cities||[]).map((function(e){return Object(i.a)({},e)}))},n.setCityVal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.setState({cities:e,enableFooter:!0,enableTripOption:!0,newActionIndex:t,actionPerformed:!0},(function(){n.updateRemovableInfo()}))},n.performGetCost=function(e){e&&e.preventDefault&&e.preventDefault();var t=n.props,a=t.history,i=t.itineraryInfo,o=t.isFromPackages,r=i&&i.itinerary,l=r.itineraryId,c=r.regionCode,s=o&&i.campaignItineraryId,d="".concat(a.location.pathname,"/get-cost").concat(s?"/"+s:""),u=Object(le.Jb)({itineraryId:l,regionCode:c,target:le.E});o&&!Object(O.a)(a.location.pathname,["get-cost"])?a.push(d):o||a.push(u)},n.handleNights=function(e,t){var a,o,r=n.props,l=r.isModal,c=void 0===l||l,s=r.addDayInCity,d=r.removeDayInCity,u=r.itineraryInfo,m=n.getCities(),p=m[e].nights;if(p===t)return null;p>t?(a=d,o={category:"night",night_removed:!0,action:I.Dc}):(a=s,o={category:"night",night_added:!0,action:I.e}),m[e].nights=t;var f=m[e].allDayKeys,g=!1;(m[e].days||[]).map((function(e){g||(g=(e.slots||[]).some((function(e){return"INTERNATIONAL_DEPART"===e.type})))})),n.setState({cities:m,enableFooter:!0,enableTripOption:!0},(function(){c?Object(I.Ld)(I.Xb,Object(i.a)(Object(i.a)({},o),{},{button_clicked:o.night_added?"Edit Route - Add Night":"Edit Route - Remove Night"})):n.setState({enableLoader:!0},(function(){a({itineraryId:u.itinerary.itineraryId,cityId:m[e].cityId,dayIdentifier:f&&f[f.length-(g?2:1)]}).then((function(){n.setState({enableLoader:!1}),Object(I.Ld)(I.Xb,Object(i.a)(Object(i.a)({},o),{},{button_clicked:o.night_added?"Itinerary - Add Night":"Itinerary - Remove Night"}))})).catch((function(){n.setState({enableLoader:!1})}))}))}))},n.discard=function(){n.setState({cities:n.state.actualCities,enableFooter:!1})},n.processAPIAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={cities:n.getCityValues("cityId",e)};Object(z.a)({url:D("remove"),method:"POST",body:a,onSuccess:function(a){n.props.updateEditableDetails(a).then((function(){n.setState({cities:e,isRemoveCityLoading:!1},(function(){t()}))}))},onFailure:function(){n.setState({isRemoveCityLoading:!1},(function(){t()}))}})},n.updateRemovableInfo=function(){n.setState({isRemoveCityLoading:!0},(function(){n.processAPIAction(n.state.cities)}))},n.clickClose=function(){n.setState({modalClass:" "},(function(){setTimeout((function(){var e=n.props,t=e.history,a=e.itineraryInfo,i=a&&a.itinerary,o=i.itineraryId,r=i.regionCode;t.push(Object(le.Jb)({itineraryId:o,regionCode:r}))}),200)}))},n.handleKeyUp=function(e){27===e.keyCode&&(n.state.isEditCityVisible?n.setState({isEditCityVisible:!1}):n.clickClose())},n.handleGuide=function(e){[pe.c.FINISHED,pe.c.SKIPPED].includes(e.status)&&(Object(I.Ld)(I.ld,{element_name:"city_itinerary_pg_btn"}),window.localStorage.setItem("trip_timeline_user_guide",1),n.setState({showGuide:!1}))},n.getCityValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cityId",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.cities;return t.map((function(t){return t[e]}))},n.applyChanges=function(){var e=n.props,t=e.itineraryInfo,a=e.editCityModalApplyChanges;n.setState({enableLoader:!0},(function(){var e={itineraryId:t.itinerary.itineraryId,cities:n.getCityValues(),nights:n.getCityValues("nights")};a(e.itineraryId,e).then((function(){n.setState({enableLoader:!1}),n.clickClose(),Object(I.Ld)(I.Xb,{trip_edited:!0,action:I.C,button_clicked:"Edit Route - Apply Changes"})})).catch((function(){n.setState({enableLoader:!1}),n.clickClose()}))}))};var r=e.location.state||{},l=r.editCityMode,c=void 0===l?"add":l,s=r.editCityOptions,d=void 0===s?{}:s,u=r.citySelectedToReplace,m=void 0===u?{}:u,p=r.isEditCityVisible,f=void 0!==p&&p,h=r.cityToReplace,y=void 0===h?0:h,v=r.fromCityCode,b=void 0===v?"":v,E=r.toCityCode,C=void 0===E?"":E,x=r.isFromLanding,k=void 0!==x&&x,N=r.actionCity,j=void 0===N?null:N,w=r.actionIndex,A=void 0===w?null:w;return n.state={modalClass:"",showGuide:!1,cities:[],isRemoveCityLoading:!1,isApplyChangesLoading:!1,isEditCityVisible:f,isEditCityClosing:!1,editCityMode:c,cityToReplace:y,citySelectedToReplace:m,editCityOptions:d,isApplyChangesEnabled:!1,activeIndex:0,activeField:"City",enableFooter:!1,fromCityCode:b,toCityCode:C,actualCities:[],removeCityInfo:[],newActionIndex:null,isFromLanding:k,enableLoader:!1,actionPerformed:!1,actionCity:j,actionIndex:A},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var t=e.props.cities;e.setState({modalClass:"in",cities:t,actualCities:t},(function(){e.props.itineraryInfo&&e.updateRemovableInfo()}));var a=e.props.isModal;void 0===a||a?(Object(C.a)(),document.addEventListener("keyup",e.handleKeyUp)):1!=window.localStorage.getItem("trip_timeline_user_guide")&&e.setState({showGuide:!0})}),200)}},{key:"componentWillUnmount",value:function(){var e=this.props.isModal;(void 0===e||e)&&(Object(E.a)(),document.removeEventListener("keyup",this.handleKeyUp))}},{key:"render",value:function(){var e=this,t=this.props,a=t.itineraryInfo,i=t.history,o=t.match,r=t.isModal,l=void 0===r||r,c=t.rootClassName,s=t.isFromPackages,d=t.isReadOnly,m=a&&a.itinerary||{},p=m.itineraryId,f=m.booking||m.frozen,g=this.state,h=g.isEditCityVisible,y=g.cities,v=void 0===y?[]:y,b=g.enableFooter,E=g.cityToReplace,C=g.citySelectedToReplace,O=g.editCityMode,I=g.editCityOptions,j=g.enableTripOption,w=g.modalClass,A=g.activeField,T=g.activeIndex,S=g.isEditCityClosing,D=g.toCityCode,P=g.fromCityCode,_=g.newActionIndex,B=g.isFromLanding,L=g.enableLoader,F=g.actionPerformed,M=g.actionCity,V=g.actionIndex,U=!(s||d),H=this.props.removeCityInfo?Object(n.a)(this.props.removeCityInfo):[],z=u.a.createElement(me,{isModal:l,actionPerformed:F,rootClassName:c,isEditCityVisible:h,editCityMode:O,isEditCityClosing:S,closeEditCityModal:this.closeEditCityModal,itineraryId:p,cityToReplace:E,editCityOptions:I,addCity:U?this.addCity:this.performGetCost,replaceCity:U?this.replaceCity:this.performGetCost,citySelectedToReplace:C,fromCityCode:P,toCityCode:D,cities:v,isEditable:U,removeCityInfo:H,handleNights:U?this.handleNights:this.performGetCost,deleteCity:U?this.deleteCity:this.performGetCost,openEditCityModalAdd:U?this.openEditCityModalAdd:this.performGetCost,openEditCityModalReplace:U?this.openEditCityModalReplace:this.performGetCost,activeIndex:T,activeField:A,getCostAction:this.performGetCost,setActiveIndex:this.setActiveIndex,history:i,isBooked:f,match:o,isReadOnly:d,applyChangeDirectly:this.applyChangeDirectly,isFromLanding:B,newActionIndex:_,actionCity:M,actionIndex:V,enableLoader:L,isFromPackages:s,itineraryInfo:a});return u.a.createElement("div",{className:l?"modal fade parent-close ".concat(w," edit-trip-popup ").concat(b&&!h?"modal-sticky-bars":"modal-sticky-header"):"sidebar-content hidden-xs hidden-sm",onClick:function(t){Object(x.a)(t,e.clickClose)}},l||Object(k.a)()||d?null:u.a.createElement(pe.d,{run:this.state.showGuide,callback:this.handleGuide,steps:[{target:".trip-timeline",placement:"right-start",textAlign:"left",hideCloseButton:!0,disableBeacon:!0,hideFooter:!0,content:u.a.createElement("div",{className:"text-right"},u.a.createElement("p",{className:"text-left mb-0"},u.a.createElement("strong",null,"New!"),"\xa0Hover over your route map for adding/removing cities and changing your stay duration."),u.a.createElement("a",{className:"bold color-white cursor-pointer",onClick:function(){return e.handleGuide({status:pe.c.FINISHED})}},"Got It"))}],styles:{options:{arrowColor:"#1895b3",backgroundColor:"#1895b3",textColor:"#FFFFFF",zIndex:5e3,overlayColor:"rgba(0,0,0,.4)"},tooltipContent:{padding:"0px"},spotlight:{backgroundColor:" rgba(255, 255, 255, 0.3)"}}}),l?u.a.createElement("div",{className:"modal-dialog"},u.a.createElement("div",{className:"modal-content ".concat(b&&!h?"with-sticky-bars":"with-header")},l?u.a.createElement(N,{isEditCityVisible:h,closeEditCityModal:this.closeEditCityModal,clickClose:this.clickClose,mode:O,replaceName:(C||{}).cityName}):null,z,l?u.a.createElement(R,{enableFooter:b&&!h,enableTripOption:j,applyChanges:this.applyChanges,discard:this.discard}):null),L?u.a.createElement(fe.a,{enableBackDrop:!0,type:"ONE_SEC"}):null):z)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.cities,n=e.removeCityInfo,i=void 0===n?[]:n;return Object(f.a)(a,t.actualCities)&&Object(f.a)(i,t.removeCityInfo)?t:{cities:a,actualCities:a,removeCityInfo:i}}}]),a}(d.Component);t.default=Object(m.c)((function(e){var t=e.app,a=void 0===t?{}:t;return{itineraryInfo:a.itineraryInfo,user_details:a.user_details,removeCityInfo:a.removeCityInfo,cities:a.itineraryInfo.iterCities||[]}}),(function(e){return{editCityModalApplyChanges:Object(p.b)(h.a,e),updateEditableDetails:Object(p.b)(y.a,e),addDayInCity:Object(p.b)(v.a,e),removeDayInCity:Object(p.b)(b.a,e)}}))(he)},1338:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(11),o=a(38),r=a(39),l=a(46),c=a(56),s=a(29),d=a(0),u=a.n(d),m=a(137),p=a(30),f=a(54),g=a(2),h=a(588),y=a.n(h),v=a(47),b=a(5),E=a(110),C=g.default.ul.withConfig({displayName:"DayNavigator__DaysNavWrapper"})(["",";",";width:100%;text-align:center;padding:0 12px;padding:24px 0px 16px 0px;li{float:left;min-width:72px;position:relative;margin-right:4px;margin-bottom:4px;a{display:block;color:",";font-weight:",";",";padding:11px 15px;background-color:rgba(38,119,240,0.2);border-radius:8px;cursor:pointer;&:hover{background-color:rgba(38,119,240,0.1);}&.active{background-color:rgba(0,0,0,0.8);color:",";}.icon-pill{position:absolute;left:-11px;top:50%;margin-top:-11px;width:22px;height:22px;display:flex;align-items:center;justify-content:center;background-color:",";color:",";border-radius:100%;box-shadow:0 0 0 2px ",";font-size:",";}}&:last-child{margin-right:0;a{.icon-pill{left:auto;right:-12px;}}}}"],v.d,v.f,b.theme.accent15,b.theme.semiBold,E.i,b.theme.white,b.theme.accent15,b.theme.white,b.theme.white,b.theme.baseSecondary),O=function(e){var t=e.data,a=void 0===t?[]:t;if(!Array.isArray(a))return null;var n=a.length;return u.a.createElement(C,null,a.map((function(e){return u.a.createElement("li",{key:e.dayNum},u.a.createElement(y.a.Link,{to:"day".concat(e.dayNum),spy:!0,smooth:!0,duration:500,offset:-100},1===e.dayNum||e.dayNum===n?u.a.createElement("span",{className:"icon-pill"},u.a.createElement("i",{className:"pyt-flight-fill-16"})):null,"".concat(e.mon," ").concat(e.day)))})))},x=a(33),k=a(6),I=a(20),N=a(74),j=g.default.div.withConfig({displayName:"DayWiseTitle__DayTitleWrapper"})(["display:flex;width:100%;align-items:center;margin-bottom:16px;","{margin-bottom:24px;}p{margin-bottom:0;",";color:",";padding-right:24px;display:inline-block;vertical-align:top;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;b{color:",";}.holiday{",";color:",";position:relative;text-decoration:underline;display:inline-block;margin-left:4px;padding-left:20px;cursor:pointer;&:before{content:'\\e9ae';font-family:'pyticon';color:#e5b52e;position:absolute;top:0;left:0;font-size:",";line-height:1;}}","{",";}}"],k.md,E.j,b.theme.greyMedium,b.theme.baseColor,E.c,b.theme.black,b.theme.baseSecondary,k.md,E.h),w=g.default.div.withConfig({displayName:"DayWiseTitle__RemoveLink"})(["display:inline-block;margin-left:auto;transition:all 0.2s;cursor:pointer;color:",";&:before{content:'\\E909';font-family:'pyticon';font-size:",";display:inline-block;vertical-align:middle;}","{overflow:hidden;white-space:nowrap;span{display:inline-block;vertical-align:middle;",";padding-left:5px;}&:hover{color:#ef435d;}}"],b.theme.greyLight,b.theme.medium,k.md,E.e),A=function(e){var t=e.dayNum,a=void 0===t?0:t,n=e.dateObj,i=void 0===n?{}:n,o=e.metaData,r=e.handleNights,l=void 0===r?function(){return!1}:r;return u.a.createElement(j,null,u.a.createElement("p",null,u.a.createElement("b",null,"Day ",a>9?a:"0".concat(a))," |"," ",Object(N.a)().getMonthFormat(i,"MMMM")," ",i.getDate(),","," ",Object(N.a)().getDayFormat(i,"DDDD"),o?u.a.createElement("span",{className:"holiday"},o):null),"function"===typeof l?u.a.createElement(w,{onClick:l},Object(I.a)()?null:u.a.createElement("span",null,"Remove Day")):null)},T=a(71),R=g.default.ul.withConfig({displayName:"XsImageGrids__XsImgWrapper"})(["",";padding:0;list-style:none;margin:0 -2px 20px;li{float:left;width:25%;padding:0 2px;cursor:pointer;position:relative;margin-bottom:4px;@media (min-width:600px){width:16.66%;}span{display:block;width:100%;padding-top:100%;background-position:center;background-repeat:no-repeat;background-size:cover;border-radius:8px;position:relative;overflow:hidden;background-color:#c4c4c4;&:before{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background:linear-gradient( 0deg,rgba(0,0,0,0.8) 0%,rgba(0,0,0,0) 40.72% );}}}"],v.d),S=function(e){var t=e.data;return u.a.createElement(R,null,t.map((function(e,t){return u.a.createElement("li",{key:t},u.a.createElement("span",{style:{backgroundImage:'url("'+e+'")'}}))})))},D=a(589),P=a.n(D),_=(a(618),a(619),{slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,autoplay:!0}),B=g.default.div.withConfig({displayName:"ImageSlider__ImageSliderWrapper"})([".slick-slider{height:360px;.slick-slide{outline:0 none;div{height:100%;}}.slick-list{border-radius:8px;height:100%;div{height:100%;}}.item{display:block;width:100%;height:100%;position:relative;background-repeat:no-repeat;background-size:cover;background-position:center;background-color:#aaaaaa;&:after{content:'';width:100%;height:100%;position:absolute;left:0;top:0;background:linear-gradient( 0deg,rgba(0,0,0,0.3) 2.41%,rgba(0,0,0,0) 16.92% );}}.slick-dots{bottom:12px;display:flex !important;justify-content:space-evenly;padding:0 8px;li{margin:0;width:100%;height:5px;padding:0 4px;button{width:100%;height:5px;padding:0;background-color:rgba(255,255,255,0.5);border-radius:16px;&:before{display:none;}}&.slick-active{button{background-color:rgba(255,255,255,1);}}}}}"]),L=function(e){var t=e.data;return u.a.createElement(B,null,u.a.createElement(P.a,_,t.map((function(e,t){return u.a.createElement("div",{key:t},u.a.createElement("div",{className:"item",style:{backgroundImage:'url("'+e+'")'}}))}))))},F=a(1719),M=g.default.section.withConfig({displayName:"DayWiseActivity__ActivityCardWrapper"})(["",";width:100%;","{margin-bottom:24px;}"],v.d,k.sm),V=g.default.div.withConfig({displayName:"DayWiseActivity__InnerRow"})(["",";width:100%;"],v.d),U=g.default.div.withConfig({displayName:"DayWiseActivity__LeftCol"})(["float:left;width:49%;"]),H=g.default.div.withConfig({displayName:"DayWiseActivity__RightCol"})(["float:left;width:100%;","{width:51%;padding-left:16px;}"],k.sm),z=function(e){var t=e.day,a=e.dayNum,n=e.dateObj,i=e.staleCost,o=void 0!==i&&i,r=e.metaData,l=e.isAdmin,c=void 0!==l&&l,s=e.slotDetails,d=e.removeNights,m=e.onUpgradeClick,p=void 0===m?function(){return!1}:m,f=e.onActivityClick,g=void 0===f?function(){return!1}:f,h=[];return s.forEach((function(e){h.push.apply(h,Object(x.a)(e.sliderImages))})),u.a.createElement(M,null,u.a.createElement(A,{day:t,dayNum:a,dateObj:n,metaData:r,handleNights:d}),u.a.createElement(V,null,Object(I.a)()?u.a.createElement(S,{data:h}):null,Object(T.a)()?null:u.a.createElement(U,null,u.a.createElement(L,{data:h})),u.a.createElement(H,null,u.a.createElement(F.a,{staleCost:o,isAdmin:c,data:s,onUpgradeClick:p,onActivityClick:g}))))},W=a(353),G=a(1721),K=g.default.section.withConfig({displayName:"LeisureSection__LeisureCardWrapper"})(["",";width:100%;margin-bottom:24px;"],v.d),Y=function(e){var t=e.day,a=e.dayNum,n=e.dateObj,i=e.removeNights,o=e.onClick;return u.a.createElement(K,null,u.a.createElement(A,{day:t,dayNum:a,dateObj:n,handleNights:i}),u.a.createElement(G.a,{onClick:o}))},q=a(61),J=a(55),Q=g.default.section.withConfig({displayName:"ReviewSection__ReviewCardWrapper"})(["",";width:100%;margin-bottom:24px;text-align:center;padding:40px 48px;background-color:rgba(0,198,132,0.1);border-radius:8px;strong{display:block;",";margin-bottom:20px;}p{",";color:",";margin-bottom:16px;}","{padding:15px 24px;font-size:20px;line-height:1.2;letter-spacing:-0.5px;margin:0 4px;&.btn_whatsapp{background-color:",";border:1px solid rgba(0,0,0,0.33);color:",";}}"],v.d,E.d,E.j,b.theme.grey,q.a,b.theme.white,b.theme.grey),X=function(e){var t=e.cost,a=void 0===t?0:t,n=e.onPrimaryClick,i=void 0===n?function(){return!1}:n,o=e.onSecondaryClick,r=void 0===o?function(){return!1}:o,l=e.isPrimaryBtnDark,c=void 0===l||l,s={value:a};return u.a.createElement(d.Fragment,null,Object(I.a)()?null:u.a.createElement(Q,null,u.a.createElement("strong",null,"Pay just",u.a.createElement(J.a,{objectData:s,path:"value",defaultValue:"0"}),"and block this booking"),u.a.createElement("p",null,"Block your bookings by paying just 70% now and avoid airline and hotel price fluctuations. Speak to our destination experts for any planning assistance."),u.a.createElement(q.a,{className:"btn_whatsapp",onClick:r},"Talk to us"),u.a.createElement(q.a,{btnPrimaryDark:c,btnPrimary:!c,onClick:i},"Review inclusions & Book")))},$=a(1731),Z=a(1675),ee=a(15),te=a(1644),ae=a(1645),ne=a(291),ie=a(7),oe=a(1602),re=a(294),le=a(14),ce=a(1873);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}a.d(t,"LeftContainer",(function(){return de})),a.d(t,"RightContainer",(function(){return ue}));var de=g.default.div.withConfig({displayName:"DubaiItinerary__LeftContainer"})(["float:left;width:100%;padding-left:16px;padding-right:16px;","{width:62%;padding-left:12px;padding-right:12px;}","{width:66.66666667%;padding-right:36px;}","{margin:8px -16px 30px;","{margin:8px 0 32px;}}","{",";color:#c3c3c3;","{padding:6px 8px;background-color:",";border-radius:24px;border:1px solid transparent;&:hover{color:",";border:1px solid ",";}}}"],k.md,k.lg,W.a,k.md,W.b,E.i,k.md,b.theme.white,b.theme.grey,b.theme.greyLight),ue=g.default.div.withConfig({displayName:"DubaiItinerary__RightContainer"})(["float:left;width:100%;padding-left:16px;padding-right:16px;","{width:38%;padding-left:12px;padding-right:12px;}","{width:33.33333333%;}"],k.md,k.lg),me=function(e){Object(l.a)(a,e);var t=se(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).navigatorData=function(){var e=(r.props.itineraryInfo||{}).iterDayByKey,t=void 0===e?{}:e;return t?Object.values(t).sort((function(e,t){return e.dayNum-t.dayNum})):[]},r.getFormattedImageUrl=function(e,t){var a=window.encodeURIComponent(JSON.stringify(e)),n=le.a.MapboxAccessToken,o=window.encodeURIComponent("https://pyt-images.imgix.net/images/web_app/dubai-itinerary/in_to_dubai_start.png"),l=window.encodeURIComponent("https://pyt-images.imgix.net/images/web_app/dubai-itinerary/in_to_dubai_end.png");t&&(o=window.encodeURIComponent("https://pyt-images.imgix.net/images/web_app/dubai-itinerary/dubai_to_in_end.png"),l=window.encodeURIComponent("https://pyt-images.imgix.net/images/web_app/dubai-itinerary/dubai_to_in_start.png"));var c,s,d,u=r.getGeoCodesOfAirports(),m="";if(2===u.length){var p=Object(i.a)(u,2);c=p[0],s=p[1],m="url-".concat(o,"(").concat(c[0],",").concat(c[1],"),url-").concat(l,"(").concat(s[0],",").concat(s[1],")")}else if(3===u.length){var f=Object(i.a)(u,3);c=f[0],d=f[1],s=f[2],m="url-".concat(o,"(").concat(c[0],",").concat(c[1],"),url-").concat(l,"(").concat(d[0],",").concat(d[1],")"),t&&(m="url-".concat(o,"(").concat(s[0],",").concat(s[1],"),url-").concat(l,"(").concat(d[0],",").concat(d[1],")"))}return"https://api.mapbox.com/styles/v1/sasikumar1418/cjukr8o595v3e1fobdt1gzw7e/static/geojson(".concat(a,"),").concat(m,"/auto/360x360@2x?access_token=").concat(n,"&attribution=false&logo=false")},r.buildGeoJson=function(e,t,a){var n=Object(ce.a)(e,t,{npoints:a?2:100,offset:a?-100:200}),i=Object(ce.a)(t,e,{npoints:a?100:2,offset:a?-100:100});return{type:"FeatureCollection",features:[{type:"Feature",properties:{stroke:"#009E6A","stroke-width":2},geometry:{type:"LineString",coordinates:n.geometry.coordinates}},{type:"Feature",properties:{stroke:"#90B1B6","stroke-width":1},geometry:{type:"LineString",coordinates:i.geometry.coordinates}}]}},r.getFlightRoute=function(){var e=r.props.itineraryInfo,t=(e=void 0===e?{}:e).allFlightCostingRefs,a=t&&t[0];if(a){var n,i=a.replace("#"," ").split(" "),o=i[0].split("_"),l=null!==i&&void 0!==i&&i[1]?null===i||void 0===i||null===(n=i[1])||void 0===n?void 0:n.split("_"):o;return[o[0],o[1],l[1]]}return[]},r.getCityAirport=function(e){for(var t=r.props.itineraryInfo,a=(t=void 0===t?{}:t).cityById,n=Object.keys(a),i=0;i<n.length;i+=1){var o=a[n[i]];if(e===o.airportCode)return o}},r.getGeoCodesOfAirports=function(){var e=r.getFlightRoute(),t=Object(i.a)(e,2),a=t[0],n=t[1],o=r.props.itineraryInfo,l=(o=void 0===o?{}:o).cityById;if(a===n){var c=Object.values(l),s=Object(i.a)(c,2),d=s[0],u=s[1];if(d&&u){var m=d.latitude,p=d.longitude,f=u.latitude;return[[u.longitude,f],[p,m]]}return[]}for(var g=[],h=0;h<e.length;h+=1){var y=r.getCityAirport(e[h]);if(y){var v=y.latitude,b=y.longitude;g.push([b,v])}}return g},r.getSlotDetails=function(e){var t,a,o,l="",c="",s=r.getGeoCodesOfAirports();if(s.length)if(2===s.length){var d=Object(i.a)(s,2);t=d[0],a=d[1],l=r.getFormattedImageUrl(r.buildGeoJson(t,a,!1),!1),c=r.getFormattedImageUrl(r.buildGeoJson(t,a,!1),!0)}else if(3===s.length){var u=Object(i.a)(s,3);t=u[0],o=u[1],a=u[2],l=r.getFormattedImageUrl(r.buildGeoJson(t,o,!1),!1),c=r.getFormattedImageUrl(r.buildGeoJson(o,a,!1),!0)}var m=r.props.itineraryInfo.activityCostings;return e.map((function(e){var i,o,r=e||{},s=r.type,d=r.arrivalSlotDetail,u=r.departureSlotDetail,p=r.activitySlotDetail,f=r.leisureSlotDetail,g="",h=[];switch(s){case"INTERNATIONAL_ARRIVE":g=d.slotText,t&&a?h.push(l):h.push("".concat(le.a.imgix_base,"/images/cityImages/20/arrival_flight.jpg"));break;case"INTERNATIONAL_DEPART":g=u.slotText,t&&a?h.push(c):h.push("".concat(le.a.imgix_base,"/images/cityImages/20/departure_flight.png"));break;case"ACTIVITY_WITH_TRANSFER":case"ACTIVITY":i=p.title,g=p.shortDesc,h.push(p.mainPhoto);var y=p.activityCostingIdentifier;o=m&&m.costingById&&m.costingById[y].upgradable;break;case"LEISURE":g=f.text}return Object(n.a)(Object(n.a)({},e),{},{slotTitle:i,slotText:g,sliderImages:h,upgradable:o})}))},r.handleNights=function(e,t){var a,i,o=r.props,l=o.addDayInCity,c=o.removeDayInCity,s=o.itineraryInfo,d=s.iterDayByKey,u=Object.keys(d).length;if(u===e)return null;u>e?(a=c,i={category:"night",night_removed:!0,action:ee.Dc}):(a=l,i={category:"night",night_added:!0,action:ee.e}),r.setState({enableLoader:!0},(function(){a({itineraryId:s.itinerary.itineraryId,cityId:20,dayIdentifier:t}).then((function(){r.setState({enableLoader:!1}),Object(ee.Ld)(ee.Xb,Object(n.a)(Object(n.a)({},i),{},{button_clicked:i.night_added?"Itinerary - Add Night":"Itinerary - Remove Night"}))})).catch((function(){r.setState({enableLoader:!1})}))}))},r.navigateToActivity=function(e,t){var a=r.props,n=a.history,i=a.itineraryInfo.itinerary,o=i.itineraryId,l=i.regionCode,c=Object(oe.a)(e),s=Object(ie.Jb)({itineraryId:o,regionCode:l,parentPage:ie.Lb.itinerary,target:t,customParams:{configKey:c}});n.push(s)},r.onUpgradeClick=function(e,t){var a=Object(re.a)()?ie.d:ie.e;a===ie.e&&Object(ee.Ld)(ee.d,{is_upgradable:t.upgradable,activity_slot_no:t.index,activity_name:t.slotTitle,activity_id:t.slotIdentifier,region_code:"dxb"}),r.navigateToActivity(e,a)},r.onActivityClick=function(e){r.navigateToActivity(e,ie.b)},r.onCBRClick=function(){var e=r.props,t=e.history,a=e.itineraryInfo.itinerary,n=a.itineraryId,i=a.regionCode;t.push(Object(ie.Jb)({itineraryId:n,regionCode:i,target:ie.r}))},r.state={enableLoader:!1},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.navigatorData(),a=this.props.user_details,n=a.userType,o=a.loggedIn,r=n===le.a.user_type_admin,l=this.props.itineraryInfo||{},c=l.festivals,s=l.itinerary,m=s.booking,p=s.frozen,f=s.staleCost,g=(l.paymentSchedule||{}).paymentOptions,h=(g||[]).length>1&&!(m||p);return u.a.createElement(d.Fragment,null,Object(I.a)()?null:u.a.createElement(O,{data:t}),u.a.createElement(de,null,t.map((function(a,n){var o=a||{},l=o.dayNum,s=o.day,d=o.mon,m=o.dayTs,p=o.slots,g=void 0===p?[]:p,h=o.dayIdentifier,v={day:s,dayNum:l,dateObj:new Date(m),isAdmin:r,staleCost:f},b=!1,E={};Array.isArray(g)&&1===g.length&&g[0]&&3===g[0].span&&"LEISURE"===g[0].type&&(b=!0),Array.isArray(c)&&c.length&&(E=c.find((function(e){return e.day===s&&e.mon===d})));var C=e.getSlotDetails(g);return u.a.createElement(y.a.Element,{name:"day".concat(l),key:l},b?u.a.createElement(Y,Object.assign({},v,{metaData:(E||{}).name,slotDetails:C,onClick:function(t){t.preventDefault(),t.stopPropagation();var a=Object(i.a)(C,1)[0].slotIdentifier;e.onActivityClick(a)},removeNights:1===l?null:function(){return e.handleNights(t.length-1,h)}})):u.a.createElement(z,Object.assign({},v,{metaData:(E||{}).name,slotDetails:e.getSlotDetails(g),onUpgradeClick:e.onUpgradeClick,onActivityClick:e.onActivityClick,removeNights:1===l||l===t.length?null:function(){return e.handleNights(t.length-1,h)}})),n!==t.length-1?u.a.createElement(W.c,{links:[{text:"Add another day",iconClassName:"pyt-plus-16",textColor:"#aaaaaa",onClickAction:function(){e.handleNights(t.length+1,h)}}]}):null)})),f?null:Array.isArray(g)&&h?u.a.createElement(X,{cost:(g[1]||{amount:0}).amount,onPrimaryClick:function(){Object(ee.Ld)(ee.Kc,{clicked:!0,region_code:"dxb"}),e.props.goToInclusions()},onSecondaryClick:this.onCBRClick,isPrimaryBtnDark:!1}):null,u.a.createElement($.a,null)),Object(I.a)()?null:u.a.createElement(Z.a,Object.assign({},this.props,{customOptions:{marginTop:o?r?"-290px":"-270px":"-250px"},isItinerary:!0,isSandune:!0,goToInclusions:function(){Object(ee.Ld)(ee.Jc,{clicked:!0,region_code:"dxb"}),e.props.goToInclusions()},isItineraryPage:!0})))}}]),a}(d.Component);t.default=Object(m.withLastLocation)(Object(p.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=a.itineraryInfo,i=void 0===n?{}:n,o=a.user_details,r=a.unAuth,l=a.isReadOnly,c=a.isReload,s=i||{};return{itineraryInfo:i,metaData:s.metaData,campaignDetail:s.campaignDetail,user_details:o,unAuth:r,isReadOnly:l,adult_count:s.adult_count,child_count:s.child_count,isReload:c}}),(function(e){return{addDayInCity:Object(f.b)(te.a,e),removeDayInCity:Object(f.b)(ae.a,e),actions:{getCost:Object(f.b)(ne.a,e)}}}))(me))},1340:function(e,t,a){"use strict";a.r(t),a.d(t,"DubaiItineraryMobileFooter",(function(){return f}));var n=a(11),i=a(0),o=a.n(i),r=a(35),l=a.n(r),c=a(2),s=a(61),d=a(1670),u=a(55),m=c.default.section.withConfig({displayName:"DubaiItineraryMobileFooter__BottomOptionsBar"})(["position:fixed;width:100%;left:0;transition:all 0.3s ease-out;z-index:1031;",";.bg-overlay{position:fixed;left:0;top:0;height:100%;background-color:rgba(44,47,66,0.4);visibility:hidden;width:100%;transition:all 0.4s;opacity:0;}",";"],(function(e){return e.themeDark&&Object(c.css)(["","{background:#333333;box-shadow:0px -2px 10px rgba(0,0,0,0.1);.btn-actions{.left-icons{","{i{color:rgba(255,255,255,0.5);}}}.right-btn{p{color:#999999;&.price-txt{color:rgba(255,255,255,0.9);}}}}ul{li{a{color:rgba(255,255,255,0.9);}}}}"],p,s.a)}),(function(e){return e.open&&Object(c.css)(["bottom:0;.bg-overlay{opacity:1;visibility:visible;}"])})),p=c.default.div.withConfig({displayName:"DubaiItineraryMobileFooter__BottomOptionsContent"})(["position:relative;background-color:#ffffff;box-shadow:0px -2px 10px rgba(0,0,0,0.1);.btn-actions{display:flex;align-items:center;min-height:64px;padding:8px 16px;.left-icons{","{background-color:transparent;padding:8px 4px;i{font-size:24px;color:rgba(0,0,0,0.5);}}}.right-btn{display:flex;align-items:center;margin-left:auto;.price-details{display:flex;flex-wrap:wrap;flex-direction:column;&.column-reverse{flex-direction:column-reverse;.price-txt{margin:2px 0 0;}}p{text-align:right;margin-bottom:0;&:first-child{margin-bottom:2px;}&.price-txt{color:#333333;font-size:18px;line-height:20px;letter-spacing:-0.02em;}.offer-txt{display:inline-block;color:#7d42a1;font-weight:bold;font-size:10px;line-height:12px;letter-spacing:-0.01em;text-transform:uppercase;vertical-align:middle;margin-left:8px;&.highlight-skew{z-index:1;&:before{background-color:rgba(255,209,82,0.8);}}}}}","{background:#00b277;border-color:#00b277;margin-left:16px;font-size:17px;line-height:1.54;letter-spacing:-0.02em;padding:10px 16px;}}}.dubai-comfy-score{width:100%;}.alert-txt{position:relative;padding:4px;background:#f15f75;p{color:#ffffff;font-size:13px;line-height:20px;letter-spacing:-0.02em;font-weight:600;text-align:center;margin-bottom:0;}}ul{width:100%;list-style:none;padding-left:0;padding:24px;margin-bottom:0;font-size:18px;letter-spacing:-0.45px;line-height:1.27;li{margin-bottom:24px;&:last-child{margin-bottom:0;}a{color:#666666;i{margin-right:16px;}}}}"],s.a,s.a),f=function(e){var t=e.isCosted,a=e.staleCost,r=e.liOptions,c=void 0===r?[]:r,f=e.onOptionClick,g=e.onButtonClickAction,h=void 0===g?function(){}:g,y=e.footerData,v=e.booking,b=void 0!==v&&v,E=e.isInclusion,C=void 0!==E&&E,O=e.discount,x=void 0===O?"":O,k=e.strikedCost,I=void 0===k?"":k,N=e.comfyScore,j=void 0===N?0:N,w=e.footerButtonText,A=void 0===w?"Review Inclusions":w,T=e.setComfyScoreModal,R=void 0===T?function(){}:T,S=Object(i.useState)(!1),D=Object(n.a)(S,2),P=D[0],_=D[1],B={value:x},L={value:I};Object(i.useEffect)((function(){var e=document.getElementById("dubai_mobile_footer"),t=document.getElementById("dubai_mobile_footer_option").offsetHeight;e.style.bottom=P?"0px":-t+"px"}),[P,a]);return o.a.createElement(m,{id:"dubai_mobile_footer",open:P},o.a.createElement("div",{className:"bg-overlay",onClick:function(){_(!1)}}),o.a.createElement(p,null,parseInt(j).toFixed()&&!a?o.a.createElement(d.a,{comfyScore:j,setComfyScoreModal:R,className:"dubai-comfy-score"}):null,!C&&B.value?o.a.createElement("div",{className:"alert-txt"},o.a.createElement("p",null,"You save",o.a.createElement(u.a,{objectData:B,path:"value",defaultValue:"0"}),"on the total trip cost!")):null,o.a.createElement("div",{className:l()("btn-actions",{signed:t&&!a,unsigned:!t||a})},o.a.createElement("div",{className:"left-icons"},o.a.createElement(s.a,{onClick:function(e){return function(e){e&&e.preventDefault(),_(!P)}(e)}},o.a.createElement("i",{className:"pyt-more-vertical-24"}))),o.a.createElement("div",{className:"right-btn"},a?null:o.a.createElement("div",{className:"price-details ".concat(C?"column-reverse":"")},o.a.createElement("p",{className:"price-txt"},o.a.createElement("span",null,o.a.createElement("b",null,o.a.createElement(u.a,{objectData:y,path:"price",defaultValue:"0"})))),o.a.createElement("p",null,null!==L&&void 0!==L&&L.value?o.a.createElement("span",{className:"color-grey fine-text strike-line"},o.a.createElement(u.a,{objectData:L,path:"value",defaultValue:"0"})):null,C&&null!==B&&void 0!==B&&B.value?o.a.createElement("span",{className:"offer-txt highlight-skew"},o.a.createElement(u.a,{objectData:B,path:"value",defaultValue:"0"}),"Saved"):null)),o.a.createElement(s.a,{disabled:b&&C,btnPrimary:!0,onClick:function(){h&&h()}},A))),o.a.createElement("ul",{id:"dubai_mobile_footer_option"},(c||[]).map((function(e,t){return o.a.createElement("li",{key:t},e.isRedirect?o.a.createElement("a",{target:"_blank",href:e.redirectLink,style:{display:(null===e||void 0===e?void 0:e.icon)&&"flex",flexDirection:(null===e||void 0===e?void 0:e.icon)&&"row",alignItems:(null===e||void 0===e?void 0:e.icon)&&"center",fontFamily:(null===e||void 0===e?void 0:e.icon)&&"Source Sans Pro"}},null!==e&&void 0!==e&&e.icon?o.a.createElement(o.a.Fragment,null,null===e||void 0===e?void 0:e.icon):o.a.createElement("i",{className:e.iconName}),e.text):o.a.createElement("a",{onClick:function(t){f(t,e.text),_(!1)}},o.a.createElement("i",{className:e.iconName}),e.text))})))))}},1463:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(54),u=a(30),m=a(18),p=a(42),f=a(588),g=a.n(f),h=a(1660),y=a(20),v=a(33),b=a(11),E=a(36),C=a(1598),O=a(1600),x=a(1599),k=a(1650),I=a(219),N=a(1769),j=a(601),w=a(1648),A=a(1751),T=function(e){var t=e.title,a=e.nights,n=void 0===a?0:a,i=e.city,o=void 0===i?"":i,r=e.checkin,l=e.checkout,c=e.amenities,d=e.roomList,u=void 0===d?[]:d,m=e.rating,p=void 0===m?0:m,f=e.taRating,g=void 0===f?0:f,h=e.price,y=void 0===h?null:h,v=e.image,b=e.error,E=e.alerts,C=void 0===E?{}:E,O=e.footerIcons,k=e.onClick,T=void 0===k?function(){}:k,R=e.onChange,S=e.onRemove,D=e.isReadOnly,P=void 0!==D&&D,_=e.AOTpills,B=e.discountBadge,L=e.discountAppliedBatch,F=e.IslandHopperDiscountBadge,M=e.changeDisabled,V=void 0!==M&&M,U=e.removeDisabled,H=void 0!==U&&U,z=e.nightStay,W=e.onSplitClicked,G=e.showSplitOption,K=e.changeButtonText,Y=void 0===K?x.b:K,q=e.isBlockCard,J=void 0!==q&&q,Q=e.blockCardClickAction,X=e.isBooked,$=e.publishedPrice,Z=e.isAdmin;if("object"===typeof b&&b.errorMessage)return s.a.createElement("section",{className:"card"},s.a.createElement(N.a,{hotelName:t,type:x.k.HOTEL,containerClass:"vertical-center vmargin-small",fromPlace:t,fromDate:r,toDate:l,location:z,isAdmin:Z}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("p",{className:"meta-text vmargin-small"},s.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"}),"\xa0\xa0",b.errorMessage))),s.a.createElement(A.a,{isAdmin:Z,icons:O,price:y,publishedPrice:$,changeText:J?x.a:x.b,onView:T,onChange:R,onRemove:S,isReadOnly:P,changeDisabled:V,removeDisabled:H,isBlockCard:J,blockCardClickAction:Q}));var ee=Object.values(Object(I.a)(u,(function(e){return e.name}))),te=1===u.length||1===ee.length,ae=u.find((function(e){return Array.isArray(e.extraInclusions)&&e.extraInclusions.length})),ne=(u.find((function(e){return Array.isArray(e.extraInclusions)&&e.extraInclusions}))||{}).extraInclusions,ie=ee.map((function(e,t){return s.a.createElement("p",{key:t,className:"fine-text mbottom-small"},s.a.createElement("b",{className:"semi-bold"},"".concat(te?"":"#".concat(t+1)," ").concat(e[0].name," ").concat(e.length>1?" x".concat(e.length):"")),"\xa0\xa0",s.a.createElement("span",null,s.a.createElement("i",{className:"main-para valign-middle ".concat(e[0].refundable?"color-primary pyt-refundable-16":"color-accent-7 pyt-non-refundable-16")}),e[0].refundable?" Refundable":" Non Refundable"))}));return s.a.createElement("section",{className:"card",onClick:T},s.a.createElement(N.a,{type:x.k.HOTEL,rating:p,fromPlace:t,sectionTitle:n?"".concat(n,"N STAY IN ").concat(o.toUpperCase()):null,fromDate:r,toDate:l,amenities:c,roomContent:ie,location:z,honeymoonFlag:ae,onSplitClicked:W,showSplitOption:G,isBooked:X,hotelName:t,extraInclusions:ne,isAdmin:Z}),_,B,L,F,v?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("figure",{className:"img-holder mbottom-medium",style:{backgroundImage:"url('".concat(v,"')")}})),s.a.createElement("div",{className:"col-xs-12 mbottom-medium"},s.a.createElement("div",{className:"rating-sec"},s.a.createElement("span",null,s.a.createElement("span",{className:"fine-text"},"Star Category"),s.a.createElement(j.a,{rootClassName:"stars",starClassName:"pyt-star-16",rating:p})),isNaN(g)&&0!==g&&s.a.createElement("span",{className:"ta-rating"},s.a.createElement(j.a,{ratingType:"ADVISOR",rating:g,rootClassName:"ta-dots",defaultClassName:"pyt-radiobtn-unchecked-16",starClassName:"pyt-radiobtn-checked-16",halfStarClassName:"pyt-half-checked-16"}))))):null,C.length>0?s.a.createElement(w.a,Object.assign({},C[0],{count:C.length>0?C.length-1:null,alerts:C})):null,s.a.createElement(A.a,{icons:O,price:y,changeText:Y,onView:T,onChange:R,onRemove:S,isReadOnly:P,changeDisabled:V,removeDisabled:H,isBlockCard:J,blockCardClickAction:Q,publishedPrice:$,isAdmin:Z}))},R=a(1791),S=a(7),D=a(1595),P=a(15),_=a(1614),B=a(22),L=a(14),F=a(49),M=a.n(F),V=a(245),U=a(190),H=a(214),z=a(1628),W=a(1592),G=a(1593);function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var Y=x.k.HOTEL,q=x.k.CHANGEROOM,J=x.k.RETRY,Q=L.a.api_url,X={ERROR:"Hotel costing failed this time. Try after some time!",USER_REMOVED:"You have removed this hotel from itinerary!",UNAVAILABLE:"Hotel is unavailable. Try a different date"},$=function(e){Object(o.a)(a,e);var t=K(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onViewDetailsClick=function(t,a){if("SUCCESS"===t.status){if(!a.target.classList.contains("slick-arrow")){var n=e.props,i=n.history,o=n.location,r=n.itineraryDetail,l=r.itineraryId,c=r.regionCode,s=Object(C.a)(t.configKey);Object(P.Ld)(P.Pc,{category:"hotel",button_clicked:"Inclusions - Hotel Card"}),i.push(Object(S.Jb)({itineraryId:l,regionCode:c,location:o,target:S.W,customParams:{configKey:s}}))}}else a.preventDefault()},e.onChangeClick=function(t,a){a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=t.splitEnabled,i=t.allowedToSplit;if(n&&!i)e.setSplitRoute(t,"EDIT");else{var o=e.props,r=o.history,l=o.location,c=o.itineraryDetail,s=c.itineraryId,d=c.regionCode,u=Object(C.a)(t.configKey);Object(P.Ld)(P.D,{category:"hotel",button_clicked:"Inclusions - Hotel Card"}),r.push(Object(S.Jb)({itineraryId:s,regionCode:d,location:l,target:S.T,customParams:{configKey:u}}))}},e.getAsFormattedDate=function(e){return M()(e).format("DD MMM YYYY")},e.confirmDeleteHotel=function(t,a){a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.hotelRefs,o=void 0===i?[]:i,r=n.hotelCostingObj.costingById,l=t||{},c=l.checkInDate,s=l.checkOutDate,d=l.configKey,u=o.filter((function(e){return e!==d})),m=(r[Object(b.a)(u,1)[0]]||{}).name,p=void 0===m?"":m;swal({title:"Are you sure of deleting this stay option? ",text:"Your stay from ".concat(e.getAsFormattedDate(c)," - ").concat(e.getAsFormattedDate(s)," will be automatically allotted to  ").concat(p),animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete",closeOnConfirm:!0,closeOnCancel:!0},(function(n){n&&e.onRemoveHotelSplitClicked(t,a)}))},e.onRemoveHotelSplitClicked=function(t){var a=e.props,n=a.itineraryDetail,i=a.dispatch,o=n.itineraryId,r=t.configKey;Object(P.Ld)(P.Vc,{hotel_name:t.name,hotel_duration:t.numberOfNights});var l="".concat(Q,"hotel/split/modify");return Object(B.a)({url:l,method:"POST",body:{itineraryId:o,configKey:r,opr:"DELETE"},onSuccess:function(e){Object(V.a)(i,e.data)},onFailure:function(e){return Object(U.a)(e,i),{}}})},e.setSplitRoute=function(t,a){var n=e.props,i=n.history,o=n.itineraryDetail,r=o.itineraryId,l=o.regionCode,c=t.costingId,s=t.configKey,d=t.checkInDate,u=t.checkOutDate,m=Object(C.a)(s);Object(_.a)({costingId:c,checkInDate:d,checkOutDate:u,splitMode:a});var p=Object(S.Jb)({itineraryId:r,regionCode:l,parentPage:S.Lb.inclusion,target:S.wb,retainQueryString:!0,customParams:{sourceHotelCostingKey:m}});i.push(p)},e.onHotelSplitClicked=function(t,a){a.stopPropagation(),a.nativeEvent.stopImmediatePropagation(),e.setSplitRoute(t,"NEW")},e.renderRefundabilityUI=function(e){return e?{className:"pyt-refundable-16 color-primary-dark",text:"Refundable"}:{className:"pyt-non-refundable-16 color-accent-7",text:"Non Refundable"}},e.roomAmenitiesComponent=function(t,a){return{refundable:e.renderRefundabilityUI(a.refundable),wifi:a.freeWireless?{className:"pyt-wifi-16",text:"Free Wifi"}:{className:"pyt-wifi-16 color-accent-11",textClassName:"strike-line dim",text:"Free Wifi"},roomSize:""!=a.roomSize?{className:"pyt-area-24",text:a.roomSize}:"",breakfast:a.freeBreakfast?{className:"pyt-restaurant-16",text:"Free Breakfast"}:{className:"pyt-restaurant-16' color-accent-11",textClassName:"strike-line dim",text:"Free Breakfast"}}},e._onBlockCardClick=function(t,a){a.preventDefault(),a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.itineraryId,r=n.itineraryDetail;i.push(Object(S.Jb)({itineraryId:o,parentPage:S.Lb.inclusion,regionCode:r.regionCode,target:S.n,customParams:{configKey:Object(C.a)(t)}}))},e}return Object(i.a)(a,[{key:"renderRoomsHelper",value:function(e){var t=this;if(e&&e.roomsInHotel){var a=e.roomsInHotel;return a.map((function(n){var i,o=t.roomAmenitiesComponent(e,n),r={amenities:e.amenityDisplayList,selectedRoom:n.name,roomsLeft:0,roomsCount:a.length,rating:e.tripAdvisorRating,info:[o.refundable,o.wifi,o.roomSize,o.breakfast]};return(n.roomImages||[]).length&&(i={sliderClass:"item",imageUrl:n.roomImages}),{detail:r,slider:i}}))||[]}return[]}},{key:"renderHotelPanels",value:function(){var e=this,t=this.props,a=t.hotelRefs,n=t.hotelCostingObj,i=t.isReadOnly,o=t.userDetails,r=t.isBooked,l=t.itineraryAlerts,c=t.isT20,d=Object(y.a)();if(void 0!==a&&void 0!==n){var u=n.costingById;return a.map((function(t,n){var p=u&&u[t],f=a.length===n+1;if(!p)return s.a.createElement(R.a,{failedFor:"hotel",isLastRow:f});var g=Object(D.b)(Object(m.a)(l,t)),h=p&&p.status||"",y=p.checkInMonthDisplay,b=p.checkInDateDisplay,E=p.checkInDayOfWeek,C=p.checkOutMonthDisplay,I=p.checkOutDateDisplay,N=p.checkOutDayOfWeek,j=p.numberOfNights,w=p.cityName,A=p.location,S=p.stars,P=p.tripAdvisorRating,_=p.publishedCost,B=p.ourCost,L=p.strikedCost,F=p.discountApplied,M=p.memberOnlyDeal,V=p.sale,U=p.splitEnabled,K=p.allowedToSplit,Q=p.pytRecommended,$=p.offline,Z=p.expired,ee=void 0!==Z&&Z,te=p.sourceProvider,ae=p.tripAdvisorReviewCount,ne=p.lastDataUpdatedMillis,ie=e.props.itineraryVersion,oe=Object(z.a)(_,B),re=[],le=null,ce=null,se=null,de=o&&o.loggedIn&&"ADMIN"===o.userType,ue=$&&de;if("SUCCESS"===h){"object"===typeof(re=e.renderRoomsHelper(p))[0]&&"object"===typeof re[0].detail&&(re[0].detail.roomList=p.roomsInHotel);var me=re[0]&&re[0].detail.amenities;if(me&&me.length>4){var pe={strikethrough:!1,iconUrl:"+".concat(me.length-4),amenityName:"MoreActivity"},fe=me.slice(0,3);fe.push(pe),re[0].detail.amenities=fe}le=te&&de?[te].map((function(e,t){return s.a.createElement("span",{key:"pro_"+t,className:"likely-tag bg-accent-2"},s.a.createElement("i",{className:"pyt-flash-on-16 color-accent-1"}),e)})):[],ce=de&&F?s.a.createElement("span",{className:"discount-ribbon accent-3"}," Admin Price "):null,M&&V?se="Promo Price!":M?se="Member Discount!":V&&(se="Promo Price!")}else"ERROR"!==h&&"UNAVAILABLE"!==h||(re=[]);var ge=null;p.hotelNotRetained&&(ge={type:"info",iconClass:"pyt-alert-square-16 color-accent-10",data:" Oops, sorry the hotel you have selected is not available for the selected dates so we have chosen another hotel."}),ue&&(g=[{type:"danger",iconClass:"color-grey pyt-fyi-36",data:"This hotel has been added offline. Please check with our travel consultant before proceeding."}].concat(Object(v.a)(g))),ee&&de&&(g=[{type:"danger",iconClass:"color-grey pyt-fyi-36",data:"The price of this hotel may not be valid anymore. Please check before proceeding further."}].concat(Object(v.a)(g)));var he=[];if("SUCCESS"===h&&(he=ge?[ge].concat(Object(v.a)(g)):g),d){var ye=[];re&&re[0]&&"string"!==typeof re[0].detail&&(ye=ye.concat({text:"".concat(re[0].detail.roomsCount," Rooms - ")},re[0].detail.info[1],re[0].detail.info[3]),[re[0].detail.info[0]]);return 0==p.roomsInHotel||"SUCCESS"!==h?{type:"info",iconClass:"pyt-alert-square-16 color-accent-10",data:" We aren't able to fetch your hotel details at the moment. Please refresh after a while."}:p.hotelNotRetained&&ge,s.a.createElement(T,{changeDisabled:r,removeDisabled:r,status:h,offline:$,error:{errorMessage:X[h]},title:p.name||w,nightStay:"".concat(A||w),price:L,publishedPrice:oe,isAdmin:de,isBlockCard:de&&("ERROR"===h||"USER_REMOVED"===h||"UNAVAILABLE"===h||"ROOM_SOLD_OUT"===h),blockCardClickAction:function(a){e._onBlockCardClick(t,a)},checkin:E+", "+b+" "+y,checkout:N+", "+I+" "+C,changeButtonText:ue?"Edit Card":x.b,roomList:p.roomsInHotel,rating:S,taRating:P,nights:j,city:w,image:p.imageURL,isReadOnly:i,isT20:c,isBooked:r,alerts:he,onClick:"SUCCESS"!==h||ie===H.a?null:function(t){return e.onViewDetailsClick(p,t)},onSplitClicked:function(t){e.onHotelSplitClicked(p,t)},showSplitOption:!r&&U&&K&&!$,onChange:$&&!de?null:function(a){return ue?e._onBlockCardClick(t,a):e.onChangeClick(p,a)},discountAppliedBatch:ce,AOTpills:le})}var ve=J;return"USER_REMOVED"===p.status?ve="Add":p.name&&(ve=ue?"Edit Card":q),ve=!K&&U?"Edit Split":ve,s.a.createElement(k.b,{key:n,type:Y,offline:$,image:O.b.roomsLarge,isReadOnly:i,isT20:c,recommendedHotel:Q,exclusiveRecommended:"DATABASE"===te,contentClickAction:function(t){return e.onViewDetailsClick(p,t)},sourceProvider:te,isAdmin:de,isBooked:r,canEditPrice:de&&!i&&!ue&&!r,isBlockCard:Object(W.a)({permissions:null===o||void 0===o?void 0:o.permissions,key:G.a})&&("ERROR"===h||"USER_REMOVED"===h||"UNAVAILABLE"===h||"ROOM_SOLD_OUT"===h),blockCardClickAction:function(a){e._onBlockCardClick(t,a)},tripAdvisorReviewCount:ae,price:L,publishedPrice:oe,hotelName:p.name,header:{title:"".concat(j,"N in ").concat(w," ").concat(p.name?"@ ".concat(p.name):""),onRemove:!K&&U?function(t){e.confirmDeleteHotel(p,t)}:void 0,nightStay:"".concat(A||w),fromDate:E+", "+b+" "+y,toDate:N+", "+I+" "+C,starRating:S,changeButtonText:ve,viewDisabled:"SUCCESS"!==h,onView:"SUCCESS"!==h?null:function(t){e.onViewDetailsClick(p,t)},onSplitClicked:function(t){e.onHotelSplitClicked(p,t)},onChange:$&&!de?null:function(a){ue?e._onBlockCardClick(t,a):e.onChangeClick(p,a)},discountType:se,status:p.status,changeDisabled:r,removeDisabled:r,showSplitOption:!r&&U&&K&&!$},costingId:p.costingId,entityType:p.entityType,bookingNotes:p.bookingNotes,status:p.status,userDetails:o,details:re[0]&&re[0].detail,hasSlider:!0,sliderImages:re[0]&&re[0].slider,ourSourceProviders:de?[te]:null,isDiscountApplied:de?F:null,disableLeftSection:"SUCCESS"!==h,rootClassName:"SUCCESS"!==h?"error":null,alerts:he,discountAppliedBatch:ce,AOTpills:le,lastDataUpdatedMillis:de?ne:null,showAllocation:Object(W.a)({permissions:null===o||void 0===o?void 0:o.permissions,key:G.K})})}))}}},{key:"render",value:function(){return Object(y.a)()?s.a.createElement(c.Fragment,null,this.renderHotelPanels()):s.a.createElement("div",{className:"clearfix fw"},this.renderHotelPanels())}}]),a}(c.Component),Z=Object(E.withRouter)(Object(u.c)(null,(function(e){return{dispatch:e}}))($)),ee=a(1),te=a(604),ae=a(600),ne=a(1619),ie=a(1602),oe=a(23),re=a(191),le=function(e){var t=e.from,a=e.fromDate,n=e.toDate,i=e.fullContent,o=void 0===i?null:i,r=e.headerImage,l=e.headerImageCaption,c=e.paraContent,d=void 0===c?"":c,u=e.alerts,m=void 0===u?[]:u,p=e.footerIcons,f=e.onChange,g=e.onRemove,h=e.onView,y=e.changeText,v=void 0===y?x.b:y,b=e.isReadOnly,E=void 0!==b&&b,C=e.isFree,O=void 0!==C&&C,k=e.price,I=void 0===k?null:k,j=e.publishedPrice,T=void 0===j?null:j,R=e.onEditClick,S=void 0===R?null:R,D=e.canEditPrice,P=void 0!==D&&D,_=e.isDisabled,B=void 0!==_&&_,L=e.disableText,F=void 0===L?x.f:L,M=e.changeDisabled,V=void 0!==M&&M,U=e.removeDisabled,H=void 0!==U&&U,z=e.isAdmin,W=void 0!==z&&z;return s.a.createElement("section",{className:"card",onClick:h},s.a.createElement(N.a,{type:x.k.ACTIVITY,fromPlace:t,containerClass:B?"disabled-layer":"",isDisabled:B,disableText:F,fromDate:a,toDate:n,sideImage:r,sideImageCaption:l,roundImage:!0}),d||o?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("p",{className:"fine-text light mbottom-small"},d||o))):null,O?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("span",{className:"pill square md color-white bg-black mbottom-small"},s.a.createElement("i",{className:"pyt-binocular-16 color-accent-2"})," Self Exploration"))):null,m.length?s.a.createElement(w.a,Object.assign({},m[0],{count:m.length>0?m.length-1:null,alerts:m})):null,s.a.createElement(A.a,{changeDisabled:V,removeDisabled:H,icons:p,changeText:v,onChange:B?null:f,onRemove:B?null:g,onView:h,isReadOnly:E,isFree:O,price:I,publishedPrice:T,onEditClick:B?null:S,canEditPrice:P,isAdmin:W}))},ce=a(1646),se=a(1903),de=a(1739),ue=a(1709),me=a(2067),pe=function(e){var t=e.time,a=void 0===t?"":t,n=e.day,i=e.mon,o=e.dayOfWeek,r=e.countryOne,l=e.countryTwo,c=e.place,d=M()(a,"HHmm").format("hh:mm a");return s.a.createElement(me.a,{isInclusions:!0},s.a.createElement("div",{className:"match-info-inner"},s.a.createElement("span",{className:"agent-logo"}),s.a.createElement("div",{className:"right-info"},s.a.createElement("span",{className:"match-title"},"Match schedule"),s.a.createElement(ue.b,{text1:r,text2:l}),s.a.createElement("strong",null,n," ",i,", ",o," | ",d),s.a.createElement("p",null,c))))};function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var ge=x.k.ACTIVITY,he=x.k.CHANGEROOM,ye=function(e){Object(o.a)(a,e);var t=fe(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={noofCardsToShow:1},e.onClickViewMoreActivity=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;e.setState({noofCardsToShow:t}),e.props.actions.toggleActivitiesCard(t>1),Object(P.Ld)(P.zb,{type:t>1?"View All":"Show Less"})},e.onEditClick=function(t,a){a.preventDefault(),a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.location,r=n.itineraryId,l=n.regionCode,c=Object(C.a)(t.configKey);i.push(Object(S.Jb)({itineraryId:r,regionCode:l,location:o,target:S.gb,customParams:{configKey:c,called_from:"ACTIVITY_PANEL"}}))},e.renderRefundabilityUI=function(e){return e?{className:"pyt-refundable-16 color-primary-dark",text:"Refundable",dataText:"R"}:{className:"pyt-non-refundable-16 color-accent-7",text:"Non Refundable",dataText:"NR"}},e.handleDetailsClick=function(t,a,n){n.preventDefault(),n.stopPropagation(),n.nativeEvent.stopImmediatePropagation();var i=e.props,o=i.history,r=i.location,l=i.itineraryId,c=i.regionCode,s=t.planningToolId,d=Object(ae.a)(e.props.allSlot,(function(e){return e.activitySlotDetail&&e.activitySlotDetail.activityId===s}));if("undefined"!==typeof d){var u=Object(te.a)(e.props.allSlot,d),m=Object(ie.a)(u);"VIEW"===a?(o.push(Object(S.Jb)({itineraryId:l,regionCode:c,location:r,target:S.d,customParams:{configKey:m}})),Object(P.Ld)(P.Pc,{category:"activity",button_clicked:"Inclusions - Activity"})):(o.push(Object(S.Jb)({itineraryId:l,regionCode:c,location:r,target:S.b,customParams:{configKey:m}})),Object(P.Ld)(P.D,{category:"activity",button_clicked:"Inclusions - Activity"}))}},e.activityAmenitiesComponent=function(t){return{refundable:t.costingInfo?e.renderRefundabilityUI(t.costingInfo.refundable):{},time:{className:"pyt-clock-16",text:t.selectedTourGrade&&t.selectedTourGrade.duration},group:{className:"pyt-transfer-16",text:t.privateTour?"Private Activity":"Shared Activity"}}},e.renderActivityPanels=function(){var t=0,a=e.props,n=a.activityObjs,i=a.activityRefs,o=a.activityCostingObj,r=a.isReadOnly,l=a.userDetails,d=a.isBooked,u=a.isCardsExpanded,p=a.itineraryAlerts,f=a.itineraryInfo,g=l&&l.loggedIn&&"ADMIN"===l.userType;if(void 0!==n&&void 0!==i&&void 0!==o)return i.map((function(a,h){if(h>0&&!u)return null;var v=o.costingById&&o.costingById[a];t=(v||{}).activityId;var b=n[t];if(!v||!b)return s.a.createElement(de.a,{failedFor:"activity"});if(b.worldCupT20){var E=Object(ee.a)({day:v.day,mon:v.mon,dayOfWeek:v.dayOfWeek,time:Object(m.a)(b,"selectedTourGrade.departureTime")},b.matchDetails);return s.a.createElement(c.Fragment,null,s.a.createElement(pe,E),!Object(y.a)()&&!u&&i.length>1?s.a.createElement(be,{onClickViewMoreActivity:function(){return e.onClickViewMoreActivity(i.length)},remainingItems:i.length}):null)}var C=b.selectedTourGrade,O=C.inclusion,I=C.exclusion,N=null;v&&v.inCombo?N="Included in combo package!":v&&v.inSwissPass&&(N="Included in Swiss Pass!");var j=i.length===h+1,w=e.activityAmenitiesComponent(b),A=Object(z.a)(v.publishedCost,v.ourCost),T=v.strikedCost,R=b.free,S=v.mon,P=v.day,_=v.dayOfWeek,B=v.lastDataUpdatedMillis,L=b.mainPhoto,F=g&&!d&&"SELF"!==v.ourSourceProvider&&"DATABASE"!==v.ourSourceProvider&&!r,M=g?v.discountApplied:null,V=v.status,U=[],W=Object(D.b)(Object(m.a)(p,a));return W.length&&W.map((function(e){e.data.split(". ").map((function(t){U.push({data:t,iconClass:e.iconClass,type:e.type})}))})),"SUCCESS"===V||"SOLD_OUT"===V?Object(y.a)()?s.a.createElement(c.Fragment,{key:h},s.a.createElement(le,{isAdmin:g,alerts:U,changeDisabled:d&&!g,removeDisabled:d&&!g,from:b.title,headerImage:b.mainPhoto,paraContent:"".concat(Object(ne.a)(b.selectedTourGrade.durationType)," day tour ").concat(v&&v.cityText?"at "+v.cityText:""),footerIcons:[w.time,b.costingInfo&&"VIATOR_API"===b.costingInfo.ourSourceProvider?w.refundable:w.group],isFree:R,price:T,publishedPrice:A,fromDate:P+" "+S,onChange:function(t){return e.handleDetailsClick(b,"CHANGE",t)},isBooked:d&&!g,onRemove:function(t){t&&t.preventDefault(),t&&t.stopPropagation(),e.removeActivity(b,v)},onEditClick:function(t){return e.onEditClick(v,t)},canEditPrice:F,alert:N?{type:"info",data:N,iconClass:"pyt-tickmark-16 color-primary"}:null,onView:Object(H.b)(f)?null:function(t){return e.handleDetailsClick(b,"VIEW",t)},isDisabled:"SOLD_OUT"===V,disableText:"SOLD_OUT"===V?"SOLD OUT":x.f,isReadOnly:r,lastDataUpdatedMillis:B})):s.a.createElement(c.Fragment,{key:h},s.a.createElement(k.b,{key:h,type:ge,isDisabled:"SOLD_OUT"===V,disableText:"SOLD_OUT"===V?"SOLD OUT":x.f,onViewDetailsClick:function(t){return e.handleDetailsClick(b,"VIEW",t)},ourSourceProviders:g?[b.costingInfo.sourceProvider]:[],header:{title:b.title,fromDate:_+", "+P+" "+S,changeButtonText:he,onView:function(t){e.handleDetailsClick(b,"VIEW",t)},onChange:function(t){e.handleDetailsClick(b,"CHANGE",t)},changeDisabled:d,removeDisabled:d&&!g},isAdmin:g,alerts:U,secondaryHeader:{tagsContainerClass:"col-md-3 text-right",tagsText:"Filling Fast",isTagsVisible:!0,dataContainerClass:"col-md-9",data:[w.time,w.group,b.costingInfo&&"VIATOR_API"===b.costingInfo.ourSourceProvider?w.refundable:{}]},details:{inclusion:O,exclusion:I,comboPricingMessageBox:N},costingId:v.costingId,entityType:v.entityType,bookingNotes:v.bookingNotes,status:v.status,contentClickAction:function(t){return e.handleDetailsClick(b,"VIEW",t)},image:L,isReadOnly:r,isFree:R,price:T,publishedPrice:A,onEditClick:function(t){return e.onEditClick(v,t)},canEditPrice:F,isDiscountApplied:M,lastDataUpdatedMillis:g?B:null,userDetails:l}),!u&&i.length>1?s.a.createElement(be,{onClickViewMoreActivity:function(){return e.onClickViewMoreActivity(i.length)},remainingItems:i.length}):null,u&&i.length>1&&j?s.a.createElement(Ee,{onClickViewMoreActivity:e.onClickViewMoreActivity}):null):"ERROR"===V||"UNAVAILABLE"===V?Object(y.a)()?s.a.createElement(c.Fragment,{key:h},s.a.createElement(le,{isAdmin:g,isBooked:d&&!g,from:b.title,headerImage:Object(oe.a)(b.mainPhoto),paraContent:"".concat(Object(ne.a)(b.selectedTourGrade.durationType)," day tour ").concat(v&&v.cityText?"at "+v.cityText:""),footerIcons:[w.time,b.costingInfo&&"VIATOR_API"===b.costingInfo.ourSourceProvider?w.refundable:w.group],isFree:R,fromDate:P+" "+S,isDisabled:!0,isReadOnly:!0})):s.a.createElement(c.Fragment,{key:h},s.a.createElement(k.b,{key:h,type:ge,isAdmin:g,userDetails:l,isDisabled:!0,header:{title:b.title,fromDate:_+", "+P+" "+S,changeButtonText:he},secondaryHeader:{tagsContainerClass:"col-md-3 text-right",dataContainerClass:"col-md-9",data:[w.time,w.group,b.costingInfo&&"VIATOR_API"===b.costingInfo.ourSourceProvider?w.refundable:{}]},image:L,isReadOnly:!0}),!u&&i.length>1?s.a.createElement(be,{onClickViewMoreActivity:function(){return e.onClickViewMoreActivity(i.length)},remainingItems:i.length}):null,u&&i.length>1&&j?s.a.createElement(Ee,{onClickViewMoreActivity:e.onClickViewMoreActivity}):null):void 0}))},e.getTransferTypeString=function(e){return"PRIVATE"===e?"Private transfer":"SHARED"===e?"Shared transfer":"NOTRANSFER"===e?"No transfer":"Transfer"},e}return Object(i.a)(a,[{key:"removeActivity",value:function(e,t){var a=Object(ae.a)(this.props.allSlot,(function(t){return t.activitySlotDetail&&t.activitySlotDetail.activityId===e.planningToolId})),n=a;n.slotIdentifier=Object(te.a)(this.props.allSlot,a),Object.assign(n.activitySlotDetail,e);var i=(n=Object(ee.a)(Object(ee.a)({},n),t)).cityId,o=n.cityId,r="ACTIVITY_WITH_TRANSFER"===n.type;r&&(i=n.intercityTransferSlotDetailVO.fromCity,o=n.intercityTransferSlotDetailVO.toCity);var l={action:"REMOVE",activityWithTransfer:r,itineraryId:this.props.itineraryId,activitySlot:n,fromCityId:i,toCityId:o,cancelled:e.costingInfo&&e.costingInfo.cancelled};this.props.actions.manageActivity(l,this.props.itineraryId),Object(P.Ld)(P.Sb,{action:P.Dc,category:"activity",button_clicked:"Inclusions - Remove Activity"})}},{key:"render",value:function(){if(Object(y.a)()){var e=this.props,t=e.activityObjs,a=e.activityRefs,n=e.isCardsExpanded,i=Object.keys(t).map((function(e){return t[e]})),o=a.length-1;return s.a.createElement(c.Fragment,null,this.renderActivityPanels(),s.a.createElement(Ce,{activitiesList:i,isCardsExpanded:n,noOfRemainingActivities:o,onClickViewMoreActivity:this.onClickViewMoreActivity}))}return s.a.createElement("div",{className:"clearfix fw"},this.renderActivityPanels())}}]),a}(c.Component);var ve=Object(E.withRouter)(Object(u.c)((function(e){return{isCardsExpanded:e.activities.isCardsExpanded,itineraryInfo:e.app.itineraryInfo}}),(function(e){return{actions:{manageActivity:Object(d.b)(ce.a,e),toggleActivitiesCard:Object(d.b)(se.a,e)}}}))(ye));function be(e){return s.a.createElement("section",{className:"stacked-more"},s.a.createElement("i",{className:"inner-line"}),s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"View all ".concat(e.remainingItems," activities"),onClickAction:e.onClickViewMoreActivity}))}function Ee(e){return s.a.createElement("section",{className:"clearfix fw mbottom-xlarge text-center"},s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"Show less activities",onClickAction:function(t){e.onClickViewMoreActivity(1,t)}}))}function Ce(e){var t=e.activitiesList,a=e.onClickViewMoreActivity,n=e.noOfRemainingActivities,i=e.isCardsExpanded,o=i?1:n+1;return n<1?null:s.a.createElement("section",{className:"card",onClick:function(){return a(o)}},s.a.createElement("div",{className:"row vertical-center"},s.a.createElement("div",{className:"col-xs-7 col-sm-8"},s.a.createElement("p",{className:"fine-text mb-0 color-grey-medium"},i?"Show less activities":"View all ".concat(n," activities"))),s.a.createElement("div",{className:"col-xs-5 col-sm-4 pl-0"},i?null:s.a.createElement("ul",{className:"pull-right activity-count mb-0"},t&&t.map((function(e,t){if(!(t>1))return s.a.createElement("li",{key:"activity_end_card_img_".concat(t)},s.a.createElement("a",{onClick:function(e){e.preventDefault()},style:{backgroundImage:"url(".concat(e.mainPhoto,")")},href:" "},"\xa0"))})),s.a.createElement("li",null,s.a.createElement("a",{href:" ",onClick:function(e){e.preventDefault()}},"+",n))))))}var Oe=a(58),xe=a(2051),ke=a(1824),Ie=a(2052),Ne=function(e){var t=e.title,a=e.content,n=e.customElement,i=void 0===n?null:n,o=e.list,r=void 0===o?[]:o,l=e.footerIcons,c=e.onChange,d=e.onExpand,u=e.changeText,m=void 0===u?x.b:u,p=e.onRemove,f=e.maxListItems,g=void 0===f?3:f,h=e.isReadOnly,y=void 0!==h&&h,v=e.price,b=void 0===v?null:v,E=e.changeDisabled,C=void 0!==E&&E,O=e.removeDisabled,k=void 0!==O&&O,I=e.publishedPrice,N=[],j=0;if(Array.isArray(r)){j=r.length;for(var w=0;w<g;w++)r[w]&&N.push(s.a.createElement("li",{key:w},r[w]));j>g&&(N[j-1]=s.a.createElement("li",{key:j-1},r[j-1]," ",s.a.createElement("span",{className:"anchor-link",onClick:d},j-g>0?"+".concat(j-(g+1)," more"):"")))}return s.a.createElement("section",{className:"card"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},t&&s.a.createElement("span",{className:"caps-text-tiny bold color-grey-medium"},t),t&&s.a.createElement("br",null),a?s.a.createElement("h6",{className:"main-para bold mt-0"},a):null,j?s.a.createElement("ul",{className:"incexc-list fine-text"},N):null,i)),b||p||c?s.a.createElement(A.a,{changeDisabled:C,removeDisabled:k,footerIcons:l,onChange:c,changeText:m,onRemove:p,isReadOnly:y,price:b,publishedPrice:I}):null)},je=x.k.VISA,we=function(e){var t=(e.country||"").toLowerCase(),a=!e.required,n=e.visaId,i=e.isAdmin,o=e.itineraryVersion,r=e.userDetails,l=Object(z.a)(e.publishedCost,e.ourCost),d=!!e.required&&(!!n&&"new zealand"===t),u=e.isBooked,m=a&&u?null:function(){e.handleCallToActionClick("add",e.visaId)},p=!a&&d?function(){e.handleCallToActionClick("change",n)}:null,f=function(){e.handleCallToActionClick("remove",e.visaId)},g=!e.onArrival&&e.allowEditingOptions&&(!u||u&&i),h=function(e){return s.a.createElement(c.Fragment,null,s.a.createElement("p",{className:"costed-item-details meta-text"},e.onArrival&&null!==e.notes?s.a.createElement("span",{className:"pill color-white bg-accent-4 hide"},"Important"):null,s.a.createElement("span",{className:"meta-text dim"}," ",e.notes&&e.notes.length>0?e.notes[0]:null," ",e.onArrival?null:s.a.createElement("a",{href:"https://visa.pickyourtrail.com/",target:"_blank",className:"blue-link",rel:"noopener"},"Know more about Visa requirements"))),e.onArrival?null:s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-12"},s.a.createElement("span",{className:"fine-text dim bold"},"Includes:"),"vietnam"===t?s.a.createElement("p",{className:"fine-text dim"},"E-Visa cost & Assistance"):s.a.createElement("p",{className:"fine-text dim"},"Visa and related services "))))},v="SUCCESS"===e.status?l:null;return Object(y.a)()?s.a.createElement(Ne,{changeDisabled:u,removeDisabled:u,type:je,publishedPrice:v,isAdmin:i,title:"Visa ".concat(e.onArrival?"on arrival":"fees","  for ").concat(t),customElement:h(e),onChange:g?a?m:p:null,onRemove:g&&!a?f:null,changeText:g?a?"Add":"Change":""}):s.a.createElement(k.b,{isBooked:u,type:je,itineraryVersion:o,publishedPrice:v,lastDataUpdatedMillis:i?null===e||void 0===e?void 0:e.lastDataUpdatedMillis:null,header:{title:"Visa ".concat(e.onArrival?"on arrival":"fees"," for ").concat(t),onChange:g?a?m:p:null,onRemove:g&&!a?f:null,changeButtonText:g?a?"Add":"Change":"",changeDisabled:u,removeDisabled:u},details:{childElement:!e.onArrival||e.onArrival&&e.notes&&e.notes.length>0?h(e):null,visaClassName:" "},contentRootClass:"row vertical-center",image:Object(oe.a)("https://d3lf10b5gahyby.cloudfront.net/costing_screen/visaimageWhite.jpg"),isAdmin:i,costingId:null===e||void 0===e?void 0:e.costingId,entityType:null===e||void 0===e?void 0:e.entityType,bookingNotes:null===e||void 0===e?void 0:e.bookingNotes,status:null===e||void 0===e?void 0:e.status,userDetails:r})},Ae=x.k.VISA,Te=function(e){var t="Visa assistance is to enable the entire visa process however visa filling and other requirement to be completed by customer.",a=!e.required,n=e.isBooked,i=e.allowEditingOptions,o=e.isAdmin,r=e.userDetails,l=a&&n?function(){}:function(){e.handleCallToActionClick("add",e.visaId)},d=function(){e.handleCallToActionClick("remove",e.visaId)};return Object(y.a)()?s.a.createElement(Ne,{changeDisabled:n,removeDisabled:n,type:Ae,title:"Visa Guidance fees for ".concat(e.country),changeText:x.a,onChange:i&&a?function(){l()}:null,onRemove:i&&!a?function(){d()}:null,customElement:s.a.createElement(c.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{className:"fine-text dim mbottom-small"},t)),publishedPrice:Object(z.a)(e.totalPublishedCost,e.totalOurCost)}):s.a.createElement(k.b,{type:Ae,publishedPrice:"SUCCESS"===e.status?Object(z.a)(e.publishedCost,e.ourCost):null,lastDataUpdatedMillis:o?null===e||void 0===e?void 0:e.lastDataUpdatedMillis:null,header:{title:"Visa Guidance fees for ".concat(e.country),onChange:i&&a?function(){l()}:null,onRemove:i&&!a?function(){d()}:null,changeButtonText:x.a,changeDisabled:n,removeDisabled:n},details:{childElement:s.a.createElement("p",{className:"costed-item-details meta-text"},s.a.createElement("p",{className:"small-heading hide"},s.a.createElement("span",{className:"pill color-white bg-accent-4 hide"},"Important")),s.a.createElement("span",{className:"meta-text dim"},t))},image:Object(O.a)("VISA"),contentRootClass:"row vertical-center",costingId:null===e||void 0===e?void 0:e.costingId,entityType:null===e||void 0===e?void 0:e.entityType,bookingNotes:null===e||void 0===e?void 0:e.bookingNotes,status:null===e||void 0===e?void 0:e.status,userDetails:r,isAdmin:o})},Re=function(e){var t=e.isBooked,a=e.visaDetails,n=e.allowEditingOptions,i=e.splitPricing,o=e.handleCallToActionClick,r=e.totalPublishedCost,l=e.totalOurCost,c=e.visaId,d=e.isAdmin,u=e.userDetails,m=e.itineraryVersion,p=a?a.schengen:null,f=a?a.onArrival:null;return p?s.a.createElement(Te,Object.assign({allowEditingOptions:n,visaId:c,isOnArrival:f,isBooked:t,splitPricing:i||d,totalPublishedCost:r,totalOurCost:l},a,{handleCallToActionClick:o,isAdmin:d,userDetails:u})):f?s.a.createElement(we,Object.assign({allowEditingOptions:n,isOnArrival:f,splitPricing:i||d,totalOurCost:l,visaId:c,isBooked:t,isAdmin:d,userDetails:u,itineraryVersion:m},a)):s.a.createElement(we,Object.assign({allowEditingOptions:n,visaId:c,isAdmin:d,userDetails:u,splitPricing:i,isOnArrival:f,isBooked:t,totalPublishedCost:r,totalOurCost:l,itineraryVersion:m},a,{handleCallToActionClick:o}))};function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var De=function(e){Object(o.a)(a,e);var t=Se(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).handleCallToActionClick=i.handleCallToActionClick.bind(Object(Oe.a)(i)),i}return Object(i.a)(a,[{key:"handleCallToActionClick",value:function(e,t){var a={add:P.e,remove:P.Dc,change:P.B};switch(a[e]&&Object(P.Ld)(P.Sb,{visa_interaction:a[e],action:a[e],category:"visa",button_clicked:"Inclusions - ".concat(a[e]," Visa")}),e.toLowerCase()){case"add":this.props.addVisa({itineraryId:this.props.itineraryId,visaKey:t,include:!0}).then().catch();break;case"remove":this.props.removeVisa({itineraryId:this.props.itineraryId,visaKey:t,include:!1}).then().catch();break;case"change":var n=this.props,i=n.history,o=n.match,r=n.itineraryId;i.push(Object(S.Jb)({itineraryId:r,regionCode:o.params.searchRegion,parentPage:S.Lb.inclusion,target:S.w,customParams:{visaKey:Object(C.a)(t)}}));break;default:return}}},{key:"render",value:function(){var e=this,t=null,a=this.props,n=a.isBooked,i=a.userDetails,o=a.visaRefs,r=a.visaCostings,l=a.splitPricing,c=a.allowEditingOptions,d=a.itineraryVersion,u=i&&i.loggedIn&&"ADMIN"===i.userType;void 0!==o&&void 0!==r?t=(o.length>0?o:Object.keys(r.costingById)).map((function(t,a){var o=r.costingById&&r.costingById[t];if(!o)return s.a.createElement(R.a,{failedFor:"visa",isLastRow:!1});var m=r.totalPublishedCost,p=r&&r.totalOurCost;return s.a.createElement(Re,{key:a,isBooked:n,isAdmin:u,visaId:t,totalPublishedCost:m,totalOurCost:p,handleCallToActionClick:e.handleCallToActionClick,splitPricing:l||u,allowEditingOptions:c,visaDetails:o,itineraryVersion:d,userDetails:i})})):t=s.a.createElement(we,{allowEditingOptions:c,visaId:null,isOnArrival:!0,splitPricing:l,isBooked:n,isAdmin:u,userDetails:i,handleCallToActionClick:this.handleCallToActionClick,itineraryVersion:d});return this.props.insideModal||Object(y.a)()?t:s.a.createElement("section",{className:"visa"},t)}}]),a}(c.Component),Pe=Object(E.withRouter)(Object(u.c)((function(){return{}}),(function(e){return{addVisa:Object(d.b)(xe.a,e),removeVisa:Object(d.b)(Ie.a,e),changeVisa:Object(d.b)(ke.a,e)}}))(De)),_e=a(1697),Be=a.n(_e),Le=a(1594),Fe=a(171);function Me(e){return function(t){return new Promise((function(a,n){var i=e.customKey,o=void 0===i?"":i,r=e.itineraryId,l=void 0===r?"":r,c="".concat(L.a.api_url,"offline/").concat(l,"/custom/").concat(o);Object(B.a)({url:c,method:"DELETE",body:{},onSuccess:function(e){Object(V.a)(t,e.data),setTimeout((function(){Object(Le.a)(t,"Custom Block Card Removed")}),300),a("Promised resolved from fetch")},onFailure:function(e){Object(U.a)(e,t),Object(Fe.a)(e,t),n("Failed")}})}))}}var Ve=a(352),Ue=a(1653),He=a(55),ze=a(1711),We=a(2070),Ge=a(105);function Ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var Ye=function(e){var t=e.description,a=void 0===t?"":t,n=e.title,i=void 0===n?"":n,o=e.subTitle,r=void 0===o?"":o,l=e.cost,c=e.editAction,d=e.titleCTA,u=void 0===d?"Add Visa Slot":d,m=e.titleCTAAction,p=e.deleteAction,f=e.permissions,g=e.entityType,h=e.costingId,y=e.bookingNotes,v=e.itineraryInfo,b={value:l},E=Object(W.a)({permissions:f,key:G.p});return s.a.createElement("section",{className:"visa"},s.a.createElement("section",{className:"inclusion-box"},s.a.createElement("div",{className:"row vertical-center item-header"},s.a.createElement("div",{className:"col-md-9"},s.a.createElement(Ge.a,null,s.a.createElement("h4",null,"".concat(i)),m&&s.a.createElement("button",{type:"button",onClick:m,className:"btn btn-default btn-outline btn-outline-bg btn-sm"},u)),r&&s.a.createElement("span",{className:"color-accent-13 semi-bold",style:{fontSize:"15px"}},r)),s.a.createElement("div",{className:"text-right col-md-3"},Object(Ue.a)(l)?null:s.a.createElement("span",{className:""},s.a.createElement("b",{className:"color-grey-secondary"},s.a.createElement(He.a,{objectData:b,path:"value",defaultValue:"0"}))),s.a.createElement("div",{className:"btn-group"},p?s.a.createElement("button",{type:"button",onClick:p,className:"btn btn-default btn-outline btn-outline-bg btn-sm"},s.a.createElement("i",{className:"pyt-delete-16"})):null,c?s.a.createElement("button",{type:"button",onClick:c,className:"btn btn-default btn-outline btn-outline-bg btn-sm"},"Edit Card"):null))),s.a.createElement("div",{className:"row  row vertical-center"},s.a.createElement("div",{className:"col-md-4 pl-0 pr-0"},s.a.createElement("img",{className:"left-img",src:"https://d3lf10b5gahyby.cloudfront.net/modals/custom_block.png?dpr=2&auto=format,compress,enhance&q=20?w=250&h=180&fit=crop&dpr=2&auto=format,compress,enhance&q=20",imgfactor:"w=250&h=180&fit=crop",alt:"inclusions-img",style:{height:"155px"}})),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:" "},s.a.createElement("div",{className:"vmargin-large"},s.a.createElement("p",{className:"costed-item-details meta-text"},s.a.createElement("span",{className:"meta-text dim",style:{wordBreak:"break-word"},dangerouslySetInnerHTML:Object(Ve.a)(a)})))))),E&&h&&g?s.a.createElement("div",{className:"col-xs-12 mbottom-medium"},s.a.createElement(ze.a,{itineraryInfo:v,hasPermission:E,costingId:h,entityType:g,bookingNotes:y})):null))},qe=function(e){var t=e.description,a=void 0===t?"":t,n=e.title,i=void 0===n?"":n,o=e.cost,r=e.editAction,l=e.deleteAction,c={value:o};return s.a.createElement("section",{className:"card"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("span",{className:"caps-text-tiny bold color-grey-medium"},i),s.a.createElement("br",null),s.a.createElement("p",{className:"fine-text dim mbottom-small",style:{wordBreak:"break-word"},dangerouslySetInnerHTML:Object(Ve.a)(a)}))),s.a.createElement("div",{className:"row mtop-medium bordered-list vertical-center"},s.a.createElement("div",{className:"col-xs-4"},Object(Ue.a)(o)?null:s.a.createElement("div",null,s.a.createElement("span",{className:""},s.a.createElement("b",{className:"color-grey-secondary"},s.a.createElement(He.a,{objectData:c,path:"value",defaultValue:"0"}))))),s.a.createElement("div",{className:"col-xs-12"},s.a.createElement("div",{className:"btn-group"},l?s.a.createElement("button",{type:"button",onClick:l,className:"btn btn-xs btn-danger btn-outline btn-outline-bg delete-btn"},s.a.createElement("i",{className:"pyt-delete-16"})):null,r?s.a.createElement("button",{type:"button",onClick:r,className:"btn btn-default btn-outline btn-sm"},"Edit Card"):null))))},Je=function(e){Object(o.a)(a,e);var t=Ke(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).editAction=function(t){var a=e.props,n=a.history,i=a.regionCode,o=a.itineraryId;n.push(Object(S.Jb)({itineraryId:o,parentPage:S.Lb.inclusion,regionCode:i,target:S.l,customParams:{customKey:t._id}}))},e.deleteAction=function(t){e.props.removeCustomCard({customKey:t._id,itineraryId:e.props.itineraryId})},e.visaAction=function(t){var a=e.props,n=a.history,i=a.regionCode,o=a.itineraryId,r=Object(S.Jb)({itineraryId:o,parentPage:S.Lb.inclusion,regionCode:i,target:S.Fb})+"?slot=true&id=".concat(null===t||void 0===t?void 0:t._id);n.push(r)},e.abEditAction=function(t){var a=e.props,n=a.history,i=a.regionCode,o=a.itineraryId,r="";switch(t.entity){case"FLIGHTS":r=S.M;break;case"HOTELS":r=S.S;break;case"TRANSFERS":r=S.Cb;break;case"RENTALCAR":r=S.ob;break;case"FERRY":r=S.J;break;case"ACTIVITIES":r=S.a;break;case"VISA":r=S.Fb;break;default:r=S.l}n.push(Object(S.Jb)({itineraryId:o,parentPage:S.Lb.inclusion,regionCode:i,target:r,customParams:{customKey:t._id}}))},e.abDeleteAction=function(t){var a=e.props.itineraryId;e.props.removeABCard(a,t._id)},e.getFlightSubtitle=function(e){var t="";return Be()(e,(function(e){t+="".concat(null===e||void 0===e?void 0:e.dayOfWeek,", ").concat(e.day," ").concat(e.mon," / ").concat(null===e||void 0===e?void 0:e.landDayOfWeek,", ").concat(e.landDay," ").concat(e.landMon)})),t},e.getHotelSubtitle=function(e){return e.checkInDate+" \u2192 "+e.checkOutDate},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.cards,n=void 0===a?[]:a,i=t.enableSplitPricing,o=t.isBooked,r=t.permissions,l=t.itineraryInfo,c=Object(y.a)()?qe:Ye;return s.a.createElement("div",{name:"all-others-panels"},n.map((function(t,a){var n,d;return s.a.createElement(c,Object.assign({key:a},t,{costingId:null===t||void 0===t?void 0:t._id,entityType:null!==(n=null===t||void 0===t?void 0:t.entityType)&&void 0!==n?n:null===t||void 0===t?void 0:t.entity,permissions:r,itineraryInfo:l,cost:Object(W.a)({permissions:r,key:G.a})?t.ourCost:i?t.publishedCost:null,subTitle:"FLIGHTS"===t.entity?e.getFlightSubtitle(t.entityCosting.trips):"HOTELS"===t.entity?e.getHotelSubtitle(t.entityCosting):"VISA"===t.entity?null===(d=t.entityCosting)||void 0===d?void 0:d.country:"",editAction:o&&"CUSTOM"===t.entity?function(){return null}:!Object(W.a)({permissions:r,key:G.a})||!t.entity&&o?null:function(a){a&&a.preventDefault(),t.entity?e.abEditAction(t):e.editAction(t)},deleteAction:Object(W.a)({permissions:r,key:G.t})&&(t.entity&&"VISA"!==t.entity&&"CUSTOM"!==t.entity||!o)&&!t.disableCostEdit?function(a){a&&a.preventDefault(),t.entity?e.abDeleteAction(t):e.deleteAction(t)}:null,titleCTAAction:Object(W.a)({permissions:r,key:G.t})&&null!==t&&void 0!==t&&t.subCategory&&"VISABOOKING"===t.subCategory?function(a){a&&a.preventDefault(),e.visaAction(t)}:null,isABCard:t.entity}))})))}}]),a}(c.Component);var Qe=Object(u.c)(null,(function(e){return{removeCustomCard:Object(d.b)(Me,e),removeABCard:Object(d.b)(We.a,e)}}))(Je),Xe=a(1672),$e=a(1823),Ze=a(1829),et=x.k.RENTALCAR,tt=x.k.TRAIN,at=x.k.TRANSFER,nt=x.k.BUS,it=function(e,t,a,n){switch((e||"").toUpperCase()){case"BOAT":return"https://pyt-images.imgix.net/images/misc/venice_speed_boat.jpg";case"FERRY":return"https://pyt-images.imgix.net/images/misc/ferry.jpg";case"TRAIN":return"https://pyt-images.imgix.net/images/misc/transfers-train.jpg";case"BUS":return"https://pyt-images.imgix.net/images/misc/transfers-bus.jpg";case"SHUTTLE":return"https://pyt-images.imgix.net/images/misc/transfers-shuttle.jpg";case"CAR":return"PRIVATE"===t?a+n>2?"https://pyt-images.imgix.net/images/web_app/itinerary/rental_car_suv.png":"https://pyt-images.imgix.net/images/web_app/itinerary/rental_car_sedan.png":"https://pyt-images.imgix.net/images/misc/transfers-shuttle.jpg";default:return"https://pyt-images.imgix.net/images/web_app/itinerary/rental-generic.jpg"}},ot=function(e){var t,a=e.userDetails,n=e.transfer,i=void 0===n?{}:n,o=e.transferTypeChangeText,r=e.isNonEditable,l=e.itineraryId,d=e.changeTransferTypeHandler,u=e.handleCallToActionClick,m=e.insideModal,p=e.regionCode,f=e.onViewDetailsClick,g=e.isReadOnly,h=e.isBooked,v=e.child_count,b=e.adult_count,E=e._onEditClick,C=e._canEditPrice,O=i.text,x=void 0===O?"":O,I=i.mon,N=i.day,j=i.dayOfWeek,w=i.vehicle,A=void 0===w?"":w,T=i.airportTransfer,R=i.portTransfer,S=void 0!==R&&R,D=i.drop,P=i.pickup,_=i.type,B=void 0===_?"":_,L=i.publishedCost,F=i.ourCost,M=i.strikedCost,V=i.alternateAvailable,U=i.lastDataUpdatedMillis,H=[],K=Object(z.a)(L,F);"eur"===p&&"CAR"===A.toUpperCase()&&H.push({type:"info",data:"The standard waiting time for your transfer at the airport is 90mins",iconClass:"pyt-fyi-36 color-grey"},{type:"info",data:"These transfers have a strict no. of luggage and dimension restriction - Baggage allowed per person is one handbag + medium size baggage (158cm)",iconClass:"pyt-fyi-36 color-grey"}),"aus"===p&&"SHARED"===B.toUpperCase()&&H.push({type:"info",data:"Shared shuttle timings vary depending on the number of travellers - transfer departures are usually on an hourly basis",iconClass:"pyt-fyi-36 color-grey"}),t=i.vehicle&&"BUS"===i.vehicle.toUpperCase()?null:s.a.createElement("ul",{className:"incexc-list fw fine-text"},s.a.createElement("li",{className:"tick"},"Pickup from ",P),s.a.createElement("li",{className:"tick"},"Drop at ",D));var Y=a&&a.loggedIn&&"ADMIN"===a.userType,q=Object(W.a)({permissions:null===a||void 0===a?void 0:a.permissions,key:G.x})&&!r&&!g&&(T||S||i.vehicle&&"BUS"===i.vehicle.toUpperCase()),J=Object(y.a)(),Q=i.vehicle?"BUS"===i.vehicle.toUpperCase()?nt:"TRAIN"===i.vehicle.toUpperCase()?tt:et:et,X=function(e){e&&e.preventDefault(),r||u({itineraryId:l,configKey:encodeURI(i.configKey),isRemove:!1,transfer:"transfer"},e)},$="SUCCESS"===i.status,Z="UNAVAILABLE"===i.status;if($||Z&&Y){var ee=null;i.inCombo?ee="Included in combo package!":i.inSwissPass&&(ee="Included in Swiss Pass!");var te=[];"airport"!==P.toLowerCase()&&"airport"!==D.toLowerCase()&&te.push({className:"pyt-clock-16",text:i.duration}),te.push({className:"pyt-seat-16",text:"".concat(B.charAt(0).toUpperCase()).concat(B.slice(1).toLowerCase()," transfer")}),i.passengers&&te.push({className:"pyt-people-16",text:"".concat(i.passengers," Passengers in ").concat(i.numberOfVehicles," vehicle")});var ae=Y?i.discountApplied:null;return J?s.a.createElement(Ze.a,{type:Q,from:x,isReadOnly:g,fromDate:"".concat(j,", ").concat(N," ").concat(I),isDisabled:Z,headerImage:it(A,B,v,b),paraContent:t,changeText:o,comboPricingMessageBox:ee,onView:V&&f?function(e){return f(i,e)}:null,price:M,publishedPrice:K,onChange:V?function(e){d(i,e)}:null,onRemove:q?function(e){u({itineraryId:l,configKey:encodeURI(i.configKey),isRemove:!0,transfer:"transfer"},e)}:null,changeDisabled:h,removeDisabled:h,alert:H[0],footerIcons:te,onEditClick:E,canEditPrice:C,isAdmin:Y}):s.a.createElement(k.b,{type:Q,isAdmin:Y,contentClickAction:f?function(e){return f(i,e)}:null,isBooked:h,isDisabled:Z,header:{title:x,changeDisabled:h,removeDisabled:h,fromDate:"".concat(j,", ").concat(N," ").concat(I),onChange:V?function(e){d(i,e)}:null,changeButtonText:o,viewButtonText:V?null:"View",buttonsClassName:"col-md-6",onRemove:q?function(e){u({itineraryId:l,configKey:encodeURI(i.configKey),isRemove:!0,transfer:"transfer"},e)}:null},price:M,publishedPrice:K,secondaryHeader:{data:i.vehicle&&"BUS"===i.vehicle.toUpperCase()?te:[]},isReadOnly:g,details:{rootClassName:"row vmargin-medium",departureTime:i.departureTime,data:i.vehicle&&"BUS"===i.vehicle.toUpperCase()?[]:[].concat(te,[{className:"pyt-included-16 color-primary",text:"Pickup from ".concat(P)},{className:"pyt-included-16 color-primary",text:"Drop at ".concat(D)}]),arrivalTime:i.arrivalTime,duration:i.duration,departureDate:i.day+" "+i.mon,arrivalDate:i.day+" "+i.mon,comboPricingMessageBox:ee},image:it(i.vehicle,B,v,b),alerts:H,onEditClick:E,canEditPrice:C,isDiscountApplied:ae,lastDataUpdatedMillis:Y?U:null,costingId:null===i||void 0===i?void 0:i.costingId,entityType:null===i||void 0===i?void 0:i.entityType,bookingNotes:null===i||void 0===i?void 0:i.bookingNotes,status:null===i||void 0===i?void 0:i.status,userDetails:a})}return"ERROR"===i.status?J?s.a.createElement(Ze.a,{type:at,isAdmin:Y,from:x,isBooked:!q,isReadOnly:g,fromDate:"".concat(j,", ").concat(N," ").concat(I),headerImage:it(i.vehicle,i.type,v,b),errorText:"Sorry, Transfer costing has failed currently. Please try after sometime!"}):s.a.createElement(k.b,{type:Q,isAdmin:Y,isBooked:h,header:{title:x,fromDate:"".concat(j,", ").concat(N," ").concat(I)},isReadOnly:g,details:{fullContent:s.a.createElement(c.Fragment,null,s.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"})," Sorry, Transfer costing has failed currently. Please try after sometime!")},disableLeftSection:!0,rootClassName:"error"}):!m&&a&&a.loggedIn&&Object(W.a)({permissions:null===a||void 0===a?void 0:a.permissions,key:G.x})&&"USER_REMOVED"===i.status?(H=[{type:"info",data:"You have removed this transfer from itinerary!",iconClass:"pyt-fyi-36 color-grey"}],J?s.a.createElement(Ze.a,{type:at,isAdmin:Y,from:x,isBooked:!q,isReadOnly:g,fromDate:"".concat(j,", ").concat(N," ").concat(I),headerImage:it(i.vehicle,i.type,v,b),changeText:"Add",onChange:r?null:X,alert:H[0]}):s.a.createElement(k.b,{isBooked:h,isAdmin:Y,type:Q,disableLeftSection:!0,contentClickAction:f?function(e){return f(i,e)}:null,rootClassName:"error",details:{status:i.status},header:{title:x,fromDate:"".concat(j,", ").concat(N," ").concat(I),onChange:r?null:X,changeButtonText:"Add",changeDisabled:h,removeDisable:h,buttonsClassName:"col-md-6"},isReadOnly:g,alerts:H,status:null===i||void 0===i?void 0:i.status})):null};function rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var lt=function(e){Object(o.a)(a,e);var t=rt(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleCallToActionClick=function(t,a){a.preventDefault(),a.stopPropagation(),e.props.manageInterCityTransfer(t).then((function(){var e=t.isRemove?P.Dc:P.e;Object(P.Ld)(P.Sb,{category:"transfer",action:e,button_clicked:"Inclusions - ".concat(e," Transfer")})})).catch()},e.changeTransferTypeHandler=function(t,a){if(a.preventDefault(),a.stopPropagation(),Object(P.Ld)(P.Sb,{transfer_interaction:P.B,action:P.B,category:"transfer",button_clicked:"Inclusions - Change Transfer Type"}),t.vehicle&&"BUS"===t.vehicle.toUpperCase()){var n=e.props,i=n.history,o=n.regionCode,r=n.itineraryId,l=Object(C.a)(t.configKey);i.push(Object(S.Jb)({itineraryId:r,regionCode:o,parentPage:S.Lb.inclusion,target:S.o,customParams:{configKey:l}}))}else e.props.changeTransferType(e.props.itineraryId,t.configKey).catch()},e.onViewBusDetailsClick=function(t,a){if(a.preventDefault(),a.stopPropagation(),t.vehicle&&"BUS"===t.vehicle.toUpperCase()){var n=e.props,i=n.history,o=n.regionCode,r=n.itineraryId,l=Object(C.a)(t.configKey);i.push(Object(S.Jb)({itineraryId:r,regionCode:o,parentPage:S.Lb.inclusion,target:S.p,customParams:{configKey:l}}))}},e._onEditClick=function(t,a){a.preventDefault(),a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.itineraryId,r=n.regionCode;i.push(Object(S.Jb)({itineraryId:o,regionCode:r,parentPage:S.Lb.inclusion,target:S.nb,customParams:{configKey:Object(ie.a)(t),called_from:"TRANSFER_PANEL"}}))},e}return Object(i.a)(a,[{key:"renderTransferPanels",value:function(){var e=this,t=this.props,a=t.transferRefs,n=t.isBooked,i=t.userDetails,o=t.transferCostingObj,r=t.child_count,l=t.adult_count,c=t.hidePrice,d=t.itineraryId,u=t.regionCode,m=t.isReadOnly,p=t.itineraryVersion;return void 0!==a&&void 0!==o?a.map((function(t){var a=o.costingById&&o.costingById[t],f=a&&a.alternateAvailable?"":"hidden",g=null,h=null;a&&a.vehicle&&"BUS"===a.vehicle.toUpperCase()?(g="Change",h=e.onViewBusDetailsClick):g=a&&"PRIVATE"===a.type?"Change to shared":"Change to private";var y=n&&i&&"ADMIN"!==i.userType,v=e.changeTransferTypeHandler,b=e.handleCallToActionClick,E=(a||{alternateAvailable:!1}).alternateAvailable;if(!a)return s.a.createElement(de.a,{failedFor:"transfer",isLastRow:!1});var C=i&&i.loggedIn&&"ADMIN"===i.userType&&!n&&a.publishedCost&&!m;return s.a.createElement(ot,{key:t,userDetails:i,transfer:a,is_hidden:f,transferTypeChangeText:g,isNonEditable:y,child_count:r,adult_count:l,hidePrice:c,itineraryId:d,isBooked:n,changeTransferTypeHandler:v,handleCallToActionClick:b,regionCode:u,onViewDetailsClick:h,isReadOnly:m,alternateAvailable:E,itineraryVersion:p,_onEditClick:function(t){return e._onEditClick(a.configKey,t)},_canEditPrice:C,isAdmin:"ADMIN"===i.userType})})):null}},{key:"render",value:function(){return this.renderTransferPanels()}}]),a}(c.Component),ct=Object(E.withRouter)(Object(u.c)((function(){return{}}),(function(e){return{manageInterCityTransfer:Object(d.b)(Xe.a,e),changeTransferType:Object(d.b)($e.a,e)}}))(lt)),st=a(192),dt=a.n(st),ut=function(e){var t=e.train,a=e.onViewDetailsClick,n=e.onChangeClick,i=e.isBooked,o=e.disableEditing,r=e.isReadOnly,l=e.onEditClick,d=void 0===l?null:l,u=e.canEditPrice,m=void 0!==u&&u,p=e.userDetails,f=e.alerts,g=t.status,h=t.lastDataUpdatedMillis,v=p&&p.loggedIn&&"ADMIN"===p.userType;if("SUCCESS"===g||"SOLD_OUT"===g){var b=null,E="SOLD_OUT"===g,C=o||r?function(){return null}:function(e){return a(t,e)};t.inCombo?b="Included in combo package!":t.inSwissPass&&(b="Included in Swiss Pass!");var O=[],I=dt()(f);"RAILS"!==t.sourceProvider&&O.push({className:"".concat(t.refundable?"pyt-refundable-16 color-primary-dark":"pyt-non-refundable-16 color-accent-7"),text:t.refundable?"Refundable":"Non Refundable"}),t.duration&&O.push({className:"pyt-clock-16",text:t.duration});var N=null;t.stops&&(N="".concat(t.stops," stops (").concat(t.stopNames||"",")"),O.push({className:"pyt-train-16",text:N})),"E-Ticket"===t.ticketType&&(O.push({className:"pyt-eticket-16",text:t.ticketType}),t.stops?(I.push({type:"info",data:" Involves changing trains at ".concat(t.stopNames,"."),iconClass:"pyt-fyi-36 color-grey"}),I.push({type:"info",data:" Electronic ticket: PDF ticket can be printed and used while boarding.",iconClass:"pyt-fyi-36 color-grey"})):I.push({type:"success",data:" Electronic ticket: PDF ticket can be printed and used while boarding.",iconClass:"pyt-fyi-36 color-grey"})),"RAILS"===t.sourceProvider&&t.category&&O.push({className:"pyt-seat-16",text:t.category});var j=Object(z.a)(t.publishedCost,t.ourCost);if(Object(y.a)())return s.a.createElement(Ze.a,{type:x.k.TRAIN,sourceProvider:v?t.sourceProvider:null,isAdmin:v,isDisabled:E,disableText:"SOLD OUT",price:t.strikedCost,publishedPrice:j,canEditPrice:m&&!t.inSwissPass,from:t.fromCity,to:t.toCity,isReadOnly:r,fromDate:"".concat(t.dayOfWeek,", ").concat(t.day," ").concat(t.mon),fromTime:t.departureTime,toTime:t.arrivalTime,stops:"".concat(t.duration||""," ").concat(N||""),headerImage:"https://pyt-images.imgix.net/images/web_app/itinerary/train-generic.jpg",alerts:I,onView:C,isBooked:i,onChange:i?null:function(e){r||n(t,e)},comboPricingMessageBox:b,onEditClick:d,footerIcons:O});var w=v?t.discountApplied:null;return v&&O.push({text:s.a.createElement("span",{className:"likely-tag bg-accent-2"},s.a.createElement("i",{className:"pyt-flash-on-16 color-accent-1"}),t.sourceProvider)}),s.a.createElement(c.Fragment,null,s.a.createElement(k.b,{type:x.k.TRAIN,isDisabled:E,disableText:"SOLD OUT",onEditClick:d,price:t.strikedCost,isAdmin:v,userDetails:p,costingId:t.costingId,entityType:t.entityType,bookingNotes:t.bookingNotes,status:t.status,publishedPrice:j,canEditPrice:m&&!t.inSwissPass,contentClickAction:o?null:C,header:{title:t.text,fromDate:"".concat(t.dayOfWeek,", ").concat(t.day," ").concat(t.mon),changeDisabled:i,removeDisable:i,onChange:o&&i?null:function(e){n(t,e)}},secondaryHeader:{data:O},details:{departureTime:t.departureTime,pickup:t.pickup,arrivalTime:t.arrivalTime,drop:t.drop,duration:t.duration,departureDate:t.day+" "+t.mon,arrivalDate:t.day+" "+t.mon,comboPricingMessageBox:b},image:"https://pyt-images.imgix.net/images/web_app/itinerary/train-generic.jpg",alerts:I,isDiscountApplied:w,lastDataUpdatedMillis:v?h:null}))}return"ERROR"!==g&&"USER_REMOVED"!==g&&"UNAVAILABLE"!==g&&"SOLD_OUT"!==g||!v?null:Object(y.a)()?s.a.createElement(Ze.a,{type:x.k.TRAIN,isAdmin:v,from:t.text,isReadOnly:r,isBooked:i,fromDate:"".concat(t.dayOfWeek,", ").concat(t.day," ").concat(t.mon),headerImage:"https://pyt-images.imgix.net/images/web_app/itinerary/train-generic.jpg",errorText:"USER_REMOVED"===g?"This transfer has been removed":"Sorry, Train costing has failed currently. Please try after sometime!",changeText:"Retry",onChange:i?null:function(e){r||n(t,e)}}):s.a.createElement(k.b,{type:x.k.TRAIN,isAdmin:v,header:{title:t.text,isPriceStrikethrough:t.inSwissPass,fromDate:"".concat(t.dayOfWeek,", ").concat(t.day," ").concat(t.mon),onChange:i?null:function(e){r||n(t,e)},changeDisabled:i,removeDisable:i,changeButtonText:"Retry",buttonsClassName:"col-md-6"},details:{fullContent:s.a.createElement(c.Fragment,null,s.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"}),"USER_REMOVED"===g?"This transfer has been removed":"Sorry, Train costing has failed currently. Please try after sometime!")},disableLeftSection:!0,rootClassName:"error",status:g})};function mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var pt=L.a.booking_state_alert,ft={type:"POSITIVE",message:" Electronic ticket: PDF ticket can be printed and used while boarding."},gt=function(e){Object(o.a)(a,e);var t=mt(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onChangeClick=function(t,a){a&&a.stopPropagation(),a&&a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.regionCode,r=n.itineraryId,l=Object(C.a)(t.configKey);Object(P.Ld)(P.D,{category:"train",button_clicked:"Inclusions - Train Card"}),i.push(Object(S.Jb)({itineraryId:r,regionCode:o,parentPage:S.Lb.inclusion,target:S.Ab,customParams:{configKey:l}}))},e.onViewDetailsClick=function(t,a){a&&a.preventDefault(),a&&a.stopPropagation(),a&&a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.regionCode,r=n.itineraryId,l=Object(C.a)(t.configKey);Object(P.Ld)(P.Pc,{category:"train",button_clicked:"Inclusions - Train Card"}),i.push(Object(S.Jb)({itineraryId:r,regionCode:o,parentPage:S.Lb.inclusion,target:S.Bb,customParams:{configKey:l}}))},e.handleCallToActionClick=function(t,a){a.preventDefault(),a.stopPropagation(),e.props.manageInterCityTransfer(t).then().catch()},e._onEditClick=function(t,a){a.preventDefault(),a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.regionCode,r=n.itineraryId;i.push(Object(S.Jb)({itineraryId:r,regionCode:o,parentPage:S.Lb.inclusion,target:S.mb,customParams:{configKey:Object(C.a)(t),called_from:"TRAIN_PANEL"}}))},e}return Object(i.a)(a,[{key:"renderTrainPanels",value:function(){var e=this,t=this.props,a=t.userDetails,n=t.trainRefs,i=t.isBooked,o=t.trainCostingObj,r=t.isReadOnly,l=t.itineraryId,c=t.itineraryAlerts,d=a&&a.loggedIn&&"ADMIN"===a.userType,u=d&&!r;return void 0!==n&&void 0!==o?(n||[]).map((function(t){var n=o.costingById&&o.costingById[t];if(!n)return s.a.createElement(R.a,{failedFor:"train",isLastRow:!1});var p=Object(m.a)(c,t)||[];return n.ticketType&&"e-ticket"===n.ticketType.trim().toLowerCase()&&p.push(ft),s.a.createElement(ut,{key:t,train:n,itineraryId:l,userDetails:a,isBooked:i,isReadOnly:r,booking_state_alert:pt,history:e.props.history,onChangeClick:e.onChangeClick,onViewDetailsClick:e.onViewDetailsClick,onEditClick:function(t){return e._onEditClick(n.configKey,t)},canEditPrice:u,isAdmin:d,handleCallToActionClick:e.handleCallToActionClick,alerts:Object(D.b)(p)})})):null}},{key:"render",value:function(){return this.renderTrainPanels()}}]),a}(c.Component),ht=Object(E.withRouter)(Object(u.c)((function(){return{}}),(function(e){return{manageInterCityTransfer:Object(d.b)(Xe.a,e)}}))(gt)),yt=a(2143),vt=a(2071),bt=a(1766);function Et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var Ct=x.k.VISA,Ot=function(e){Object(o.a)(a,e);var t=Et(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).handleCallToActionClick=i.handleCallToActionClick.bind(Object(Oe.a)(i)),i}return Object(i.a)(a,[{key:"handleCallToActionClick",value:function(e,t){var a=Object(ee.a)(Object(ee.a)({},t),{},{itineraryId:this.props.itineraryId}),n={add:P.e,remove:P.Dc,change:P.B};switch(n[e]&&Object(P.Ld)(P.Sb,{insurance_interaction:n[e],category:"insurance",action:n[e],button_clicked:"Inclusions - ".concat(n[e]," Insurance")}),e.toLowerCase()){case"add":this.props.triggerInsurance(Object(ee.a)(Object(ee.a)({},a),{},{method:"POST"})).then().catch();break;case"remove":this.props.triggerInsurance(Object(ee.a)(Object(ee.a)({},a),{},{method:"DELETE"})).then().catch();break;case"change":var i=this.props,o=i.history,r=i.itineraryId,l=i.regionCode;o.push(Object(S.Jb)({itineraryId:r,regionCode:l,parentPage:S.Lb.inclusion,target:S.t}))}}},{key:"render",value:function(){var e=this,t=this.props.insuranceCosting?this.props.insuranceCosting.costingById:null,a=this.props.allInsuranceCostingRefs,n=void 0===a?[]:a,i=this.props.insuranceCosting;return n.map((function(a,n){return s.a.createElement(xt,{key:n,insuranceKey:a,allowEditingOptions:e.props.allowEditingOptions,insurance:t[a],totalPublishedCost:i&&Object(z.a)(i.totalPublishedCost,i.totalOurCost),handleCallToActionClick:e.handleCallToActionClick,isBooked:e.props.isBooked,userDetails:e.props.userDetails,adult_count:e.props.adult_count,child_count:e.props.child_count,splitPricing:e.props.splitPricing,isReadOnly:e.props.isReadOnly,itineraryVersion:e.props.itineraryVersion,regionCode:e.props.regionCode})}))}}]),a}(c.Component),xt=function(e){var t=e.insurance,a=void 0===t?{}:t,n=e.isBooked,i=e.totalPublishedCost,o=e.isReadOnly,r=e.adult_count,l=e.child_count,d=e.insuranceRegion,u=e.insuranceKey,p=e.planId,f=e.handleCallToActionClick,g=e.itineraryAlerts,h=e.itineraryVersion,b=e.regionCode,E=e.userDetails,C=E&&(null===E||void 0===E?void 0:E.loggedIn)&&"ADMIN"===(null===E||void 0===E?void 0:E.userType),I=(a.countries||[]).join(", "),N=!a.required,j=function(e){f(e,{regionCode:d,key:u,include:"remove"!==e,chosenPlanId:p})},A=Object(D.b)(Object(m.a)(g,u)),T=r+l,R={iconClass:"color-grey pyt-fyi-36",data:"Insurance prices are purely based on the age\n  band you fall under. Prices might change once you input your age\n  details in the next screen.",type:"info"};if(Object(y.a)())return s.a.createElement(s.a.Fragment,null,"mle"!==b?s.a.createElement(Ne,{changeDisabled:n||o,alerts:A,removeDisabled:n||o,type:Ct,publishedPrice:i,title:"Travel insurance for ".concat(I),customElement:N?s.a.createElement(c.Fragment,null,s.a.createElement("p",{className:"fine-text dim mbottom-small"},"Add Insurance to save on un-planned emergencies like lost passport, medical emergency, lost baggage etc. On an average it costs less than 20 Euros per person. Make a smart choice now.")):s.a.createElement(c.Fragment,null,s.a.createElement("p",{className:"fine-text dim mbottom-small"},"This is the average cost. Depending on the actual age of the travellers, the final cost will vary. We will update you when it does,be rest assured."," "),s.a.createElement(w.a,Object.assign({},R,{alerts:[R]}))),changeText:N?x.a:x.b,onChange:function(){j(N?"add":"change")},onRemove:N?null:function(){return j("remove")},content:a.required?"".concat(a.plan," for ").concat(T," ").concat(T>1?"people.":"person."):null}):null);var S=a.required?i:null,P="SANDUNE"===h;return s.a.createElement(s.a.Fragment,null,"mle"!==b?s.a.createElement(k.b,{type:Ct,lastDataUpdatedMillis:C?null===a||void 0===a?void 0:a.lastDataUpdatedMillis:null,alerts:N?Object(v.a)(A):[R].concat(Object(v.a)(A)),header:{publishedPrice:P?S:"",title:"Travel insurance for ".concat(I),changeDisabled:n||o,removeDisabled:n||o,onChange:function(){j(N?"add":"change")},onRemove:N?null:function(){return j("remove")},changeButtonText:o?null:N?"Add":"Change"},details:{title:a.required?"".concat(a.plan," for ").concat(T," ").concat(T>1?"people.":"person."):s.a.createElement("span",{className:"pill color-white bg-accent-4 hide"},"Important"),childElement:a.required?s.a.createElement("span",{className:"meta-text dim"},"This is the average cost. Depending on the actual age of the travellers, the final cost will vary. We will update you when it does,be rest assured."," "):s.a.createElement("span",{className:"meta-text dim"},"\xa0Add Insurance to save on un-planned emergencies like lost passport, medical emergency, lost baggage etc. On an average it costs less than 20 Euros per person. Make a smart choice now.")},publishedPrice:S,contentRootClass:"row vertical-center",image:Object(O.a)("INSURANCE"),costingId:null===a||void 0===a?void 0:a.costingId,entityType:null===a||void 0===a?void 0:a.entityType,bookingNotes:null===a||void 0===a?void 0:a.bookingNotes,status:N?"USER_REMOVED":null===a||void 0===a?void 0:a.status,isAdmin:C,userDetails:E}):null)},kt=Object(E.withRouter)(Object(u.c)((function(){return{}}),(function(e){return{triggerInsurance:Object(d.b)(bt.a,e)}}))(Ot)),It=a(2049),Nt=a(2048),jt=a(898),wt=a.n(jt);function At(e){var t=e.itineraryId,a=e.val;return function(e){return new Promise((function(){Object(B.a)({method:"PUT",url:"".concat(L.a.api_url,"combo/").concat(t,"?include=").concat(a),onSuccess:function(t){console.log({res:t}),Object(V.a)(e,t.data)}})}))}}function Tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var Rt=x.k.PASS,St=function(e){Object(o.a)(a,e);var t=Tt(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).onChange=function(e){i.setState({maxListItems:e})},i.handleCustomiseClick=function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=i.props,a=t.history,n=t.location,o=t.match.params,r=o.searchRegion,l=o.itineraryId;a.push(Object(S.Jb)({itineraryId:l,regionCode:r,location:n,target:S.zb}))},i.ontriggerSwisspass=function(e){var t=i.props,a=t.itineraryId,n=t.costedItinerary;i.props.fetchSwissPass({itineraryId:a||n.itinerary.itineraryId,val:e})},i.renderSinglePass=i.renderSinglePass.bind(Object(Oe.a)(i)),i.renderAllPasses=i.renderAllPasses.bind(Object(Oe.a)(i)),i.state={maxListItems:2,shownAlert:!1},i}return Object(i.a)(a,[{key:"renderSinglePass",value:function(e,t){var a,n,i=this,o=this.props,r=o.userDetails,l=o.isAdmin,c=o.passCostings,d=(o.isReadOnly,o.itineraryId),u=Object(z.a)(e.publishedCost,e.ourCost);console.log({prop:this.props,itineraryId:d});this.props.isBooked;var m=null===c||void 0===c||null===(a=c.costingById)||void 0===a||null===(n=a.PASS)||void 0===n?void 0:n.required;if(Object(y.a)())return s.a.createElement(Ne,{changeDisabled:this.props.isBooked,removeDisabled:this.props.isBooked,key:t,type:Rt,content:e.name,title:e.start&&s.a.createElement(s.a.Fragment,null,"Starts from:"," ",s.a.createElement("span",{className:"color-accent-13 bold"},M()(e.start||null).format("ddd, DD MMM"))),price:e.strikedCost,publishedPrice:u,list:[e.description].concat(Object(v.a)(e.inclusions.otherInclusions.map((function(e){return e})))),maxListItems:this.state.maxListItems,onExpand:function(){i.onChange(e?e.inclusions.otherInclusions&&e.inclusions.otherInclusions.length+1:3)}});var p=Object(W.a)({permissions:null===r||void 0===r?void 0:r.permissions,key:G.J});return s.a.createElement(k.b,{type:Rt,header:{title:e.name,startDate:e.start&&M()(e.start||null).format("ddd, DD MMM"),changeDisabled:!1,removeDisabled:!1,onChange:function(e){var t;p&&(m?i.handleCustomiseClick(e):(console.log("clickeed add",t),i.ontriggerSwisspass(!0)))},onRemove:p&&(m?function(){i.setState({shownAlert:!0})}:null),changeButtonText:p?m?"Customize":!m&&"Add":null,hideHeader:Object(W.a)({permissions:null===r||void 0===r?void 0:r.permissions,key:G.J})},details:{list:[e.description].concat(Object(v.a)(e.inclusions.otherInclusions.map((function(e){return e}))))},contentRootClass:"row vertical-center",logo:"https://pyt-images.imgix.net/images/misc/swiss-pass.jpg",price:e.strikedCost,publishedPrice:u,costingId:null===e||void 0===e?void 0:e.costingId,entityType:null===e||void 0===e?void 0:e.entityType,bookingNotes:null===e||void 0===e?void 0:e.bookingNotes,status:null===e||void 0===e?void 0:e.status,isAdmin:l,userDetails:r,isReadOnly:!1})}},{key:"renderAllPasses",value:function(e){var t=this,a=[],n=0,i=Object(Nt.a)(e);return Object(It.a)(e,(function(e,o){n===i-1&&!0,a.push(t.renderSinglePass(e,o)),n++})),a}},{key:"render",value:function(){var e=this,t=this.props.costedItinerary.passCostings,a=this.state.shownAlert;return Object(Nt.a)(t.costingById)>0?s.a.createElement(s.a.Fragment,null,this.renderAllPasses(t.costingById),s.a.createElement(wt.a,{show:a,title:"",text:"Are you sure you want to remove Swiss Pass",animation:!0,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel",onConfirm:function(){e.setState({shownAlert:!1}),e.ontriggerSwisspass(!1)},onCancel:function(){e.setState({shownAlert:!1})}})):null}}]),a}(c.Component),Dt=Object(E.withRouter)(Object(u.c)((function(){return{}}),(function(e){return{fetchSwissPass:Object(d.b)(At,e)}}))(St)),Pt=a(1926),_t=a(1901),Bt=a(2072),Lt=a(1675),Ft=a(1792);function Mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var Vt=g.a.Element,Ut=function(e){Object(o.a)(a,e);var t=Mt(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).renderHotelCards=function(){var t=e.props,a=t.costedItinerary,n=t.userDetails,i=t.showThisModal,o=t.isReadOnly,r=t.itineraryAlerts,l=t.itineraryInfo,c=a.itinerary,d=a.allHotelCostingRefs,u=void 0===d?[]:d,p=a.totalDiff,f=a.hotelCostings,g=a.costingConfiguration,h=a.version,y=c.itineraryId,v=c.booking,b=c.frozen,E=Object(m.a)(r,"HOTEL.alerts"),C=Object(H.b)(l);return u.length?s.a.createElement(Z,{packageRate:!1,isReadOnly:o,isT20:C,userDetails:n,isBooked:v||b,showThisModal:i,costedItinerary:a,itineraryDetail:c,itineraryAlerts:E,itineraryVersion:h,totalDiff:p,hotelRefs:u,hotelCostingObj:f,hotelGuestConfiguration:g.hotelGuestRoomConfigurations,itineraryId:y}):null},e.getCombinedTransferLength=function(){var t=e.props.costedItinerary,a=t.allTransferCostingRefs,n=t.allTrainCostingRefs,i=t.allRentalCostingRefs,o=t.allFerryCostingRefs;return(a||[]).length+(n||[]).length+(i||[]).length+(o||[]).length},e.renderCustomBlockCard=function(){var t=e.props,a=t.history,n=t.itineraryInfo,i=void 0===n?{}:n,o=t.user_details,r=i.customCostings,l=i.itinerary,c=l.itineraryId,d=l.regionCode,u=l.splitPricing,m=l.booking,p=l.frozen,f=(r||[]).length;return s.a.createElement("div",{className:"clearfix fw"},s.a.createElement(Qe,{cards:(r||[]).filter((function(e){return"CUSTOM"===(null===e||void 0===e?void 0:e.entity)})),history:a,itineraryId:c,regionCode:d,enableSplitPricing:u,permissions:null===o||void 0===o?void 0:o.permissions,isBooked:m||p,itineraryInfo:i}),!Object(W.a)({permissions:null===o||void 0===o?void 0:o.permissions,key:G.a})||m||p?null:s.a.createElement("div",{className:"text-center mbottom-medium mtop-small"}," ",s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"+ Add Custom Item",isDisabled:f>=10,onClickAction:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),a.push(Object(S.Jb)({itineraryId:c,parentPage:S.Lb.inclusion,regionCode:d,target:S.l}))}})))},e.bookTrip=function(t,a){var n=e.props,i=n.history,o=n.match;"BookTrip"===a&&i.push("/booking-travellers/".concat(o.params.itineraryId))},e.renderFlightCards=function(){var t=e.props,a=t.costedItinerary,n=t.userDetails,i=void 0===n?{}:n,o=t.history,r=t.location,l=t.isReadOnly,c=t.itineraryAlerts,d=a.itinerary,u=a.allFlightCostingRefs,p=void 0===u?[]:u,f=a.flightCostings,g=a.allAlerts,h=void 0===g?{}:g,y=a.version;if(p.length){var v=d||{},b=v.flightsBlocked,E=v.booking,C=v.frozen;return s.a.createElement(Pt.a,{allFlightCostingRefs:p,costingById:f.costingById,itineraryAlerts:Object(m.a)(c,"FLIGHT.alerts"),alerts:h.alerts,itinerary:d,isBlocked:b,isBooked:E||C,history:o,location:r,isReadOnly:l,userDetails:i,itineraryVersion:y})}},e}return Object(i.a)(a,[{key:"renderActivities",value:function(){var e=this.props,t=e.costedItinerary,a=e.showThisModal,n=e.userDetails,i=e.getAlternateActivites,o=e.isReadOnly,r=e.itineraryAlerts,l=t.allActivityCostingRefs,c=void 0===l?[]:l,d=t.activityCostings,u=t.itinerary,p=t.iterSlotByKey,f=t.iterDayByKey,g=t.iterCityByKey,h=t.activityById,y=t.cityById,v=t.version,b=u.booking,E=u.frozen,C=u.splitPricing,O=u.itineraryId,x=u.regionCode,k=Object(m.a)(r,"ACTIVITY.alerts");if(c.length)return s.a.createElement(ve,{showThisModal:a,userDetails:n,getAlternateActivites:i,itineraryId:O,regionCode:x,allSlot:p,allDays:f,allCities:g,activityRefs:c,activityObjs:h,isBooked:b||E,isReadOnly:o,activityCostingObj:d,citiesById:y,splitPricing:C,itineraryAlerts:k,itineraryVersion:v})}},{key:"renderTransfers",value:function(){var e=this.props,t=e.changeTransferType,a=e.costedItinerary,n=e.userDetails,i=e.child_count,o=e.adult_count,r=e.isReadOnly,l=e.itineraryAlerts,c=a.itinerary,d=a.allTransferCostingRefs,u=void 0===d?[]:d,p=a.transferCostings,f=a.version,g=c.itineraryId,h=c.booking,y=c.frozen,v=c.regionCode;if(u.length){var b=Object(m.a)(l,"TRANSFER.alerts");return s.a.createElement(ct,{changeTransferType:t,itineraryId:g,isBooked:h||y,userDetails:n,transferRefs:u,child_count:i,adult_count:o,transferCostingObj:p,regionCode:v,isReadOnly:r,itineraryAlerts:b,itineraryVersion:f})}return null}},{key:"renderTrains",value:function(){var e=this.props,t=e.costedItinerary,a=e.userDetails,n=e.isReadOnly,i=e.itineraryAlerts,o=t.itinerary,r=t.allTrainCostingRefs,l=void 0===r?[]:r,c=t.trainCostings,d=o.itineraryId,u=o.booking,p=o.frozen,f=o.regionCode;if(l.length){var g=Object(m.a)(i,"TRAIN.alerts");return s.a.createElement(ht,{isBooked:u||p,userDetails:a,trainRefs:l,trainCostingObj:c,itineraryId:d,regionCode:f,isReadOnly:n,itineraryAlerts:g})}return null}},{key:"renderRentalCars",value:function(){var e=this.props,t=e.costedItinerary,a=e.userDetails,n=e.isReadOnly,i=e.itineraryAlerts,o=t.itinerary,r=t.allRentalCostingRefs,l=void 0===r?[]:r,c=t.rentalCarCostings,d=o.itineraryId,u=o.booking,p=o.frozen,f=o.regionCode;if(l.length){var g=Object(m.a)(i,"RENTAL_CAR.alerts");return s.a.createElement(vt.a,{isBooked:u||p,userDetails:a,itineraryId:d,regionCode:f,isReadOnly:n,transferRefs:l,transferCostingObj:c,itineraryAlerts:g})}return null}},{key:"renderFerries",value:function(){var e=this.props,t=e.costedItinerary,a=e.userDetails,n=e.isReadOnly,i=e.itineraryAlerts,o=e.user_details,r=t.itinerary,l=t.allFerryCostingRefs,c=void 0===l?[]:l,d=t.ferryCostings,u=t.version,p=r.booking,f=r.frozen,g=o&&o.userType;if(c.length){var h=Object(m.a)(i,"FERRY.alerts");return s.a.createElement(yt.a,{userDetails:a,isReadOnly:n,isAdmin:"ADMIN"===g,isBooked:p||f,ferryRefs:c,ferryCostingObj:d,itineraryId:r.itineraryId,regionCode:r.regionCode,itineraryAlerts:h,itineraryVersion:u})}return null}},{key:"renderCombos",value:function(){var e=this.props,t=e.costedItinerary,a=e.isReadOnly,n=e.itineraryAlerts,i=e.user_details,o=t.itinerary,r=t.iterSlotByKey,l=t.iterDayByKey,d=t.passCostings,u=o.splitPricing,p=o.booking,f=o.frozen,g=i&&i.userType;if(d&&d.costingById&&Object.keys(d.costingById).length){var h=Object(m.a)(n,"PASS.alerts");return Object(y.a)()?s.a.createElement(c.Fragment,null,s.a.createElement(Dt,{isBooked:p||f,allSlot:r,isReadOnly:a,allDays:l,passCostings:d,costedItinerary:t,splitPrice:u,itineraryAlerts:h,disableEdit:"ADMIN"!==g||p||f,userDetails:i})):s.a.createElement("div",{className:"clearfix fw"},s.a.createElement(Dt,{isBooked:p||f,allSlot:r,isReadOnly:a,allDays:l,passCostings:d,costedItinerary:t,splitPrice:u,itineraryAlerts:h,disableEdit:"ADMIN"!==g||p||f,userDetails:i}))}return null}},{key:"renderVisas",value:function(){var e=this.props,t=e.costedItinerary,a=e.userDetails,n=e.isReadOnly,i=e.itineraryAlerts,o=t.itinerary,r=t.allVisaCostingRefs,l=void 0===r?[]:r,c=t.visaCostings,d=t.version,u=o.itineraryId,p=o.booking,f=o.frozen,g=o.splitPricing,h=Object(m.a)(i,"VISA.alerts");return sessionStorage.getItem("locale")?null:s.a.createElement(Pe,{allowEditingOptions:!n,itinerary:t,isReadOnly:n,isBooked:p||f,userDetails:a,itineraryId:u,visaRefs:l,visaCostings:c,splitPricing:g,itineraryAlerts:h,itineraryVersion:d})}},{key:"renderInsurance",value:function(){var e=this.props,t=e.costedItinerary,a=e.userDetails,n=e.adult_count,i=e.child_count,o=e.isReadOnly,r=e.itineraryAlerts,l=t.itinerary,c=t.insuranceCosting,d=void 0===c?{}:c,u=t.allInsuranceCostingRefs,p=void 0===u?[]:u,f=t.version,g=l.itineraryId,h=l.booking,y=l.frozen,v=l.splitPricing,b=l.regionCode,E=o?[]:Object(m.a)(r,"INSURANCE.alerts");return s.a.createElement(kt,{allInsuranceCostingRefs:p,allowEditingOptions:!o,isBooked:h||y,userDetails:a,isReadOnly:o,itineraryId:g,regionCode:b,insuranceCosting:d,adult_count:n,child_count:i,splitPricing:v,itineraryAlerts:E,itineraryVersion:f})}},{key:"render",value:function(){var e,t,a,n,i,o,r,l,d=this,u=this.props,f=u.costedItinerary,g=u.history,v=u.isReadOnly,b=u.user_details,E=u.match,C=u.itineraryAlerts,O=u.locale,x=u.itineraryInfo,k=void 0===x?{}:x,I=u.displayCurrency,N=k.itinerary,j=N.regionCode,w=N.booking,A=b&&b.userType,T=f.itinerary,R=f.version,P=Object(Lt.b)(this.props.itineraryInfo,v),_=Object(D.b)(Object(m.a)(C,"ITINERARY.alerts.itinerary"),!0),B=null===k||void 0===k||null===(e=k.allVisaCostingRefs)||void 0===e?void 0:e[0],L="INR"!==I;return s.a.createElement(c.Fragment,null,v?null:s.a.createElement(Vt,{name:h.a.Flights},this.renderFlightCards(),s.a.createElement(Qe,{cards:(null===k||void 0===k||null===(t=k.customCostings)||void 0===t?void 0:t.filter((function(e){return"FLIGHTS"===(null===e||void 0===e?void 0:e.entity)&&!L})))||[],history:g,itineraryId:null===T||void 0===T?void 0:T.itineraryId,regionCode:j,enableSplitPricing:null===T||void 0===T?void 0:T.splitPricing,permissions:null===b||void 0===b?void 0:b.permissions,isBooked:w||(null===T||void 0===T?void 0:T.frozen)}),Object(W.a)({permissions:null===b||void 0===b?void 0:b.permissions,key:G.a})&&w&&!L&&s.a.createElement(Ge.a.Item,{paddingBottom:24},s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"+ Add Flight AB Card",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),g.push(Object(S.Jb)({itineraryId:null===T||void 0===T?void 0:T.itineraryId,parentPage:S.Lb.inclusion,regionCode:j,target:S.M}))}}))),s.a.createElement(Vt,{name:h.a.Hotels},this.renderHotelCards(),s.a.createElement(Qe,{cards:(null===k||void 0===k||null===(a=k.customCostings)||void 0===a?void 0:a.filter((function(e){return"HOTELS"===(null===e||void 0===e?void 0:e.entity)&&!L})))||[],history:g,itineraryId:null===T||void 0===T?void 0:T.itineraryId,regionCode:j,enableSplitPricing:null===T||void 0===T?void 0:T.splitPricing,permissions:null===b||void 0===b?void 0:b.permissions,isBooked:w||(null===T||void 0===T?void 0:T.frozen)}),Object(W.a)({permissions:null===b||void 0===b?void 0:b.permissions,key:G.a})&&w&&!L&&s.a.createElement(Ge.a.Item,{paddingBottom:24},s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"+ Add Hotel AB Card",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),g.push(Object(S.Jb)({itineraryId:null===T||void 0===T?void 0:T.itineraryId,parentPage:S.Lb.inclusion,regionCode:j,target:S.S}))}}))),this.getCombinedTransferLength()>0?Object(y.a)()?s.a.createElement(c.Fragment,null,s.a.createElement(Vt,{name:h.a.Transfers},this.renderTransfers(),this.renderRentalCars(),this.renderTrains(),this.renderFerries())):s.a.createElement(Vt,{name:h.a.Transfers},s.a.createElement("div",{className:"clearfix fw"},this.renderTransfers(),s.a.createElement(Qe,{cards:(null===k||void 0===k||null===(n=k.customCostings)||void 0===n?void 0:n.filter((function(e){return"TRANSFERS"===(null===e||void 0===e?void 0:e.entity)&&!L})))||[],history:g,itineraryId:null===T||void 0===T?void 0:T.itineraryId,regionCode:j,enableSplitPricing:null===T||void 0===T?void 0:T.splitPricing,permissions:null===b||void 0===b?void 0:b.permissions,isBooked:w||(null===T||void 0===T?void 0:T.frozen)}),Object(W.a)({permissions:null===b||void 0===b?void 0:b.permissions,key:G.a})&&w&&!L&&s.a.createElement(Ge.a.Item,{paddingBottom:24},s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"+ Add Transfer AB Card",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),g.push(Object(S.Jb)({itineraryId:null===T||void 0===T?void 0:T.itineraryId,parentPage:S.Lb.inclusion,regionCode:j,target:S.Cb}))}})),this.renderRentalCars(),s.a.createElement(Qe,{cards:(null===k||void 0===k||null===(i=k.customCostings)||void 0===i?void 0:i.filter((function(e){return"RENTALCAR"===(null===e||void 0===e?void 0:e.entity)&&!L})))||[],history:g,itineraryId:null===T||void 0===T?void 0:T.itineraryId,regionCode:j,enableSplitPricing:null===T||void 0===T?void 0:T.splitPricing,permissions:null===b||void 0===b?void 0:b.permissions,isBooked:w||(null===T||void 0===T?void 0:T.frozen)}),Object(W.a)({permissions:null===b||void 0===b?void 0:b.permissions,key:G.a})&&w&&g.location.pathname.includes("/nz")&&!L&&s.a.createElement(Ge.a.Item,{paddingBottom:24},s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"+ Add Rental Car AB Card",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),g.push(Object(S.Jb)({itineraryId:null===T||void 0===T?void 0:T.itineraryId,parentPage:S.Lb.inclusion,regionCode:j,target:S.ob}))}})),this.renderTrains(),this.renderFerries(),s.a.createElement(Qe,{cards:(null===k||void 0===k||null===(o=k.customCostings)||void 0===o?void 0:o.filter((function(e){return"FERRY"===(null===e||void 0===e?void 0:e.entity)&&!L})))||[],history:g,itineraryId:null===T||void 0===T?void 0:T.itineraryId,regionCode:j,enableSplitPricing:null===T||void 0===T?void 0:T.splitPricing,permissions:null===b||void 0===b?void 0:b.permissions,isBooked:w||(null===T||void 0===T?void 0:T.frozen)}),Object(W.a)({permissions:null===b||void 0===b?void 0:b.permissions,key:G.a})&&w&&!L&&s.a.createElement(Ge.a.Item,{paddingBottom:24},s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"+ Add Ferry AB Card",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),g.push(Object(S.Jb)({itineraryId:null===T||void 0===T?void 0:T.itineraryId,parentPage:S.Lb.inclusion,regionCode:j,target:S.J}))}})))):null,s.a.createElement(Vt,{name:h.a.Activities},this.renderActivities(),s.a.createElement(Qe,{cards:(null===k||void 0===k||null===(r=k.customCostings)||void 0===r?void 0:r.filter((function(e){return"ACTIVITIES"===(null===e||void 0===e?void 0:e.entity)&&!L})))||[],history:g,itineraryId:null===T||void 0===T?void 0:T.itineraryId,regionCode:j,enableSplitPricing:null===T||void 0===T?void 0:T.splitPricing,permissions:null===b||void 0===b?void 0:b.permissions,isBooked:w||(null===T||void 0===T?void 0:T.frozen)}),Object(W.a)({permissions:null===b||void 0===b?void 0:b.permissions,key:G.a})&&w&&!L&&s.a.createElement(Ge.a.Item,{paddingBottom:24},s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"+ Add Activities AB Card",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),g.push(Object(S.Jb)({itineraryId:null===T||void 0===T?void 0:T.itineraryId,parentPage:S.Lb.inclusion,regionCode:j,target:S.a}))}}))),"AGENT"===A||T.agent?null:Object(y.a)()?s.a.createElement(c.Fragment,null,s.a.createElement(Vt,{name:h.a.VisaInsurance},this.renderVisas(),this.renderInsurance())):s.a.createElement(Vt,{name:h.a.VisaInsurance},s.a.createElement("div",{className:"clearfix fw"},this.renderVisas(),Object(W.a)({permissions:null===b||void 0===b?void 0:b.permissions,key:G.a})&&w&&B&&s.a.createElement(Ge.a.Item,{paddingBottom:24},s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"+ Add Visa Slot AB Card",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=Object(S.Jb)({itineraryId:null===T||void 0===T?void 0:T.itineraryId,parentPage:S.Lb.inclusion,regionCode:j,target:S.Fb})+"?slot=true&id=".concat(B);g.push(t)}})),s.a.createElement(Qe,{cards:(null===k||void 0===k||null===(l=k.customCostings)||void 0===l?void 0:l.filter((function(e){return"VISA"===(null===e||void 0===e?void 0:e.entity)&&!L})))||[],history:g,itineraryId:null===T||void 0===T?void 0:T.itineraryId,regionCode:j,enableSplitPricing:null===T||void 0===T?void 0:T.splitPricing,permissions:null===b||void 0===b?void 0:b.permissions,isBooked:w||(null===T||void 0===T?void 0:T.frozen)}),Object(W.a)({permissions:null===b||void 0===b?void 0:b.permissions,key:G.a})&&w&&!L&&s.a.createElement(Ge.a.Item,{paddingBottom:24},s.a.createElement(re.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg round",buttonText:"+ Add Visa AB Card",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=Object(S.Jb)({itineraryId:null===T||void 0===T?void 0:T.itineraryId,parentPage:S.Lb.inclusion,regionCode:j,target:S.Fb});g.push(t)}})),this.renderInsurance())),s.a.createElement(Vt,{name:h.a.PassPanels},this.renderCombos()),s.a.createElement(Vt,{name:h.a.PassPanels},this.renderCustomBlockCard()),s.a.createElement(Vt,{name:h.a.TotalCost},s.a.createElement(Bt.a,{costedItinerary:this.props.costedItinerary,userDetails:b,isReadOnly:v,itineraryVersion:R,isAdmin:"ADMIN"===A})),Object(y.a)()&&!Object(p.a)(_)?s.a.createElement(Ft.b,{alerts:_}):null,Object(y.a)()?s.a.createElement(_t.a,{history:g,match:E,clickGetCost:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UCM";Object(D.i)(e,t,d.props)},itineraryInfo:f,adult_count:f.adult_count,child_count:f.child_count,user_details:b,isReadOnly:v||this.props.isFromPackages,panelMenu:P.panelMenu,menuIcons:P.menuIcons,isInclusion:!0,isDubai:"string"===typeof f.version&&"sandune"===f.version.toLowerCase(),locale:O}):null,s.a.createElement("div",{className:"visible-xs visible-sm",id:"bottom-spacer",style:{height:64}}))}}]),a}(c.Component),Ht=a(590),zt=a(591),Wt=a(427),Gt=a(610),Kt=a(291),Yt=a(1750),qt=a(1819),Jt=a(247),Qt=a(137),Xt=a(1820),$t=a(1708),Zt=a(213),ea=a(1693),ta=a(1702),aa=a(1684),na=a(1821),ia=a(1894),oa=a(1663),ra=a(1634),la=a(2129),ca=a(4),sa=a(249),da=a(126),ua=function(e){var t=e.currentProps,a=void 0===t?{}:t;return s.a.createElement(E.Switch,null,s.a.createElement(E.Route,{path:S.Ib.BLOCK_CARD_FLIGHT,exact:!0,component:ca.P}),s.a.createElement(E.Route,{path:S.Ib.BLOCK_CARD_HOTEL,exact:!0,component:ca.P}),s.a.createElement(E.Route,{path:S.Ib.BLOCK_CARD_CUSTOM_KEY,exact:!0,component:ca.P}),s.a.createElement(E.Route,{path:S.Ib.BLOCK_CARD_CUSTOM,exact:!0,component:ca.P}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_FLIGHT,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_FLIGHT_EDIT,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_HOTEL,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_HOTEL_EDIT,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_TRANSFER,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_TRANSFER_EDIT,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_RENTAL_CAR,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_RENTAL_CAR_EDIT,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_FERRY,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_FERRY_EDIT,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_ACTIVITY,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_ACTIVITY_EDIT,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_VISA,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.AB_CARD_VISA_EDIT,exact:!0,component:ca.e}),s.a.createElement(E.Route,{path:S.Ib.UPDATE_COST,exact:!0,component:function(e){return s.a.createElement(ca.Db,Object.assign({},e,{page:S.Db}))}}),s.a.createElement(E.Route,{path:S.Ib.EDIT_TITLE_ROUTE,exact:!0,component:ca.Qb}),s.a.createElement(E.Route,{path:S.Ib.EMAIL_QUOTE_ADMIN,component:ca.Ub}),s.a.createElement(E.Route,{path:S.Ib.SHARE_ITINERARY,component:ca.Ed}),s.a.createElement(E.Route,{path:S.Ib.LOGIN,component:ca.Bc}),s.a.createElement(E.Route,{path:S.Ib.ADMIN_HOD_ROUTE,component:ca.Cd}),s.a.createElement(E.Route,{path:S.Ib.SIGNUP,component:function(e){return s.a.createElement(ca.Bc,Object.assign({},e,{actionType:"SIGNUP",headerText:Object(sa.a)()?"Price Match Guarantee":s.a.createElement(c.Fragment,null,"Welcome to ",s.a.createElement("span",{className:"logo-txt"},"Pickyourtrail")),subText:Object(sa.a)()?"We\u2019ll drop our price by Rs.2000 if you find one lower than ours.":"Create an account to save your itineraries. "}))}}),s.a.createElement(E.Route,{path:S.Ib.REQUEST_CALLBACK,component:ca.Bd}),s.a.createElement(E.Route,{path:S.Ib.REQUEST_WHATSAPP_CHAT,component:ca.Bd}),s.a.createElement(E.Route,{path:S.Ib.COSTING_DELAY,component:ca.X}),s.a.createElement(E.Route,{path:S.Ib.ALTERNATE_FLIGHTS,component:ca.x}),s.a.createElement(E.Route,{path:S.Ib.ALTERNATE_HOTEL_DETAILS,exact:!0,component:ca.oc}),s.a.createElement(E.Route,{path:S.Ib.ALTERNATE_HOTEL,exact:!0,component:ca.A}),s.a.createElement(E.Route,{path:S.Ib.ALTERNATE_ROOM,exact:!0,component:ca.z}),s.a.createElement(E.Route,{path:S.Ib.ACTIVITY_DETAILS,exact:!0,component:ca.l}),s.a.createElement(E.Route,{path:S.Ib.ALTERNATE_ACTIVITY_DETAILS,exact:!0,component:ca.r}),s.a.createElement(E.Route,{path:S.Ib.ALTERNATE_ACTIVITY,exact:!0,component:ca.r}),s.a.createElement(E.Route,{path:S.Ib.CHANGE_INSURANCE,exact:!0,component:ca.cb}),s.a.createElement(E.Route,{path:S.Ib.CHANGE_VISA,exact:!0,component:ca.hb}),s.a.createElement(E.Route,{path:S.Ib.RENTAL_CAR_DETAILS,exact:!0,component:ca.yd}),s.a.createElement(E.Route,{path:S.Ib.CHANGE_RENTAL_CAR_INSURANCE,exact:!0,component:ca.fb}),s.a.createElement(E.Route,{path:S.Ib.ALTERNATE_RENTAL_CAR,exact:!0,component:ca.C}),s.a.createElement(E.Route,{path:S.Ib.TRAIN_DETAILS,exact:!0,component:ca.Pd}),s.a.createElement(E.Route,{path:S.Ib.BUS_ALTERNATE,component:ca.t}),s.a.createElement(E.Route,{path:S.Ib.FERRY_ALTERNATE,component:ca.v}),s.a.createElement(E.Route,{path:S.Ib.RATE_MATCH_ACTIVITY,exact:!0,component:Object(y.a)()?ca.zd:ca.Ad}),s.a.createElement(E.Route,{path:S.Ib.RATE_MATCH_FLIGHT,exact:!0,component:Object(y.a)()?ca.zd:ca.Ad}),s.a.createElement(E.Route,{path:S.Ib.UPDATE_FLIGHT_PNR_ROUTE,exact:!0,component:ca.Sd}),s.a.createElement(E.Route,{path:S.Ib.RATE_MATCH_RENTAL_CAR,exact:!0,component:Object(y.a)()?ca.zd:ca.Ad}),s.a.createElement(E.Route,{path:S.Ib.RATE_MATCH_TRAIN,exact:!0,component:Object(y.a)()?ca.zd:ca.Ad}),s.a.createElement(E.Route,{path:S.Ib.RATE_MATCH_FERRY,exact:!0,component:Object(y.a)()?ca.zd:ca.Ad}),s.a.createElement(E.Route,{path:S.Ib.RATE_MATCH_TRANSFER,exact:!0,component:Object(y.a)()?ca.zd:ca.Ad}),s.a.createElement(E.Route,{path:S.Ib.RATE_MATCH_HOTEL_ROOM,exact:!0,component:Object(y.a)()?ca.zd:ca.Ad}),s.a.createElement(E.Route,{path:S.Ib.RATE_MATCH_TOTAL_COST,exact:!0,component:Object(y.a)()?ca.zd:ca.Ad}),s.a.createElement(E.Route,{path:S.Ib.ALTERNATE_HOTEL_DETAILS,exact:!0,component:ca.A}),s.a.createElement(E.Route,{path:S.Ib.COMFY_SCORE_ROUTE,exact:!0,component:function(e){return s.a.createElement(ca.kb,Object.assign({},e,{itineraryDetails:a.itineraryInfo.itinerary}))}}),s.a.createElement(E.Route,{path:S.Ib.SPLIT_PRICE_ROUTE,exact:!0,component:function(e){return s.a.createElement(ca.Jd,Object.assign({},e,{itineraryInfo:a.itineraryInfo}))}}),s.a.createElement(E.Route,{path:S.Ib.CHANGE_LOCALE_ROUTE,exact:!0,component:function(e){return s.a.createElement(ca.eb,Object.assign({},e,{itineraryInfo:a.itineraryInfo}))}}),s.a.createElement(E.Route,{path:S.Ib.SWAP_ITINERARY_ROUTE,exact:!0,component:function(e){return s.a.createElement(ca.Ld,Object.assign({},e,{itineraryInfo:a.itineraryInfo}))}}),sessionStorage.getItem("locale")?s.a.createElement(E.Redirect,{path:S.Ib.BEFORE_YOU_BOOK_ROUTE,to:"/booking-travellers/".concat(a.itineraryInfo.itinerary.itineraryId),exact:!0}):s.a.createElement(E.Route,{path:S.Ib.BEFORE_YOU_BOOK_ROUTE,exact:!0,component:ca.M}),s.a.createElement(E.Route,{path:S.Ib.SPLIT_HOTEL_ROUTE,exact:!0,component:ca.Id}),s.a.createElement(E.Route,{path:S.Ib.CANCELLATION_POLICY_ROUTE,exact:!0,component:ca.Z}),s.a.createElement(E.Route,{path:S.Ib.DEAL_SIZE_HISTORY_ROUTE,exact:!0,component:ca.ub}),s.a.createElement(E.Route,{path:"/packages/:destination/".concat(S.Lb.inclusion).concat(da.a.CBR_ROUTE),exact:!0,component:function(e){return s.a.createElement(ca.Xd,Object.assign({},e,{theme:a.theme}))}}),s.a.createElement(E.Route,{path:S.Ib.EMAIL_QUOTE,exact:!0,component:ca.Tb}),s.a.createElement(E.Route,{path:S.Ib.SWISS_PASS_CUSTOMIZE_ADMIN_ROUTE,component:ca.Pb}))},ma=a(1822),pa=(a(2073),a(194)),fa=a(2),ga=a(592),ha=a(602);function ya(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var va=fa.default.section.withConfig({displayName:"costing_screen__InclusionContentWrapper"})(["background-color:#fff;padding:24px 0px 40px 0px;"]),ba=function(e){Object(o.a)(a,e);var t=ya(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={setTop:!1,showScoreModal:!1},e.scrollListener=function(){var t=document.getElementsByClassName("modal-backdrop")[0];if(!t||!t.classList.contains("in")){var a=document.getElementsByTagName("header")[0],n=document.getElementById("inclusion_Element");if(n&&a){var i=n.getBoundingClientRect().top,o=e.state.setTop;i<=0&&!o?(a.classList.add("unpin-md"),e.setState({setTop:!0})):i>0&&o&&(a.classList.remove("unpin-md"),e.setState({setTop:!1}))}}},e.clickGetCost=function(t,a){Object(D.i)(t,a,e.props)},e.closeAlert=function(){e.props.actions.manageUnAuthAlert({show:!1}).then((function(){e.props.history.push("/"),Object(Zt.a)()}))},e.closeCREDAlert=function(){e.props.actions.manageCREDAlert(!1).then((function(){Object(ha.a)("/cred-bali"),Object(Zt.a)()}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,a=e.lastLocation,n=e.itineraryInfo,i=e.actions,o=e.itineraryAlerts,r=e.locale,l=t.params,c=l.itineraryId,s=l.searchRegion,d=localStorage.getItem("inclusion-scroll-position"),u=localStorage.getItem("isTabClicked");(d?(window.scrollTo(0,a&&a.pathname!=="/customize/".concat(s,"/view/").concat(c)?+d:0),localStorage.removeItem("inclusion-scroll-position")):window.scrollTo(0,0),u)&&(document.getElementsByTagName("header")[0].classList.add("unpin-md"),window.scrollTo(0,Object(y.a)()?56:72),localStorage.removeItem("isTabClicked"));if(window.addEventListener("scroll",this.scrollListener),Object(aa.a)(),window.addEventListener(Object(ta.a)(),i.resizeHandler),Object(p.a)(n))i.getItinerary(c,"",r);else{var f=Object(m.a)(n,"itinerary.costed"),g=Object(m.a)(n,"itinerary.staleCost");Object(H.b)(n)||o||!f||g||i.getItineraryAlerts(c)}Object(Xt.a)("costing"),Object($t.a)();var h=document.getElementsByTagName("header")[0];h&&h.classList.remove("unpin-md"),Object(y.a)()||document.body.classList.add("hdr-scroll-sticky")}},{key:"componentDidUpdate",value:function(){Object(Xt.a)("costing");var e=this.props,t=e.itineraryInfo,a=e.location,n=e.lastLocation;if(Object.keys(t).length&&t.itinerary){var i=t.itinerary,o=i.itineraryId,r=i.regionCode,l=Object(S.Jb)({itineraryId:o,regionCode:r,parentPage:S.Lb.inclusion});a&&n&&a.pathname!==n.pathname&&a.pathname===l&&Object(Zt.a)()}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollListener),Object(D.j)(),window.removeEventListener(Object(ta.a)(),this.props.actions.resizeHandler),document.body.classList.remove("hdr-scroll-sticky");var e=document.getElementsByTagName("header")[0];e&&e.classList.remove("unpin-md")}},{key:"render",value:function(){var e=this.props,t=e.itineraryInfo,a=e.user_details,n=e.adult_count,i=e.child_count,o=e.match,r=e.history,l=e.campaignDetail,d=e.isFromPackages,u=e.isReadOnly,m=e.locale,f=t.version,g=void 0===f?"":f,h=t.flow,v=void 0===h?"":h,b="SANDUNE"===g,C=(t.adult_count||0)+(t.child_count||0);if(void 0===this.props.itineraryInfo||Object(p.a)(this.props.itineraryInfo)||void 0===t.itinerary)return s.a.createElement(pa.a,{backgroundClass:"bg-white"});if(!t.itinerary.costed||t.itinerary.costed&&t.itinerary.staleCost&&!t.isSpeedboat||v.includes(ga.a)){var O=Object(S.Jb)({regionCode:t.itinerary.regionCode,itineraryId:t.itinerary.itineraryId});return s.a.createElement(E.Redirect,{to:O})}return Object(na.a)(t||{}).status?s.a.createElement(ma.a,{credAlertStatus:this.props.credAlertStatus,callback:this.closeCREDAlert}):s.a.createElement(c.Fragment,null,!d&&s.a.createElement(Jt.a,null,s.a.createElement("meta",{name:"robots",content:"noindex, follow"})),Object(y.a)()?s.a.createElement("div",{className:"inclusions-xs hidden-md hidden-lg",id:"inclusion_Element"},s.a.createElement(oa.a,{alertDirection:"bottom-left",showNewPop:!0}),s.a.createElement(la.a,Object.assign({itineraryInfo:t,isReadOnly:u,enableBredCrumb:d&&!u&&t,isFromPackages:d,campaignDetail:l},this.props,{target:"Inclusion",match:o,history:r,adult_count:n,child_count:i,clickGetCost:t.itinerary.booking?function(){}:this.clickGetCost,locale:m})),s.a.createElement("div",{className:"container sm-full-width bg-grey-lighter"},s.a.createElement(Ut,Object.assign({userDetails:a,costedItinerary:t},this.props)))):s.a.createElement("div",{className:"inclusions hidden-sm hidden-xs",id:"inclusion_Element"},s.a.createElement(oa.a,{alertDirection:"bottom-left",showNewPop:!0}),s.a.createElement(ra.d,Object.assign({},this.props.unAuth,{callback:this.closeAlert})),s.a.createElement(la.a,Object.assign({},this.props,{target:"Inclusion",enableLogo:this.state.setTop,isFromPackages:d,campaignDetail:l,clickGetCost:t.itinerary.booking?function(){}:this.clickGetCost,adult_count:n,child_count:i,match:o,history:r,locale:m})),s.a.createElement(va,null,s.a.createElement("div",{className:"container lg-container mb-0"},s.a.createElement("div",{className:"left-container"},s.a.createElement(Ut,Object.assign({userDetails:a,costedItinerary:t},this.props)),s.a.createElement(ia.a,{itineraryView:!1})),s.a.createElement(Lt.a,Object.assign({},this.props,{paxConfigText:"Price for ".concat(C," ").concat(C>1?"persons":"person"),isSandune:b}))))),s.a.createElement(ua,{currentProps:this.props}))}}]),a}(c.Component);t.default=Object(Qt.withLastLocation)(Object(u.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.alerts,i=void 0===n?{}:n,o=a.itineraryInfo,r=void 0===o?{}:o,l=a.user_details,c=a.unAuth,s=a.isReadOnly,d=a.isReload,u=a.displayCurrency,p=r.adult_count,f=r.child_count;return{itineraryInfo:a.itineraryInfo,user_details:l,unAuth:c||!1,isReadOnly:s,adult_count:p,child_count:f,isReload:d,credAlertStatus:a.credAlertStatus,itineraryAlerts:Object(m.a)(i,"itinerary_alerts.alertMessages"),locale:a.locale,displayCurrency:u}}),(function(e){return{actions:{manageCREDAlert:Object(d.b)(qt.a,e),manageSoftNotification:Object(d.b)(Ht.a,e),getCost:Object(d.b)(Kt.a,e),getItinerary:Object(d.b)(zt.a,e),getItineraryAlerts:Object(d.b)(Wt.a,e),toggleSplitPricing:Object(d.b)(Yt.a,e),manageUnAuthAlert:Object(d.b)(Gt.a,e),resizeHandler:Object(d.b)(ea.a,e)}}}))(ba))},1592:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=e.permissions,a=e.key;return null===t||void 0===t?void 0:t.includes(a)}},1593:function(e,t,a){"use strict";a.d(t,"y",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"z",(function(){return o})),a.d(t,"G",(function(){return r})),a.d(t,"e",(function(){return l})),a.d(t,"r",(function(){return c})),a.d(t,"s",(function(){return s})),a.d(t,"d",(function(){return d})),a.d(t,"w",(function(){return u})),a.d(t,"j",(function(){return m})),a.d(t,"k",(function(){return p})),a.d(t,"q",(function(){return f})),a.d(t,"l",(function(){return g})),a.d(t,"L",(function(){return h})),a.d(t,"F",(function(){return y})),a.d(t,"v",(function(){return v})),a.d(t,"a",(function(){return b})),a.d(t,"t",(function(){return E})),a.d(t,"u",(function(){return C})),a.d(t,"x",(function(){return O})),a.d(t,"h",(function(){return x})),a.d(t,"I",(function(){return k})),a.d(t,"H",(function(){return I})),a.d(t,"J",(function(){return N})),a.d(t,"i",(function(){return j})),a.d(t,"D",(function(){return w})),a.d(t,"g",(function(){return A})),a.d(t,"B",(function(){return T})),a.d(t,"C",(function(){return R})),a.d(t,"m",(function(){return S})),a.d(t,"K",(function(){return D})),a.d(t,"A",(function(){return P})),a.d(t,"E",(function(){return _})),a.d(t,"b",(function(){return B})),a.d(t,"p",(function(){return L})),a.d(t,"o",(function(){return F})),a.d(t,"f",(function(){return M})),a.d(t,"n",(function(){return V}));var n="sendToPlato",i="applyOverallDiscount",o="share",r="splitPricing",l="changeBookingStatus",c="removeAllActivities",s="removeAllTransfers",d="blockFlight",u="removeTrain",m="emailQuote",p="emailQuoteForUser",f="rateMatch",g="enableNetBankingOnly",h="viewSplitPrice",y="shuffleCost",v="removeHotel",b="addBlockCard",E="removeBlockCard",C="removeFlight",O="removeTransfer",x="customPaymentSchedule",k="updateItineraryLocale",I="swapItinerary",N="updatePass",j="customInstalmentDeadline",w="showCuratorManagers",A="chooseHotelProvider",T="showAllActivities",R="cancellationTimeLine",S="enableSplitFlight",D="viewAllocation",P="showActivityTiming",_="showDealSizeHistory",B="allowBookingForPartialPayment",L="lineItemBookingNotes",F="itineraryBookingQuestions",M="choosePytRecommended",V="iPinLogin"},1594:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(590);function i(e,t){e(Object(n.a)({show_notification:!0,message:t,show_undo:!1}))}},1595:function(e,t,a){"use strict";a.d(t,"e",(function(){return k})),a.d(t,"k",(function(){return I})),a.d(t,"i",(function(){return N})),a.d(t,"c",(function(){return j})),a.d(t,"h",(function(){return w})),a.d(t,"a",(function(){return A})),a.d(t,"j",(function(){return T})),a.d(t,"b",(function(){return R})),a.d(t,"d",(function(){return S})),a.d(t,"f",(function(){return D})),a.d(t,"g",(function(){return P}));var n=a(1635),i=(a(350),a(49)),o=a.n(i),r=a(1608),l=a(1597),c=a(598),s=a(20),d=a(1606),u=a(7),m=a(14),p=a(15),f=a(590),g=a(43),h=a(22),y=a(1636),v=a(214),b=a(126),E=a(1592),C=a(1593),O=m.a.api_url,x=m.a.user_type_agent;function k(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,l=a&&a.itinerary||{},s={},d="",u="",m=Object(c.a)(a),p=a.costingConfiguration;s={title:m,unsavedChanges:"2 unsaved changes.",save:"Save this itinerary"};var f=l.costed&&!l.staleCost;if(f&&p){var g=p.departureDate;e=g&&o()(g,"DD/MMM/YYYY").format("MMM DD")}d=p&&"$$$"!==p.departureAirport?p.departureCity:null,u=Object(r.a)(n,i);var h=p&&"$$$"!==p.departureAirport&&p.departureAirport,y=p&&"$$$"!==p.departureAirport&&p.departureCityName||"",v={HeaderData:s,HeaderCostedData:[{title:m,costingConfig:t={totalAdults:u,dateMonth:e,from:h,departureCityName:y,price:l.totalCost,text:"Book Now"}}],costingConfiguration:t,departureAirport:h,departure_city:d,departure_date:e};return v}function I(e){var t,a=e.itineraryInfo,n=e.user_details,i=e.history,r=e.location,l=e.lastLocation,c=e.campaignDetail,s=e.actions,d=a&&a.itinerary.itineraryId||c&&(null===c||void 0===c||null===(t=c.seoDetails)||void 0===t?void 0:t._id),m=a.itinerary,p=m.regionCode,f=m.campaign;if(n.loggedIn){var g=a.costingConfiguration;if(o()(g.departureDate,"DD/MMM/YYYY").isSameOrBefore(o()())&&-1===i.location.pathname.indexOf(u.Db))i.push(Object(u.Jb)({itineraryId:d,regionCode:p,target:u.Db,location:r}));else{var h={itineraryId:d,costingType:"RECOST",costingConfig:g};s.getCost({itineraryId:d,regionCode:p,req_data:h,history:i,lastLocation:l,campaign:f})}}else-1===i.location.pathname.indexOf(u.Db)&&i.push(Object(u.Jb)({itineraryId:d,regionCode:p,target:u.Db,location:r}))}function N(e,t,a){e&&e.preventDefault();var n=a.history,i=a.isFromPackages,o=a.user_details,r=a.itineraryInfo,l=a.location,c=a.locale,s=i&&r.campaignItineraryId||null;if(Object(v.b)(r))n.push("".concat(l.pathname).concat(b.a.CBR_ROUTE));else{var d=r&&r.itinerary,m=d.itineraryId,p=d.regionCode,f=void 0===p?"region":p;if(r.itinerary.booking)return null;switch(t){case"Update":I(a);break;case"BookTrip":o.loggedIn||c?n.push(Object(u.Jb)({itineraryId:m,regionCode:f,target:u.k,location:l})):n.push("/login");break;default:n.push(s?n.location.pathname+"/get-cost/".concat(s):Object(u.Jb)({itineraryId:m,regionCode:f,target:"UCM"===t?u.Db:u.Q,location:l}))}}}function j(e,t,a){var n=null,i=null;if(e.itineraryInfo&&Object.keys(e.itineraryInfo).length&&e.itineraryInfo.flightCostings&&(!Object.keys(t.flight).length||a)){var o=Object(l.a)(e.match.params.configKey);n=e.itineraryInfo.flightCostings.costingById[o],i=e.itineraryInfo.flightCostings.costingById[o]}return e.flightDetailFromAlternate&&(i=e.flightDetailFromAlternate),{currentFlight:n,flight:i,isRefresh:a}}function w(e){var t=e.history,a=e.match,n=e.location;t.push(Object(u.Jb)({itineraryId:a.params.itineraryId,location:n,regionCode:a.params.searchRegion}))}function A(e){var t=e.props,a=e.emailId,n=e.callBack,i=e.isMobile,o=void 0!==i&&i,r=e.locale,l=t.user_details,c=t.history,s=t.itineraryInfo,d=a||l.email,m=s.itinerary.itineraryId,y=l.userType,v=l.loggedIn,b="".concat(O,"cost/").concat(m,"/downloadItineraryPdf"),k="".concat(O,"cost/").concat(m,"/emailquote/mail");if(o&&""!==r||(!r||""===r)&&!v)c.push(Object(u.Jb)({itineraryId:m,regionCode:s.itinerary.regionCode,location:c.location,target:Object(E.a)({permissions:null===l||void 0===l?void 0:l.permissions,key:C.k})?u.F:u.G}));else if(y===x)window.open(b,"_blank").focus();else if(Object(E.a)({permissions:null===l||void 0===l?void 0:l.permissions,key:C.k})){Object(p.Ld)(p.Cc);var I={itineraryId:m,email:d};Object(E.a)({permissions:null===l||void 0===l?void 0:l.permissions,key:C.k})||(I.cclist=l.email),Object(h.a)({url:k,method:"POST",body:I,onSuccess:function(e){n?n(e.emailSent?"Please check your inbox to see if you've received it":e.message,!0):g.b.dispatch(Object(f.a)({message:e.message,show_notification:!0,show_undo:!1}))},onFailure:function(e){n&&n(e.response&&401===e.response.status?"Looks like you are not authorized to do this action":"Unable to send email. Please try again.",!1)}})}else c.push(Object(u.Jb)({itineraryId:m,regionCode:s.itinerary.regionCode,location:c.location,target:u.G}))}function T(){localStorage.setItem("inclusion-scroll-position",window.scrollY)}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.b,i=[];if(t){var o={NEUTRAL:"pyt-info-16",POSITIVE:"pyt-check-square-16 color-primary",NEGATIVE:"pyt-alert-square-16"};return e.map((function(e){if(!e.inventory||e.inventory.includes(a))return i.push({className:a===y.a?"pyt-radiobtn-checked-16 dim":o[e.type],text:e.message})})),Object(n.a)(i,"text")}return e.map((function(e){if(!e.inventory||e.inventory.includes(a))return i.push({type:"info",iconClass:"color-grey pyt-fyi-36",data:e.message})})),Object(n.a)(i,"data")}function S(e){var t=function(e){var t=e.split(":");return"".concat(t[0],":").concat(t[1])};return e.allTrips.map((function(a){if(Object(s.a)())return a.replace("_"," \u2192 ");var n=e.trips[a],i=n.routes,o=i[0],r=i[i.length-1];return"".concat(o.departureAirportCode," ").concat(t(o.departureTime)," \u2192 ").concat(n.flyTime," \u2192  ").concat(r.arrivalAirportCode," ").concat(t(r.arrivalTime))})).join(" / ")}function D(e){var t=[],a=e.maxRoomOccupancy,n=e.roomSize;return a&&t.push({className:"pyt-people-16",text:"Accommodates ".concat(a," adults")}),null!==n&&void 0!==n&&n.includes("Sq.m")||null!==n&&void 0!==n&&n.includes("Sq.ft")?t.push({className:"pyt-area-16",text:"Area ".concat(n)}):null!==n&&void 0!==n&&n.length&&t.push({className:"pyt-area-16",text:"Area ".concat(n," Sqft")}),t}function P(e){var t=[],a=Object(d.a)(e.mealType);return e.refundable?t.push({className:"pyt-refundable-16 color-primary-dark",text:"Refundable"}):t.push({className:"pyt-non-refundable-16 color-accent-7",text:" Non-Refundable"}),a?t.push({className:"pyt-included-16 color-primary-dark",text:" ".concat(a)}):t.push({className:e.freeBreakfast?"pyt-included-16 color-primary-dark":"pyt-excluded-16 color-accent-7",text:" ".concat(e.breakfastText)}),t.push({className:e.freeWireless?"pyt-included-16 color-primary-dark":"pyt-excluded-16 color-accent-7",text:" Wifi"}),t.push({className:e.acAvailable?"pyt-included-16 color-primary-dark":"pyt-excluded-16 color-accent-7",text:"Air Conditioner"}),t}},1596:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e||{}).length}a.d(t,"a",(function(){return n}))},1597:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g,"###")}a.d(t,"a",(function(){return n}))},1598:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/###/g,"-")}a.d(t,"a",(function(){return n}))},1599:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"h",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return l})),a.d(t,"k",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"i",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"j",(function(){return m}));var n="Change",i="Remove",o="Pick up",r="Drop off",l="NOT AVAILABLE",c="Retry",s="Add",d="Change room",u={HOTEL:"hotels",TRANSFER:"transfers",FLIGHT:"flights",RENTALCAR:"rentalcar",TRAIN:"trains",FERRY:"ferry",ACTIVITY:"activities",VISA:"visa",PASS:"passes",INSURANCE:"insurance",BUS:"bus"},m={AGODA:"AGODA",TRIP_ADVISOR:"ADVISOR"},p={HOTEL_AMENITIES:"Amenities",ROOM_SELECTED:"Room Selected",RATING:"Rating",ROOMS_LEFT:"Rooms left",ROOMS:"ROOMS",USER_REMOVED_HOTEL:"You have removed this hotel from itinerary!",HOTEL_FAILURE:"We aren't able to fetch your hotel details at the moment. Please refresh after a while."}},1600:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));var n=a(14),i=a(20),o=n.a.images_cdn_misc_url+"placeholders/",r={activitySmall:o+"Activity1-50x50.png",activityMedium:o+"Activity1-125x125.png",activityLarge:o+"Activity1-640x360.png",activity2Small:o+"Activity2-50x50.png",activity2Medium:o+"Activity2-125x125.png",activity2Large:o+"Activity2-640x360.png",activity3Small:o+"Activity3-50x50.png",activity3Medium:o+"Activity3-125x125.png",activity3Large:o+"Activity3-640x360.png",airLineLogo:o+"Airline-logo.png",citySmall:o+"Guides-City-395x360.png",cityLarge:o+"Guides-City-790x720.png",foodSmall:o+"Guides-Food-120x120.png",foodLarge:o+"Guides-Food-240x240.png",innerAreasSmall:o+"Guides-InnerAreas-230x140.png",innerAreasLarge:o+"Guides-InnerAreas-460x280.png",shoppingSmall:o+"Guides-Shopping-150x105.png",shoppingLarge:o+"Guides-Shopping-300x210.png",hotelSmall:o+"Hotel-50x50.png",hotelMedium:o+"Hotel-125x125.png",hotelBig:o+"Hotel-200x150.png",hotelLarge:o+"Hotel-640x360.png",roomsSmall:o+"HotelRooms-120x90.png",roomsLarge:o+"HotelRooms-240x180.png"};function l(e){var t=Object(i.a)()?"mobile":"desktop",a="https://pyt-images.imgix.net/images/costing_screen/placeholder";switch((e||"").toUpperCase()){case"ACTIVITIES":return"".concat(a,"/").concat(t,"/activities.png");case"CAR":return"".concat(a,"/").concat(t,"/car.png");case"HOTEL":return"".concat(a,"/").concat(t,"/hotels.png");case"INSURANCE":return"".concat(a,"/").concat(t,"/insurance.png");case"FLIGHT":return"".concat(a,"/").concat(t,"/plane.png");case"FERRY":return"".concat(a,"/").concat(t,"/ship.png");case"TRAIN":return"".concat(a,"/").concat(t,"/train.png");case"VISA":return"".concat(a,"/").concat(t,"/visa.png");default:return"".concat(a,"/").concat(t,"/default.png")}}},1601:function(e,t,a){"use strict";function n(e,t,a){1===arguments.length&&(t=e,e=0),t=t||0;var n=[];if(0!==(a=a||1)){if(t>0&&a>0)for(;e<t;e+=a)n.push(e);else if(t<0&&a<=0)for(;e>t;e+=a)n.push(e);else for(;e>t;e-=a)n.push(e);return n}return Array(t-e).fill(e,0,t-e)}a.d(t,"a",(function(){return n}))},1602:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/#/g,"-")}a.d(t,"a",(function(){return n}))},1603:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n);function o(e){var t=e.rootClassName,a=e.icons,o=e.suffix;return i.a.createElement("ul",{className:t},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=(e||[]).map((function(e,t){return i.a.createElement(n.Fragment,{key:t},"MoreActivity"!==e.amenityName&&"pyt-area-24"!==e.className?i.a.createElement("li",{key:t,className:e.strikeout?"strikethrough":"",style:e.inLineStyle||{}},e.progressElement,i.a.createElement("i",{className:e.className||e.iconUrl,"data-text":e.dataText||e.amenityName}),e.text?i.a.createElement("span",{className:e.textClassName}," ",e.text):null):null,"pyt-area-24"===e.className&&e.text?i.a.createElement("li",{className:e.strikeout?"strikethrough":""},i.a.createElement("i",null,i.a.createElement("span",{className:"pyt-area-24"},i.a.createElement("span",{className:"path1"}),i.a.createElement("span",{className:"path2"}),i.a.createElement("span",{className:"path3"}),i.a.createElement("span",{className:"path4"}))),e.text):null,"MoreActivity"===e.amenityName?i.a.createElement("li",{key:t,className:"fine-text"},e.iconUrl):null)}));t&&a.push(i.a.createElement("li",null,t));return i.a.createElement(n.Fragment,null,a)}(a,o))}o.defaultProps={rootClassName:""}},1604:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"i",(function(){return i})),a.d(t,"l",(function(){return o})),a.d(t,"k",(function(){return r})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"j",(function(){return s})),a.d(t,"m",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return g}));var n="Add Night",i="Remove Night",o="Unable to decrease night",r="Unable to increase night",l="Remove City",c="Itinerary should have atleast one city",s="Unable to remove this city in this itinerary",d="View details",u="Pickyourtrail filters out flights with times inconvenient to your travel plans.\n Turn off the filter to have more flights listed.",m="Our expert's pick for a hassle-free stay during your vacation",p="Pickyourtrail has handpicked a list of activities that is value for money\nand is also best enjoyed by their customers! Click this for our special recommendations.",f="Next activity",g="Previous activity"},1605:function(e,t,a){},1606:function(e,t,a){"use strict";t.a=function(e){return e?e.includes("HB")?"Breakfast & Dinner":e.includes("FB")?"Breakfast, Lunch & Dinner":e.includes("BB")?"Bed & Breakfast":e.includes("AI")?"Breakfast, Lunch, Dinner & Unlimited Alcohol/Beverages":e:null}},1608:function(e,t,a){"use strict";function n(e,t){var a="";return e>0&&(a="".concat(e,1===e?" adult":" adults")),t>0&&(a+=", ".concat(t,1===t?" child":" children")),a}a.d(t,"a",(function(){return n}))},1613:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g,"#")}a.d(t,"a",(function(){return n}))},1614:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(window){var t="";e&&Object.keys(e).length&&(t="?"+Object.entries(e).map((function(e){return e.join("=")})).join("&"));var a=window.location.toString(),n=a.substring(0,a.indexOf("?"))+t;window.history.replaceState({},document.title,n)}}a.d(t,"a",(function(){return n}))},1617:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return d}));var n=a(0),i=a.n(n);function o(e){var t=e.rootClassName,a=void 0===t?"stop-indicator":t,n=e.content,o=e.iconClassName,r=void 0===o?"pyt-flight-16":o;return i.a.createElement("div",{className:a},i.a.createElement("span",null,n),i.a.createElement("i",{className:r}))}function r(e){var t=e.rootClassName,a=void 0===t?"pill color-accent-11 orange":t,n=e.boldContent,o=e.content;return i.a.createElement("span",{className:a},i.a.createElement("b",null,n)," ",o)}function l(e){var t=e.rootClassName,a=void 0===t?"badge-flame bg-accent-1":t,n=e.iconClassName,o=void 0===n?"pyt-fire-24 color-white":n,r=e.contentClassName,l=void 0===r?"color-accent-1 bg-accent-2":r,c=e.badgeValue;return i.a.createElement("span",{className:a},i.a.createElement("i",{className:o}),i.a.createElement("b",{className:l},c))}function c(e){var t=e.rootClassName,a=void 0===t?"pill square md bg-accent-2":t,n=e.iconClassName,o=void 0===n?"pyt-flash-on-16 color-accent-1":n,r=e.content,l=void 0===r?"Likely to sell out":r;return i.a.createElement("span",{className:a},i.a.createElement("i",{className:o}),l)}function s(e){var t=e.rootClassName,a=void 0===t?"free-activity color-grey-secondary":t,n=e.content,o=void 0===n?"EXPLORATION":n;return i.a.createElement("span",{className:a},"SELF",i.a.createElement("br",null),o)}function d(e){var t=e.rootClassName,a=void 0===t?"sold-out":t,n=e.content,o=void 0===n?"Sold Out":n;return i.a.createElement("span",{className:a},o)}},1619:function(e,t,a){"use strict";function n(e){return"string"===typeof e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():void 0}a.d(t,"a",(function(){return n}))},1625:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(1601);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var m=function(e){Object(o.a)(a,e);var t=u(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.rating,a=void 0===t?0:t,n=e.fillEmpty,i=e.parentClass,o=e.insideFigure,r=e.parentElement,l=e.addStarClr,c=s.a.createElement("span",{className:"pyt-half-star-16 ".concat(l?"star-clr":"")}),u=r||"div",m=parseInt(a,10),p=a%m,f=Object(d.a)(0,m).map((function(e,t){return s.a.createElement("span",{key:"filled_star_"+t,className:"pyt-star-16 ".concat(l?"star-clr":"")})})),g=null;if(n){var h=5-Math.ceil(a);h>=1&&(g=Object(d.a)(0,h).map((function(e,t){return s.a.createElement("span",{key:"empty_star_"+t,className:"pyt-star-outline-16 ".concat(l?"star-clr":"")})})))}return o?s.a.createElement("figcaption",{className:"stars inverse text-left"},f,p>0?c:null,g):s.a.createElement(u,{className:i||""},f,p>0?c:null,g)}}]),a}(c.Component)},1628:function(e,t,a){"use strict";var n=a(43);t.a=function(e,t){var a=n.b.getState().app||{},i=a.user_details,o=void 0===i?{}:i,r=a.locale,l=(o||{}).loggedIn;return(o||{}).userType&&"ADMIN"===(o||{}).userType&&void 0!==t?t:r||l?e:""}},1629:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),o=a(245),r=a(15),l=a(340),c=a(190),s=a(12),d=a(1594);function u(e,t,a){return function(u){return new Promise((function(m,p){var f="".concat(n.a.api_url,"itinerary/").concat(e,"/edit");Object(i.a)({url:f,method:"POST",body:t,onSuccess:function(e){Object(o.a)(u,e.data,l.c),Object(r.Ld)(r.Xb,{trip_edited:!0}),Object(d.a)(u,l.c),a&&a(),m("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,u),u({type:s.F,payload:{status:(e.response||{}).status}}),p("Failed")}})}))}}},1630:function(e,t,a){"use strict";t.a=function(e){var t=e.count,a=e.keyword;return"".concat(a).concat(parseInt(t,10)>1?"s":"")}},1634:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return g})),a.d(t,"e",(function(){return h})),a.d(t,"a",(function(){return y})),a.d(t,"d",(function(){return v}));var n=a(0),i=a.n(n),o=a(1625),r=a(14),l=a(1601),c=a(289),s=a.n(c),d=a(23),u=a(15),m=r.a.images_cdn_icons_url,p=r.a.domain_url;function f(e){var t=e.rating;return i.a.createElement("div",{className:"rating-badge"},i.a.createElement("p",null,i.a.createElement("span",{className:"rating-per"},"4.8"),i.a.createElement(o.a,{rating:t,fillEmpty:!0,parentClass:"rating-star",parentElement:"span",insideFigure:!1}),i.a.createElement("span",{className:"rating-desc"},"Based on the opinions of 1000+ people on Facebook")))}function g(e){var t=e.rating,a=void 0===t?0:t,n=e.wrapperClass,o=e.logoAsImage,r=e.fillEmptyCircle,c=Object(d.a)("".concat(m,"tripadvisor-owl.png")),s=i.a.createElement("div",null,i.a.createElement("span",{className:"pyt-half-checked-16"})),u=parseInt(a,10),p=a%u,f=Object(l.a)(0,u).map((function(e,t){return i.a.createElement("div",{key:"full_star_"+t+Math.random()},i.a.createElement("span",{key:"filled_star_"+t,className:"pyt-radiobtn-checked-16"}))})),g=null;if(r){var h=5-Math.ceil(a);h>=1&&(g=Object(l.a)(0,h).map((function(e,t){return i.a.createElement("div",{key:"empty_star_"+t+Math.random()},i.a.createElement("span",{key:"empty_star_"+t,className:"pyt-radiobtn-unchecked-16"}))})))}return i.a.createElement("div",{className:"rating owl "+(n||"")},o?i.a.createElement("div",{className:"tripadvisor-logo"},i.a.createElement("img",{src:c,alt:"ta"})):i.a.createElement("div",null,i.a.createElement("span",{className:"pyt-trip-advisor-16"})),f,p>0?s:null,g)}function h(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4?arguments[4]:void 0,o=t?t.region:"",r=(o||"").split(" + ").join(" "),l=[],c=i?"".concat(p).concat(i,"/"):p;return e||o&&o.length>0?l.push({content:"Home",href:"".concat(c)}):a&&l.push({content:"Your Saved itineraries",href:"".concat(c,"your-vacations"),onClick:function(){Object(u.Ld)(u.Nc,{saved_itinerary_btn:!0})}}),e&&(n?"WORLDCUP_T20_MEN"===n&&l.push({content:"Men T20 Packages",href:"".concat(c,"icc-t20-worldcup-event-men")}):l.push({content:"Packages",href:"".concat(c,"packages")})),o&&o.length>0&&!n&&l.push({content:o,href:"".concat(c,"packages/").concat(r.toLowerCase().replace(/ /g,"-"))}),l}function y(e){var t=e.itinerary,a=e.campaignDetail,n=a?a.region:"",o=n.split(" + ").join(" ");return i.a.createElement("ol",{vocab:"http://schema.org/",typeof:"BreadcrumbList",className:"breadcrumb"},i.a.createElement("li",{property:"itemListElement",typeof:"ListItem"},i.a.createElement("i",{className:"home-icon "}),i.a.createElement("a",{href:"".concat(p),property:"item",typeof:"WebPage"},i.a.createElement("span",{property:"name"},"Home")),i.a.createElement("meta",{property:"position",content:"1"})),i.a.createElement("li",{property:"itemListElement",typeof:"ListItem"},i.a.createElement("a",{href:"".concat(p,"packages"),property:"item",typeof:"WebPage"},i.a.createElement("span",{property:"name"},"Packages")),i.a.createElement("meta",{property:"position",content:"2"})),n&&n.length>0?i.a.createElement("li",{property:"itemListElement",typeof:"ListItem"},i.a.createElement("a",{href:"".concat(p,"packages/").concat(o.toLowerCase().replace(/ /g,"-")),property:"item",typeof:"WebPage"},i.a.createElement("span",{className:"text-capitalize",property:"name"},n)),i.a.createElement("meta",{property:"position",content:"3"})):null,i.a.createElement("li",null,i.a.createElement("span",null,(t||{}).specialTitle)))}function v(e){var t=e.show,a=e.title,n=e.message,o=e.callback;return i.a.createElement(s.a,{show:t,title:a||"Oops, access denied!",text:n||"You don\u2019t have the permission to make changes in another user\u2019s itinerary.",onConfirm:o,animation:"pop",confirmButtonText:"Okay! Go to Homepage"})}},1635:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(33);function i(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw r}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t){return e.reduce((function(e,a){if(a)if(0===e.length)e.push(a);else{var n,o=!1,r=i(e);try{for(r.s();!(n=r.n()).done;){var l=n.value;if(t(l)===t(a)){o=!0;break}}}catch(c){r.e(c)}finally{r.f()}o||e.push(a)}return e}),[])}function l(e,t){return e&&Array.isArray(e)&&Array.length>0?t&&t.constructor===Function?r(e,t):t&&t.constructor===String?r(e,(function(e){return e[t]})):Object(n.a)(new Set(e)):[]}},1636:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n="BEFORE_YOU_BOOK",i="LINE_ITEM_CARD"},1637:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(2),r=o.default.ul.withConfig({displayName:"Checkbox__ChecKBoxStyle"})(["width:100%;padding:0;color:black;position:relative;overflow-y:scroll;margin-top:0;max-height:170px;transition:all 0.4s;cursor:pointer;li{list-style:none;margin-top:18px;cursor:pointer;&:first-child{margin-top:0;}label{position:relative;z-index:1;cursor:pointer;&:before{content:'';color:white;width:14px;height:14px;border:1px solid black;border-radius:2px;display:inline-block;text-align:center;margin-right:12px;vertical-align:text-top;}}input{display:inline-block;}&.checked{label:before{content:'\u2713';width:16px;height:16px;background:#00c684;border:none;}}}"]),l=function(e){var t=e.filterName,a=void 0===t?"":t,n=e.options,o=void 0===n?[]:n,l=e.checkedList,c=void 0===l?{}:l,s=e.onChangeFilterValue,d=void 0===s?function(){}:s;return i.a.createElement(r,{key:a},o.map((function(e,t){return i.a.createElement("li",{key:"".concat(t)},i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",name:e.name,checked:c[e.name],onChange:function(t){d({event:t,target:e.label,disableSubmit:!1})}}),"  ",e.label))})))};a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return f}));var c=o.default.li.withConfig({displayName:"specialInclusionList__ListItem"})(["font-size:15px;line-height:22px;"]),s=o.default.li.withConfig({displayName:"specialInclusionList__MobileListItem"})(["font-size:15px;padding-bottom:8px;line-height:22px;"]),d=function(e,t,a){return i.a.createElement("li",{key:"extra_inclusions_".concat(a),className:"title"===e||"empty"===e?"reset-list":""},"title"===e?i.a.createElement("b",null,t):"empty"===e?i.a.createElement("br",null):t)},u=function(e,t,a,n,o){var r=n?s:c;return o?i.a.createElement("div",{key:"extra_inclusions_".concat(a),dangerouslySetInnerHTML:{__html:t}}):i.a.createElement(r,{key:a,className:"empty"===e?"emptyPill":"title"===e?"titleLi":""},t)},m=function(e,t){return i.a.createElement(l,{options:[{key:1,label:"Send fewer email/text/whatsapp",name:"Send fewer email/text/whatsapp"},{key:2,label:"Write more relevant content",name:"Write more relevant conten"},{key:3,label:"I\u2019ve had a sub-par experience with Pickyourtrail",name:"I\u2019ve had a sub-par experience with Pickyourtrail"},{key:4,label:"Not Interested in international travel",name:"Not Interested in international travel"}],checkedList:e,onChangeFilterValue:t})},p=function(e,t,a){return"empty"===e?null:i.a.createElement("li",{style:{width:"100%"},key:"extra_inclusions_".concat(a)},i.a.createElement("i",{className:"pyt-arrow-fill-left-16 main-para"}),t)},f=function(e){var t=e.data,a=e.type,n=e.offline,i="modal"===a?u:"maldives"===a?p:d,o=[];return(t||[]).map((function(e,a){e.title?(o.push(i("title",e.title,a)),o.push(e.text.map((function(e,t){return i("",e,t,!1,n)}))),t.length-1>a&&o.push(i("empty"," ",a+"empty"))):e.text&&e.text.length&&o.push(e.text.map((function(e,t){return i("",e,t)})))})),o}},1638:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(2),r=a(57),l=a(61),c=a(5),s=a(6),d=a(250),u=a(110),m=o.default.div.withConfig({displayName:"NoItems__NoItemsWrapper"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;margin:40px 0;animation:"," 0.4s ease-in 0;animation-iteration-count:1;p{margin-bottom:8px;font-size:17px;line-height:1.09;letter-spacing:-0.25px;","{font-size:22px;}}span{margin-bottom:0;font-size:15px;line-height:22px;","{font-size:16px;}}button{margin-top:12px;margin-bottom:12px;}a{",";font-weight:bold;color:",";}img{width:100px;height:100px;","{width:160px;height:153px;}margin-bottom:24px;}"],d.e,s.sm,s.sm,u.c,c.theme.brandPrimary,s.sm);t.a=function(e){var t=e.image,a=e.text,n=e.ctaText,o=e.ctaAction,c=e.subLinkText,s=e.subLink,d=e.rootClassName,u=void 0===d?"":d;return i.a.createElement(m,{className:u},t?i.a.createElement("img",{src:t,alt:"No-items-found"}):null,a,n?i.a.createElement(l.a,{onClick:o,btnPrimary:!0},n):null,s?i.a.createElement(r.Link,{to:s},c):null)}},1639:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var u=a(2).default.label.withConfig({displayName:"Switch"})(["display:inline-block;width:",";height:",";position:relative;margin-left:",";margin-bottom:0;.slider{position:absolute;top:",";left:0;height:",";cursor:pointer;width:100%;background-color:#cccccc;transition-property:all;transition-duration:0.3s;transition-timing-function:ease;transition-delay:0s;border-radius:22px;&:before{content:'';position:absolute;left:",";top:",";height:",";width:",";vertical-align:",";border:",";background-color:",";border-radius:50%;transition:all 0.3s;}}input{opacity:0;width:0;height:0;&:checked + .slider{background-color:#1baacc;}&:checked + .slider:before{transform:",";border-color:",";}}"],(function(e){return e.v2?"30px":"44px"}),(function(e){return e.v2?"unset":"10px"}),(function(e){return e.v2?"8px":"0"}),(function(e){return e.v2?"0":"4px"}),(function(e){return e.v2?"18px":"16px"}),(function(e){return e.v2?"2px":"0"}),(function(e){return e.v2?"2px":"-3px"}),(function(e){return e.v2?"14px":"22px"}),(function(e){return e.v2?"14px":"22px"}),(function(e){return e.v2?"4px":null}),(function(e){return e.v2?"2px solid #FFFFFF":"1px solid #cccccc"}),(function(e){return e.v2?"transparent":"white"}),(function(e){return e.v2?"translateX(12px)":"translateX(22px)"}),(function(e){return e.v2?"#FFFFFF":"#1baacc"})),m=function(e){Object(o.a)(a,e);var t=d(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e))._handleChange=function(){var e=!i.state.value;i.setState({value:e},(function(){i.props.onChangeAction&&i.props.onChangeAction(e)}))},i.state={value:e.value||!1,defaultValue:e.value||!1},i}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement(u,{v2:this.props.v2},s.a.createElement("input",{type:"checkbox",checked:this.state.value,onChange:this._handleChange}),s.a.createElement("span",{className:"slider"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.defaultValue?{defaultValue:e.value,value:e.value}:t}}]),a}(c.Component)},1640:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(616),i=a(33),o=a(38),r=a(39),l=a(46),c=a(56),s=a(29),d=a(0),u=a.n(d),m=a(35),p=a.n(m),f=a(192),g=a.n(f),h=a(193),y=a(2);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var b=y.default.label.withConfig({displayName:"GroupButton__TripAdvisorLabel"})(["position:relative;font-weight:400;cursor:pointer;user-select:none;padding-left:24px;&.non-active{&:before{color:#aaaaaa;font-size:17px;font-family:'pyticon';line-height:1;content:'\\eac1';position:absolute;left:0;top:2px;}}&.active{&:before{content:'\\eac0';color:#26cf96;}}"]),E=y.default.div.withConfig({displayName:"GroupButton__GroupButtonWrapper"})(["padding:",";"],(function(e){var t=e.padding;return t||"15px"})),C=y.default.label.withConfig({displayName:"GroupButton__LabelWrapper"})(["display:block;color:",";font-size:",";font-weight:400;&:first-child{margin-top:0;}i{line-height:1;}span{color:",";font-size:",";}i{font-size:",";line-height:1;margin-right:10px;vertical-align:text-bottom;font-weight:",";}",""],(function(e){var t=e.labelColor;return t||"black"}),(function(e){var t=e.labelSize;return t||"16px"}),(function(e){var t=e.textColor;return t||"#53576d"}),(function(e){var t=e.textSize;return t||"18px"}),(function(e){var t=e.iconSize;return t||"20px"}),(function(e){var t=e.iconWeight;return t||400}),(function(e){var t=e.customOptions,a=e.active,n=e.nonActive;return t&&Object(y.css)([""," ",""],n&&Object(y.css)(["i{color:#aaaaaa;}"]),a&&Object(y.css)(["i{font-weight:100;color:",";}span{color:#000000;}"],(function(e){var t=e.iconActiveColor;return t||"#26cf96"})))})),O=function(e){Object(l.a)(a,e);var t=v(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).clickAction=function(e,t,a){var i=n.state,o=i.activeButtons,r=i.defaultActiveButtons,l=n.props,c=l.allowMultiple,s=l.componentValues,d=l.isRadio;if(e.target.blur(),e&&e.preventDefault()&&e.stopPropagation(),c)if(o.includes(t)){var u=o.indexOf(t);if(o.splice(u,1),r.includes(t)){var m=r.indexOf(t);r.splice(m,1)}if(o.includes("VIEWALL")){var p=o.indexOf(t);if(o.splice(p,1),r.includes(t)){var f=r.indexOf(t);r.splice(f,1)}}"VIEWALL"===t&&(o=[],r=[])}else"VIEWALL"===t?o=s.map((function(e){return e.value})):o.push(t);else d?o=t:(o=[]).push(t);n.setState({activeButtons:o,defaultActiveButtons:r},(function(){n.props.onClickAction&&n.props.onClickAction(e,t,a,n.state.activeButtons.includes(t))}))},n.renderPillElements=function(){var e=n.state,t=e.activeButtons,a=e.defaultActiveButtons,i=void 0===a?[]:a,o=n.props,r=o.target,l=o.componentValues,c=o.isRadio,s=[],d=null;return!c&&t.map((function(e,t){i.includes(e)||(d=function(e){var t=(l||[]).filter((function(t){return!t.disablePill&&t.value===e}));return!t.length||t[0].disablePill?null:t[0].pillContent||t[0].text}(e))&&s.push(u.a.createElement("li",{key:t},u.a.createElement("span",{className:"tag-sm round"},d,u.a.createElement("i",{className:"pyt-close-16 cursor-pointer",onClick:function(t){n.clickAction(t,e,r)}}))))})),s},n.state={activeButtons:[],defaultActiveButtons:[]},n.pillElements=null,n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.activeButtons,a=e.isRadio,o=a?t||"":g()(t)||[];Object(h.a)(this.state.activeButtons,o)||this.setState({activeButtons:a?o:Object(n.a)(Array,Object(i.a)(o)),defaultActiveButtons:a?o:Object(n.a)(Array,Object(i.a)(o))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.buttonClass,n=t.orientation,i=t.componentValues,o=t.target,r=t.allowMultiple,l=t.isCheckBox,c=void 0!==l&&l,s=t.isRadio,d=void 0!==s&&s,m=t.padding,f=void 0===m?"":m;return a+="Vertical"!==n?" btn-group":"",this.pillElements=this.renderPillElements(),u.a.createElement(E,{padding:f,className:c||d?"opt-list".concat(" ",a):p()(a,{"btn-group-vertical":"Vertical"===n,"btn-group-justified":"Horizontal"===n})},function(a){var n=a.buttons,i=a.target,o=a.isCheckBox,r=a.isRadio,l=e.state.activeButtons;return n.map((function(a,n){var c=a.text,s=void 0===c?"":c,d=a.subText,m=void 0===d?"":d,f=a.textClass,g=void 0===f?"":f,h=a.subTextClass,y=void 0===h?"":h,v=a.value,E=a.iconClass,O=void 0===E?[]:E,x=a.checked,k=a.name,I=void 0===k?"":k,N=a.iconText,j=void 0===N?"":N;g+=" btn btn-grey-lighter",y+=" pull-right color-grey fade";var w=t.textColor,A=void 0===w?"":w,T=t.textSize,R=void 0===T?"":T,S=t.labelColor,D=void 0===S?"":S,P=t.labelSize,_=void 0===P?"":P,B=t.iconSize,L=void 0===B?"":B,F=t.iconActiveColor,M=void 0===F?"":F,V=t.iconWeight,U=void 0===V?"":V;if(o||r){var H=function(e){return u.a.createElement(C,e)};"taRating"===I&&(H=b);var z=r?l===v:l.includes(v)||x,W=r?z?"pyt-radiobtn-checked-16":"pyt-radiobtn-unchecked-16":o?z?"pyt-check_box_active-16":"pyt-check_box_blank-16":null;return u.a.createElement(H,{className:p()("non-active",{active:z,radio:r}),key:n,name:I,value:v,onClick:function(t){t.preventDefault(),e.clickAction(t,v,i)},title:s,customOptions:"taRating"!==I,active:z,nonActive:!z,textColor:A,textSize:R,labelColor:D,labelSize:_,iconSize:L,iconActiveColor:M,iconWeight:U},u.a.createElement("i",{className:W}),u.a.createElement("span",null,s))}return u.a.createElement("a",{href:" ",name:I,value:v,key:n,className:p()("".concat(g),{active:r&&l===v||l.includes(v)||x}),onClick:function(t){t.preventDefault(),e.clickAction(t,v,i)},title:s},j," ",O.length?function(e){return e.map((function(e,t){return u.a.createElement("i",{key:t,className:e})}))}(O):null,s,m?u.a.createElement("span",{className:y},m):null)}))}({buttons:i,target:o,allowMultiple:r,isCheckBox:c,isRadio:d}))}}]),a}(d.Component);O.defaultProps={orientation:"Horizontal",allowMultiple:!0,buttonClass:"",componentValues:[],isVertical:!1}},1644:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),o=a(340),r=a(1594),l=a(245),c=a(190),s=a(171);function d(e){return function(t){return new Promise((function(a,d){var u="".concat(n.a.api_url,"itinerary/day/add");Object(i.a)({url:u,method:"POST",body:e,onSuccess:function(e){Object(l.a)(t,e.data,o.a),Object(r.a)(t,o.a),a("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,t),Object(s.a)(e,t),d("Failed")}})}))}}},1645:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),o=a(245),r=a(1594),l=a(190),c=a(171),s=a(340);function d(e){return function(t){return new Promise((function(a,d){var u="".concat(n.a.api_url,"itinerary/day/remove");Object(i.a)({url:u,method:"POST",body:e,onSuccess:function(e){Object(o.a)(t,e.data,s.l),Object(r.a)(t,s.l),a("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,t),Object(c.a)(e,t),d("Failed")}})}))}}},1646:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(14),i=a(22),o=a(245),r=a(1594),l=a(15),c=a(190),s=a(171),d=a(62),u=a(18);function m(e){return function(t){return new Promise((function(a,m){var p={},f="POST";if("REMOVE"===e.action){var g=e.activitySlot,h=g.cityId,y=g.cityId,v="ACTIVITY_WITH_TRANSFER"===g.type;v&&(h=g.intercityTransferSlotDetailVO.fromCity,y=g.intercityTransferSlotDetailVO.toCity),p={itineraryId:e.itineraryId,newActivityId:g.activitySlotDetail.planningToolId,slotIdentifier:g.slotIdentifier,activityWithTransfer:v,modifyType:e.action,fromCityId:h,toCityId:y,cancelled:!(!g.activitySlotDetail.costingInfo||!g.activitySlotDetail.costingInfo.cancelled)}}else p="REMOVEALL"===e.action?{itineraryId:e.itineraryId}:{itineraryId:e.itineraryId,newActivityId:e.activitySlot.activitySlotDetail.planningToolId,slotIdentifier:e.activitySlot.slotIdentifier,activityWithTransfer:e.activityWithTransfer,modifyType:e.action,fromCityId:e.fromCityId,toCityId:e.toCityId,cancelled:e.cancelled,attractionId:e.attractionId};var b="".concat(n.a.api_url,"itinerary/activity/remove"),E="Removed activity from your itinerary";"ADD"===e.action?(b="".concat(n.a.api_url,"itinerary/activity/add"),E="Activity added to your itinerary"):"CHANGE"===e.action?(b="".concat(n.a.api_url,"itinerary/activity/replace"),E="Activity updated in your itinerary"):"REMOVEALL"===e.action&&(b="".concat(n.a.api_url,"itinerary/").concat(e.itineraryId,"/activity/removeAll"),f="GET",E="Removed all the activities from the itinerary"),Object(i.a)({url:b,method:f,body:p,onSuccess:function(n){if("REMOVE"===e.action?(t({type:"ACTIVITY_PREVIEW_REMOVED",payload:e.activitySlot.slotIdentifier}),Object(d.a)(window.location.pathname,["/".concat("activity-preview","/")])||Object(r.a)(t,E)):Object(r.a)(t,E),Object(o.a)(t,n.data,"ACTIVITY_".concat(e.action)),"ADD"===e.action){var i,c=Object(u.a)(e,"options.activitySlot.activitySlotDetail.title");"alternate_activity"===e.type?i="Activity Add - Activity Alternates - Choose":"activity_details"===e.type&&(i="Activity Add - Activity Details - Choose"),Object(l.Ld)(l.Xb,{activity_added:!0,action:l.e,category:l.z,button_clicked:i,from_name:"",to_name:c})}else if("REMOVE"===e.action){var s,m=Object(u.a)(e,"options.activitySlot.cityName"),p=Object(u.a)(e,"options.activitySlot.day"),f=Object(u.a)(e,"options.activitySlot.mon");"activity_details"===e.type&&(s="Activity Replace - Activity Details - Remove"),Object(l.Ld)(l.Xb,{activity_removed:!0,action:l.Dc,category:l.z,button_clicked:s,city:m,day:f+" "+p})}else if("CHANGE"===e.action){var g=Object(u.a)(e,"options.activitySlot.cityName"),h=Object(u.a)(e,"options.activitySlot.day"),y=Object(u.a)(e,"options.activitySlot.mon"),v=Object(u.a)(e,"options.activitySlot.activityName"),b=Object(u.a)(e,"options.activitySlot.activitySlotDetail.title"),C="";"alternate_activity"===e.type?C="Activity Replace - Activity Alternates - Update":"activity_details"===e.type&&(C="Activity Replace - Activity Details - Update"),Object(l.Ld)(l.Xb,{activity_changed:!0,action:l.B,category:l.z,button_clicked:C,city:g,day:y+" "+h,from_name:v,to_name:b})}a("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,t),Object(s.a)(e,t),m("Failed")}})}))}}},1647:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return O}));var n=a(0),i=a.n(n),o=a(35),r=a.n(o),l=a(589),c=a.n(l),s=a(191),d=a(1617),u=a(23),m=a(106),p=a(55),f=a(105),g=a(141),h=a(2592),y=a(1592),v=a(1593);function b(e){var t=e.badgeValue,a=void 0===t?0:t,o=e.images,r=void 0===o?[]:o,l=e.contentType,c=e.activityName,u=e.description,p=e.subText,f=e.isPriceIncreased,g=void 0===f||f,h=e.price,b=void 0===h?0:h,k=e.onReplaceAction,I=e.onCardClick,N=e.status,j=e.enableFreeTag,w=e.disableDiffIcon,A=e.likeCount,T=e.dislikeCount,R=e.sourceProvider,S=e.isAdmin,D=e.activityDetails,P=e.onChangeAlert,_=e.userDetails,B=e.recommendedActivity,L=Object(y.a)({permissions:_.permissions,key:v.f}),F=i.a.createElement(s.a,{buttonClass:"btn btn-primary btn-sm choose-btn",buttonText:"Choose",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),B&&L?P(D):k(e)}});return i.a.createElement("div",{className:"activity-alter-card",onClick:function(e){e&&e.preventDefault(),I()}},a?i.a.createElement(d.a,{badgeValue:a}):null,i.a.createElement("div",{className:"pos-r"},function(e){switch(e){case"FILLING_FAST":return i.a.createElement(d.f,{rootClassName:"likely-tag bg-accent-1 color-white",iconClassName:"pyt-flash-on-16 color-accent-2",content:"Filling fast!"});case"SELL_OUT":return i.a.createElement(d.f,null);default:return null}}(l),i.a.createElement(E,{images:r,sliderSettings:{slidesToShow:1,slidesToScroll:1,arrows:!0,infinite:!0,speed:500,lazyLoad:"ondemand",responsive:[{settings:{infinite:!1,slidesToShow:1}}]}})),i.a.createElement("div",{className:"detail-box"},i.a.createElement(x,{activityName:c,description:u,subText:p,status:N,sourceProvider:R,isAdmin:S}),i.a.createElement("div",{className:"price-txt"},i.a.createElement(C,{likeCount:A,dislikeCount:T}),i.a.createElement("div",{className:"rgt-txt vertical-center"},j?i.a.createElement(m.a,{text:"Self Exploration"},i.a.createElement("span",{className:"pill square md color-white bg-black"},i.a.createElement("i",{className:"pyt-binocular-16 color-accent-2"}),i.a.createElement("b",{className:"semi-bold"},"\xa0Self Exploration"))):i.a.createElement(O,{disableDiffIcon:w,enableFreeTag:j,isPriceIncreased:g,price:b}),i.a.createElement(n.Fragment,null,F))),i.a.createElement("p",{className:"desc"},i.a.createElement("span",{className:"fw truncate-3-lines"},u),i.a.createElement("a",null,"Read more ",i.a.createElement("i",{className:"pyt-arrow-right-24"})))))}var E=function(e){var t=e.images,a=void 0===t?[]:t,n=e.sliderSettings,o=a.map((function(e,t){var a={backgroundImage:"url(".concat(Object(u.a)(e,"h=200&w=260&fit=crop&crop=faces"),")")};return i.a.createElement("div",{key:t},i.a.createElement("figure",{style:a}))}));return i.a.createElement(c.a,Object.assign({className:"activity-alter-slider"},n),o)},C=function(e){var t=e.likeCount,a=void 0===t?0:t,n=e.dislikeCount,o=void 0===n?0:n;return i.a.createElement("div",{className:"like-icon"},a?i.a.createElement("span",null,i.a.createElement("i",{className:"pyt-thumb-up-16"}),i.a.createElement("b",{className:"semi-bold"},a)):null,o?i.a.createElement("span",null,i.a.createElement("i",{className:"pyt-thumb-down-16"}),i.a.createElement("b",{className:"semi-bold"},o)):null)};function O(e){var t=e.enableFreeTag,a=void 0!==t&&t,n=e.disableDiffIcon,o=void 0!==n&&n,l=e.price,c=e.isPriceIncreased,s=e.disablePriceVariation,u=void 0!==s&&s,m=e.rootClassName,f=void 0===m?"varied-price":m,g=e.RootElement,h=void 0===g?"p":g;if(!a&&!l)return null;var y={value:l};return a?i.a.createElement(d.b,{rootClassName:"pull-right free-activity color-grey-secondary"}):l?i.a.createElement(h,{className:f},o?null:i.a.createElement("i",{className:r()({"pyt-arrow-down-16":!c&&!u,"pyt-arrow-top-16":c&&!u})}),i.a.createElement("b",null,"\xa0",i.a.createElement(p.a,{objectData:y,path:"value",defaultValue:"0"}))):null}var x=function(e){var t=e.activityName,a=e.subText,n=e.status,o=e.sourceProvider,r=e.isAdmin;return i.a.createElement("p",{className:"detail-txt"},i.a.createElement("span",{className:"meta-text bold"},t),i.a.createElement(f.a,{gutter:4,alignItems:"center"},i.a.createElement("b",{className:"semi-bold"},a),o&&r&&i.a.createElement(f.a.Item,{maxWidth:"40%",flexDirection:"row",backgroundColor:"#feda46",paddingVertical:4,paddingHorizontal:8,alignItems:"center",justifyContent:"center",borderRadius:4,marginBottom:10,gap:4},i.a.createElement(h.a,{fill:"rgb(102, 102, 102)"}),i.a.createElement(g.a,{fontFamily:"Source Sans Pro",color:"rgb(102, 102, 102)",fontWeight:600,fontSize:12,lineHeight:16,letterSpacing:"-0.1px"},o))),n)}},1648:function(e,t,a){"use strict";var n=a(11),i=a(0),o=a.n(i),r=a(35),l=a.n(r),c=a(71);t.a=function(e){var t=e.type,a=void 0===t?"info":t,r=e.iconClass,s=void 0===r?"pyt-warning-16 color-accent-10":r,d=e.data,u=e.moreText,m=e.noBorder,p=e.count,f=e.onClick,g=void 0===f?null:f,h=e.alerts,y=void 0===h?[]:h,v=Object(i.useState)(!1),b=Object(n.a)(v,2),E=b[0],C=b[1],O=Object(c.a)(),x={info:O?"alert-info":"",success:O?"alert-success":"",warning:"alert-warning",danger:"alert-danger"};if(!d)return null;var k=x[a.toLowerCase()]||x.info,I=E?" expanded":"";m&&(k+=" no-border");var N=null;return N=E?o.a.createElement(i.Fragment,null,o.a.createElement("i",{className:s||"color-grey pyt-fyi-36"}),o.a.createElement("ul",{className:"dot-list"},y.map((function(e,t){return o.a.createElement("li",{key:"alert_in_"+t},o.a.createElement("span",{className:"fine-text"},e.data))}))),O&&o.a.createElement("a",{className:"view-less",href:" ",onClick:function(e){e.preventDefault()}},"Show less")):o.a.createElement(i.Fragment,null,"string"!==typeof d?null:o.a.createElement("i",{className:s}),"string"!==typeof d?d:o.a.createElement("span",{className:l()({truncate:!O,"fine-text":O})},d),u?o.a.createElement("span",{className:"color-primary-dark"},u):null,p?o.a.createElement("a",{style:{width:"60px"}},"\xa0"," +".concat(p," alert").concat(p>1?"s":"")):null),o.a.createElement("div",{className:"row",onClick:function(e){e.stopPropagation(),e.preventDefault(),O?p&&C(!E):C(!E),"function"===typeof g&&g()}},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"alert cursor-pointer ".concat(k).concat(I)},N)))}},1649:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(11);function i(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw r}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t){return e&&e.length>0?t.constructor===Function?e.findIndex(t):function(e,t){if(t.constructor===Object){var a,o=i(e.entries());try{for(o.s();!(a=o.n()).done;){var r=Object(n.a)(a.value,2),l=r[0],c=r[1],s=!0;for(var d in t)s=!!Object.prototype.hasOwnProperty.call(c,d)&&(c[d]===t[d]&&s);if(s)return l}}catch(C){o.e(C)}finally{o.f()}return-1}if(t.constructor===Array){var u,m=i(e.entries());try{for(m.s();!(u=m.n()).done;){var p=Object(n.a)(u.value,2),f=p[0],g=p[1];if(Object.prototype.hasOwnProperty.call(g,t[0])&&g[t[0]]===t[1])return f}}catch(C){m.e(C)}finally{m.f()}return-1}if(t.constructor===String){var h,y=i(e.entries());try{for(y.s();!(h=y.n()).done;){var v=Object(n.a)(h.value,2),b=v[0],E=v[1];if(Object.prototype.hasOwnProperty.call(E,t)&&E[t])return b}}catch(C){y.e(C)}finally{y.f()}return-1}}(e,t):-1}},1650:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(30),r=a(589),l=a.n(r),c=a(2),s=a(1599),d=a(1600),u=a(11),m=a(219),p=a(601),f=a(1606),g=a(191),h=a(35),y=a.n(h),v=a(1692),b=31104e6,E=2592e6,C=864e5,O=36e5,x=6e4;var k=function(e){var t=Date.now()-e,a=Math.floor(t/b),n=Math.floor(t/E),i=Math.floor(t/C),o=Math.floor(t/O),r=Math.floor(t/x),l="Just now";return t>b?l=Math.floor(t/b)+"y":t>C?l=Math.floor(t/C)+"d":t>O?l=Math.floor(t/O)+"h":t>x&&(l=Math.floor(t/x)+"m"),{year:a,month:n,days:i,hour:o,minute:r,text:l}},I=a(105),N=a(1630),j=function(e){var t=e.roomsCount,a=e.roomList,o=void 0===a?[]:a,r=e.rating,l=void 0===r?0:r,c=e.tripAdvisorReviewCount,d=void 0===c?0:c,h=e.starRating,b=void 0===h?0:h,E=e.discountAppliedBatch,C=void 0===E?null:E,O=e.AOTpills,x=void 0===O?null:O,j=e.status,w=e.isBlockCard,A=void 0!==w&&w,T=e.sourceProvider,R=void 0===T?"":T,S=e.isAdmin,D=void 0!==S&&S,P=e.blockCardClickAction,_=void 0===P?function(){}:P,B=e.hotelName,L=void 0===B?"":B,F=e.offline,M=void 0!==F&&F,V=e.lastDataUpdatedMillis,U=e.showAllocation,H=e.isBooked,z=Object(n.useState)(!1),W=Object(u.a)(z,2),G=W[0],K=W[1],Y=s.e.USER_REMOVED_HOTEL,q=s.e.HOTEL_FAILURE,J=s.j.AGODA,Q=k(V),X=Q.text,$=Q.days,Z=V&&i.a.createElement("span",{className:y()("discount-ribbon",{"accent-4":$<30,"accent-7":$>30})},"Last updated ",X," ago");if(!t||0===t)return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"".concat(A?"col-md-6":"col-md-12")},i.a.createElement("p",{className:"meta-text vmargin-large vertical-center"},i.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"}),"\xa0\xa0","USER_REMOVED"===j?Y:q)),A?i.a.createElement("div",{className:"text-right col-md-6 vmargin-medium"},i.a.createElement(g.a,{buttonClass:"btn btn-default btn-outline btn-outline-bg btn-sm",buttonText:"Add Custom Item",onClickAction:_})):null);var ee=Object.values(Object(m.a)(o,(function(e){return e.name}))),te=1===o.length||1===ee.length,ae=o.find((function(e){return Array.isArray(e.extraInclusions)&&e.extraInclusions.length})),ne=R===J?"AGODA":"ADVISOR",ie=R===J?10:5,oe=R!==J||!!D&&(!isNaN(l)&&0!==l&&!isNaN(d)&&0!==d),re="DATABASE"===R;return i.a.createElement("div",{className:"row vmargin-medium mb-0"},(C||x||Z)&&i.a.createElement("div",{className:"col-md-12 text-right mbottom-small"},x," ",C," ",Z),i.a.createElement("div",{className:"col-md-8"},i.a.createElement("h5",null,"Room details:"),ee.map((function(e,t){var a,n,o,r,l,c,s,d,u=Object(f.a)(e[0].mealType);return i.a.createElement("div",{key:t,className:"room-list"},i.a.createElement("p",{className:"meta-text semi-bold"},"".concat(te?"":"#".concat(t+1)," ").concat(e[0].name," ").concat(e.length>1?" x".concat(e.length):"")),i.a.createElement("ul",{className:"list-inline meta-text incexc-list"},i.a.createElement("li",null,i.a.createElement("i",{className:e[0].refundable?"pyt-refundable-16 color-primary-dark":"pyt-non-refundable-16 color-accent-7"}),e[0].refundable?"Refundable":"Non Refundable"),i.a.createElement("li",{className:e[0].freeWireless?"tick":"cross"},"Wifi"),u?i.a.createElement("li",{className:"tick"},u):i.a.createElement("li",{className:e[0].freeBreakfast?"tick":"cross"},e[0].breakfastText),i.a.createElement("li",{className:e[0].acAvailable?"tick":"cross"},"Air Conditioner"),i.a.createElement("li",null,i.a.createElement("i",{className:"pyt-people-16"}),"Accomodates ",e[0].maxRoomOccupancy," adults"),null!==(a=e[0].roomSize)&&void 0!==a&&a.length?i.a.createElement("li",null,i.a.createElement("i",{className:"pyt-area-16"}),"Area ",e[0].roomSize," ",null!==(n=e[0].roomSize)&&void 0!==n&&n.includes("Sq.m")||null!==(o=e[0].roomSize)&&void 0!==o&&o.includes("Sq.ft")?null:"Sqft"):null),i.a.createElement(I.a,{alignItems:"baseline"},ae?i.a.createElement("span",{className:"pill square md color-white bg-accent-13",onClick:function(e){e.stopPropagation(),e.preventDefault(),K(!0)}},i.a.createElement("i",{className:"pyt-star-16 color-accent-2"})," View special inclusions"):null,U&&!H?i.a.createElement(I.a.Item,null,null!==(r=e[t])&&void 0!==r&&r.availability?i.a.createElement("div",{className:"mbottom-medium"},i.a.createElement("span",{className:"pill square md color-white bg-accent-9"},null===(l=e[t])||void 0===l?void 0:l.availability," ",re?Object(N.a)({count:null===(c=e[t])||void 0===c?void 0:c.availability,keyword:"allocation"}):Object(N.a)({count:null===(s=e[t])||void 0===s?void 0:s.availability,keyword:"API room"})," ","available")):null!==(d=e[t])&&void 0!==d&&d.availability||!re?null:i.a.createElement("div",{className:"mbottom-medium"},i.a.createElement("span",{className:"pill square md color-white bg-primary"},"On Request"))):null))}))),i.a.createElement("div",{className:"col-md-4"},isNaN(b)||0===b?null:i.a.createElement("div",{className:"star-category mbottom-medium"},i.a.createElement(p.a,{rootClassName:"stars",starClassName:"pyt-star-16",rating:b}),i.a.createElement("span",{className:"fine-text"},"Star Category")),isNaN(l)||0===l?null:i.a.createElement("div",{className:y()("fine-text",{"ta-rating":R!==J,"agoda-rating":R===J})},oe&&i.a.createElement(p.a,{ratingType:ne,rating:l,tripAdvisorReviewCount:d,rootClassName:"ta-dots",defaultClassName:"pyt-radiobtn-unchecked-16",starClassName:"pyt-radiobtn-checked-16",halfStarClassName:"pyt-half-checked-16",maximumRating:ie}),R!==J&&i.a.createElement("span",{className:"clearfix fw fine-text"},"On Trip Advisor"))),G?i.a.createElement(v.a,{offline:M,hotelName:L,data:(o.find((function(e){return Array.isArray(e.extraInclusions)&&e.extraInclusions}))||{}).extraInclusions,onModalClose:function(){return K(!1)}}):null)},w=a(1725),A=a(106),T=a(1604),R=a(110),S=a(5),D=c.default.span.withConfig({displayName:"ActivityCardHeader__SplitStayButton"})(["display:inline-block;font-weight:",";",";padding:5px 10px;background-color:",";border-radius:24px;color:",";"],S.theme.semiBold,R.c,(function(e){return e.disabled?"#e8e5e5":"rgba(38, 119, 240, 0.2)"}),(function(e){return e.disabled?"#b7b6b6":S.theme.accent15})),P=s.k.HOTEL,_=s.k.FLIGHT,B=s.k.TRAIN,L=s.k.FERRY,F=s.k.RENTALCAR,M=s.k.PASS,V=s.k.TRANSFER;function U(e){var t=e.title,a=void 0===t?"":t,n=e.type,o=void 0===n?"":n,r=e.fromDate,l=void 0===r?"":r,c=e.firstTitle,s=void 0===c?"":c,d=e.nightStay,u=void 0===d?"":d,m=e.toDate,f=void 0===m?"":m,h=e.rating,y=void 0===h?0:h,v=e.startDate,b=e.onChange,E=e.price,C=void 0===E?null:E,O=e.publishedPrice,x=void 0===O?null:O,k=e.changeDisabled,N=void 0!==k&&k,j=e.removeDisabled,A=void 0!==j&&j,T=e.viewDisabled,R=void 0!==T&&T,S=e.onView,B=e.onSplitFlight,L=e.buttonsClassName,F=void 0===L?null:L,M=e.onChangeRoom,V=e.changeButtonText,U=void 0===V?null:V,W=e.viewButtonText,G=void 0===W?null:W,K=e.removeButtonText,Y=void 0===K?null:K,q=e.onRemove,J=e.isReadOnly,Q=void 0!==J&&J,X=e.isT20,$=void 0!==X&&X,Z=e.isFree,ee=void 0!==Z&&Z,te=e.onEditClick,ae=void 0===te?null:te,ne=e.canEditPrice,ie=void 0!==ne&&ne,oe=e.discountType,re=void 0===oe?null:oe,le=e.isBooked,ce=e.isPriceStrikethrough,se=void 0!==ce&&ce,de=e.onSplitClicked,ue=void 0===de?function(){return!1}:de,me=e.showSplitOption,pe=void 0!==me&&me,fe=e.trackerClass,ge=void 0===fe?null:fe,he=e.enableOnRequest,ye=void 0!==he&&he,ve=e.disableOnRequest,be=void 0!==ve&&ve,Ee=e.isOnRequested,Ce=void 0!==Ee&&Ee,Oe=e.onRequestChangeAction,xe=void 0===Oe?function(){}:Oe,ke=e.isAdmin,Ie=void 0!==ke&&ke,Ne=e.hideHeader;return i.a.createElement("div",{className:"row vertical-center item-header"},i.a.createElement("div",{className:q||ye?"col-md-8":"col-md-9"},i.a.createElement("h4",null,o===_?s:a+" ",o===P&&pe&&i.a.createElement(D,{onClick:N?function(e){e.preventDefault(),e.stopPropagation()}:ue,disabled:N},"+ Add split stay"),o===P&&$?"or Similar":"",o===_?null:i.a.createElement(p.a,{rootClassName:"rating",starClassName:"pyt-star-16",rating:y})),i.a.createElement(H,{type:o,fromDate:l,toDate:f,startDate:v,nightStay:u})),ye?i.a.createElement("div",{className:"text-right col-md-3 ".concat(be?"cursor-not-allowed":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),be||xe(!Ce)}},i.a.createElement("p",{className:"color-grey meta-text"},"Auto Booking for Flight"),i.a.createElement("label",{className:"switch"},i.a.createElement("input",{type:"checkbox",checked:Ce}),i.a.createElement("span",{className:"slider ".concat(be?"cursor-not-allowed":"")}))):null,Q?null:i.a.createElement("div",{className:"text-right "+(F||(q?"col-md-4":B?"col-md-5":"col-md-3"))},(C||x||ee)&&i.a.createElement(w.a,{price:C,publishedPrice:x,isFree:ee,onEditClick:ae,canEditPrice:ie,discountType:re,isPriceStrikethrough:se,isAdmin:Ie}),i.a.createElement(I.a,{gutter:0,justifyContent:B?"space-around":"flex-end"},B&&i.a.createElement(g.a,{buttonClass:"btn btn-default btn-outline btn-outline-bg btn-sm "+ge,buttonText:"Split Flight",onClickAction:B}),i.a.createElement(z,{isBooked:le,onChange:b,onChangeRoom:M,onView:S,viewButtonText:G,onRemove:q,removeButtonText:Y,changeButtonText:U,changeDisabled:N,viewDisabled:R,removeDisabled:A,trackerClass:ge,enableOnRequest:ye,disableOnRequest:be,isOnRequested:Ce,onRequestChangeAction:xe,type:o,hideHeader:Ne}))))}var H=function(e){var t=e.type,a=e.fromDate,n=e.toDate,o=e.nightStay,r=e.startDate,l=function(e){var t=e.text;return t?i.a.createElement("span",{className:"color-accent-13 semi-bold"},t):null};if(!a.trim()&&!n.trim()&&t!==M)return null;if(a.trim()&&""===n.trim())return i.a.createElement("p",null,i.a.createElement(l,{text:a}));switch(t){case M:return i.a.createElement("p",null,"Starts from: ",i.a.createElement(l,{text:r}));case P:return i.a.createElement("p",null,i.a.createElement("i",{className:"pyt-location-16 valign-middle"}),o,"\xa0\xa0\xa0\xa0",i.a.createElement(l,{text:a}),"\xa0 \u2192 \xa0 ",i.a.createElement(l,{text:n}));case F:case V:return i.a.createElement("p",null,s.g,": ",i.a.createElement(l,{text:a}),"\xa0\xa0",s.d,": ",i.a.createElement(l,{text:n}));case B:case L:case _:return i.a.createElement("p",null,i.a.createElement(l,{text:a})," / ",i.a.createElement(l,{text:n}));default:return null}},z=function(e){var t=e.onChange,a=e.onView,o=e.onRemove,r=e.onChangeRoom,l=e.changeButtonText,c=e.viewButtonText,d=e.removeButtonText,u=e.changeDisabled,m=e.viewDisabled,p=e.removeDisabled,f=e.isBooked,h=e.trackerClass,y=e.hideHeader,v=e.type,b="btn btn-default btn-outline btn-outline-bg btn-sm",E=(y||v!=M)&&t?i.a.createElement(g.a,{buttonClass:b+" "+h,buttonText:l||s.b,onClickAction:t,isDisabled:u||f}):null,C=E;return a&&(C=i.a.createElement("div",{className:"btn-group"},l===s.i?null:i.a.createElement(g.a,{buttonClass:b+" info-icon",onClickAction:a,isDisabled:m},i.a.createElement(A.a,{text:c?"":T.m},i.a.createElement("i",{className:"pyt-serif-info-24"})),c?" "+c:null),E)),r&&(C=i.a.createElement(n.Fragment,null,i.a.createElement(g.a,{buttonClass:b,buttonText:s.c,onClickAction:r,isDisabled:p})," ",C)),o&&(C=i.a.createElement("div",{className:"btn-group"},i.a.createElement(g.a,{buttonClass:b,onClickAction:o,isDisabled:p},i.a.createElement(A.a,{text:d||s.h},i.a.createElement("i",{className:"pyt-delete-16"}))),C)),C},W=a(1603),G=a(68),K="tag",Y="count",q="free-activity",J=function(e){var t,a=e.containerClass,n=void 0===a?"bg-accent-2":a,o=e.iconClass,r=void 0===o?"colot-accent-1":o,l=e.iconText,c=void 0===l?null:l,s=e.text,d=e.type,u=e.hideIcon,m=e.hideText;if(u&&m)return null;var p=(t={},Object(G.a)(t,K,{root:"likely-tag ",icon:"pyt-flash-on-16 "}),Object(G.a)(t,Y,{root:"count-left "}),Object(G.a)(t,q,{root:"free-activity ",content:"FREE<br/>ACTIVITY"}),t)[d||K],f=p.root,g=p.icon,h=void 0===g?"":g,y=p.content,v=void 0===y?"":y;return i.a.createElement("span",{className:f+n},u?null:i.a.createElement("i",{className:h+r},c),m?null:s||v)},Q=a(49),X=a.n(Q),$=a(2592),Z=a(141),ee=function(e){var t=e.time,a=e.text,o=e.headerText,r=e.onClickAction,l=void 0===r?function(){}:r;if(!t)return null;var c=X()(t,"YYYY-MM-DD HH:mm:ss.sss").toDate().getTime(),s=Object(n.useState)(te(c)),d=Object(u.a)(s,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){return clearInterval(window&&window._PNRtimerID),window._PNRtimerID=setInterval((function(){p(te(c))}),1e3),function(){clearInterval(window._PNRtimerID)}})),i.a.createElement("div",{className:"tag-tertiary turn-left accent-1 medium bold",onClick:l},i.a.createElement("i",{className:"color-accent-8 pyt-clock-16"}),i.a.createElement("span",{className:"caps-text-tiny color-accent-2"},o?"PNR: "+o:""),i.a.createElement("span",{className:"caps-text-tiny"},a||""),i.a.createElement("span",{className:"meta-text color-accent-2"},m))};function te(e){var t=e-X()().toDate().getTime(),a=Math.floor(t/36e5);a=a<10?"0"+a:a;var n=Math.floor(t%36e5/6e4);n=n<10?"0"+n:n;var i=Math.floor(t%6e4/1e3);return i=i<10?"0"+i:i,t>0&&a+":"+n+":"+i}var ae=function(e){var t=e.data,a=void 0===t?[]:t,o=e.type,r=e.tagsArr,l=void 0===r?[]:r,c=e.dataContainerClass,s=void 0===c?"col-md-12":c,d=e.tagsContainerClass,u=void 0===d?"":d,m=e.isTagsVisible,p=e.isCountdownVisible,f=e.countdownText,g=e.headerText,h=e.countdownStartTime,v=e.ourSourceProviders,b=e.isDiscountApplied,E=e.paraContent,C=e.pnrEditAction,O=void 0===C?function(){}:C,x=e.dataContainerStyle,N=void 0===x?{}:x,j=e.lastDataUpdatedMillis,w=k(j),A=w.text,T=w.days,R=null!==v&&void 0!==v&&v.length?v.map((function(e,t){return"activities"===o?i.a.createElement(I.a.Item,{key:t,position:"absolute",flexDirection:"row",backgroundColor:"#feda46",top:12,right:20,paddingVertical:4,paddingHorizontal:8,borderRadius:4,gap:4},i.a.createElement($.a,{fill:"rgb(102, 102, 102)"}),i.a.createElement(Z.a,{fontFamily:"Source Sans Pro",color:"rgb(102, 102, 102)",fontWeight:600,fontSize:12,lineHeight:16,letterSpacing:"-0.1px"},e)):i.a.createElement("figcaption",{key:t,className:"stars inverse text-right bold"},i.a.createElement("span",{className:"pill color-white bg-accent-4"},e))})):[],S=b?i.a.createElement("span",{className:"discount-ribbon accent-3"}," Admin Price "):null,D=j&&i.a.createElement("span",{className:y()("discount-ribbon",{"accent-4":T<30,"accent-7":T>30})},"Last updated ",A," ago");return i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:y()("row vertical-center bordered-list",{"with-timer":p})},i.a.createElement("div",Object.assign({className:s},N),E?i.a.createElement("p",{className:"semi-bold main-para vmargin-medium"},E):null,(a||[]).length?i.a.createElement(W.a,{rootClassName:"list-unstyled no-margin",icons:a}):[]),R.length>0?R:null,m||p?i.a.createElement("div",{className:u},m?l.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return i.a.createElement(J,Object.assign({key:t,type:"tag",containerClass:"bg-accent-2",iconClass:"color-accent-1"},e))})):null,p?i.a.createElement(ee,{onClickAction:O,text:f,time:h,headerText:g}):null):null),b||D?i.a.createElement("div",{className:"row mbottom-small"},i.a.createElement("div",{className:"col-sm-12 text-right"},S," ",D)):null)},ne=a(1648),ie=a(352),oe=function(e){var t=e.inclusion,a=void 0===t?[]:t,n=e.exclusion,o=void 0===n?[]:n,r=e.comboPricingMessageBox,l=e.isFree;return i.a.createElement("div",{className:"col margin-bottom-15"},i.a.createElement("div",{className:"row"},a.length?i.a.createElement("div",{className:"col-md-6 activity-card-items"},i.a.createElement("h5",{className:"activity-card-heading"},"Inclusions"),i.a.createElement("div",{className:"incexc-list tick meta-text",dangerouslySetInnerHTML:Object(ie.a)(a)})):null,o.length?i.a.createElement("div",{className:"col-md-6 activity-card-items"},i.a.createElement("h5",{className:"activity-card-heading"},"Exclusions"),i.a.createElement("div",{className:"incexc-list cross meta-text",dangerouslySetInnerHTML:Object(ie.a)(o)})):null,l?i.a.createElement("div",{className:"col-md-12"},i.a.createElement("span",{className:"pill square md color-white bg-black mbottom-medium"},i.a.createElement("i",{className:"pyt-binocular-16 color-accent-2"})," Self Exploration"),i.a.createElement("span",{className:"row meta-text"}," ","Transfers and fees for self exploration activities are to be borne by you. We\u2019d be happy to share details on request."," ")):null),r?i.a.createElement("span",{className:"tag-secondary color-white bg-base"},i.a.createElement("span",{className:"pyt-check-circle-24 color-accent-2 swiss-pass-icon"}),i.a.createElement("span",{className:""},r)):null)},re=function(e){var t=e.children;return i.a.createElement("p",{className:"meta-text light mbottom-small"},t)},le=function(e){var t=e.title,a=e.text;return i.a.createElement(re,null,i.a.createElement("strong",{className:"text-uppercase fine-text color-grey-medium clearfix fw"},t),a)},ce=function(e){var t=e.vehicleDetails,a=void 0===t?[]:t,n=e.detailsHeader,o=e.fullContent,r=void 0===o?"":o,l=e.pickup,c=e.drop,d=e.labelIn,u=void 0===d?s.g:d,m=e.labelOut,p=void 0===m?s.d:m,f=e.paraContent,g=void 0===f?"":f,h=e.comboPricingMessageBox,y=e.alerts,v=void 0===y?[]:y,b=e.data,E=void 0===b?[]:b,C=e.rootClassName,O=void 0===C?"row":C,x=e.status,k=void 0===x?"SUCCESS":x,I=h?i.a.createElement("span",{className:"tag-secondary color-white bg-base"},i.a.createElement("span",{className:"pyt-check-circle-24 color-accent-2 swiss-pass-icon"}),i.a.createElement("span",{className:""},h)):null;if(r){var N=i.a.createElement("div",{className:"".concat(v.length?"col-md-6":"col-md-12")},i.a.createElement("p",{className:"meta-text light vmargin-medium"},r),I);return i.a.createElement("div",{className:"row"},N,v.length?v.map((function(e,t){return i.a.createElement(ne.a,Object.assign({key:t},e,{isInsideCard:!1,alerts:v}))})):null)}return"SUCCESS"!==k?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("p",{className:"meta-text vmargin-large vertical-center"},i.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"}),"\xa0\xa0","USER_REMOVED"===k?"You have removed this transfer from itinerary!":"We aren't able to fetch your transfer details at the moment. Please refresh after a while."))):i.a.createElement("div",{className:O},n&&i.a.createElement("div",{className:"col-md-12"},i.a.createElement("p",{className:"semi-bold main-para vmargin-small mt-0"},n)),i.a.createElement("div",{className:"col-md-6"},g?i.a.createElement(re,null,g):null,i.a.createElement(W.a,{rootClassName:"amenities-list with-icons meta-text",icons:E})),i.a.createElement("div",{className:"col-md-6"},l?i.a.createElement(le,{title:u,text:l}):null,c?i.a.createElement(le,{title:p,text:c}):null,a.map((function(e,t){var a=e.label,n=e.text,o=e.linkText,r=e.linkAction,l=void 0===r?function(){}:r;return i.a.createElement(re,{key:t},a?i.a.createElement("span",{className:"color-grey-medium"},a," "):null,n,o?i.a.createElement("span",{onClick:function(e){l(e)},className:"anchor-link"}," "+o):null)})),I))},se=a(1617),de=a(342),ue=function(e){var t=e.details,a=void 0===t?"":t,n=e.isBlockCard,o=void 0!==n&&n,r=e.blockCardClickAction,l=void 0===r?function(){}:r;return Array.isArray(a)&&a.length?a.map((function(e,t){var a=e.duration,n=e.stops,o=e.airlineLogos,r=e.fromDetails,l=void 0===r?{}:r,c=e.toDetails,s=void 0===c?{}:c,d=a+", "+n;return i.a.createElement("div",{key:t,className:"row mbottom-large"},i.a.createElement("div",{className:"col-md-2 text-center"},(o||[]).map((function(e,t){return i.a.createElement("span",{key:t,className:"flight-icon"},i.a.createElement(de.a,{disableLazyLoad:!0,src:e.url,defaultImage:e.default,alt:e.name||" "}))}))),i.a.createElement("div",{className:"col-md-10"},i.a.createElement("div",{className:"row route-details"},i.a.createElement("div",{className:"col-md-5 col-lg-4"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("p",null,i.a.createElement("b",null,l.time)," ",l.from," ",i.a.createElement("sup",{className:"fine-text color-grey-medium"},l.date),i.a.createElement("span",{className:"color-grey-medium"},l.stops)))),i.a.createElement("div",{className:"col-md-4 col-lg-4 pl-0 pr-0"},i.a.createElement(se.e,{content:d})),i.a.createElement("div",{className:"col-md-3 col-lg-4"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("p",null,s.to," ",i.a.createElement("b",null,s.time)))))))})):i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"".concat(o?"col-md-6":"col-md-12")},i.a.createElement("p",{className:"meta-text vmargin-large vertical-center"},i.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"}),"\xa0\xa0",a)),o?i.a.createElement("div",{className:"text-right col-md-6 vmargin-medium"},i.a.createElement(g.a,{buttonClass:"btn btn-default btn-outline btn-outline-bg btn-sm",buttonText:"Add Custom Item",onClickAction:l})):null)},me=a(1653),pe=a(23),fe=function(e){var t,a=e.fullContent,n=e.departureTime,o=e.pickup,r=e.arrivalTime,l=e.drop,c=e.duration,d=e.departureDate,u=e.arrivalDate,m=e.type,p=e.comboPricingMessageBox,f=(t={},Object(G.a)(t,s.k.FERRY,"pyt-ship-16"),Object(G.a)(t,s.k.TRAIN,"pyt-train-16"),Object(G.a)(t,s.k.BUS,"pyt-bus-16"),t);return a?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("p",{className:"meta-text light vmargin-medium"},a))):i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("section",{className:"route-details row row-eq-hgt vmargin-medium"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("p",null,i.a.createElement("b",null,n,"\xa0"),i.a.createElement("sup",{className:"color-grey-medium"},d),i.a.createElement("span",null,o)))),i.a.createElement("div",{className:"col-md-4 pl-0 pr-0"},i.a.createElement(se.e,{content:c,iconClassName:f[m]||f[s.k.TRAIN]})),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("p",null,i.a.createElement("b",null,r,"\xa0"),i.a.createElement("sup",{className:"color-grey-medium"},u),i.a.createElement("span",null,l))))),p?i.a.createElement("span",{className:"tag-secondary color-white bg-base"},i.a.createElement("span",{className:"pyt-check-circle-24 color-accent-2 swiss-pass-icon"}),i.a.createElement("span",{className:""},p)):null))},ge=a(1741),he=a(214),ye=a(1768),ve=function(e){var t=Object.assign({},e);return i.a.createElement(ye.a,Object.assign({speed:1,width:"100%",height:140,viewBox:"0 0 1020 210",backgroundColor:"#d6d6d6",foregroundColor:"#ecebeb"},t),i.a.createElement("rect",{x:"6",y:"38",rx:"3",ry:"3",width:"328",height:"16"}),i.a.createElement("rect",{x:"58",y:"70",rx:32,ry:32,width:"44",height:"44"}),i.a.createElement("rect",{x:"126",y:"70",width:"160",height:"16"}),i.a.createElement("rect",{x:"126",y:"100",width:"124",height:"16"}),i.a.createElement("rect",{x:"404",y:"98",width:"38",height:"2.5"}),i.a.createElement("rect",{x:"440",y:"86",rx:16,ry:16,width:"104",height:"24"}),i.a.createElement("rect",{x:"544",y:"98",width:"38",height:"2.5"}),i.a.createElement("rect",{x:"720",y:"70",width:"160",height:"16"}),i.a.createElement("rect",{x:"756",y:"100",width:"124",height:"16"}))},be=a(1711),Ee=a(1592),Ce=a(1593);a.d(t,"a",(function(){return De}));var Oe=s.k.HOTEL,xe=s.k.FLIGHT,ke=s.k.TRAIN,Ie=s.k.FERRY,Ne=s.k.RENTALCAR,je=s.k.TRANSFER,we=s.k.VISA,Ae=s.k.PASS,Te=s.k.ACTIVITY,Re=s.k.BUS,Se=Object(c.default)(ge.a).withConfig({displayName:"InclusionCardWrapper__RecommendedTag"})(["position:absolute;top:8px;left:8px;z-index:1;"]),De=c.default.span.withConfig({displayName:"InclusionCardWrapper__ExclusiveTag"})(["margin-top:12px;width:125px;font-style:normal;font-weight:600;font-size:12px;font-weight:700;text-transform:uppercase;line-height:1.18;letter-spacing:-0.15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:absolute;top:0;left:0;z-index:1;padding:8px;i{padding-right:4px;}*::after{background:#000;padding-left:4px;font-size:11px;content:'';position:absolute;left:-16px;top:0;width:100%;height:100%;transform:skew(22deg);transform-origin:100% 0;z-index:-1;}"]);t.b=function(e){var t=e.type,a=e.rootClassName,r=void 0===a?"":a,c=e.header,u=e.secondaryHeader,m=void 0===u?{}:u,p=e.details,f=e.contentClickAction,g=void 0===f?null:f,h=e.contentRootClass,v=void 0===h?"":h,b=e.image,E=e.logo,C=e.hasSlider,O=e.sliderSettings,x=void 0===O?{}:O,N=e.sliderContainer,w=void 0===N?"incl-slider":N,A=e.sliderImages,T=void 0===A?{}:A,R=e.disableLeftSection,S=e.isDisabled,D=e.disableText,P=void 0===D?s.f:D,_=e.alerts,B=void 0===_?[]:_,L=e.isReadOnly,F=void 0!==L&&L,M=e.isT20,V=void 0!==M&&M,H=e.price,z=void 0===H?null:H,W=e.sourceProvider,G=void 0===W?"":W,K=e.publishedPrice,Y=void 0===K?null:K,q=e.isFree,J=void 0!==q&&q,Q=e.onEditClick,X=void 0===Q?null:Q,$=e.canEditPrice,ee=void 0!==$&&$,te=e.ourSourceProviders,ie=e.discountAppliedBatch,re=e.AOTpills,le=e.IslandHopperDiscountBadge,se=e.discountBadge,ge=e.isDiscountApplied,ye=e.isBooked,Pe=e.isBlockCard,_e=void 0!==Pe&&Pe,Be=e.recommendedHotel,Le=e.exclusiveRecommended,Fe=e.blockCardClickAction,Me=void 0===Fe?function(){}:Fe,Ve=e.itineraryVersion,Ue=void 0===Ve?null:Ve,He=e.isAdmin,ze=void 0!==He&&He,We=e.tripAdvisorReviewCount,Ge=void 0===We?0:We,Ke=e.hotelName,Ye=void 0===Ke?"":Ke,qe=e.offline,Je=void 0!==qe&&qe,Qe=e.isLoading,Xe=void 0!==Qe&&Qe,$e=e.isRoundTrip,Ze=void 0!==$e&&$e,et=e.lastDataUpdatedMillis,tt=e.showAllocation,at=e.costingId,nt=e.entityType,it=e.bookingNotes,ot=e.status,rt=e.userDetails,lt=null,ct="col-md-4 pl-0 pr-0",st=R?"col-md-12":"col-md-8",dt=t===ke?"n-tracker-inclusions-change-train":t===xe?"n-tracker-inclusions-change-flight":"",ut=!ye&&_e;switch(t){case Oe:lt=i.a.createElement(j,Object.assign({},p,{offline:Je,starRating:c.starRating,discountAppliedBatch:ie,ourSourceProviders:te,status:c&&c.status,AOTpills:re,IslandHopperDiscountBadge:le,discountBadge:se,isBlockCard:ut,blockCardClickAction:Me,sourceProvider:G,isAdmin:ze,tripAdvisorReviewCount:Ge,hotelName:Ye,lastDataUpdatedMillis:et,showAllocation:tt,isBooked:ye}));break;case je:case Ne:lt=i.a.createElement(ce,Object.assign({},p,{labelIn:s.g,labelOut:s.d,alerts:B,type:t}));break;case xe:lt=i.a.createElement(ue,{details:p,isBlockCard:ut,blockCardClickAction:Me});break;case Re:case Ie:case ke:lt=i.a.createElement(fe,Object.assign({},p,{type:t}));break;case Te:lt=i.a.createElement(oe,Object.assign({},p,{isFree:J}));break;case Ae:case we:var mt=p.title,pt=p.list,ft=void 0===pt?[]:pt,gt=p.childElement,ht=void 0===gt?null:gt,yt=p.visaClassName,vt=void 0===yt?"vertical-center":yt,bt=k(et),Et=bt.text,Ct=bt.days,Ot=et&&i.a.createElement("span",{className:y()("discount-ribbon",{"accent-4":Ct<30,"accent-7":Ct>30})},"Last updated ",Et," ago");lt=i.a.createElement("div",{className:vt},i.a.createElement("div",{className:"vmargin-large"},Ot&&i.a.createElement("div",{className:"col-md-12 text-right mbottom-small"},Ot),mt?i.a.createElement("p",{className:"small-heading"},mt):null,ht,i.a.createElement("ul",{className:"dot-list meta-text light"},ft.map((function(e,t){return i.a.createElement("li",{key:t},e)})))));break;default:return null}var xt=i.a.createElement(Se,null,i.a.createElement("i",{className:"pyt-thumb-up-16"}),i.a.createElement("b",null,"Top Recommended")),kt=Le?i.a.createElement(De,{className:"color-white"},i.a.createElement("i",{className:"color-primary-dark pyt-flag-16"}),"PYT EXCLUSIVE"):Be?xt:null,It=S?{_disableRoot:"disabled ",_disableContent:"disabled-layer ",_disableOverlay:i.a.createElement("span",{className:"sold-out"},P),_clickAction:function(){}}:{_clickAction:g},Nt=It._disableRoot,jt=void 0===Nt?"":Nt,wt=It._disableContent,At=void 0===wt?"":wt,Tt=It._disableOverlay,Rt=void 0===Tt?null:Tt,St=It._clickAction,Dt=Object(o.e)((function(e){var t=e.app;return(void 0===t?{}:t).itineraryInfo})),Pt=Object(he.b)(Dt),_t=Object(Ee.a)({permissions:null===rt||void 0===rt?void 0:rt.permissions,key:Ce.p});return i.a.createElement("section",{className:"inclusion-box ".concat(g?"cursor-pointer":""," ").concat(jt," ").concat(r),onClick:Pt?null:St},i.a.createElement(U,Object.assign({type:t},c,{isReadOnly:F,isT20:V,price:z,isFree:J,onEditClick:X,canEditPrice:ee&&!_e,isBooked:ye,publishedPrice:Y,trackerClass:dt,itineraryVersion:Ue,isAdmin:ze,canEditHod:_t})),t===xe?i.a.createElement(n.Fragment,null,Xe?i.a.createElement(I.a,{direction:"column",paddingTop:12,paddingLeft:12,gutter:0},i.a.createElement(Z.a,{fontFamily:"Source Sans Pro",color:"#444444",fontSize:13},Ze?"Reverting back to round trip flight":"Checking API price for one way flight"),i.a.createElement(ve,null)):i.a.createElement(i.a.Fragment,null,Object.keys(m).length?i.a.createElement(ae,Object.assign({},m,{isDiscountApplied:ge})):null,lt)):t!==we||p.childElement?i.a.createElement("div",{className:"row ".concat(At," ").concat(v)},R?null:i.a.createElement("div",{className:ct},function(){if(C&&T.imageUrl&&T.imageUrl.length){var e=Object.assign({dots:!0,infinite:!1,slidesToShow:1,slidesToScroll:1},x);return T.imageUrl.length>5&&T.imageUrl.splice(5,T.imageUrl.length),i.a.createElement(n.Fragment,null,kt,i.a.createElement(l.a,Object.assign({className:w},e),T.imageUrl.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("div",{className:T.sliderClass,style:{backgroundImage:"url(".concat(""===e&&Object(me.a)(e)?Object(pe.a)(d.b.roomsLarge):Object(pe.a)(e),")")}}))}))))}return b?i.a.createElement(n.Fragment,null,kt,i.a.createElement(de.a,{className:"left-img",src:b,defaultImage:Object(d.a)(t),alt:"inclusions-img",imgFactor:"rentalcar"===t?"w=250&h=220&fit=fill&fill=solid":"w=250&h=180&fit=crop"})):E?(ct="col-md-4",i.a.createElement("img",{className:"center-block other-logo",alt:t+" Logo",src:E})):null}()),i.a.createElement("div",{className:st},Rt,Object.keys(m).length?i.a.createElement(ae,Object.assign({},m,{type:t,ourSourceProviders:te,isDiscountApplied:ge,lastDataUpdatedMillis:et})):null,lt)):null,B.length?i.a.createElement(ne.a,Object.assign({},B[0],{alerts:B,count:B.length>1?B.length-1:null})):null,at&&nt&&_t&&"NOT_COSTED"!==ot&&"USER_REMOVED"!==ot?i.a.createElement(be.a,{itineraryInfo:Dt,isAdmin:ze,canEditHod:_t,costingId:at,entityType:nt,bookingNotes:it}):null)}},1653:function(e,t,a){"use strict";function n(e){return void 0===e||null===e}a.d(t,"a",(function(){return n}))},1654:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(12);function i(e){return function(t){return new Promise((function(a){t({type:n.Pb,payload:e}),a("Promised resolved from fetch")}))}}},1655:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(2).default.div.withConfig({displayName:"ModalHeader__HeaderContainer"})(["position:absolute;left:0;top:",";width:100%;display:flex;align-items:center;justify-content:space-between;padding:8px 16px;min-height:64px;background-color:#000;color:#fff;text-align:center;font-size:20px;.medium-heading{color:rgba(0,0,0,0.3);}button{background-color:transparent;color:#fff;border:none;padding:4px;line-height:1;i{font-size:24px;&.pyt-close-16{font-size:20px;}}}"],(function(e){return e.isPDG?"84px":"0"})),r=i.a.createElement("i",null);t.a=function(e){var t=e.title,a=e.isPDG,n=e.showActionButtons,l=e.leftIcon,c=void 0===l?"pyt-arrow-left-24":l,s=e.rightIcon,d=void 0===s?"pyt-close-16":s,u=e.onLeftClick,m=e.onRightClick;return i.a.createElement(o,{isPDG:a},n&&"function"===typeof u?i.a.createElement("button",{type:"button",className:"btn",onClick:u},i.a.createElement("i",{className:c})):r,i.a.createElement("span",{className:"semi-bold"},t),n&&"function"===typeof m?i.a.createElement("button",{type:"button",className:"btn",onClick:m},i.a.createElement("i",{className:d})):r)}},1659:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(23),i=a(14).a.images_cdn_url_s3;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no-image",t=arguments.length>1?arguments[1]:void 0;return{name:t||e,url:Object(n.a)(i+"web_app/itinerary/airline-logos/square/".concat(e||"".trim(),".jpg")),default:Object(n.a)(i+"web_app/itinerary/airline-logos/square/default-logo.jpg")}}},1660:function(e,t,a){"use strict";t.a={FlightsandHotels:"all-flight-hotel-panels",Flights:"flight",Hotels:"stay",Transfers:"transfer",VisaInsurance:"all-visa-panels",CustomCard:"all-others-panels",Activities:"activities",PassPanels:"all-pass-panels",TotalCost:"more"}},1661:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(35),u=a.n(d);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var p=function(e){Object(o.a)(a,e);var t=m(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).clickAction=function(e,t){e&&e.preventDefault();var a=i.props.onClickAction,n=void 0===a?function(){}:a,o=i.state.disableIndex,r=o.indexOf(t);t=i.state.activeIndex===t?null:t,r>=0?o.splice(r,1):o.push(t),i.setState({activeIndex:t,disableIndex:o},(function(){n(e,t)}))},i.accordianElements=function(){var e=i.props,t=e.rootClassName,a=void 0===t?"panel":t,n=e.components,o=void 0===n?[]:n,r=e.expandAll,l=void 0===r||r,c=i.state,d=c.activeIndex,m=c.disableIndex;return o.map((function(e,t){if(!e)return null;var n=e.header,o=e.headerClassName,r=void 0===o?"panel-heading":o,c=e.content,p=e.contentClassName,f=void 0===p?"panel-collapse collapse":p,g=!(l||d===t)||l&&m.indexOf(t)>=0;return s.a.createElement("section",{itemProp:"mainEntity",itemScope:"",itemType:"http://schema.org/Question",key:t,className:a},n?s.a.createElement("div",{className:u()(r,{collapsed:g}),"data-toggle":"collapse","data-parent":"#accordion",onClick:function(e){i.clickAction(e,t)},"aria-expanded":!g},n):null,s.a.createElement("div",{className:u()(f,{in:!g}),"aria-expanded":!g},s.a.createElement("div",{className:"panel-body"},c)))}))},i.state={activeIndex:e.activeIndex,disableIndex:[]},i}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"panel-group",id:"accordion"},this.accordianElements())}}]),a}(c.Component);p.defaultProps={headerClassName:"panel-heading",childrenClassName:"panel-collapse collapse",rootClassName:"panel"}},1662:function(e,t,a){"use strict";a.d(t,"d",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return E})),a.d(t,"c",(function(){return C}));var n=a(0),i=a.n(n),o=a(900),r=a(1601),l=a(196),c=a.n(l),s=a(20),d=function(){return i.a.createElement("div",null,"Dummy")},u=function(e){var t=e.loaderState,a=e.rows,n=void 0===a?2:a;return i.a.createElement(c.a,{color:"transparent",className:"animated-background",type:"text",rows:n,ready:t},i.a.createElement(d,null))},m=function(e){var t=e.loaderState;return i.a.createElement(o.RectShape,{color:"transparent",className:"animated-background media-image",style:{width:"100%"},ready:t},i.a.createElement(d,null))},p=function(e){return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(u,e)))};function f(e){return Object(s.a)()?Object(r.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"hotel-alter-card",style:{padding:"5px",border:"1px solid #dddddd",height:"180px"}},i.a.createElement("div",{style:{height:"100px"}},i.a.createElement(m,e)),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))))})):Object(r.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"flight-card"},i.a.createElement("div",{className:"left-col"},i.a.createElement(m,e)),i.a.createElement("div",{className:"middle-col"},i.a.createElement("div",{className:"clearfix route"},i.a.createElement("div",{className:"split-width",style:{width:"98%"}},i.a.createElement(u,e))),i.a.createElement("div",{className:"clearfix route"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"clearfix route"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"card-footer"},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"col-xs-4 col-xs-offset-4",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))))),i.a.createElement("div",{className:"right-col price-variant-col"},i.a.createElement(m,e)))}))}function g(e){return Object(s.a)()?Object(r.a)(0,4).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"hotel-alter-card mbottom-medium",style:{padding:"5px",border:"1px solid #dddddd",height:"180px"}},i.a.createElement("div",{style:{height:"100px"}},i.a.createElement(m,e)),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))))})):Object(r.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"train-card"},i.a.createElement("div",{className:"left-col"},i.a.createElement(m,e)),i.a.createElement("div",{className:"middle-col"},i.a.createElement("div",{className:"clearfix route"},i.a.createElement("p",{className:"split-width",style:{width:"98%"}},i.a.createElement(u,e))),i.a.createElement("div",{className:"clearfix route mtop-small"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:"1"})))),i.a.createElement("div",{className:"clearfix route mtop-small"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:"1"})))),i.a.createElement("div",{className:"card-footer mtop-small"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4 col-xs-offset-4",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:"1"})))))),i.a.createElement("div",{className:"right-col price-variant-col"},i.a.createElement(m,Object.assign({},e,{height:"100px"}))))}))}function h(e){return Object(r.a)(0,6).map((function(t){return i.a.createElement("div",{className:"col-md-4",key:"loading_placeholder_"+t},i.a.createElement("div",{className:"activity-alter-card"},i.a.createElement("div",{className:"pos-r"},i.a.createElement("div",{className:"activity-alter-slider slick-initialized slick-slider"},i.a.createElement(m,e))),Object(s.a)()?null:i.a.createElement("div",{className:"detail-box"},i.a.createElement("div",{className:"detail-txt"},i.a.createElement("span",{className:"meta-text"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("span",{style:{width:"50%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"row clearfix"},i.a.createElement("div",{className:"col-md-6 pr-0"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(u,Object.assign({},e,{rows:1})))))))}))}function y(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),Object(r.a)(0,5).map((function(t,a){return i.a.createElement(n.Fragment,{key:a},i.a.createElement("section",{className:"panel"},i.a.createElement(u,e),i.a.createElement(p,e)),i.a.createElement("hr",null))})))}function v(e){var t=Object(s.a)();return i.a.createElement("div",{tabIndex:"0",className:"flights-alternate mbottom-large"},e.children,i.a.createElement("div",{className:"container lg-container"},i.a.createElement("div",{className:"row"},t?null:i.a.createElement("aside",{className:"col-md-3 altermodal-filters",style:{zIndex:1}},i.a.createElement("div",{className:"panel-group"},i.a.createElement(y,{loaderState:!1}))),i.a.createElement("div",{className:"col-md-9"},i.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium"},"Loading..."),i.a.createElement(f,{loaderState:!1,isMobileDevice:t,title:"Change Flight"})))))}function b(e){return Object(s.a)()?Object(r.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"hotel-alter-card",style:{padding:"5px",border:"1px solid #dddddd",height:"180px"}},i.a.createElement("div",{style:{height:"100px"}},i.a.createElement(m,e)),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))))})):Object(r.a)(0,6).map((function(t){return i.a.createElement("div",{className:"col-md-4",key:"loading_placeholder_"+t},i.a.createElement("div",{className:"activity-alter-card"},i.a.createElement("div",{className:"pos-r"},i.a.createElement("div",{className:"activity-alter-slider slick-initialized slick-slider"},i.a.createElement(m,e))),Object(s.a)()?null:i.a.createElement("div",{className:"detail-box"},i.a.createElement("div",{className:"detail-txt"},i.a.createElement("span",{className:"meta-text"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("span",{style:{width:"50%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"row clearfix"},i.a.createElement("div",{className:"col-md-6 pr-0"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(u,Object.assign({},e,{rows:1})))))))}))}function E(){var e=Object(s.a)();return i.a.createElement(h,{loaderState:!1,isMobileDevice:e,title:"Change Hotel"})}function C(e){var t=Object(s.a)();return i.a.createElement("div",{tabIndex:"0",className:"hotels-alternate train-alternate mbottom-large mbottom-large"},e.children,i.a.createElement("div",{className:"container lg-container"},i.a.createElement("div",{className:"row"},t?null:i.a.createElement("aside",{className:"col-md-3 altermodal-filters"},i.a.createElement("div",{className:"panel-group"},i.a.createElement(y,{loaderState:!1}))),i.a.createElement("div",{className:"col-md-9"},i.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium"},"Loading..."),i.a.createElement(g,{parentClass:"train-card",loaderState:!1,isMobileDevice:t,title:"Change Train"})))))}},1663:function(e,t,a){"use strict";var n=a(1),i=a(11),o=a(0),r=a.n(o),l=a(54),c=a(14),s=a(22),d=a(245),u=a(190),m=a(12);function p(e){return function(t){return new Promise((function(a,n){var i="".concat(c.a.api_url,"itinerary/").concat(e,"/undo"),o={itineraryId:e};Object(s.a)({url:i,method:"POST",body:o,onSuccess:function(e){Object(d.a)(t,e.data),a("Promised resolved from fetch")},onFailure:function(e){Object(u.a)(e,t),t({type:m.F,payload:{status:(e.response||{}).status}}),n("Failed")}})}))}}var f=a(590),g=a(30),h=a(35),y=a.n(h),v=a(251),b="";t.a=Object(g.c)((function(e){var t=e.app,a=(t.itineraryInfo||{}).itinerary;return Object(n.a)({itinerary:a},t.soft_notification)}),(function(e){return{actions:{manageSoftNotification:Object(l.b)(f.a,e),undo:Object(l.b)(p,e)}}}))((function(e){var t=e.show_notification,a=e.showNewPop,n=e.actions,l=e.message,c=e.show_undo,s=e.itinerary,d=e.alertDirection,u=void 0===d?"bottom-left":d,m=Object(v.a)(),p=Object(o.useState)(!1),f=Object(i.a)(p,2),g=f[0],h=f[1],E=Object(o.useState)(!1),C=Object(i.a)(E,2),O=C[0],x=C[1];Object(o.useEffect)((function(){m||(g?(window.clearTimeout(b),h(!1),x(!1)):g||h(!0))}),[t]),Object(o.useEffect)((function(){!m&&g&&setTimeout((function(){x(!0)}),300)}),[g]),Object(o.useEffect)((function(){!m&&O&&(b=setTimeout((function(){k()}),a?8e3:7900))}),[O]);var k=function(){n.manageSoftNotification({show_notification:!1,message:"",show_undo:!1}).then((function(){h(!1)})).catch((function(){h(!1)}))},I=function(e){e&&e.preventDefault(),s&&n.undo(s.itineraryId).then((function(){k()}))};return a?r.a.createElement("div",{style:{zIndex:"10000"},className:y()("msg-notification ".concat(u),{show:g})},r.a.createElement("p",{className:"with-close"},l,c?r.a.createElement("span",{className:"anchor-link",onClick:I},"Undo"):null,r.a.createElement("i",{className:"close-icon cursor-pointer fade pyt-close-16",onClick:function(e){e&&e.preventDefault(),h(!1)}}))):r.a.createElement("div",{className:y()("bottom-options-bar text-center",{"bottom-left":"bottom-left"===u,"slide-in":g}),style:{zIndex:11502}},r.a.createElement("section",{className:"bottom-options-content"},r.a.createElement("div",{className:"clearfix hidden-xs sm-text"},r.a.createElement("p",{className:"pull-left"},l),c?r.a.createElement("button",{onClick:I,className:y()("pull-right btn btn-primary",{"progress-btn":O})},O?r.a.createElement("span",{className:"progress-bg"}):null,r.a.createElement("span",{className:"btn-txt"},"Undo action")):null),r.a.createElement("div",{className:"clearfix visible-xs xs-btns"},r.a.createElement("p",{className:"text-center"},l),r.a.createElement("div",{className:"clearfix visible-xs xs-btns"},c?r.a.createElement("div",{className:"btn-col pull-right"},r.a.createElement("button",{onClick:I,className:y()("btn btn-primary-dark btn-block btn-sm",{"progress-btn":O})},O?r.a.createElement("span",{className:"progress-bg"}):null,r.a.createElement("span",{className:"btn-txt"},"Undo"))):null))))}))},1664:function(e,t,a){"use strict";t.a=function(e,t){var a=Math.abs(window.scrollY-e)/(t/15),n=setInterval((function(){window.scrollY<=e?window.scrollBy(0,a):clearInterval(n)}),15)}},1668:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(590);function i(e,t,a){e(Object(n.a)({island_notification:!0,message:t,currentTarget:a}))}},1669:function(e,t,a){"use strict";function n(e,t){var a;if(!e)return 0;try{switch(typeof e){case"object":a=+e[t];break;case"string":a=+e;break;case"undefined":a=0;break;default:a=e||0}return a}catch(n){return 0}}a.d(t,"a",(function(){return n}))},1670:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),i=a.n(n),o=a(1696),r=a(20),l=i.a.forwardRef((function(e){var t,a=e.className,n=e.comfyScore,l=(e.setComfyScoreModal,e.refs),c=(t=n)<2?"#FF321D":t<4?"#FF561E":t<6?"#FE791F":t<8?"#FE9A21":"#FDC722",s=Object(r.a)()?o.b:o.a;return i.a.createElement(s,{className:a,comfyScore:n,bgColor:c,ref:l,style:{width:"0px"}})}))},1672:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),o=a(245),r=a(1594),l=a(190),c=a(171),s=a(340);function d(e){var t=e.itineraryId,a=e.configKey,d=e.transfer,u=e.isRemove;return function(m){return new Promise((function(p,f){var g="".concat(n.a.api_url).concat(d,"/").concat(t,"/").concat(encodeURIComponent(a));Object(i.a)({url:g,method:"".concat(u?"DELETE":"PUT"),body:e,onSuccess:function(e){Object(o.a)(m,e.data),Object(r.a)(m,u?s.v+" & Custom Instalment updated!":s.s+" & Custom Instalment updated!"),p("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,m),Object(c.a)(e,m),f("Failed")}})}))}}},1673:function(e,t,a){"use strict";var n=a(11),i=a(0),o=a.n(i),r=a(2),l=a(20),c=r.default.div.withConfig({displayName:"ScrollProgressBar__ProgressContainer"})(["position:absolute;left:0;top:0;right:0;background:",";height:4px;z-index:2;"],(function(e){return e.backgroundColor||"#000"})),s=r.default.span.withConfig({displayName:"ScrollProgressBar__ProgressLine"})(["position:absolute;top:0px;bottom:0px;left:0px;background:#777777;transition:width 0.3s;"]);t.a=function(e){var t=e.backgroundColor,a=void 0===t?"":t,i=o.a.useState(0),r=Object(n.a)(i,2),d=r[0],u=r[1];o.a.useEffect((function(){return window.addEventListener("scroll",m),function(){window.removeEventListener("scroll",m)}}),[]);var m=function(){var e=document.scrollingElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,a="".concat(e/t*100,"%");u(a)};return Object(l.a)()?null:o.a.createElement(c,{backgroundColor:a},o.a.createElement(s,{style:{width:d}}))}},1674:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(35),u=a.n(d),m=a(191),p=a(1673),f=a(23),g=a(156);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var y=function(e){Object(o.a)(a,e);var t=h(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={activeIndes:[],searchExpand:!1},e.onClickAction=function(t,a,n){t&&t.preventDefault();var i=e.state.activeIndes,o=i.indexOf(n);o>-1?i.splice(o,1):i.push(n),e.setState({activeIndex:i}),a.onClickAction()},e.onChangeAction=function(t){t&&t.preventDefault();var a=t.currentTarget.value;e.props.onChangeAction(a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isMobile,n=void 0!==a&&a,i=t.onClickCloseAction,o=t.headerContent,r=t.sortingContents,l=void 0===r?[]:r,d=t.searchPlaceHolder,h=void 0===d?"Find":d,y=t.enableSearch,v=void 0!==y&&y,b=t.rootClassName,E=void 0===b?null:b,C=t.defaultActiveIndes,O=void 0===C?null:C,x=t.isFetching,k=void 0===x?null:x,I=t.buttonText,N=void 0===I?"Back to itinerary":I,j=s.a.createElement("div",{className:"container sm-full-width lg-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:u()("col-xs-9 col-sm-11 left-txt",{"col-md-10":n,"col-md-3":!n})},s.a.createElement("p",{style:{display:"inline-block"}},s.a.createElement("img",{width:n?26:28,src:Object(f.a)("https://pyt-images.imgix.net/images/web_app/logo/logo-mark-white.svg"),onClick:function(){Object(g.a)("/","")},alt:"pickyourtrail",style:{marginRight:"6px",marginBottom:"2px"}}),o)),n?null:function(){var t=e.state.activeIndes,a=l.map((function(a,n){var i=(O||t).indexOf(n)>-1;return s.a.createElement("li",{onClick:function(t){return e.onClickAction(t,a,n)},key:n,className:u()("",{active:i})},i?s.a.createElement("i",{className:"pyt-sort-".concat("ASC"!=(a.sortOrder||"").toUpperCase()?"descending":"ascending","-16")}):null," ".concat(a.title))}));return s.a.createElement("div",{className:"col-md-6 hidden-sm hidden-xs"},s.a.createElement("section",{className:"mid-tabs"},k?null:s.a.createElement(c.Fragment,null,v?s.a.createElement("div",{className:"search ".concat(e.state.searchExpand?"expand":"")},s.a.createElement("input",{onChange:e.onChangeAction,onFocus:function(t){t&&t.preventDefault(),e.setState({searchExpand:!0})},value:e.props.searchTerm,onBlur:function(t){t&&t.preventDefault(),e.setState({searchExpand:!1})},type:"text",placeholder:h}),s.a.createElement("i",{className:"pyt-backspace-24",onClick:function(t){t&&t.preventDefault(),e.setState({searchExpand:!1,textValue:""},(function(){e.props.onChangeAction("")}))}})):null,s.a.createElement("ul",null,a))))}(),s.a.createElement("div",{className:u()("col-xs-3 col-sm-1 text-right",{"col-md-2":n,"col-md-3":!n})},n?s.a.createElement(m.a,{buttonClass:"action-btn",onClickAction:i},s.a.createElement("i",{className:"pyt-close-16"})):s.a.createElement(m.a,{buttonClass:"back-link",onClickAction:i,buttonText:N}))));return n?s.a.createElement("div",{className:E||"subheader-modals"},j):s.a.createElement("section",{className:E||"subheader-modals mbottom-medium"},s.a.createElement(p.a,null),j)}}]),a}(c.Component)},1675:function(e,t,a){"use strict";a.d(t,"b",(function(){return R}));var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(1686),m=a(14),p=a(15),f=a(49),g=a.n(f),h=a(289),y=a.n(h),v=a(7),b=a(1660),E=a(1596),C=a(1595),O=a(18),x=a(22),k=a(214),I=a(126),N=a(1669),j=a(1592),w=a(1593);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var T=m.a.api_url,R=function(e,t){var a=[],n=[],i=[],o=[],r=e.allFlightCostingRefs,l=void 0===r?[]:r,d=e.flightCostings,u=e.allHotelCostingRefs,m=void 0===u?[]:u,p=e.hotelCostings,f=e.allActivityCostingRefs,g=void 0===f?[]:f,h=e.activityCostings,y=e.allTransferCostingRefs,v=void 0===y?[]:y,C=e.allTrainCostingRefs,O=void 0===C?[]:C,x=e.allFerryCostingRefs,k=void 0===x?[]:x,I=e.allRentalCostingRefs,j=void 0===I?[]:I,w=e.allInsuranceCostingRefs,A=void 0===w?[]:w,T=e.transferCostings,R=e.trainCostings,S=e.ferryCostings,D=e.rentalCarCostings,P=e.allPassCostingRefs,_=void 0===P?[]:P,B=e.passCostings,L=e.allVisaCostingRefs,F=void 0===L?[]:L,M=e.visaCostings,V=e.insuranceCosting,U=e.customCostings,H=void 0===U?[]:U,z=e.itinerary,W=e.itinerary,G=W.taxesAndFees,K=W.grossCostWithoutTCS,Y=((null===G||void 0===G?void 0:G.costings)||[]).find((function(e){return"GST"===e.description})),q=Y?K-(null===Y||void 0===Y?void 0:Y.cost)||0:K;o.push({title:"Trip cost",cost:q});var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(!e.length||Object(E.a)(t))&&e.some((function(e){return t[e]&&"SUCCESS"!==t[e].status}))};if(l.length&&!t&&(a.push(b.a.Flights),n.push("pyt-flight-16"),i.push(J(l,d.costingById)?s.a.createElement(c.Fragment,null,l.length,s.a.createElement("i",{className:"pyt-serif-info-16"})," "):l.length),o.push({title:"Internal-Flights (".concat(l.length,")"),cost:d.totalPublishedCost})),m.length&&(a.push(b.a.Hotels),n.push("pyt-hotel-16"),i.push(J(m,p.costingById)?s.a.createElement(c.Fragment,null,m.length,s.a.createElement("i",{className:"pyt-serif-info-16"})," "):m.length),o.push({title:"Hotel (".concat(m.length,") - ").concat(z.nights," nights"),cost:p.totalPublishedCost})),v.length||O.length||k.length||j.length){a.push(b.a.Transfers),n.push("pyt-transfer-16");var Q=v.length+O.length+k.length+j.length,X=J(v,(T||{}).costingById)||J(O,(R||{}).costingById)||J(k,(S||{}).costingById)||J(j,(D||{}).costingById);i.push(X?s.a.createElement(c.Fragment,null,Q,s.a.createElement("i",{className:"pyt-serif-info-16"})," "):Q);var $=Object(N.a)(T,"totalPublishedCost")+Object(N.a)(R,"totalPublishedCost")+Object(N.a)(S,"totalPublishedCost")+Object(N.a)(D,"totalPublishedCost");o.push({title:"Transfer (".concat(Q,")"),cost:$})}if(g.length&&(a.push(b.a.Activities),n.push("pyt-activities-16"),i.push(J(g,h.costingById)?s.a.createElement(c.Fragment,null,g.length,s.a.createElement("i",{className:"pyt-serif-info-16"})," "):g.length),o.push({title:"Activity (".concat(g.length,")"),cost:h.totalPublishedCost})),F.length&&null!=M){a.push(b.a.VisaInsurance),n.push("pyt-insurance-16"),i.push(F.length+1);var Z=Object(N.a)(M,"totalPublishedCost");o.push({title:"Visa (".concat(F.length,")"),cost:Z})}if(A.length&&null!==V){a.push(b.a.VisaInsurance),n.push("pyt-insurance-16"),i.push(A.length+1);var ee=Object(N.a)(V,"totalPublishedCost");o.push({title:"Insurance (".concat(F.length,")"),cost:ee})}if(H.length){a.push(b.a.CustomCard),i.push(H.length);var te=0;(H||[]).forEach((function(e){return"CUSTOM"===(null===e||void 0===e?void 0:e.entity)?te+=e.publishedCost:null})),te&&o.push({title:"Others",cost:te})}return _.length&&(a.push(b.a.PassPanels),n.push("pyt-ticket-16"),i.push(_.length),o.push({title:"Passes (".concat(_.length,")"),cost:B.totalPublishedCost})),a.push(b.a.TotalCost),n.push("pyt-recepit-16"),null!==e&&void 0!==e&&e.abCardTotalPublishedCost&&o.push({title:"AB Card",cost:null===e||void 0===e?void 0:e.abCardTotalPublishedCost}),{panelMenu:a,menuIcons:n,priceDetails:o=o.filter((function(e){return!isNaN(parseInt(e.cost,10))})),menuIconCount:i}},S=function(e){Object(o.a)(a,e);var t=A(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={showEmailQuoteAlert:!1,emailQuoteResponse:""},e.getItineraryId=function(){return e.props.itineraryInfo.itinerary.itineraryId},e.suffleCostHandler=function(t){t.preventDefault();var a="".concat(T,"itinerary/").concat(e.getItineraryId(),"/shuffleCost");Object(x.a)({url:a,method:"GET",body:{},onSuccess:function(){return swal("Email will be sent with shuffled cost soon...")}})},e.toggleSplitPricing=function(t,a){t.preventDefault(),e.props.actions.toggleSplitPricing(a)},e.updateCostClickHandler=function(t){t&&t.preventDefault(),Object(p.Ld)(p.Vb,{button:p.Ac});var a=e.props,n=a.itineraryInfo,i=a.user_details,o=a.history,r=a.lastLocation,l=a.actions,c=o.location;if(i.loggedIn){var s=e.getItineraryId(),d=n.costingConfiguration;if(g()(d.departureDate,"DD/MMM/YYYY").isSameOrBefore(g()())&&-1===c.pathname.indexOf("get-cost"))c.pathname.includes("/view")?o.push(Object(v.Jb)({itineraryId:Object(O.a)(n,"itinerary.itineraryId"),regionCode:Object(O.a)(n,"itinerary.regionCode"),location:o.location,target:v.Db})):o.push("".concat(c.pathname,"/get-cost"));else{var u={itineraryId:s,costingType:"RECOST",costingConfig:d};l.getCost({itineraryId:s,regionCode:Object(O.a)(n,"itinerary.regionCode"),req_data:u,history:o,location:c,lastLocation:r})}}else-1===c.pathname.indexOf("get-cost")&&(c.pathname.includes("/view")?o.push(Object(v.Jb)({itineraryId:Object(O.a)(n,"itinerary.itineraryId"),regionCode:Object(O.a)(n,"itinerary.regionCode"),location:o.location,target:v.Db})):o.push("".concat(c.pathname,"/get-cost")))},e.bookTripCall=function(t){t&&t.preventDefault();var a=e.props,n=a.user_details,i=a.history,o=a.itineraryInfo,r=a.locale,l=Object(O.a)(o,"itinerary.itineraryId");Object(j.a)({permissions:null===n||void 0===n?void 0:n.permissions,key:w.p})&&Object(O.a)(o,"itinerary.booking")?i.push("/booking-notes/".concat(l)):(Object(p.Ld)(p.u,{button:p.Ac}),n.loggedIn||r?i.push(Object(v.Jb)({itineraryId:l,regionCode:Object(O.a)(o,"itinerary.regionCode"),location:i.location,target:v.k})):i.replace("/login"))},e.setComfyScoreModal=function(t){t&&t.preventDefault();var a=e.props,n=a.history,i=a.itineraryInfo,o=a.isItineraryPage;n.push(Object(v.Jb)({itineraryId:Object(O.a)(i,"itinerary.itineraryId"),regionCode:Object(O.a)(i,"itinerary.regionCode"),parentPage:o?v.Lb.itinerary:v.Lb.inclusion,target:v.x}))},e.emailQuoteClickHandler=function(t,a,n){t.preventDefault(),Object(p.Ld)(p.Cc,{button_clicked:"Inclusions - Cost Panel"}),Object(C.a)({props:e.props,emailId:a,callBack:n})},e.openChat=function(t,a){t&&t.preventDefault();var n=e.props,i=n.history,o=n.match,r=(void 0===o?{}:o).params,l=void 0===r?{}:r;l.itineraryId?i.push(Object(v.Jb)({itineraryId:l.itineraryId,regionCode:l.searchRegion,target:a,location:i.location})):l.destination?i.push("".concat(l.destination,"/request-whatsapp-chat")):i.push("request-whatsapp-chat")},e.triggerT20CBR=function(t){t&&t.preventDefault();var a=e.props.history;a.push("".concat(a.location.pathname).concat(I.a.CBR_ROUTE))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.itineraryInfo,n=void 0===a?{}:a,i=t.user_details,o=t.history,r=t.isReadOnly,l=t.itineraryAlerts,d=t.location,m=t.isItinerary,p=t.isSandune,f=t.goToInclusions,g=t.customOptions,h=void 0===g?{}:g,v=t.paxConfigText,b=t.isFromPackages,E=t.locale,x=n.itinerary,I=n.paymentSchedule,N=void 0===I?{}:I,A=x.booking,T=x.totalCost,S=x.netCost,D=x.shared,P=x.costed,_=x.staleCost,B=x.discounts,L=void 0===B?{}:B,F=x.taxesAndFees,M=x.grossCostWithoutTCS,V=((N||{}).paymentOptions||[]).filter((function(e){return!1===e.recommended}))||[{amount:T,percentage:100}];V=V.length>0?V[0]:{amount:T,percentage:100};var U=i&&i.loggedIn,H=i&&i.loggedIn&&"AGENT"===i.userType,z=i&&i.loggedIn&&"ADMIN"===i.userType,W=function(e){var t=e.permission;return Object(j.a)({permissions:null===i||void 0===i?void 0:i.permissions,key:t})&&!A},G=n.adult_count,K=n.child_count,Y=Object(k.b)(n),q=Object(C.e)(n,G,K),J=null===i||void 0===i?void 0:i.email;console.log({isNewUser:J});var Q={loggedIn:U,isItinerary:m,isFromPackages:b,hidePYTAdvantage:z||m&&!p,isSandune:p,goToInclusions:f,savingByDiscountAmount:L&L.costings&&1===L.costings.length&&"SANDUNE"===L.costings[0].discount?L.total:0,isReadOnly:r,location:d,history:o,getQuoteText:void 0===J?"Add Email":H?"Download PDF":"Mail this Quote",isAdmin:z,packageAmount:T,discountAmount:L.total,taxAmount:0,totalAmount:T,tripCost:M,discounts:L,netCost:S,isAgent:H,taxesAndFees:F,itineraryInfo:n,enableCheaperQuote:W({permission:w.F}),enableOverallDiscount:W({permission:w.c}),enableShareItinerary:!D&&W({permission:w.z}),enableChangeLocale:W({permission:w.I}),enableSwapItinerary:"mle"===Object(O.a)(n,"itinerary.regionCode")&&W({permission:w.H}),enablePlatoOption:W({permission:w.y}),enableSharePDF:W({permission:w.z}),enableSplitPricingOption:W({permission:w.G}),enableNetBankingOnly:W({permission:w.l}),splitPricing:x.splitPricing,booking:A,toggleSplitPricing:this.toggleSplitPricing,onShareItineraryClickAction:function(e){e&&e.preventDefault(),Object(u.d)(n,o)},onChangeLocaleClickAction:function(e){e&&e.preventDefault(),Object(u.g)(n,o)},onClickSwapItineraryAction:function(e){e&&e.preventDefault(),Object(u.f)(n,o)},itineraryId:this.getItineraryId(),onCheaperQuoteClickAction:this.suffleCostHandler,onCallbackClickAction:this.openChat,isUpdateCost:_,onBookTripClickAction:Y?this.triggerT20CBR:_?this.updateCostClickHandler:this.bookTripCall,onQuoteMailAction:this.emailQuoteClickHandler,blockAmount:V.amount,blockPercentage:V.percentage,alerts:Object(C.b)(Object(O.a)(l,"ITINERARY.alerts.itinerary"),!0)},X=R(n,r,z);return Q.panelMenu=X.panelMenu,Q.menuIcons=X.menuIcons,Q.menuIconCount=X.menuIconCount,Q.priceDetails=X.priceDetails,s.a.createElement(c.Fragment,null,s.a.createElement(y.a,{show:this.state.showEmailQuoteAlert,title:"Email successfully sent",text:this.state.emailQuoteResponse,animation:"pop",onConfirm:function(){return e.setState({showEmailQuoteAlert:!1})}}),s.a.createElement(u.a,Object.assign({},Q,{HeaderData:P?_?q.HeaderData:q.HeaderCostedData&&q.HeaderCostedData[0]:q.HeaderData,staleCost:_,setComfyScoreModal:this.setComfyScoreModal,customOptions:h,paxConfigText:v,locale:E,userDetails:i})))}}]),a}(c.Component);t.a=Object(d.c)((function(e){var t=e.app;return{locale:(void 0===t?{}:t).locale}}),null)(S)},1680:function(e,t,a){"use strict";e.exports=function(e){}},1681:function(e,t,a){"use strict";e.exports=a(1682)},1682:function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=a(36),o=n(a(0)),r=a(101);a(3),a(467);var l=n(a(136));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function d(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],0<=t.indexOf(a)||(i[a]=e[a]);return i}var u=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).history=r.createBrowserHistory(t.props),t}return s(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component),m=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).history=r.createHashHistory(t.props),t}return s(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component),p=function(e,t){return"function"==typeof e?e(t):e},f=function(e,t){return"string"==typeof e?r.createLocation(e,null,null,t):e},g=function(e){return e},h=o.forwardRef;void 0===h&&(h=g);var y=h((function(e,t){var a=e.innerRef,n=e.navigate,i=e.onClick,r=d(e,["innerRef","navigate","onClick"]),l=r.target,s=c({},r,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),n())}});return s.ref=g!==h&&t||a,o.createElement("a",s)})),v=h((function(e,t){var a=e.component,n=void 0===a?y:a,r=e.replace,s=e.to,u=e.innerRef,m=d(e,["component","replace","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||l(!1);var a=e.history,i=f(p(s,e.location),e.location),d=i?a.createHref(i):"",y=c({},m,{href:d,navigate:function(){var t=p(s,e.location);(r?a.replace:a.push)(t)}});return g!==h?y.ref=t||u:y.innerRef=u,o.createElement(n,y)}))})),b=function(e){return e},E=o.forwardRef;void 0===E&&(E=b);var C=E((function(e,t){var a=e["aria-current"],n=void 0===a?"page":a,r=e.activeClassName,s=void 0===r?"active":r,u=e.activeStyle,m=e.className,g=e.exact,h=e.isActive,y=e.location,C=e.sensitive,O=e.strict,x=e.style,k=e.to,I=e.innerRef,N=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||l(!1);var a=y||e.location,r=f(p(k,a),a),d=r.pathname,j=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=j?i.matchPath(a.pathname,{path:j,exact:g,sensitive:C,strict:O}):null,A=!!(h?h(w,a):w),T=A?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return e})).join(" ")}(m,s):m,R=A?c({},x,{},u):x,S=c({"aria-current":A&&n||null,className:T,style:R,to:r},N);return b!==E?S.ref=t||I:S.innerRef=I,o.createElement(v,S)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return i.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return i.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return i.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return i.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return i.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return i.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return i.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return i.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return i.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return i.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return i.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return i.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return i.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return i.withRouter}}),t.BrowserRouter=u,t.HashRouter=m,t.Link=v,t.NavLink=C},1684:function(e,t,a){"use strict";function n(){window.currentSize={width:window.innerWidth,height:window.innerHeight}}a.d(t,"a",(function(){return n}))},1685:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(35),u=a.n(d),m=a(106);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var f=function(e){Object(o.a)(a,e);var t=p(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={oldValue:+e.props.defaultValue||0,value:+e.props.defaultValue||0},e.counterAction=function(t,a){var n=e.state.value,i=e.props,o=i.incrementCount,r=void 0===o?1:o,l=i.decrementCount,c=void 0===l?1:l,s=i.min,d=void 0===s?0:s,u=i.max,m=void 0===u?10:u;n+="INCREMENT"===a?r:-c,e.props.isCounterEditable||(n=e.state.value),n>=d&&n<=m?e.setState({value:n},(function(){e.props.onClickAction&&e.props.onClickAction(t,e.state.value)})):e.props.onClickAction&&e.props.onClickAction(t,e.state.value)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.decrementClass,n=t.incrementClass,i=t.min,o=t.max,r=t.prefix,l=t.suffix,c=t.singularSuffixText,d=t.rootClassName,p=t.customValueAction,f=t.incTooltip,g=t.decTooltip,h=t.minTooltip,y=t.maxTooltip,v=t.disabled,b=this.state.value,E=s.a.createElement("i",{className:u()(a,{disabled:v||b<=i}),onClick:function(t){e.counterAction(t,"DECREMENT")}}),C=s.a.createElement("i",{className:u()(n,{disabled:v||b>=o}),onClick:function(t){e.counterAction(t,"INCREMENT")}});return s.a.createElement("div",{className:d},s.a.createElement(m.a,{text:h&&b===i?h:g},E),s.a.createElement("span",{className:"meta-text"}," ",r,p(b),b>1?l:c||l," "),s.a.createElement(m.a,{text:y&&b===o?y:f},C))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.defaultValue!==t.oldValue?{oldValue:+e.defaultValue,value:+e.defaultValue}:t}}]),a}(c.Component);f.defaultProps={decrementClass:"pyt-minus-16",incrementClass:"pyt-plus-16",min:0,max:10,prefix:"",suffix:"",rootClassName:"days-counter",customValueAction:function(e){return e}}},1686:function(e,t,a){"use strict";var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(290),u=a(36),m=a(2),p=a(191),f=a(598),g=a(156),h=a(62),y=a(14),v=a(22),b=a(1),E=a(193),C=a(1664),O=a(30),x=a(54),k=a(1629),I=a(1654),N=a(1337);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var w=m.default.aside.withConfig({displayName:"itineraryLeftTab__RouteOverviewWrapper"})(["width:100%;padding:24px 12px 0 0;"]),A=function(e){Object(o.a)(a,e);var t=j(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={cities:[],preProps:e.props.itineraryInfo.iterCities,tooltipKey:null,headerClassName:"timeline-row",isRemoveCityLoading:!1,isApplyChangesLoading:!1,isRemoveConfirmationVisible:!1,isEditCityVisible:!1,isEditCityClosing:!1,editCityMode:"add",cityToReplace:0,cityToDelete:-1,citySelectedToReplace:{},editCityOptions:{},isApplyChangesEnabled:!1,setTop:!0,topLocation:72},e.scrollListener=function(){var t=document.getElementsByClassName("trip-timeline-heading")[0],a=document.getElementsByTagName("footer")[0];if(t&&a){var n=t.parentElement.getBoundingClientRect(),i=n.y,o=n.height;i=i<0?124:i;var r=a.getBoundingClientRect(),l=e.state.setTop,c=i+o+10,s=r.y;c<s&&!l?e.setState({setTop:!0}):c>s&&l&&e.setState({setTop:!1})}},e.renderftrButton=function(e){return e.map((function(e,t){return s.a.createElement(p.a,{key:t,buttonClass:e.className,buttonText:e.text,type:"button"})}))},e.applyChanges=function(t,a){var n=e.state.cities.map((function(e){return Object(b.a)({},e)}));n[t].nights=a;var i=n[t].cityName.replace(" ","_")+"_box"+t,o=document.getElementById(i),r=o?o.offsetTop-100:0;Object(C.a)(r,500),e.setState({cities:n},(function(){var t={itineraryId:e.props.itineraryInfo.itinerary.itineraryId,cities:e.state.cities.map((function(e){return e.cityId})),nights:e.state.cities.map((function(e){return e.nights}))};e.props.editCityModalApplyChanges(t.itineraryId,t).then((function(){})).catch((function(){}))}))},e.updateNightsInIcon=function(t,a,n){e.setState({tooltipKey:a.cityName+"_"+n,headerClassName:Object(h.a)(e.state.headerClassName,["open-dropdown"])?"timeline-row":"timeline-row open-dropdown"})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.locale?280:220;this.setState({cities:this.props.itineraryInfo&&this.props.itineraryInfo.iterCities,topLocation:e}),this.props.isFromPackages&&window.addEventListener("scroll",this.scrollListener)}},{key:"componentWillUnmount",value:function(){window.addEventListener("scroll",this.scrollListener)}},{key:"render",value:function(){var e=this.props,t=e.isReadOnly,a=e.itineraryInfo.itinerary,n=(void 0===a?{}:a).booking;return s.a.createElement(c.Fragment,null,s.a.createElement(w,{id:"leftside_container",className:"".concat(t||n?"isDisabled":null)},s.a.createElement("div",{className:"trip-timeline-heading"}),s.a.createElement(N.default,Object.assign({isModal:!1,rootClassName:"trip-timeline"},this.props))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Object(E.a)(e.itineraryInfo.iterCities,t.preProps)?null:{cities:e.itineraryInfo&&e.itineraryInfo.iterCities,preProps:e.itineraryInfo.iterCities}}}]),a}(c.Component),T=Object(O.c)((function(e){var t=e.app;return{itineraryInfo:t.itineraryInfo,user_details:t.user_details,removeCityInfo:t.removeCityInfo}}),(function(e){return{editCityModalApplyChanges:Object(x.b)(k.a,e),updateEditableDetails:Object(x.b)(I.a,e)}}))(A),R=a(7),S=a(15),D=a(1338),P=a(1722),_=a(5),B=a(110),L=a(55),F=m.default.div.withConfig({displayName:"DiscountSection__DiscountWrapper"})(["display:block;width:100%;text-align:center;color:",";",";font-weight:",";position:relative;background-color:#8b35bf;padding:7px 8px;margin-bottom:6px;&:after{content:'';width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #8b35bf;position:absolute;bottom:-6px;left:24px;}"],_.theme.white,B.i,_.theme.semiBold);var M=function(e){var t=e.price,a={value:t};return t?s.a.createElement(F,null,"You save \xa0",s.a.createElement(L.a,{objectData:a,path:"value",defaultValue:"0"}),"\xa0on the total trip cost!"):null},V=a(214),U=a(106),H=a(1670),z=a(35),W=a.n(z),G=a(1595),K=m.default.span.withConfig({displayName:"GetCostingDetails__AnchorText"})(["",""],(function(e){return!e.disableClick&&Object(m.css)(["color:#2677f0;opacity:0.8;cursor:pointer;:hover{color:#2677f0;opacity:1;}"])})),Y=function(e){var t=e.itineraryInfo,a=void 0===t?{}:t,n=e.HeaderData,i=void 0===n?{}:n,o=a.costingConfiguration,r=void 0===o?{departureAirport:"",hotelGuestRoomConfigurations:0}:o,l=a.itinerary,d=void 0===l?{}:l,u=a.flightCostings,m=(void 0===u?{}:u).costingById,p=void 0===m?{}:m,f=d.booking,g=void 0!==f&&f,h=d.costed,y=void 0!==h&&h,v=d.staleCost,b=void 0!==v&&v,E=i.costingConfig,C=void 0===E?{dateMonth:"",totalAdults:"",price:0}:E,O=Object.values(p||[]).some((function(e){return"BLOCKED"===e.status})),x=r.hotelGuestRoomConfigurations.length;return s.a.createElement(U.a,{text:g||O?"":"Edit trip details",placement:"bottom"},s.a.createElement(c.Fragment,null,s.a.createElement("i",{className:"pyt-edit-16"}),s.a.createElement(K,{className:W()("meta-text block semi-bold"),disableClick:g||O,onClick:function(t){return g||O?null:Object(G.i)(t,y?"UCM":"GCM",e)}},y&&!b?"".concat(C.dateMonth," . ").concat(C.from?"".concat(C.from," ."):""," ").concat(C.totalAdults," . ").concat(x," ").concat(x>1?"rooms":"room"):"".concat(y?"Update":"Enter"," Travel details"))))},q=a(592),J=a(137),Q=a(1723),X=a(20),$=a(18),Z=a(42),ee=y.a.api_url,te=m.default.div.withConfig({displayName:"WhatsAppUsCard__GlobalWhatsappLink"})(["border:1px solid #80e3c2;border-radius:8px;padding:8px 16px;margin:15px 0 8px;display:flex;justify-content:space-between;align-items:center;background-color:#f7f8fb;cursor:pointer;transition:all 150ms ease-out;:hover{background-color:",";}div{display:flex;align-items:center;div{display:flex;flex-direction:column;align-items:flex-start;p{font-size:15px;line-height:20px;letter-spacing:-0.295652px;color:#333333;margin-bottom:0;}span{font-size:13px;line-height:16px;letter-spacing:-0.295652px;color:#aaaaaa;}}}& > i{color:#00b277;}"],_.theme.white),ae=m.default.div.withConfig({displayName:"WhatsAppUsCard__ProfilePicture"})(["width:max-content;img{width:72px;margin-right:16px;}"]),ne=function(){var e=Object(u.useParams)().itineraryId,t=Object(O.e)((function(e){var t=e.itinerary,a=void 0===t?{}:t;return Object($.a)(a,"owners.salesOwner",{})}));return Object(Z.a)(t)?null:s.a.createElement(te,{onClick:function(){return function(e){var t=window.open();Object(v.a)({url:"".concat(ee,"itinerary/whatsAppLink?itineraryId=").concat(e),method:"GET",body:{},onSuccess:function(e){"SUCCESS"===e.status&&(t.location.href=e.data)}})}(e)}},s.a.createElement("div",null,s.a.createElement(ae,null,s.a.createElement("img",{src:t.imageUrl,alt:"profile"})),s.a.createElement("div",null,s.a.createElement("p",null,"Whatsapp ",t.name),s.a.createElement("span",null,"Planned ",t.tripsPlanned||800,"+ trips so far"))),s.a.createElement("i",{className:"pyt-chevron-right-16"}))},ie=a(254),oe=a(1732),re=a(2594),le=a(1592),ce=a(1593),se=a(1724),de=a(92);function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}a.d(t,"e",(function(){return Oe})),a.d(t,"d",(function(){return xe})),a.d(t,"b",(function(){return ke})),a.d(t,"g",(function(){return Ie})),a.d(t,"f",(function(){return Ne})),a.d(t,"c",(function(){return je}));var me=y.a.api_url,pe=m.default.div.withConfig({displayName:"RightSidePanel__VerticalSplitBar"})(["content:' ';border-bottom:1px solid #e5e5e5;margin:1em -1.1em 1em -1.4em;"]),fe=m.default.div.withConfig({displayName:"RightSidePanel__PriceBox"})(["width:100%;color:#53576d;border:1px solid #d4d4d4;padding:24px 18px "," 24px;border-radius:8px;min-height:",";background:",";"],(function(e){return e.paddingBottom||0}),(function(e){return e.minHeight||"300px"}),_.theme.white),ge=m.default.div.withConfig({displayName:"RightSidePanel__PriceCol"})(["padding:0 24px 0px;margin:0 -24px;display:flex;flex-wrap:wrap;-webkit-flex-align:center;align-items:center;.tooltip{z-index:2;display:none;margin-top:0;.tooltip-inner{min-width:200px;max-width:200px;ul{li{display:flex;align-items:center;justify-content:space-between;width:100%;padding:4px;span{color:#d4d4d4;& + span{padding-left:4px;color:",";}}&:last-child{&:not(.disabled-line){border-top:1px solid rgba(255,255,255,0.4);margin-top:4px;padding-top:8px;span:last-child{font-weight:bold;}}}}}}}.info-icon{margin-left:4px;position:relative;&:hover{.tooltip{display:inline-block;}}.tooltip.bottom{top:100%;left:50%;transform:translateX(-50%);}}"],_.theme.white),he=m.default.ul.withConfig({displayName:"RightSidePanel__AdvantageList"})(["margin-bottom:20px;color:",";padding-left:0;li{display:block;position:relative;padding-left:24px;margin-bottom:12px;&:before{content:'\\E94D';font-family:pyticon;position:absolute;left:0;top:0;font-size:",";line-height:1;}}"],_.theme.grey,_.theme.base),ye=m.default.div.withConfig({displayName:"RightSidePanel__ShareLinks"})(["ul{display:flex;justify-content:center;margin:16px -18px "," -24px;width:auto;color:#006342;background-color:#e5f9f3;border-top:",";border-radius:",";li{width:100%;height:40px;transition:all 0.2s;justify-content:center;display:flex;align-items:center;padding:6px 12px;border-left:1px solid #c4c4c4;cursor:pointer;&:hover,&:focus{opacity:0.8;}&:first-child{border-left:none;}i{margin-right:6px;font-size:16px;}}}"],(function(e){return e.isLastRow?"0":"16px"}),(function(e){return e.isLastRow?"1px solid rgba(0, 0, 0, 0.1)":"none"}),(function(e){return e.isLastRow?"0 0 8px 8px":"0"})),ve=m.default.div.withConfig({displayName:"RightSidePanel__AdminLinks"})(["width:100%;border:1px solid #e5e5e5;border-radius:8px;margin-top:20px;background-color:#fff;ul{display:flex;flex-direction:column;justify-content:center;margin:0;width:100%;color:#333;padding:0;li{width:100%;transition:all 0.2s;justify-content:flex-start;display:flex;align-items:center;padding:12px 24px;border-top:1px solid #e5e5e5;cursor:pointer;&:hover,&:focus{opacity:0.8;}a{color:inherit;font-size:16px;line-height:20px;letter-spacing:-0.02em;}&:first-child{border-top:none;}i{margin-right:6px;font-size:16px;}}}"]),be=m.default.div.withConfig({displayName:"RightSidePanel__GCMTextWrapper"})(["background:",";height:44px;display:flex;align-items:center;justify-content:center;border-top-left-radius:8px;border-top-right-radius:8px;margin:-24px -18px 18px -24px;border-bottom:1px solid #e5e5e5;"],_.theme.white),Ee=function(e){var t,a=e.enablePlatoOption,n=e.itineraryId,i=e.enableCheaperQuote,o=e.onCheaperQuoteClickAction,r=void 0===o?function(){}:o,l=e.enableShareItinerary,d=e.onShareItineraryClickAction,u=void 0===d?function(){}:d,m=e.onChangeLocaleClickAction,p=void 0===m?function(){}:m,f=e.enableChangeLocale,g=e.onClickSwapItineraryAction,h=void 0===g?function(){}:g,v=e.enableSwapItinerary,b=e.enableSharePDF,E=e.itineraryInfo,C=e.enableSplitPricingOption,O=e.enableNetBankingOnly,x=e.toggleSplitPricing,k=void 0===x?function(){}:x,I=e.actions,N=void 0===I?{}:I,j=e.splitPricing,w=e.netBankingOnly,A=e.history,T=e.userDetails,S=e.onQuoteMailAction,D=e.getQuoteText,P=e.booking,_=(null===(t=E.itinerary)||void 0===t?void 0:t.dealSizeHistory)||[];return s.a.createElement(c.Fragment,null,l?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return u(e)},href:" "},s.a.createElement("i",{className:"pyt-share-16"})," Share Itinerary")):null,P?null:Object(le.a)({permissions:null===T||void 0===T?void 0:T.permissions,key:ce.j})&&s.a.createElement("li",{style:{cursor:"pointer"}},s.a.createElement("a",{onClick:"Add Email"===D?function(){return Object(de.a)("/account?edit=true")}:S},s.a.createElement("i",{className:"pyt-email-16"})," ",D)),a?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),je(n)},href:" "},s.a.createElement("i",{className:"pyt-navigation-16"}),"Send to PLATO")):null,Object(le.a)({permissions:null===T||void 0===T?void 0:T.permissions,key:ce.C})?s.a.createElement("li",null,s.a.createElement("a",{href:"_",onClick:function(e){return ke(e,E,A)}},s.a.createElement("i",{className:"pyt-close-circle-16"})," Cancellation Policy")):null,P?null:Object(le.a)({permissions:null===T||void 0===T?void 0:T.permissions,key:ce.j})&&s.a.createElement("li",{className:"pyt-pdf-16"},s.a.createElement("a",{style:{display:"flex",flexDirection:"row",alignItems:"center",fontFamily:"Source Sans Pro"},href:"".concat(y.a.api_url,"cost/").concat(n,"/downloadItineraryPdf"),download:!0},s.a.createElement(re.a,{style:{marginRight:"10px"},fill:"rgb(51, 51, 51)"}),"Download PDF")),b?s.a.createElement("li",null,s.a.createElement("a",{target:"_blank",href:"_",onClick:function(e){Oe(e,E,n)}},s.a.createElement("i",{className:"pyt-whatsapp-16"})," Share PDF on WhatsApp")):null,Object(le.a)({permissions:null===T||void 0===T?void 0:T.permissions,key:ce.p})?s.a.createElement("li",null,s.a.createElement("a",{href:"/booking-notes/".concat(n)},s.a.createElement("i",{className:P?"pyt-edit-24":"pyt-plus-24"})," ",P?"Edit":"Add"," HOD")):null,Object(le.a)({permissions:null===T||void 0===T?void 0:T.permissions,key:ce.o})?s.a.createElement("li",null,s.a.createElement("a",{href:"/booking-message/".concat(n)},s.a.createElement("i",{className:P?"pyt-edit-24":"pyt-plus-24"})," ",P?"Edit":"Add"," Booking Message")):null,O?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation(),swal({title:w?"Remove Netbanking payment restriction?":"Restrict payment to Netbanking/UPI only?",text:w?"All payment options will be enabled":"All Credit card offers will be removed, same applies for future installments",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes! Proceed",closeOnConfirm:!0,closeOnCancel:!0},(function(e){e&&N.toggleNetbankingPGSettings({itineraryId:n,netBankingOnly:!w})}))},href:" "},s.a.createElement("i",{className:"pyt-recepit-16"}),w?"Enable all payment options":"Enable Net banking payment only")):null,Object(le.a)({permissions:null===T||void 0===T?void 0:T.permissions,key:ce.E})&&null!==_&&void 0!==_&&_.length?s.a.createElement("li",null,s.a.createElement("a",{href:"_",onClick:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;e&&e.preventDefault();var n=t.itinerary,i=n.regionCode,o=n.itineraryId;a.push(Object(R.Jb)({itineraryId:o,regionCode:i,location:a.location,parentPage:R.Lb.inclusion,target:R.z}))}(e,E,A)}},s.a.createElement("i",{className:"pyt-info-16"})," Deal Size History")):null,f?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return p(e)},href:" "},s.a.createElement("i",{className:"pyt-global-24"})," Update Locale")):null,v?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return h(e)},href:" "},s.a.createElement("i",{className:"pyt-flag-outline-24"})," Swap Itinerary")):null,C?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return k(e,{itineraryId:n,splitPricing:!j})},href:" "},s.a.createElement("i",{className:"pyt-recepit-16"}),j?" Disable":" Enable"," split pricing for customer")):null,i?s.a.createElement("li",null,s.a.createElement("a",{onClick:function(e){return r(e)},href:" "},s.a.createElement("i",{className:"pyt-saving-money-16"})," Get better cost")):null)},Ce=function(e){Object(o.a)(a,e);var t=ue(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={enableBookTrip:!0,openMenuItems:!1,enableStick:!1,showMore:!1,onSuccess:!1,onLoading:!1},e.componentDidMount=function(){window.addEventListener("scroll",e.scrollListener)},e.componentWillUnmount=function(){window.removeEventListener("scroll",e.scrollListener)},e.setShowMore=function(t){e.setState({showMore:t})},e.scrollListener=function(){e.setState({enableStick:window.scrollY>=30})},e._onEditClick=function(t){t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var a=e.props,n=a.history,i=a.location,o=a.itineraryInfo,r=(void 0===o?{itinerary:{}}:o).itinerary,l=r.itineraryId,c=r.regionCode;if(r.booking)return!1;n.push(Object(R.Jb)({itineraryId:l,regionCode:c,location:i,target:R.lb,customParams:{called_from:"TOTAL_COST"}}))},e._closeMenu=function(){e.setState({openMenuItems:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){var e,t,a,n,i=this,o=this.props,r=o.loggedIn,l=o.totalAmount,u=o.discountAmount,m=o.goToInclusions,f=void 0===m?function(){}:m,g=o.onBookTripClickAction,h=void 0===g?function(){}:g,v=o.onCallbackClickAction,b=void 0===v?function(){}:v,E=o.isUpdateCost,C=o.onQuoteMailAction,O=void 0===C?function(){}:C,x=o.enableOverallDiscount,k=o.netCost,I=o.isAgent,N=o.priceDetails,j=void 0===N?[]:N,w=o.getQuoteText,A=o.booking,S=o.itineraryInfo,_=void 0===S?{}:S,B=o.itineraryId,F=o.isAdmin,z=void 0!==F&&F,W=o.isItinerary,K=o.isSandune,J=o.staleCost,$=o.savingByDiscountAmount,Z=o.enablePlatoOption,ee=o.setComfyScoreModal,te=void 0===ee?function(){}:ee,ae=o.customOptions,re=void 0===ae?{}:ae,se=o.paxConfigText,ue=void 0===se?"":se,me=o.hidePYTAdvantage,Ce=o.taxesAndFees,Oe=o.discounts,xe=o.locale,Ie=o.history,Ne=o.userDetails,je=this.state.showMore,we=y.a.enable_Contact_Number,Ae=Object(V.b)(_),Te={value:k},Re={value:l},Se={value:$},De={value:u},Pe=(K||!K&&!W)&&we?Object(ie.a)():null,_e=Object(le.a)({permissions:null===Ne||void 0===Ne?void 0:Ne.permissions,key:ce.p}),Be=_e&&A?"Edit HOD":Ae?"Reserve":E?"Update trip cost":"Book now",Le=_.itinerary,Fe=void 0===Le?{}:Le,Me=_.flow,Ve=Fe.strikedCost,Ue=Fe.costed,He=Fe.campaign,ze=Fe.netBankingOnly,We=0;_&&_.itinerary&&(We=isNaN(_.itinerary.comfyScore)?0:Number(_.itinerary.comfyScore).toFixed(2));var Ge=re.marginTop,Ke=re.enableSticky,Ye=re.stickTop,qe=re.hideComfyScore,Je=(Me||"").includes(q.a),Qe=null===_||void 0===_||null===(e=_.itinerary)||void 0===e?void 0:e.partialPaid,Xe=j.length?j.filter((function(e){var t,a;return null===(t=e.title)||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes("trip")}))[0]:{},$e=null===Ne||void 0===Ne||null===(t=Ne.userType)||void 0===t?void 0:t.includes("FRANCHISE");return s.a.createElement(D.RightContainer,{style:{marginTop:Ge||"-210px",float:"right",paddingRight:"0px"}},this.state.openMenuItems?s.a.createElement("div",{className:"fade in",style:{position:"fixed",opacity:0,top:0,right:"0",bottom:"0",left:"0",zIndex:5,backgroundColor:"#2c2f42"},onClick:function(e){e&&e.preventDefault(),i.setState({openMenuItems:!1})}}):null,s.a.createElement(d.a,{bottomBoundary:"#faq",top:void 0!==Ye?Ye:18,enabled:void 0!==Ke?Ke:this.state.enableStick},s.a.createElement("aside",{className:"price-card"},s.a.createElement(fe,{minHeight:"auto"},s.a.createElement(be,null,s.a.createElement(Y,this.props)),!J&&K?s.a.createElement("div",{className:"meta-text text-center mbottom-medium"},s.a.createElement(M,{price:$})):null,s.a.createElement(ge,null,Ue?s.a.createElement("div",{className:"".concat(Ae?"col-md-7":"col-md-5"," pl-0 pr-0")},J?null:s.a.createElement(c.Fragment,null,I?s.a.createElement("span",{className:"meta-text color-grey clearfix"},"Net Price: ",s.a.createElement(L.a,{objectData:Te,path:"value",defaultValue:"0"}),s.a.createElement("i",{className:"color-base pyt-edit-16",onClick:this._onEditClick})):null,ue?s.a.createElement("span",{className:"meta-text block ".concat(K?"":"text-right")},ue):null,!J&&K&&Ve||Je&&Ve?s.a.createElement("p",{className:"mb-0 color-grey-medium meta-text ".concat(K?"":"text-right")},s.a.createElement("span",{className:"strike-line"},s.a.createElement(L.a,{objectData:Fe,path:"strikedCost",defaultValue:"0"}))):null,s.a.createElement("p",{className:"medium-heading-sm mb-0 ".concat(K||Ae?"":"text-right")},Ae?s.a.createElement(c.Fragment,null,s.a.createElement("span",{className:"meta-text block ".concat(K?"":"text-right")},"Starting from"),s.a.createElement("span",{className:"block"},s.a.createElement("b",{className:"valign-middle"},s.a.createElement(L.a,{objectData:Re,path:"value",defaultValue:"0"})),s.a.createElement("i",{className:"fs-normal meta-text valign-middle"},"/person"),s.a.createElement(U.a,{text:"Price is based on double occupancy.",placement:"bottom"},s.a.createElement("i",{className:"pyt-info-16 cursor-pointer main-para color-grey info-icon valign-middle"})))):s.a.createElement("b",null,s.a.createElement(L.a,{objectData:Re,path:"value",defaultValue:"0"})),!Ae&&r&&!xe&&((null===Ce||void 0===Ce||null===(a=Ce.costings)||void 0===a?void 0:a.length)>0||(null===Oe||void 0===Oe||null===(n=Oe.costings)||void 0===n?void 0:n.length)>0)?s.a.createElement("span",{className:"pyt-faq-16 main-para color-grey info-icon"},s.a.createElement("div",{role:"tooltip",className:"fade in tooltip bottom"},s.a.createElement("div",{className:"tooltip-arrow"}),s.a.createElement("div",{className:"tooltip-inner"},s.a.createElement("ul",{className:"list-unstyled mb-0 regular text-left"},(j||[]).map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("span",null,e.title),s.a.createElement("span",null,s.a.createElement(L.a,{objectData:e,path:"cost",defaultValue:"0"})))})),((null===Ce||void 0===Ce?void 0:Ce.costings)||[]).map((function(e,t){return s.a.createElement("li",{className:"GST"===e.description||"TCS"===e.description?"text-uppercase":"text-capitalize",key:"taxes-and-fees-".concat(t)},s.a.createElement("span",null,e.description.replace(/_/g," ").toLowerCase()),s.a.createElement("span",null,s.a.createElement(L.a,{objectData:e,path:"cost",defaultValue:"0"})))})),Object(le.a)({permissions:null===Ne||void 0===Ne?void 0:Ne.permissions,key:ce.c})?s.a.createElement(c.Fragment,null,K&&$?s.a.createElement("li",null,s.a.createElement("span",null,"Discount"),s.a.createElement("span",null,s.a.createElement(L.a,{objectData:Se,path:"value",defaultValue:"0"}))):null,u&&Z?s.a.createElement("li",null,s.a.createElement("span",null,K?"Admin Discount":"Discount"),s.a.createElement("span",null,s.a.createElement(L.a,{objectData:De,path:"value",defaultValue:"0"}))):null):(Oe.costings||[]).map((function(e,t){return s.a.createElement("li",{className:"GST"===e.description||"TCS"===e.description?"text-uppercase":"text-capitalize",key:"taxes-and-fees-".concat(t)},s.a.createElement("span",null,e.description.replace(/_/g," ").toLowerCase()),s.a.createElement("span",null,"- ",s.a.createElement(L.a,{objectData:e,path:"cost",defaultValue:"0"})))})),$&&K?s.a.createElement("li",{className:"disabled-line"}):s.a.createElement("li",null,s.a.createElement("span",null,"Total Cost"),s.a.createElement("span",null,s.a.createElement(L.a,{objectData:Re,path:"value",defaultValue:"0"}))))))):null,x&&!Ae?s.a.createElement("i",{className:"pyt-edit-16 main-para color-grey cursor-pointer",onClick:this._onEditClick}):null))):null,s.a.createElement("div",{className:"".concat(Ue&&J&&W?"col-md-12 pl-0":Ae?"col-md-5 pl-0":Ue?"col-md-7":"col-md-12 pl-0"," pr-0 ").concat(W?"pb-10":"")},s.a.createElement("div",{className:Ue&&J&&W||!Ue?"":Ae?"pull-right":"dropdown pull-right ".concat(J?"btn-group-primary":"btn-group btn-group-primary"," ").concat(this.state.openMenuItems?"open":"")},W?s.a.createElement(p.a,{isDisabled:!!A&&(!_e&&(!(E&&!A)&&(A||J))),buttonClass:"btn btn-xl btn-block btn-primary",buttonText:J?Be:K?"Review Inclusions":Ue?A&&_e?"Edit HOD":"Book this trip":"Get trip cost",onClickAction:A&&_e?function(){Ie.push("/booking-notes/".concat(B))}:Ue?Ue&&!J?h:f:function(e){return Object(G.i)(e,"GCM",i.props)}}):s.a.createElement(c.Fragment,null,s.a.createElement(p.a,{buttonClass:"btn btn-xl btn-primary",buttonText:Be,isDisabled:!!A&&(!_e&&(!E&&!this.state.enableBookTrip||0==l&&!E||(!Qe||!Object(le.a)({permissions:null===Ne||void 0===Ne?void 0:Ne.permissions,key:ce.b}))&&Qe)),onClickAction:h}),J||Ae||_e?null:s.a.createElement(p.a,{buttonClass:"btn btn-xl btn-primary dropdown-toggle",onClickAction:function(e){e&&e.preventDefault(),i.setState({openMenuItems:!i.state.openMenuItems})}},s.a.createElement("i",{className:"pyt-chevron-down-16 valign-middle"})),_e?null:s.a.createElement("ul",{className:"dropdown-menu meta-text",onMouseLeave:this._closeMenu},s.a.createElement(Ee,Object.assign({},this.props,{netBankingOnly:ze,userDetails:Ne}))))))),xe||z?Object(X.a)()||W?null:s.a.createElement(pe,null):null,W||!xe&&!Object(le.a)({permissions:null===Ne||void 0===Ne?void 0:Ne.permissions,key:ce.L})?null:s.a.createElement(Q.c,{priceDetails:j||[],staleCost:J,isSandune:K,savingByDiscountAmount:$,savingDiscount:Se,discountAmount:u,taxesAndFees:Ce,discountCost:De,totalCost:Re,setShowMore:this.setShowMore,showMore:je,userDetails:Ne,isAdmin:z}),z||J||xe||!Ce||$e?null:s.a.createElement(s.a.Fragment,null,s.a.createElement(pe,null),s.a.createElement(Q.d,{isMobile:X.a},s.a.createElement(Q.b,null,"Trip cost"),s.a.createElement("span",null,s.a.createElement(L.a,{objectData:Xe,path:"cost",defaultValue:"0"}))),(Ce.costings||[]).map((function(e,t){if("PLANNING_FEE"!==e.description)return s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.d,{key:t,isMobile:X.a},s.a.createElement(Q.b,null,e.description.replace(/_/g," ").toUpperCase()),s.a.createElement("span",null,"PLANNING_FEE"!==e.description?s.a.createElement(L.a,{objectData:e,path:"cost",defaultValue:"0"}):null)),t===Ce.costings.length-1?s.a.createElement(Q.e,null):null)})),s.a.createElement(Q.d,{isMobile:X.a},s.a.createElement(Q.b,{bold:!0},"Payable Amount"),s.a.createElement(Q.a,null,s.a.createElement(L.a,{objectData:Re,path:"value",defaultValue:"0"})))),_e?null:s.a.createElement(ye,{isLastRow:W&&!K},s.a.createElement("ul",{className:"reset-list meta-text semi-bold vertical-center"},Pe?s.a.createElement("li",{onClick:function(e){return b(e,R.r)}},s.a.createElement("i",{className:"pyt-phone-16"})," ","Request callback"):null,Ue&&!J&&!Ae&&Object(le.a)({permissions:null===Ne||void 0===Ne?void 0:Ne.permissions,key:ce.C})&&s.a.createElement("li",{onClick:function(e){return ke(e,_,Ie)}},s.a.createElement("i",{className:"pyt-excluded-16"}),"Cancellation terms"),Object(le.a)({permissions:null===Ne||void 0===Ne?void 0:Ne.permissions,key:ce.j})&&s.a.createElement("li",{onClick:"Add Email"===w?function(){return Object(de.a)("/account?edit=true")}:O},s.a.createElement("i",{className:"pyt-email-16"}),w))),qe?null:parseInt(parseInt(We).toFixed())?s.a.createElement(H.a,{comfyScore:We,setComfyScoreModal:te}):null,me||je||K&&J?null:K?s.a.createElement(P.a,{data:_.itineraryInclusions}):s.a.createElement(c.Fragment,null,s.a.createElement("p",{className:"small-heading semi-bold vertical-center mtop-medium"},s.a.createElement("img",{height:"28",src:"https://pyt-images.imgix.net/images/web_app/icons/pyt_recommend.svg",alt:"Advantages"}),"\xa0\xa0Pickyourtrail Advantage"),s.a.createElement(he,{className:"meta-text"},Ae?s.a.createElement(c.Fragment,null,s.a.createElement("li",null,"Official World Cup T20 ticketing partner"),s.a.createElement("li",null,"Flexible payment options"),s.a.createElement("li",null,"100% customisable itineraries"),s.a.createElement("li",null,"Certified Tourism Australia consultants"),s.a.createElement("li",null,"Live trip assistance & expert tips")):s.a.createElement(c.Fragment,null,s.a.createElement("li",null,"All inclusive real-time pricing"),s.a.createElement("li",null,"Travel concierge through app"),s.a.createElement("li",null,"Flexible payment options")))))),He||_e?null:s.a.createElement(ne,null),Object(le.a)({permissions:null===Ne||void 0===Ne?void 0:Ne.permissions,key:ce.h})?s.a.createElement(oe.a,{showPopUp:Object(le.a)({permissions:null===Ne||void 0===Ne?void 0:Ne.permissions,key:ce.h})}):null,W?s.a.createElement(T,this.props):_e&&Ue&&!J?s.a.createElement(ve,null,s.a.createElement("ul",{className:"meta-text button-list",onMouseLeave:this._closeMenu},s.a.createElement(Ee,Object.assign({},this.props,{netBankingOnly:ze,userDetails:Ne})))):null))}}]),a}(c.Component);function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;e&&e.preventDefault();var n=Object(f.a)(t),i="",o=function(e){var t="https://wa.me/".concat(e,"?text=Unwrap your customized itinerary ").concat(n?"for ".concat(n):"","\n          ").concat(me,"cost/").concat(a,"/createpdf/v3");Object(g.a)(t)};new Promise((function(e){var t="".concat(me,"itinerary/").concat(a,"/user");Object(v.a)({url:t,method:"GET",body:{},onSuccess:function(t){if("SUCCESS"===t.status){var a=t.data,n=a.mobileNumber,r=a.countryPhoneCode;r=Object(h.a)(r,["+"],-1)?r.slice(1,r.length):r,i="".concat(r).concat(n)}o(i),e(t.data)},onFailure:function(t){o(i),e(t)}})}))}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.itinerary,n=a.regionCode,i=a.itineraryId;t.push(Object(R.Jb)({itineraryId:i,regionCode:n,location:t.location,target:R.ub}))}function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;e&&e.preventDefault(),Object(S.Ld)(S.y);var n=t.itinerary,i=n.regionCode,o=n.itineraryId;a.push(Object(R.Jb)({itineraryId:o,regionCode:i,location:a.location,parentPage:R.Lb.inclusion,target:R.q}))}function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.itinerary,n=a.regionCode,i=a.itineraryId;t.push(Object(R.Jb)({itineraryId:i,regionCode:n,location:t.location,target:R.u}))}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.itinerary,n=a.regionCode,i=a.itineraryId;t.push(Object(R.Jb)({itineraryId:i,regionCode:n,location:t.location,target:R.yb}))}function je(e){swal({title:'<div class"block-center">\n        <div class="loading-circle loading-circle-primary"></div>\n        <h4 class="text-center">Sending to PLATO<h4>\n      </div>',showCancelButton:!1,showConfirmButton:!1,html:!0});var t="".concat(me,"itinerary/").concat(e,"/sendToPlato");Object(v.a)({url:t,method:"POST",body:{itineraryId:e},onSuccess:function(){swal("Success!","The data sent to PLATO","success")},onFailure:function(){}})}t.a=Object(J.withLastLocation)(Object(u.withRouter)(Object(O.c)(null,(function(e){return{actions:{toggleNetbankingPGSettings:Object(x.b)(se.a,e)}}}))(Ce)))},1692:function(e,t,a){"use strict";var n=a(11),i=a(0),o=a.n(i),r=a(45),l=a.n(r),c=a(2),s=a(349),d=a(20),u=a(253),m=a(1637),p=c.default.div.withConfig({displayName:"SpecialInclusionsModal__ModalWrapper"})(["cursor:default;color:black;"]),f=c.default.button.withConfig({displayName:"SpecialInclusionsModal__SaveButton"})(["float:right;margin-right:2rem;margin-bottom:1rem;"]),g=c.default.ul.withConfig({displayName:"SpecialInclusionsModal__ModalContainer"})(["border:1px solid #e3e3e3;margin-top:16px;padding-left:36px;border-radius:4px;padding-bottom:16px;padding-top:16px;li{padding-left:0px !important;margin-bottom:1px !important;color:black;}.titleLi{list-style:none;margin-left:-1em;color:#666666;font-weight:bold;}.emptyPill{list-style:none;min-height:0.5em;}"]),h=c.default.h1.withConfig({displayName:"SpecialInclusionsModal__ModalTitle"})(["font-size:19px;line-height:24px;color:#848791;float:left;"]),y=c.default.h1.withConfig({displayName:"SpecialInclusionsModal__PrefTitle"})(["font-size:19px;line-height:24px;color:black;float:left;"]),v=c.default.li.withConfig({displayName:"SpecialInclusionsModal__HotelTitle"})(["font-weight:600;font-size:16px;list-style:none;margin-left:-1em;padding-bottom:0.5em;"]),b=c.default.div.withConfig({displayName:"SpecialInclusionsModal__ModalBody"})(["margin:0 32px 32px 9px;overflow:auto;"]),E=c.default.div.withConfig({displayName:"SpecialInclusionsModal__PrefModal"})(["margin:0 32px 32px 9px;overflow:auto;"]),C=c.default.div.withConfig({displayName:"SpecialInclusionsModal__MobileBar"})(["position:absolute;top:auto;bottom:0px;left:0px;width:100%;min-height:32px;z-index:1;box-shadow:rgba(48,80,89,0.3) 0px -1px 10px;padding:8px;"]),O=Object(d.a)();t.a=function(e){var t=e.data,a=void 0===t?[]:t,r=e.onModalClose,c=e.hotelName,d=e.pref,x=e.saveModal,k=e.handleCheckboxChange,I=e.checked,N=e.disableSubmit,j=e.offline,w=void 0!==j&&j,A=Object(i.useState)(null),T=Object(n.a)(A,2),R=T[0],S=T[1];Object(i.useEffect)((function(){return S(document.querySelector("#modal-portal-container")),Object(s.a)(),function(){Object(u.a)()}}),[]);return R?l.a.createPortal(o.a.createElement(p,{className:"modal-open",onClick:function(e){e&&e.stopPropagation()}},o.a.createElement("div",{className:"modal fade before-you-book modal-sticky-bars in"},o.a.createElement("div",{className:"modal-dialog"},o.a.createElement("div",{className:"modal-content with-header"},o.a.createElement("div",{className:"modal-header"},d?o.a.createElement(y,null," ",o.a.createElement("b",null,d?"Did we cross the Line?":"Here\u2019s what you get with your stay"," ")):o.a.createElement(h,null," ",o.a.createElement("b",null,d?"Did we cross the Line?":"Here\u2019s what you get with your stay"," ")),o.a.createElement("button",{type:"button",className:"close",onClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation(),Object(u.a)(),r()}},o.a.createElement("i",{className:"pyt-close-16"}))),d?o.a.createElement(E,null,o.a.createElement("div",{className:"col-xs-12"},d?o.a.createElement("span",null,"While we never intended on being pushy, we acknowledge"," ",o.a.createElement("br",null)," you didn\u2019t feel the same. We\u2019d like to know your thoughts on ",o.a.createElement("br",null)," how we could improve our communication"):null,o.a.createElement(v,{key:"hotelName"},c),d?Object(m.a)(I,k):Object(m.b)({data:a,type:"modal"}))):o.a.createElement(b,null,o.a.createElement("div",{className:"col-xs-12"},o.a.createElement(g,null,d?"While we never intended on being pushy, we acknowledge you didn\u2019t feel the same. We\u2019d like to know your thoughts on how we could improve our communication":null,o.a.createElement(v,{key:"hotelName"},c),d?Object(m.a)(I,k):Object(m.b)({data:a,type:"modal",offline:w})))),O&&d?o.a.createElement(C,null,o.a.createElement("button",{className:"btn btn-primary btn-block ",onClick:x,disabled:N},"Submit Feedback"," ")):null,d&&!O?o.a.createElement(f,{type:"button",className:"btn btn-primary ",onClick:x,disabled:N},"Submit Feedback"," "):null))),o.a.createElement("div",{className:"modal-backdrop fade in"})),R):null}},1693:function(e,t,a){"use strict";function n(e){return function(t){var a=(window.currentSize||{}).width,n=void 0===a?null:a;if(!e||!e.target||null===n)return null;var i=e.target.innerWidth,o=e.target.innerHeight;(n>=767&&i<=767||n<=767&&i>=767||n>=991&&i<=991||n<=991&&i>=991)&&(window.currentSize={width:i,height:o},t({type:"RELOAD_COMPONENT",payload:[]}))}}a.d(t,"a",(function(){return n}))},1694:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a.n(n),o=a(191),r=function(e){var t=e.disableSearch,a=e.showSearch,n=e.updateShowSearch,r=e.showFilter,l=e.onUpdateClick,c=e.onFilterShow,s=e.searchTerm,d=e.onChangeSearchTerm,u=e.pills,m=0;(void 0===u?[]:u).map((function(e){e.current&&e.current.pillElements&&(m+=e.current.pillElements.length)}));var p=m>0;return i.a.createElement("div",{className:"altermodal-xs-ftr popular-search-ftr"},i.a.createElement("div",{className:"space-around-btns"},!r&&i.a.createElement(o.a,{buttonClass:"btn btn-link-grey ".concat(p?"pos-r":""),onClickAction:c},i.a.createElement("i",{className:"pyt-filter-24"})," ","FILTER",p?i.a.createElement("span",{className:"highlight"},m):null),t?null:!a&&!r&&i.a.createElement(o.a,{buttonClass:"btn btn-link-grey showSearch",onClickAction:n},i.a.createElement("i",{className:"pyt-search-24"})," SEARCH")),a&&!r&&i.a.createElement("div",{className:"search-input"},i.a.createElement("input",{type:"text",placeholder:"Popular Search",onChange:function(e){e&&e.preventDefault(),d(e.currentTarget.value)},value:s}),i.a.createElement("i",{className:"pyt-search-16"}),i.a.createElement("i",{className:"pyt-backspace-fill-16 closeSearch",onClick:n})),r&&i.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:l},"Update"))}},1695:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n);function o(e){var t=e.pills,a=[];return(void 0===t?[]:t).map((function(e){e.current&&e.current.pillElements&&a.push(e.current.pillElements)})),a.length?i.a.createElement("ul",{className:"popular-tags list-inline no-margin"},a):null}},1696:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return r}));var n=a(2),i=a(6),o=n.default.div.withConfig({displayName:"MobileFooterButtonStyle__MobileFooterButton"})(["width:50%;height:40px;display:flex;align-items:center;font-weight:600;font-size:14px;line-height:18px;border-radius:0px;border-top:1px solid #e5e5e5;border-bottom:1px solid #e5e5e5;border-left:none;border-right:none;justify-content:center;","{height:48px;justify-content:space-between;border-radius:6px;font-size:18px;line-height:20px;letter-spacing:-0.02em;margin-bottom:12px;padding-right:10px;border:1px solid rgba(0,0,0,0.2);box-shadow:0px 3px 8px rgba(0,0,0,0.1);background:#ffffff;}& > span:first-child{span{display:inline-block;width:22px;height:22px;text-align:center;font-size:13px;line-height:20px;letter-spacing:-0.02em;margin-left:6px;font-weight:bold;border:1px solid ",";background-color:",";border-radius:10em;","{margin-left:6px;}}}& > span:nth-child(2){padding-left:8px;}i{vertical-align:middle;font-size:1.2em;}"],i.sm,(function(e){return e.bgColor}),(function(e){return e.bgColor}),i.sm),r=n.default.div.withConfig({displayName:"MobileFooterButtonStyle__ComfortScoreButton"})(["width:100%;height:40px;display:flex;align-items:center;font-weight:600;font-size:14px;line-height:18px;background:#f7f7f7;border-radius:0px;border-top:1px solid #e5e5e5;border-bottom:1px solid #e5e5e5;border-left:none;border-right:none;padding-left:16px;","{height:48px;justify-content:space-between;border-radius:6px;font-size:18px;line-height:20px;letter-spacing:-0.02em;margin-bottom:12px;padding-right:10px;border:1px solid rgba(0,0,0,0.2);"," background:#ffffff;}& > span:first-child{padding-right:8px;","{color:rgba(0,0,0,0.5);}}& > span:nth-child(2){span{display:inline-block;width:38px;height:28px;text-align:center;padding-top:2px;font-weight:bold;font-size:16px;line-height:20px;letter-spacing:-0.02em;"," font-weight:bold;border:1px solid ",";background-color:",";border-radius:32px;","{margin-right:6px;}}}a{color:#999999;font-size:13px;text-decoration:underline;cursor:pointer;}i{vertical-align:middle;color:#888888;}"],i.sm,"",i.sm,"",(function(e){return e.bgColor}),(function(e){return e.bgColor}),i.sm)},1697:function(e,t,a){var n=a(907),i=a(1770),o=a(471);e.exports=function(e,t){return null==e?e:n(e,i(t),o)}},1702:function(e,t,a){"use strict";function n(){return function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}()&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize"}a.d(t,"a",(function(){return n}))},1708:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(31);function i(){Object(n.a)()||document.querySelector("body").classList.add("crisp-hidden-xs")}},1709:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u}));var n=a(0),i=a.n(n),o=a(2),r=a(5),l={AUS:"<span>&#127462;&#127482;</span>",BAN:"<span>&#127463;&#127465;</span>",NZL:"<span>&#127475;&#127487;</span>",SRI:"<span>&#127473;&#127472;</span>",IND:"<span>&#127470;&#127475;</span>",RSA:"<span>&#127487;&#127462</span>",ENG:"<span>&#127988;&#917607;&#917602;&#917605;&#917614;&#917607;&#917631;</span>",AFG:"<span>&#127462;&#127467;</span>"},c=o.default.div.withConfig({displayName:"VersusText__VersusPara"})(["display:block;font-size:",";font-weight:",";line-height:24px;b{font-size:12px;font-weight:",";padding:0 8px;}i{display:inline-block;vertical-align:middle;font-style:normal;span{display:inline-block;margin-right:1px;font-size:24px;vertical-align:middle;line-height:1;}}"],(function(e){return e.smallCard?r.theme.small:r.theme.medium}),r.theme.semiBold,r.theme.semiBold),s=function(e){return{__html:e}},d={SFA:"Semi final 1",SFB:"Semi final 1",SFC:"Semi final 2",SFD:"Semi final 2",FLA:"Final match",FLB:"Final match",TBC:"Fixtures TBD"};function u(e){var t=e.text1,a=void 0===t?"":t,o=e.text2,r=void 0===o?"":o,u=e.smallCard,m=void 0!==u&&u,p=e.team1Label,f=e.team2Label,g=e.as,h=void 0===g?"":g;return i.a.createElement(c,{as:h,smallCard:m},d[a]?i.a.createElement("span",null," ",d[a]," "):i.a.createElement(n.Fragment,null," ",i.a.createElement("i",null,i.a.createElement("span",{role:"img","aria-label":a,dangerouslySetInnerHTML:s(l[a])}),p||a),i.a.createElement("b",null,"VS"),i.a.createElement("i",null,i.a.createElement("span",{role:"img","aria-label":r,dangerouslySetInnerHTML:s(l[r])}),f||r)))}},1710:function(e,t,a){"use strict";a.d(t,"b",(function(){return V})),a.d(t,"a",(function(){return H}));var n=a(68),i=a(1),o=a(38),r=a(39),l=a(46),c=a(56),s=a(29),d=a(0),u=a.n(d),m=a(20),p=a(106),f=a(35),g=a.n(f),h=a(290),y=a(1678),v=a(192),b=a.n(v),E=a(1674),C=a(1600),O=a(1647),x=a(1640),k=a(1661),I=a(1694),N=a(1662),j=a(1695),w=a(1639),A=a(1604),T=a(15),R=a(7),S=a(23),D=a(1638),P=a(55),_=a(898),B=a.n(_),L=a(105),F=a(895);function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var V=function(e,t){return t?void 0===t.cost||null===t.cost?t.diff&&"PRICEINCREASE"===t.diff.diffChangeType:e-t.cost>0:0},U=function(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText},H=function(e){Object(l.a)(a,e);var t=M(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).closeFilter=function(){var e=b()(r.props.filterData);r.setState({showFilter:!1,filters:e})},r.onFilterShow=function(){var e=b()(r.props.filterData);r.setState({showFilter:!0,filters:e})},r.onUpdateClick=function(){var e=b()(r.state.filters);r.props.onUpdateButtonClick(e),r.closeFilter()},r.onTriggerDetailPage=function(){var e=r.props,t=e.history,a=e.location,n=e.params,i=n.searchRegion,o=n.itineraryId,l=n.configKey;t.push(Object(R.Jb)({itineraryId:o,regionCode:i,location:a,target:R.d,customParams:{configKey:l}}))},r.onFilterChange=function(e,t,a){var o=b()(r.state.filters[a]),l=o.indexOf(t);l>-1?o.splice(l,1):o.push(t),r.props.onClickRemoveNotFoundText(),r.setState((function(e){var t=e.filters;return{filters:Object(i.a)(Object(i.a)({},t),{},Object(n.a)({},a,o))}}))},r.onOtherFilterChange=function(e){null!==e&&(r.props.onClickRemoveNotFoundText(),r.setState((function(t){var a=t.filters,o=a.otherFilters,r=void 0===o?{}:o;return{filters:Object(i.a)(Object(i.a)({},a),{},{otherFilters:Object(i.a)(Object(i.a)({},r),{},Object(n.a)({},e,!r[e]))})}})))},r.updateShowSearch=function(){r.setState({showSearch:!r.state.showSearch},(function(){r.state.showSearch||r.props.onSearchAction("")}))},r.onChangeAlert=function(e){r.setState({openAlert:!0,currenActivity:e})},r.setAlert=function(){r.setState((function(e){return{showAlert:!e.showAlert}}))},r.state={showFilter:!1,showSearch:!1,filters:{},showAlert:!1,openAlert:!1,currenActivity:{}},r.durationReference=u.a.createRef(),r.slotReference=u.a.createRef(),r.typeReference=u.a.createRef(),r.interestReference=u.a.createRef(),r.otherReference=u.a.createRef(),r.transferReference=u.a.createRef(),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=b()(this.props.filterData);this.setState({filters:e})}},{key:"render",value:function(){var e=this,t=Object(m.a)(),a=this.props,n=a.headerTopContent,i=a.headerContent,o=a.currentPrice,r=a.alternates,l=void 0===r?[]:r,c=a.totalLength,s=a.filteredDataLength,f=a.pagination,v=a.otherFilters,R=void 0===v?[]:v,_=a.interestFilterOptions,M=void 0===_?[]:_,H=a.pytFilterApplied,z=a.sortApplied,W=a.isFilterApplied,G=a.replaceActivity,K=a.onCardClick,Y=a.updateFilters,q=a.updateOtherFilter,J=a.filterOnPytRecommended,Q=a.handlePriceRangeSliderChange,X=a.sortByPrice,$=a.closeActivityAlternate,Z=a.goBackAction,ee=a.onSearchAction,te=a.updatePagination,ae=a.fetchAlternateActivites,ne=a.showSearchResult,ie=a.detailsOpened,oe=a.searchTerm,re=a.splitPricingEnabled,le=a.minPrice,ce=a.maxPrice,se=a.selectedMinPrice,de=a.selectedMaxPrice,ue=a.filterData,me=a.showLoading,pe=a.costed,fe=a.staleCost,ge=a.isFetching,he=a.current_slot,ye=a.activityHeader,ve=a.dataNotFoundText,be=void 0===ve?"":ve,Ee=a.isAdmin,Ce=a.userDetails,Oe=c>=250&&oe&&!this.props.showReset&&ne,xe=u.a.createElement(D.a,{image:Object(S.a)("https://d3lf10b5gahyby.cloudfront.net/packages/empty_state_illustration.png",t?"w=100&h=96&fit=crop":"w=160&h=153&fit=crop",20,void 0,!1),text:Oe?u.a.createElement(d.Fragment,null,u.a.createElement("p",{key:"no-text-showAllActivitiesFetchCta"},"Oops! We couldn\u2019t find the activity you were looking for."),u.a.createElement("p",{key:"no-text-showAllActivitiesFetchCta"},u.a.createElement("b",null,"Try loading all activities")," and check if your activity is present in that list."," ")):Array.isArray(be)?be.map((function(e,t){return u.a.createElement("p",{key:"no-text-".concat(t)},e)})):be,rootClassName:t?"col-xs-offset-1":"",ctaText:Oe?"Load all activities":"",ctaAction:this.setAlert}),ke=this.state,Ie=ke.showFilter,Ne=ke.showSearch,je=ke.showAlert,we=ke.openAlert,Ae=ke.currenActivity,Te=ue,Re=Y,Se=q;t&&(Te=b()(this.state.filters),Re=this.onFilterChange,Se=this.onOtherFilterChange);var De=[{text:"Top Highlight",value:"highlight",defaultSelected:R.highlight},{text:"Kid Friendly",value:"kidFriendly",defaultSelected:R.kidFriendly},{text:"Fast Selling",value:"fastSelling",defaultSelected:R.fastSelling},{text:"Less explored gems",value:"explored",defaultSelected:R.explored},{text:"Self Exploration",value:"free",defaultSelected:R.free}],Pe=[];De.map((function(e){e.defaultSelected&&Pe.push(e.value)}));var _e=[],Be={content:u.a.createElement("div",{className:"smart-filter mbottom-medium"},"Smart Filter",u.a.createElement(p.a,{placement:"bottom",text:A.c},u.a.createElement("i",{className:"cursor-pointer pyt-help-16"})),u.a.createElement(w.a,{onChangeAction:J}))},Le={header:"Activity Duration",content:u.a.createElement(x.a,{ref:this.durationReference,orientation:"Vertical",buttonClass:"",target:"durationFilters",activeButtons:Te.durationFilters,onClickAction:Re,componentValues:[{text:"Quarter Day",value:"quarter",active:!0},{text:"Half Day",value:"half"},{text:"Full Day",value:"full"}]})},Fe={header:"Time slot",content:u.a.createElement(x.a,{ref:this.slotReference,buttonClass:"",target:"timeFilters",orientation:"Vertical",activeButtons:Te.timeFilters,onClickAction:Re,componentValues:[{text:"Morning",value:"morning"},{text:"Afternoon",value:"noon"},{text:"Evening",value:"evening"}]})},Me={header:"Group Type",content:u.a.createElement(x.a,{ref:this.typeReference,buttonClass:"",activeButtons:Te.typeFilters,onClickAction:Re,target:"typeFilters",componentValues:[{text:"Shared",value:"shared"},{text:"Private",value:"private"}]})},Ve={header:"Interests",content:u.a.createElement(x.a,{ref:this.interestReference,activeButtons:Te.interestFilters,onClickAction:Re,target:"interestFilters",buttonClass:"",orientation:"Vertical",componentValues:M.map((function(e){return{text:e.category.name,value:e.category.id}}))})},Ue={header:"Other filters",content:u.a.createElement(x.a,{ref:this.otherReference,orientation:"Vertical",onClickAction:Se,activeButtons:Pe,componentValues:De})};_e=[Be,Fe,Le,{header:"Transfer",content:u.a.createElement(x.a,{ref:this.transferReference,onClickAction:Se,componentValues:[{text:"Included",value:"transferIncluded"},{text:"Not Included",value:"transferNotIncluded"}]})},Me,Ve,Ue,re?{header:"Price",content:le!==ce?u.a.createElement(d.Fragment,null,u.a.createElement(y.a,{min:le,max:ce,defaultValue:[se||0,de||100],disabled:!!R.free,range:!0,allowCross:!1,name:"price",onChange:Q}),u.a.createElement("div",null,u.a.createElement("span",{className:"slider-price"},u.a.createElement(P.a,{objectData:{value:se},path:"value",defaultValue:"0"})),u.a.createElement("span",{className:"pull-right slider-price"},u.a.createElement(P.a,{objectData:{value:de},path:"value",defaultValue:"0"})))):u.a.createElement("span",{className:"fade"},"All options are at same price of",u.a.createElement(P.a,{objectData:{value:le},path:"value",defaultValue:"0"}))}:null];var He=[];pe&&!fe&&He.push({iconClassName:"icon pyt-wallet-16",title:"Price",subtextContent:z.price?"asc"===z.price?"Low to High":"High to Low":"Order by price",onClickAction:X,sortOrder:z.price,active:!0,type:"SORTING"});var ze=he.publishedCost,We=u.a.createElement(d.Fragment,null,u.a.createElement(E.a,{rootClassName:"subheader-modals",isMobile:t,onClickBackAction:function(){Object(T.Ld)(T.t,{page:"Activity Alternates"}),Z()},searchTerm:oe,onClickCloseAction:t&&Ie?this.closeFilter:$,spanContent:n,headerContent:i,enableSearch:!0,searchPlaceHolder:"Find an activity",onChangeAction:ee,defaultActiveIndes:[0],sortingContents:He,isFetching:ge}),(he&&"LEISURE"!==he.type||pe&&!fe&&"SUCCESS"===(he||{}).status)&&ye&&!t?u.a.createElement("section",{className:"subheader-modals-info bold mbottom-medium"},u.a.createElement("div",{className:"container sm-full-width lg-container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-7 col-sm-6 col-md-6 truncate"},"Now changing:",u.a.createElement("a",{href:"_",onClick:function(t){t&&t.preventDefault(),e.onTriggerDetailPage()}}," ".concat(ye))),u.a.createElement("div",{className:"col-xs-5 col-sm-6 col-md-6 text-right"},ze?u.a.createElement("a",{href:"#"},u.a.createElement(P.a,{objectData:{value:ze},path:"value",defaultValue:"0"})):null)))):u.a.createElement("br",null)),Ge=Array.isArray(l)?l.map((function(t,a){if(!t.selectedTourGrade)return null;var n,i;Array.isArray(null===t||void 0===t?void 0:t.pickupAreas)&&(n=null===t||void 0===t||null===(i=t.pickupAreas)||void 0===i?void 0:i.includes("outside-sic"));return u.a.createElement("div",{className:t.recommended&&Ee?"col-md-6":"col-md-4",key:a},u.a.createElement(O.b,{onCardClick:function(){return K(t)},activityName:t.title,images:t.mainPhoto?[t.mainPhoto]:[Object(C.a)("ACTIVITIES","")],contentType:t.fastSelling?"FILLING_FAST":"NONE",description:U(t.shortDesc),subText:"".concat(t.selectedTourGrade.durationType," Day. ").concat(t.free?"":t.privateTour?"Private":"Shared"),isPriceIncreased:V(o,t.selectedTourGrade),disableDiffIcon:!!t.selectedTourGrade.cost,price:null===t.selectedTourGrade.cost?t.selectedTourGrade.diff&&t.selectedTourGrade.diff.diffCost:t.selectedTourGrade.cost,onReplaceAction:function(e){e&&(e.preventDefault(),e.stopPropagation()),G(t)},sourceProvider:null===t||void 0===t?void 0:t.sourceProvider,enableFreeTag:t.free,status:t.status,likeCount:t.likeCount,dislikeCount:t.dislikeCount,isAdmin:Ee,activityDetails:t,userDetails:Ce,onChangeAlert:e.onChangeAlert,recommendedActivity:n}))})):[],Ke=s-l.length,Ye=s>l.length?u.a.createElement("div",{className:"col-xs-12 mbottom-large text-center"},u.a.createElement("button",{className:"btn btn-sm btn-default btn-outline mbottom-medium",onClick:te},"View ",Ke<f?Ke:f," more"," ",Ke>1?"activities":"activity")):(Oe||me)&&s?u.a.createElement("div",{className:"col-xs-12 mbottom-large text-center"},u.a.createElement("button",{className:"btn btn-sm btn-default btn-outline mbottom-medium",onClick:this.setAlert},me?"Loading...":"Load search results")):null,qe=me||ge?"Loading...":H||W?"Showing ".concat(s," of ").concat(c," available"):s>0?"".concat(s," option").concat(1===s?"":"s"," found"):null;return u.a.createElement(d.Fragment,null,t?u.a.createElement("div",{className:"hidden-md hidden-lg altermodal-xs-view xs-slide-up activity-alternate"},We,u.a.createElement("div",{className:"altermodal-xs-content"},u.a.createElement("section",{className:"options-hdr ".concat(t&&Ie?"hide":"")},u.a.createElement("div",{className:"row vertical-center"},u.a.createElement("div",{className:"col-xs-7"},qe),u.a.createElement("div",{className:"col-xs-5"},0===c?null:u.a.createElement("ul",{className:"tab-links"},He.map((function(e,t){return u.a.createElement("li",{key:t,className:e.active?"active":""},u.a.createElement("a",{href:" ",onClick:function(t){t?(t.preventDefault(),t.stopPropagation(),e.onClickAction()):e.onClickAction()}},"SORTING"===e.type&&e.active?u.a.createElement("i",{className:"".concat("asc"===e.sortOrder?"pyt-sort-ascending-16":"pyt-sort-descending-16")}):null,u.a.createElement("span",null,"".concat(e.title))))})))))),u.a.createElement("div",{className:"panel-group"},u.a.createElement("aside",{className:"altermodal-filters ".concat(Ie?"":"hide")},_e.map((function(e,t){return u.a.createElement("section",{key:t,className:"panel"},u.a.createElement("div",{className:"panel-heading"},(e||{}).header),u.a.createElement("div",{className:"panel-body"},(e||{}).content))})))),u.a.createElement(d.Fragment,null,Ge.length?u.a.createElement("div",{className:"".concat(Ie?"hide":"")}," ",Ge," "):me?"":xe,Ge.length||!me||Ie?null:u.a.createElement(N.a,null),Ie?null:Ye)),0===c?null:u.a.createElement(I.a,{showSearch:Ne,updateShowSearch:this.updateShowSearch,showFilter:Ie,onChangeSearchTerm:ee,onUpdateClick:this.onUpdateClick,onFilterShow:this.onFilterShow,searchTerm:oe,pills:[this.durationReference,this.slotReference,this.typeReference,this.interestReference,this.otherReference,this.transferReference]})):u.a.createElement("div",{className:g()("hidden-sm hidden-xs activity-alternate",{"details-modal-opened":ie})},u.a.createElement(h.a,{enabled:!t},We),u.a.createElement("div",{className:"container lg-container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{id:"activity_filter_options",className:"col-md-3 altermodal-filters"},u.a.createElement(h.a,{enabled:!t,top:145},u.a.createElement(k.a,{components:_e,activeIndex:W?null:0}))),u.a.createElement("div",{className:"col-md-9"},u.a.createElement("div",{className:"option-header clearfix",style:{"padding-top":"10px"}},u.a.createElement("p",{className:"color-grey-secondary small-heading"},qe),u.a.createElement(j.a,{pills:[this.durationReference,this.slotReference,this.typeReference,this.interestReference,this.otherReference,this.transferReference]})),this.props.showReset&&u.a.createElement(L.a,{justifyContent:"flex-end",marginRight:6},u.a.createElement(F.a,{padding:12,onPress:function(){return ae(he,!1,!0)}},"Reset Search")),u.a.createElement("div",{className:g()("row",{"row-eq-hgt activity-card-outer":Ge.length})},Ge.length?Ge:me?"":xe,!Ge.length&&me||ge?u.a.createElement(N.a,null):null),Ye)))),u.a.createElement(B.a,{show:we,title:"Activity not in SIC area",text:"The activity that you are about to add to the itinerary is not in the SIC pickup area. Please proceed with caution.",animation:!0,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel",onConfirm:function(){e.setState({openAlert:!1}),G(Ae)},onCancel:function(){e.setState({openAlert:!1})}}),u.a.createElement(B.a,{show:je,title:"Caution!",html:!0,text:'<h5 class="meta-text">Fetching all activities might take some time. Do not refresh the page, or the fetching progress will be lost.</h5>',onConfirm:function(){ae(he,!0,!1,!0),e.setAlert()},animation:"pop",closeOnConfirm:!0,confirmButtonText:"Understood, fetch all",closeOnCancel:!0}))}}]),a}(d.Component)},1711:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(36),r=a(105),l=a(141),c=a(169),s=a(895),d=a(7),u=a(18),m=a(92);t.a=function(e){var t,a,p=e.itineraryInfo,f=e.costingId,g=e.entityType,h=e.bookingNotes,y=e.reviewPage,v=void 0!==y&&y;if(!p)return null;var b=Object(o.useHistory)(),E=Object(n.useMemo)((function(){return"https://oceanjar-new.s3.ap-south-1.amazonaws.com/PDF_thumbail.png"}),[]),C=function(e){var t="",a=f||"summary",n=g||"itinerary",i=Object(u.a)(p,"itinerary.itineraryId");t=v?"/booking-notes/".concat(d.f,"/").concat(n,"/").concat(f,"/").concat(i):Object(d.Jb)({itineraryId:i,regionCode:Object(u.a)(p,"itinerary.regionCode"),target:d.f,parentPage:d.ab,customParams:{costingId:a,entityType:n}}),e?b.push(t,{latestBookingNote:e,reviewPage:v}):b.push(t,{reviewPage:v})},O=Object(n.useMemo)((function(){if(h){var e=h.find((function(e){return!1===e.deleted}));if(e)return{latestBookingNote:e,isNoteSkipped:null===e||void 0===e?void 0:e.skipBookingNotes}}return{}}),[h]),x=O.latestBookingNote,k=O.isNoteSkipped;return i.a.createElement("div",{className:v?void 0:"row",onClick:function(e){e.stopPropagation(),e.preventDefault()}},x&&(null===(t=(null===x||void 0===x?void 0:x.bookingNotes)||"")||void 0===t?void 0:t.length)>0?i.a.createElement(r.a,{gutter:24,width:"100%",paddingVertical:8,paddingHorizontal:16,backgroundColor:v?"#fff":"#F7F7F7",justifyContent:"space-between",alignItems:"flex-start",borderBottomLeftRadius:v?8:0,borderBottomRightRadius:v?8:0},i.a.createElement(r.a.Item,{width:"calc(100% - 204px)",style:{wordWrap:"break-word"}},k?i.a.createElement(l.a,null,"Skipped note for this item"):i.a.createElement("div",{dangerouslySetInnerHTML:{__html:null===x||void 0===x?void 0:x.bookingNotes}}),null!==x&&void 0!==x&&null!==(a=x.bookingAttachmentsPreview)&&void 0!==a&&a.length?i.a.createElement(r.a.Item,{flexDirection:"row",rowGap:10,columnGap:16,flexWrap:"wrap",paddingVertical:16},((null===x||void 0===x?void 0:x.bookingAttachmentsPreview)||[]).map((function(e,t){var a,n=null===x||void 0===x||null===(a=x.bookingAttachments[t])||void 0===a?void 0:a.split("/");return i.a.createElement(c.a,{key:"attachment"+t,gap:4,maxWidth:80,onPress:function(){return Object(m.a)(e,"__blank")}},i.a.createElement("img",{alt:"attachment",style:{maxWidth:"80px"},src:e.includes(".pdf")?E:e}),i.a.createElement("span",{className:"h6",style:{wordWrap:"break-word",maxWidth:"100%"}},n[(null===n||void 0===n?void 0:n.length)-1]))}))):null),i.a.createElement(r.a.Item,{width:"170px"},i.a.createElement(r.a,{gutter:16,direction:"column",width:"100%"},i.a.createElement(r.a.Item,null,i.a.createElement(s.a,{alignSelf:"flex-end",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#3A4BB9",padding:15,borderRadius:4,textProps:{color:"#3A4BB9",fontSize:15,fontWeight:600,lineHeight:20},onPress:function(){return C(x)},width:"100%"},"Edit Note"))))):i.a.createElement(r.a,{gutter:24,paddingVertical:8,paddingHorizontal:16,backgroundColor:v?"#fff":"#F7F7F7",borderBottomLeftRadius:v?8:0,borderBottomRightRadius:v?8:0},i.a.createElement(r.a.Item,null,i.a.createElement(s.a,{alignSelf:"flex-end",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#3A4BB9",padding:15,borderRadius:4,textProps:{color:"#3A4BB9",fontSize:15,fontWeight:600,lineHeight:20},disabledProps:{cursor:"not-allowed",backgroundColor:"#E5E5E5",opacity:.8},onPress:function(){return C()}},"Add New Note"))))}},1719:function(e,t,a){"use strict";var n=a(1),i=a(38),o=a(39),r=a(46),l=a(56),c=a(29),s=a(0),d=a.n(s),u=a(2),m=a(5),p=a(6),f=a(607),g=a(23),h=a(297),y=a(1720),v=a(7);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var E=u.default.div.withConfig({displayName:"SlotInfo__SlotInfoWrapper"})(["display:block;cursor:pointer;transition:all 0.2s;margin-bottom:24px;padding:",";p,strong{margin:8px 0 0;}strong{display:inline-flex;align-items:center;i{margin-left:4px;}}.pill{vertical-align:top;}.activity-header{.activity-price-holder{margin-left:5px;&.strikethrough{display:inline-block;position:relative;&:before{content:'';width:100%;position:absolute;left:0;top:50%;margin-top:1px;height:1px;background-color:#00a56e;}}}.activity-price{color:#00c684;align-items:center;letter-spacing:-0.02em;font-family:Source Sans Pro;font-size:14px;line-height:18px;}}","{background-color:",";border-radius:10px;padding:",";margin-bottom:8px;&:last-child{margin-bottom:0;}&:hover{box-shadow:0px 1px 10px rgba(0,0,0,0.1);.pill{background-color:",";}strong{color:",";i{color:",";}}}}",""],(function(e){return e.cardPadding||"0"}),p.md,m.theme.white,(function(e){return e.cardPadding||"16px"}),m.theme.grey,(function(e){return e.linkHoverColor||m.theme.accent15}),(function(e){return e.linkHoverColor||m.theme.accent15}),(function(e){return e.linkHoverColor&&Object(u.css)(["i{color:#b7b7b7;}"])})),C=u.default.div.withConfig({displayName:"SlotInfo__LeisureTextStyle"})(["& > span{font-weight:",";font-size:18px;line-height:24px;letter-spacing:-0.02em;color:#444444;}strong{span{text-decoration:underline;color:",";}i{display:inline-block;margin-bottom:3px;margin-left:0;vertical-align:middle;color:",";}}"],m.theme.semiBold,m.theme.linkColor,m.theme.linkColor),O=function(e){Object(r.a)(a,e);var t=b(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=void 0===t?[]:t,i=e.onUpgradeClick,o=void 0===i?function(){return!1}:i,r=e.onActivityClick,l=void 0===r?function(){return!1}:r,c=e.isAdmin,u=void 0!==c&&c,m=e.staleCost,p=void 0!==m&&m,b=e.leisureTextSingleLine,O=void 0!==b&&b,x=e.cardPadding,k=void 0===x?"":x,I=e.linkHoverColor,N=void 0===I?"":I,j=e.history,w=e.canEdit,A=void 0===w||w;return d.a.createElement(s.Fragment,null,a.map((function(e,t){var a=e||{},i=a.name,r=a.type,c=a.start,m=a.slotText,b=a.slotTitle,x=a.slotIdentifier,I=a.upgradable,w=a.activitySlotDetail,T=void 0===w?{}:w,R=a.images,S=void 0===R?[]:R,D=null,P=null,_=r.includes("ACTIVITY");if(_){var B=(T||{}).costingInfo,L=void 0===B?{strikedCost:null,publishedCost:null}:B;D=L.strikedCost,P=L.publishedCost}return d.a.createElement(E,{cardPadding:k,key:c,onClick:function(a){a.preventDefault(),a.stopPropagation(),"LEISURE"===r&&A?l(x):_&&o(x,Object(n.a)(Object(n.a)({},e),{},{index:t+1}))},linkHoverColor:N},d.a.createElement("div",{className:"activity-header vertical-center"},d.a.createElement("span",{className:"pill color-white bg-grey-medium text-uppercase"},i),u&&_&&!p&&d.a.createElement(s.Fragment,null,d.a.createElement(f.a,{value:D,withoutIcon:!0,spanClassName:"activity-price",rootClassName:"activity-price-holder strikethrough",priceClassName:"activity-price",parentTag:"span"}),d.a.createElement(f.a,{value:P,withoutIcon:!0,spanClassName:"activity-price",rootClassName:"activity-price-holder",priceClassName:"activity-price",parentTag:"span"}))),"string"===typeof b?d.a.createElement("strong",{className:"block small-heading semi-bold"},b+" ",d.a.createElement("i",{className:"pyt-arrow-right-16 color-accent-15"})):null,O&&"LEISURE"===r&&!(i||"").toLowerCase().includes("full")?d.a.createElement(C,null,d.a.createElement("span",{dangerouslySetInnerHTML:{__html:m}}),"."," ","LEISURE"===r&&A?d.a.createElement("strong",{className:"inline-block small-heading semi-bold "},d.a.createElement("span",null,"Find things to do")," ",d.a.createElement("i",{className:"pyt-arrow-right-16 color-accent-15"})):null):d.a.createElement(s.Fragment,null,d.a.createElement("p",{className:"meta-text",dangerouslySetInnerHTML:{__html:m}}),I?d.a.createElement("span",{className:"block caps-text-mini semi-bold vmargin-small mb-0 color-accent-15"},"Upgradable!"):null,"LEISURE"===r?d.a.createElement("strong",{className:"block small-heading semi-bold"},"Find things to do"," ",d.a.createElement("i",{className:"pyt-arrow-right-16 color-accent-15"})):null),d.a.createElement(y.e,null,S.length?d.a.createElement(h.b,null,S.slice(0,3).map((function(e,t){return d.a.createElement(h.a,{cardSize:"60px",onClick:function(e){e&&e.preventDefault(),e.stopPropagation(),j.push("".concat(j.location.pathname,"/").concat(v.Z),{images:S,headerTitle:" ",closePath:j.location.pathname})},key:t,bgUrl:Object(g.a)(e,"h=96&w=96&fit=crop")},2===t&&S.length>3?"+".concat(S.length-3):null)}))):null))})))}}]),a}(s.Component);t.a=O},1720:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return m}));var n=a(2),i=a(5),o=a(6),r=n.default.div.withConfig({displayName:"timelinestyles__TimlelineWrapper"})(["padding-top:16px;& > p:first-child{display:flex;align-items:center;justify-content:space-between;font-size:",";line-height:23px;letter-spacing:-0.02em;color:#666666;font-weight:",";margin:0;padding-bottom:20px;letter-spacing:-0.02em;","{font-size:22px;line-height:28px;padding-bottom:16px;}}"],i.theme.medium,i.theme.semiBold,o.sm),l=n.default.div.withConfig({displayName:"timelinestyles__ContentWrapper"})(["background-color:",";box-sizing:border-box;border-radius:8px;padding:0 8px;","{padding:22px 36px;}"],i.theme.white,o.sm),c=n.default.div.withConfig({displayName:"timelinestyles__RouteItemWrapper"})(["position:relative;:before{content:'';position:absolute;display:block;top:18px;bottom:30px;width:2px;background-color:rgba(27,170,204,0.3);}"]),s=n.default.div.withConfig({displayName:"timelinestyles__DayWiseWrapper"})(["padding-left:20px;position:relative;margin:",";","{padding-left:26px;margin:",";}.pill{background:#f0f0f0;color:#777777;}div:hover{"," .pill{background:#f0f0f0;color:#777777;}}& > p:first-child{color:",";font-weight:",";font-size:17px;line-height:21px;letter-spacing:-0.02em;","{font-size:20px;line-height:25px;padding-left:0px;}}:before{content:'';position:absolute;top:4px;left:-5px;width:12px;height:12px;border:2px solid #1baacc;background-color:#ffffff;border-radius:100%;","{top:7px;}","}"],(function(e){return e.dayCardMargin||"0 0 12px 0"}),o.sm,(function(e){return e.dayCardMargin||"0 0 20px 0"}),(function(e){return!e.hoverEffect&&Object(n.css)(["box-shadow:none;"])}),i.theme.inputPlaceholder,i.theme.bold,o.sm,o.sm,(function(e){return e.showLocation&&Object(n.css)(["content:'\\e963';position:absolute;top:-4px;left:-10px;font-family:'pyticon';color:#1baacc;background:",";width:0;height:0;font-size:22px;border:none;","{top:-4px;}"],i.theme.white,o.sm)})),d=n.default.p.withConfig({displayName:"timelinestyles__DayTitle"})(["margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;> i{cursor:pointer;transition:all 300ms ease-in-out;&:hover{color:red;}}"]),u=n.default.div.withConfig({displayName:"timelinestyles__ImageCardWrapper"})(["span{margin-right:8px;margin-top:12px;}"]),m=n.default.button.withConfig({displayName:"timelinestyles__ActionButton"})(["outline:none;border:none;background:transparent;color:#1895b3;font-weight:600;font-size:18px;line-height:24px;margin:auto;display:block;i{vertical-align:middle;margin-right:4px;margin-bottom:2px;font-weight:600;display:inline-block;}"])},1721:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(2),r=a(6),l=o.default.div.withConfig({displayName:"LeisureSlot__LeisureWrapper"})(["display:block;cursor:pointer;"," ","{background-color:",";border-radius:8px;padding:24px;}strong{display:inline-flex;align-items:center;span{color:#2c2f42;","}i{color:",";margin-left:4px;}}"],(function(e){return e.showCardBgInMobile&&Object(o.css)(["background-color:",";border-radius:8px;padding:16px;"],(function(e){return e.bgColor||"rgba(38, 119, 240, 0.1)"}))}),r.md,(function(e){return e.bgColor||"rgba(38, 119, 240, 0.1)"}),(function(e){return e.bgColor&&Object(o.css)(["color:#1895b3;text-decoration:underline;"])}),(function(e){return e.bgColor?"#1895B3":"#2677f0"}));t.a=function(e){var t=e.onClick,a=e.bgColor,n=void 0===a?"":a,o=e.showCardBgInMobile,r=void 0!==o&&o;return i.a.createElement(l,{onClick:t,bgColor:n,showCardBgInMobile:r},i.a.createElement("p",{className:"meta-text mbottom-small"},"At Leisure."),i.a.createElement("strong",{className:"block small-heading semi-bold"},i.a.createElement("span",null,"Find things to do")," ",i.a.createElement("i",{className:"pyt-arrow-right-16"})))}},1722:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(2),r=a(47),l=a(110),c=a(5),s=o.default.div.withConfig({displayName:"TripFeatures__TripFeatureWrapper"})(["p{margin-bottom:0;display:flex;align-items:center;font-weight:",";"," img{margin-right:8px;height:28px;}}"],c.theme.semiBold,l.j),d=o.default.ul.withConfig({displayName:"TripFeatures__TripFeatureList"})(["",";",";width:100%;li{display:block;width:100%;position:relative;margin-top:12px;margin-bottom:12px;padding-left:32px;color:#555555;",";&:before{content:'';position:absolute;left:0;top:-2px;width:24px;height:24px;background:url('https://pyt-images.imgix.net/images/web_app/itinerary/tick_star.svg') no-repeat center;","}&:last-child{margin-bottom:32px;}}"],r.d,r.f,l.i,(function(e){return e.useIcon&&Object(o.css)(["content:'\\E94D';font-family:'pyticon';font-size:17px;line-height:1;background:none;top:0;"])}));t.a=function(e){var t=e.data,a=void 0===t?[]:t,n=e.title,o=void 0===n?"":n,r=e.useIcon;return Array.isArray(a)?i.a.createElement(s,null,o?i.a.createElement("p",null,i.a.createElement("img",{src:"https://pyt-images.imgix.net/images/web_app/icons/pyt_recommend.svg",alt:"Advantages"}),o):null,i.a.createElement(d,{useIcon:r},a.map((function(e,t){return i.a.createElement("li",{key:t},e)})))):null}},1723:function(e,t,a){"use strict";a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return E}));var n=a(0),i=a.n(n),o=a(30),r=a(2),l=a(55),c=a(106),s=a(17),d=a(1592),u=a(1593),m=a(12),p=r.default.ul.withConfig({displayName:"SplitPrice__SplitPriceWrapper"})(["display:flex;flex-direction:column;padding-left:0;list-style:none;padding-top:",";font-size:",";"],(function(e){return e.isMobile?"1.5em":null}),(function(e){return e.isMobile?"17px":"16px"})),f=r.default.div.withConfig({displayName:"SplitPrice__VerticalSplitLine"})(["content:' ';border-bottom:1px solid #e5e5e5;margin:0.5em 0 0.5em 0;"]),g=r.default.li.withConfig({displayName:"SplitPrice__SplitPriceLineItem"})(["display:flex;flex-direction:row;justify-content:space-between;padding:",";"],(function(e){return e.isMobile?e.addIndent?"0.5em 1em 0.5em 2em":"0.5em 1em":(e.addIndent,"0.25em 0")})),h=r.default.div.withConfig({displayName:"SplitPrice__PaymentRow"})(["display:flex;flex-direction:row;justify-content:space-between;"]),y=r.default.span.withConfig({displayName:"SplitPrice__ItemTitle"})(["text-transform:capitalize;font-weight:",";color:",";"],(function(e){return e.bold?600:400}),(function(e){return e.bold?"#333333":"#777777"})),v=r.default.span.withConfig({displayName:"SplitPrice__BoldData"})(["font-weight:600;color:",";"],(function(e){return e.green?"#008B5C":"#333333"})),b=r.default.span.withConfig({displayName:"SplitPrice__ShowMoreBtn"})(["cursor:pointer;color:#777777;width:55%;"," padding:3px 0;font-size:15px;"," margin:.7em 4.5em;justify-content:center;border:0.5px solid #777777;border-radius:32px;border-color:#777777;text-align:center;"],"",""),E=function(e){var t=e.priceDetails,a=e.staleCost,r=e.savingByDiscountAmount,E=e.taxesAndFees,C=e.savingDiscount,O=e.discountAmount,x=e.discountCost,k=e.totalCost,I=e.showMore,N=e.setShowMore,j=e.isMobile,w=e.userDetails,A=e.isAdmin,T=Object(o.d)(),R=I||j?t:t.filter((function(e,t){return t<4})),S=R.filter((function(e){return e.title.toLowerCase().includes("trip cost")}));return a?null:(Object(n.useEffect)((function(){T({type:m.sc,payload:t})}),[k]),i.a.createElement(p,{isMobile:j},R.map((function(e,t){var a="total"===e.type?v:"span";return i.a.createElement(n.Fragment,{key:"split-price-line-".concat(t)},t>0&&i.a.createElement(g,{isMobile:j,addIndent:t>0},i.a.createElement(y,{bold:"total"===e.type},e.title),i.a.createElement(a,null,i.a.createElement(l.a,{objectData:e,path:"cost",defaultValue:"0"}))))})),1===R.length&&S[0]?i.a.createElement(n.Fragment,{key:"split-price-line-0"},i.a.createElement(g,{isMobile:j,addIndent:!1},i.a.createElement(y,null,S[0].title),i.a.createElement("span",null,i.a.createElement(l.a,{objectData:S[0],path:"cost",defaultValue:"0"})))):null,I&&i.a.createElement(f,null),I||j?i.a.createElement(i.a.Fragment,null,(E.costings||[]).map((function(e,t){var a,n=null===(a=e.description.replace(/_/g," "))||void 0===a?void 0:a.toLowerCase();return i.a.createElement(g,{key:t,isMobile:j},"PLANNING_FEE"===e.description?i.a.createElement("div",{style:{alignItems:"center",justifyContent:"space-around"}},i.a.createElement(y,null,n)):i.a.createElement(y,null,["tcs","gst"].includes(n)?n.toUpperCase():n),i.a.createElement("span",null,"PLANNING_FEE"===e.description?i.a.createElement(h,null,i.a.createElement(c.a,{tooltipClassname:"fs-12 color-grey meta-text",text:i.a.createElement(i.a.Fragment,null,i.a.createElement(s.Text,{as:"span",color:"#01C684"},"Launch offer:")," ","Flat 50% off on planning fees")},i.a.createElement(s.Icon,{icon:"pyt-info-16",style:{color:"#777777",alignSelf:"center",paddingLeft:4,justifyContent:"center",cursor:"pointer"}})),i.a.createElement("p",{style:{padding:"0 8px 0 4px",margin:0},className:"strike-line color-grey-medium"},i.a.createElement(l.a,{objectData:e,path:"strikedCost",defaultValue:"0"})),i.a.createElement(l.a,{objectData:e,path:"cost",defaultValue:"0"})):i.a.createElement(l.a,{objectData:e,path:"cost",defaultValue:"0"})))})),r?i.a.createElement(g,{isMobile:j},i.a.createElement(y,null,"Admin Discount"),i.a.createElement(v,{green:!0},"-",i.a.createElement(l.a,{objectData:C,path:"value",defaultValue:"0"}))):null,O?i.a.createElement(g,{isMobile:j},i.a.createElement(y,null,"Discount"),i.a.createElement(v,{green:!0},"- ",i.a.createElement(l.a,{objectData:x,path:"value",defaultValue:"0"}))):null):null,!j&&Object(d.a)({permissions:null===w||void 0===w?void 0:w.permissions,key:u.G})&&i.a.createElement(b,{onClick:function(){return N(!I)}},I?"View Less":"View full split pricing"),I&&i.a.createElement(f,null),A?null:i.a.createElement(g,{isMobile:j},i.a.createElement(y,{bold:!0},"Payable Amount"),i.a.createElement(v,null,i.a.createElement(l.a,{objectData:k,path:"value",defaultValue:"0"})))))}},1724:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(14),i=a(22),o=a(245),r=a(190),l=a(171);function c(e){var t=e.itineraryId,a=e.netBankingOnly;return function(e){return new Promise((function(c,s){var d="".concat(n.a.api_url,"pg_discount/").concat(t,"?netbanking_only=").concat(a);Object(i.a)({url:d,method:"POST",body:{},onSuccess:function(t){Object(o.a)(e,t.data),c("Promised resolved from fetch")},onFailure:function(t){Object(r.a)(t,e),Object(l.a)(t,e),s("Failed")}})}))}}},1725:function(e,t,a){"use strict";var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(607),u=a(1669);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var p=function(e){Object(o.a)(a,e);var t=m(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.price,a=e.publishedPrice,n=e.onEditClick,i=e.isFree,o=void 0!==i&&i,r=e.canEditPrice,l=void 0!==r&&r,c=e.isPriceStrikethrough,m=void 0!==c&&c;if(o)return s.a.createElement("span",null);var p=Object(u.a)(t)<=Object(u.a)(a)?null:t;return s.a.createElement("div",null,p?s.a.createElement("span",{className:"strikethrough",style:{marginRight:"5px"}},s.a.createElement(d.a,{value:p,withoutIcon:!0,rootClassName:"",parentTag:"span",priceTag:" "})):null,s.a.createElement(d.a,{value:a,withoutIcon:!0,rootClassName:m?"strikethrough":"",parentTag:"span"}),l&&!m?s.a.createElement("i",{onClick:n,className:"cursor-pointer pyt-edit-16 small-heading"}):null)}}]),a}(c.PureComponent);t.a=p},1731:function(e,t,a){"use strict";var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(54),m=a(2),p=a(36),f=a(5),g=a(47),h=a(61),y=a(110),v=a(1613),b=a(1649),E=a(42),C=a(470),O=a(14),x=a(22),k=a(190),I=a(171),N=a(159);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(a){return new Promise((function(n,i){var o="".concat(O.a.api_url,"attraction/upgrades?attractionId=").concat(t);Object(x.a)({url:o,method:"POST",body:e,onSuccess:function(t){a({type:N.d,payload:{key:e.currentActivityId,response:t}}),n("Promised resolved from fetch")},onFailure:function(e){Object(k.a)(e,a),Object(I.a)(e,a),i("Failed")}})}))}}var w=a(18),A=a(604),T=a(1647),R=a(1710),S=a(1646),D=a(7),P=a(15);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var B=m.default.div.withConfig({displayName:"UpgradesList__RulerHeading"})(["",";width:100%;font-size:15px;line-height:24px;margin-top:40px;text-transform:uppercase;font-weight:",";color:#555555;border-bottom:1px solid rgba(0,0,0,0.2);span{display:inline-block;padding-bottom:7px;box-shadow:0 1px 0 rgba(0,0,0,0.8);}"],g.d,f.theme.bold),L=m.default.ul.withConfig({displayName:"UpgradesList__UpgradesLineItem"})(["",";margin-bottom:24px;li{display:flex;align-items:center;padding:16px 0;color:#555555;font-weight:",";box-shadow:0px 1px 0px rgba(0,0,0,0.1);p{margin:0;width:60%;}.right-col{width:40%;justify-content:flex-end;display:flex;align-items:center;strong{margin-right:16px;",";font-weight:",";.pyt-arrow-down-24{color:#00b277;}.pyt-arrow-top-24{color:#7d42a1;}}","{border-color:",";background-color:",";color:",";&:hover{border-color:#c7c7c7;color:",";}}}}"],g.f,f.theme.semiBold,y.j,f.theme.semiBold,h.a,f.theme.greyMedium,f.theme.white,f.theme.grey,f.theme.greyMedium),F=function(e){Object(o.a)(a,e);var t=_(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).fetchUpgradeOptions=function(){var t=e.props,a=t.match,n=t.itineraryInfo,i=t.previewList;if(i){var o=a.params.configKey,r=Object(v.a)(o),l=Object(b.a)(i,(function(e){return e.slotIdentifier===r})),c=l>-1?i[l]:null;if(!c)return null;var s=n.iterDayByKey[c.dayIdentifier],d=c.cityKey,u=Object(b.a)(n.itinerary.allCityKeys,(function(e){return e===d})),m=c.activitySlotDetail,p=c.cityId,f=c.cityId,g="ACTIVITY_WITH_TRANSFER"===c.type;if(g&&(p=c.intercityTransferSlotDetailVO.fromCity,f=c.intercityTransferSlotDetailVO.toCity),c.prevCity&&s){var h=n.itinerary.allCityKeys[u-1];f=p=n.iterCityByKey[h].cityId}var y=c.activitySlotDetail&&c.activitySlotDetail.activityCostingIdentifier||"",E=Object(w.a)(c.activitySlotDetail.costingInfo,"attractionId"),C={cityId:p,itineraryId:n.itinerary.itineraryId,currentActivityId:m.activityId,alternateActivityIds:e.getOtherActivities(m.activityId),timeSlotType:6,showOtherSlots:!0,slotSpan:c.span,startSlot:c.start,showActivitiesWithTransferOnly:g,dropCityId:f,rcAvailable:s&&s.rcAvailable,primaryTravelMode:"UNKNOWN",activityCostingKey:y,dayNum:s.dayNum};e.props.activityUpgradeOptionFetch(C,E)}},e.goToDefaultItineraryOrInclusionsPage=function(){var t=e.props,a=t.history,n=t.location,i=t.itineraryInfo,o=void 0===i?{itinerary:{}}:i;a.push(Object(D.Jb)({itineraryId:o.itinerary.itineraryId,location:n,regionCode:o.itinerary.regionCode}))},e.changeActivity=function(t){var a="CHANGE",n=!1,i=e.props,o=i.match,r=i.itineraryInfo,l=i.previewList,c=i.manageActivity,s=o.params.configKey,d=Object(v.a)(s),u=l[Object(b.a)(l,(function(e){return e.slotIdentifier===d}))],m=Object.assign({},u),p=Object(A.a)(r.iterDayByKey,(function(e){return-1!==e.allSlotKeys.indexOf(m.slotIdentifier)})),f=Object(A.a)(r.iterCityByKey,(function(e){return-1!==e.allDayKeys.indexOf(p)})),g=r.iterCityByKey[f],h=g.cityId,y=g.cityId;"LEISURE"!==m.type&&"INTERCITY_TRANSFER"!==m.type||(a="ADD"),"INTERCITY_TRANSFER"!==m.type&&"ACTIVITY_WITH_TRANSFER"!==m.type||(h=m.intercityTransferSlotDetailVO.fromCity,y=m.intercityTransferSlotDetailVO.toCity,n=!0);var E=!1;m.activitySlotDetail&&m.activitySlotDetail.activityCostingIdentifier&&r.itinerary.costed&&!r.itinerary.staleCost&&(E=r.activityCostings.costingById[m.activitySlotDetail.activityCostingIdentifier].cancelled);m.activitySlotDetail=t;var C=Object(w.a)(u.activitySlotDetail.costingInfo,"attractionId"),O={action:a,type:"alternate_activity",activityWithTransfer:n,itineraryId:r.itinerary.itineraryId,activitySlot:m,fromCityId:h,toCityId:y,cancelled:E,attractionId:C};Object(P.Ld)(P.o,{from_activity_name:Object(w.a)(u,"activitySlotDetail.title"),to_activity_name:t.title,from_activity_id:Object(w.a)(m,"activitySlotDetail.activityId"),to_activity_id:t.planningToolId}),c(O).then((function(){e.goToDefaultItineraryOrInclusionsPage()}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchUpgradeOptions()}},{key:"getOtherActivities",value:function(e){var t=Object.keys(this.props.itineraryInfo.activityById);return Object(E.a)(e)||(t=Object(C.a)(t,[e])),t}},{key:"render",value:function(){var e=this,t=this.props.upgradeOptions,a=this.props,n=a.match,i=a.previewList,o=a.itineraryInfo.itinerary,r=(o=void 0===o?{}:o).booking,l=o.frozen,d=r||l,u=n.params.configKey,m=Object(v.a)(u),p=(i||[])[Object(b.a)(i,(function(e){return e.slotIdentifier===m}))];if(!p||!t)return s.a.createElement("div",null);var f=Object(w.a)(p,"activitySlotDetail.selectedTourGrade.cost"),g=Object(w.a)(p,"activitySlotDetail.activityId"),y=t[Object(w.a)(p,"activitySlotDetail.activityId")]||[];return console.log(g,t,y),y.length?s.a.createElement(c.Fragment,null,s.a.createElement(B,null,s.a.createElement("span",null,"Available Upgrades")),s.a.createElement(L,null,y.map((function(t,a){var n=null===t.selectedTourGrade.cost?t.selectedTourGrade.diff&&t.selectedTourGrade.diff.diffCost:t.selectedTourGrade.cost,i=Object(R.b)(f,t.selectedTourGrade);return s.a.createElement("li",{key:"activity_prev_".concat(a)},s.a.createElement("p",null,t.title),s.a.createElement("span",{className:"right-col"},s.a.createElement(T.a,{price:n,rootClassName:"",isPriceIncreased:i,disablePriceVariation:!t.diff,RootElement:"strong"}),s.a.createElement(h.a,{onClick:function(){return e.changeActivity(t)},disabled:d},"Choose")))})))):null}}]),a}(c.Component);t.a=Object(p.withRouter)(Object(d.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.activitiesPreviewList,i=void 0===n?[]:n,o=e.activityUpgradeOptions,r=void 0===o?[]:o;return{itineraryInfo:a.itineraryInfo,user_details:a.user_details,previewList:i.activityList,upgradeOptions:r.activityUpgrades}}),(function(e){return{activityUpgradeOptionFetch:Object(u.b)(j,e),manageActivity:Object(u.b)(S.a,e)}}))(F))},1732:function(e,t,a){"use strict";var n=a(11),i=a(0),o=a.n(i),r=a(49),l=a.n(r),c=a(33),s=a(1),d=a(594),u=(a(897),a(591)),m=a(1592),p=a(30),f=a(105),g=a(141),h=a(1963),y=a(169),v=a(895),b=a(2593),E=a(2433),C=a(2434),O=a(611),x=a(22),k=a(14),I=a(1593),N=a(55),j=function(e){var t=e.setOpenModal,a=Object(p.e)((function(e){var t=e.app;return(void 0===t?{}:t).itineraryInfo})),r=Object(p.e)((function(e){var t=e.app;return(void 0===t?{}:t).user_details.permissions})),j=Object(i.useMemo)((function(){return a.itinerary.itineraryId}),[a]),w=Object(i.useMemo)((function(){return null===a||void 0===a?void 0:a.paymentDetails}),[a]),A=Object(i.useMemo)((function(){var e;return Math.round(null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.grossCost)}),[a]),T=Object(i.useMemo)((function(){var e;return Math.round(null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.cancellationFee)}),[a]),R=Object(i.useMemo)((function(){var e;return Math.round(null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.exposureAmount)}),[a]),S=Object(i.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.costingConfiguration)||void 0===e?void 0:e.departureDate}),[a]),D=Object(i.useMemo)((function(){var e,t,n;return(null===(e=((null===(t=a.itinerary)||void 0===t||null===(n=t.taxesAndFees)||void 0===n?void 0:n.costings)||[]).find((function(e){return"TCS"===e.description})))||void 0===e?void 0:e.cost)||0}),[a]),P=Object(i.useMemo)((function(){var e;return Math.ceil(null===(e=a.itinerary)||void 0===e?void 0:e.totalCostWithoutTCS)}),[a]),_=Object(i.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.booking}),[a]),B=Object(i.useMemo)((function(){return Object(m.a)({permissions:r,key:I.i})}),[]),L=Object(i.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.itinerary)||void 0===e?void 0:e.swapped}),[a]),F=Object(p.d)(),M=Object(p.e)((function(e){var t=e.app;return(void 0===t?{}:t).locale})),V=l()(),U=l()(S),H=l.a.duration(V.diff(U)).asDays(),z=Object(i.useState)([{expiresOn:l()().add(2,"days"),installment:1,value:0}]),W=Object(n.a)(z,2),G=W[0],K=W[1],Y=Object(i.useState)([{expiresOn:B&&Math.round(Math.abs(H))<=21?l()().set("hour",23).set("minute",59).set("second",0).set("millisecond",0):l()(S).subtract(21,"days").set("hour",23).set("minute",59).set("second",0).set("millisecond",0),installment:0,value:0}]),q=Object(n.a)(Y,2),J=q[0],Q=q[1],X=Object(i.useState)({show:!1,index:0}),$=Object(n.a)(X,2),Z=$[0],ee=$[1],te=Object(i.useState)({show:!1,index:0}),ae=Object(n.a)(te,2),ne=ae[0],ie=ae[1],oe=Object(i.useState)(!1),re=Object(n.a)(oe,2),le=re[0],ce=re[1],se=Object(i.useState)(!0),de=Object(n.a)(se,2),ue=de[0],me=de[1],pe=Object(i.useState)(0),fe=Object(n.a)(pe,2),ge=fe[0],he=fe[1],ye=Object(i.useMemo)((function(){return R===A}),[R,A]),ve=Object(i.useMemo)((function(){var e=!1;return null===w||void 0===w||w.forEach((function(t){t.exposureSegment||(e=!0)})),e}),[w]);Object(i.useEffect)((function(){var e=T;w||K([Object(s.a)(Object(s.a)({},G[0]),{},{value:A<1e4||Math.abs(H)<1?A:w?w[0].value:e>1e4?e:1e4})])}),[]),Object(i.useEffect)((function(){var e,t=0;G.forEach((function(e){t+=+e.value+ +((null===e||void 0===e?void 0:e.tcs)||0)-+((null===e||void 0===e?void 0:e.discount)||0)})),t>=R?(ce(!1),me(!0)):(ce(!0),me(!1)),t>A&&me(!1),G.forEach((function(e){(""===e.value||isNaN(e.value))&&me(!1),e.value+e.tcs!=="0"&&e.value+e.tcs!==0||me(!1)})),J.forEach((function(e,a,n){if("0"===e.value||0===e.value||""===e.value||isNaN(e.value)){if(t===A)return void me(!0);if(+e.value+ +e.tcs===0)return void me(!1);me(!1)}a===n.length-1&&e.value<=0&&me(!1)})),Math.abs(H)<=2&&me(!1),A||me(!1),D&&!G[0].paid&&+G[0].value+(null===(e=G[0])||void 0===e?void 0:e.tcs)<D&&me(!1),J.forEach((function(e){t+=+e.value+(null===e||void 0===e?void 0:e.tcs)})),t-D>A&&me(!1)}),[G,J,H,A]),Object(i.useEffect)((function(){if(null!==w&&void 0!==w&&w.length){var e=[],t=[];me(!1),(w||[]).forEach((function(a){var n={expiresOn:a.dueOn,installment:a.installment,value:Math.round(a.value)-Math.round(null===a||void 0===a?void 0:a.tcs),paid:null===a||void 0===a?void 0:a.paid,tcs:null===a||void 0===a?void 0:a.tcs,discount:null===a||void 0===a?void 0:a.discount,amount:null===a||void 0===a?void 0:a.amount,paymentId:null===a||void 0===a?void 0:a.paymentId};a.exposureSegment?e.push(n):(console.log({val:Math.round(a.value)-Math.round(null===a||void 0===a?void 0:a.tcs)}),t.push(n))})),console.log({segmentTwoData:t}),K(e),Q(t)}}),[w]),Object(i.useEffect)((function(){var e=0;G.forEach((function(t){e+=+t.value+t.tcs})),ve||Q(A!==e?[{expiresOn:B&&Math.round(Math.abs(H))<=21?l()().set("hour",23).set("minute",59).set("second",0).set("millisecond",0):l()(S).subtract(21,"days").set("hour",23).set("minute",59).set("second",0).set("millisecond",0),installment:0,value:0}]:[])}),[G,ve]);var be=Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={expiresOn:B&&Math.round(Math.abs(H))<=21?l()().set("hour",23).set("minute",59).set("second",0).set("millisecond",0):l()(G[G.length-1].expiresOn).add(1,"d"),installment:e?J.length+1:G.length+1,value:0,tcs:0};e||(t.expiresOn=l()().add(2,"days")),me(!1),e?Q([t].concat(Object(c.a)(J))):K([].concat(Object(c.a)(G),[t]))}),[G,J]),Ee=Object(i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?Object(c.a)(J):Object(c.a)(G);a.splice(e,1),a.forEach((function(e,t){return e.installment=t+1})),me(!0),t?Q(a):K(a)}),[G,J]),Ce=Object(i.useCallback)((function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a?Object(c.a)(J):Object(c.a)(G);n[e].value<=0&&(n[e].value=""),""===n[e-1].value&&(n[e-1].value=0),""===(null===(t=n[e+1])||void 0===t?void 0:t.value)&&(n[e+1].value=0),a?Q(n):K(n)}),[G,J]),Oe=function(){he(1)},xe=function(){he(0)},ke=Object(i.useCallback)((function(e,t,a){var n=Object(c.a)(G);n[t][a]=e;var i=0;n.forEach((function(e){i+=parseInt(e.value)})),"value"===a&&isNaN(e)?(n[t][a]=0,me(!1)):parseInt(e)>0?me(!0):me(!1),me(!0),i>A?(ee({show:!0,index:t}),me(!1)):(ee({show:!1}),me(!0)),K(n)}),[G,A]),Ie=Object(i.useCallback)((function(e,t,a){var n=Object(c.a)(J);n[t][a]=e;var i=0;"value"===a?n[t].value=e:n[t].expiresOn=e,me(!0),"value"!==a||"0"!==e&&!isNaN(e)?parseInt(e)>0?me(!0):me(!1):(n[t][a]=0,me(!1)),G.forEach((function(e){i+=parseInt(e.value)})),n.forEach((function(e,t,a){t!==a.length-1&&(i+=parseInt(e.value))})),i>A?(ie({show:!0,index:t}),me(!1)):(ie({show:!1}),me(!0)),Q(n)}),[G,J,A]),Ne=Object(i.useMemo)((function(){var e=!1;return G.forEach((function(t){return null!==t&&void 0!==t&&t.paid?e=!0:null})),J.forEach((function(t){return null!==t&&void 0!==t&&t.paid?e=!0:null})),!e&&Math.abs(H)<21}),[H,G,J]),je=Object(i.useMemo)((function(){return Math.abs(H)<=2}),[H]),we=Object(i.useMemo)((function(){var e;return(null===(e=G[0])||void 0===e||!e.paid)&&l.a.duration(l()(G[0].expiresOn).diff(V)).asDays()<0}),[G]),Ae=Object(i.useMemo)((function(){return!_&&(!we&&G.length>1)}),[G,_,we]),Te=Object(i.useMemo)((function(){return!_&&(!we&&J.length<3)}),[J,_,we]),Re=Object(i.useMemo)((function(){return!_&&(!we&&J.length>1)}),[J,_,we]),Se=Object(i.useMemo)((function(){return!_&&(!we&&(!je&&G.length<10))}),[G,_,we,je]),De=Object(i.useMemo)((function(){return!!(D&&+G[0].value+G[0].tcs<D)}),[D,G]);Object(i.useMemo)((function(){var e,t=Object(c.a)(J);if((null===(e=t[t.length-1])||void 0===e||!e.paid)&&!_){var a=0;t.forEach((function(e,t,n){e.value&&t!==n.length-1?(e.value=parseInt(e.value),a+=e.value+(null===e||void 0===e?void 0:e.tcs)):null!==e&&void 0!==e&&e.tcs&&t!==n.length-1&&(a+=null===e||void 0===e?void 0:e.tcs)})),G.forEach((function(e){e.value?(e.value=parseInt(e.value),a+=e.value+(null===e||void 0===e?void 0:e.tcs)):null!==e&&void 0!==e&&e.tcs&&(a+=null===e||void 0===e?void 0:e.tcs)}));var n=A-a,i=Object(c.a)(J);return i.length&&(i[i.length-1].installment=G.length+1,i[i.length-1].value=n),n||me(!1),n}}),[G,J,_]);var Pe=Object(i.useMemo)((function(){var e="";return e+="Total Deal Size: ".concat(P,"\n    Exposure segment:\n    Total Exposure: ").concat(R,"\n    "),G.forEach((function(t,a){e+="Instalment ".concat(a+1,": ").concat(Object(O.b)("".concat(t.value))," - ").concat(l()(t.expiresOn).format("DD/MM/YYYY HH:mm:ss"),"\n")})),J.length&&J[0].value&&(e+="Non-Exposure segment: \n",J.forEach((function(t,a){e+="Instalment ".concat(G.length+a+1,": ").concat(Object(O.b)("".concat(t.value))," - ").concat(l()(t.expiresOn).format("DD/MM/YYYY HH:mm:ss"),"\n")}))),e}),[P,D,R,G,J]),_e=Object(i.useMemo)((function(){var e=!1;return G.forEach((function(t){null!==t&&void 0!==t&&t.paid||(e=!0)})),J.forEach((function(t){null!==t&&void 0!==t&&t.paid||(e=!0)})),e}),[G,J]);return console.log({segmentTwo:J}),o.a.createElement(f.a.Item,{paddingBottom:24},o.a.createElement(f.a.Item,{paddingHorizontal:43,paddingTop:10,width:"100%",zIndex:ge},o.a.createElement(f.a.Item,{height:"93%",width:"100%",gap:12},o.a.createElement(f.a,{gutter:50,width:"100%",flexWrap:"wrap"},o.a.createElement(f.a.Item,{width:108}),o.a.createElement(g.a,{fontStyle:13,width:150,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Due Date"),o.a.createElement(g.a,{fontStyle:13,width:197,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Due Amount"),o.a.createElement(f.a,{gutter:32,marginLeft:-38},o.a.createElement(g.a,{width:84,fontStyle:13,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"TCS"),o.a.createElement(g.a,{width:84,fontStyle:13,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Discount"),o.a.createElement(g.a,{width:84,fontStyle:13,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Total Payable"),o.a.createElement(g.a,{width:84,fontStyle:13,lineHeight:20,fontWeight:700,color:"#888888",selectable:!1},"Status"))),o.a.createElement(f.a.Item,{height:"100%"},o.a.createElement(f.a.Item,{minHeight:137,backgroundColor:"rgba(229, 249, 243, 1)",gap:24,paddingVertical:24,paddingLeft:12},o.a.createElement(f.a,{gutter:28},o.a.createElement(g.a,{fontSize:16,lineHeight:22,fontWeight:600,color:"rgba(0,0,0,0.9)",selectable:!1},"Total Exposure"),o.a.createElement(g.a,{fontSize:16,lineHeight:22,fontWeight:600,color:"rgba(0,0,0,0.9)"},o.a.createElement(N.a,{objectData:{value:R},path:"value",defaultValue:"0"}),D?" (".concat(T," (non-refundable) + ").concat(D," (TCS))"):"")),(le||De)&&o.a.createElement(f.a.Item,{flexDirection:"row",gutter:6,width:"100%"},le&&!_&&o.a.createElement(f.a.Item,{flexDirection:"row",gap:4,width:"50%"},o.a.createElement(b.a,{fill:"rgba(255, 0, 0, 1)"}),o.a.createElement(g.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"80%"},"Total exposure amount is not being collected within 48 hours. Please recheck instalment amounts")),De&&o.a.createElement(f.a.Item,{flexDirection:"row",gap:4,width:"50%"},o.a.createElement(b.a,{fill:"rgba(255, 0, 0, 1)"}),o.a.createElement(g.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"80%"},"First instalment amount should be greater or equal to TCS"))),null===G||void 0===G?void 0:G.map((function(e,t){return o.a.createElement(f.a,{width:"100%",flexWrap:"wrap",gutter:52,key:"DP"+t,zIndex:"unset"},o.a.createElement(g.a,{fontSize:16,lineHeight:22,fontWeight:600,color:"rgba(0,0,0,0.9)",selectable:!1},"Instalment ",t+1),o.a.createElement(h.a,{style:{width:160.5,height:40,borderRadius:4,backgroundColor:"rgba(235, 235, 236, 1)"},inputProps:{editable:!1,fontSize:14},padding:8,value:l()(e.expiresOn).format("DD/MM/YYYY"),editable:!1,selectTextOnFocus:!1}),o.a.createElement(h.a,{focusable:!0,style:{width:150,height:40,borderRadius:4,borderWidth:1,borderColor:Z.show&&Z.index===t?"rgba(215, 60, 84, 1)":"#B7B7B7"},inputProps:{keyboardType:"numeric",fontSize:14,onFocus:function(){return t>0?Ce(t):null},editable:!(_||we||null!==e&&void 0!==e&&e.paid)},focusProps:{backgroundColor:"#F8F8FF"},value:e.value,placeholder:e.value?e.value:"",onChange:function(e){return ke(e,t,"value")}}),o.a.createElement(f.a,{gutter:32,alignItems:"center"},o.a.createElement(g.a,{width:84,fontSize:14,fontWeight:450,color:"#333333"},o.a.createElement(N.a,{objectData:{value:null===e||void 0===e?void 0:e.tcs},path:"value",defaultValue:"0"})),o.a.createElement(g.a,{width:84,fontSize:14,fontWeight:450,color:"#333333"},o.a.createElement(N.a,{objectData:{value:null===e||void 0===e?void 0:e.discount},path:"value",defaultValue:"0"})),o.a.createElement(g.a,{width:84,fontSize:14,fontWeight:450,color:"#333333"},o.a.createElement(N.a,{objectData:{value:+(null===e||void 0===e?void 0:e.value)+ +(null===e||void 0===e?void 0:e.tcs)-(+e.discount||0)},path:"value",defaultValue:"0"})),null!==e&&void 0!==e&&e.paid?o.a.createElement(g.a,{width:84},"Paid"):o.a.createElement(g.a,{width:84},"Unpaid")),o.a.createElement(f.a.Item,{flexDirection:"row",gap:20},o.a.createElement(y.a,{disabled:!Se||!_e,onPress:function(){return be(!1)},cursor:Se&&_e?"pointer":"not-allowed"},o.a.createElement(E.a,{fill:"grey"})),o.a.createElement(y.a,{disabled:!Ae||(null===e||void 0===e?void 0:e.paid)||0===t,onPress:function(){return Ee(t)},cursor:!Ae||null!==e&&void 0!==e&&e.paid||0===t?"not-allowed":"pointer",paddingRight:8},o.a.createElement(C.a,{fill:"grey"}))))}))),(!Ne&&!ye||L)&&o.a.createElement(f.a.Item,{minHeight:137,gap:24,paddingVertical:24,paddingLeft:12},null===J||void 0===J?void 0:J.map((function(e,t,a){var n,i,r,c,s;return o.a.createElement(f.a,{width:"100%",flexWrap:"wrap",gutter:48,key:"DP"+t,zIndex:"unset"},o.a.createElement(g.a,{fontSize:16,lineHeight:22,fontWeight:600,color:"rgba(0,0,0,0.9)",selectable:!1},"Instalment ",G.length+(t+1)," "),o.a.createElement(d.a,{onKeyDown:function(e){e.preventDefault()},selected:l()(e.expiresOn),nextMonthButtonLabel:"",previousMonthButtonLabel:"",onChange:function(e){return Ie(e,t,"expiresOn")},className:"form-control",dateFormat:"DD/MM/YYYY",minDate:0===t?l()(null===(n=G[G.length-1])||void 0===n?void 0:n.expiresOn).add(1,"d"):l()(null===(i=J[t-1])||void 0===i?void 0:i.expiresOn),maxDate:t===a.length-1?null===(r=l()(S))||void 0===r?void 0:r.subtract(21,"d"):0===t&&a.length>1||1===t&&a.length>2?null===(c=l()(J[t+1].expiresOn))||void 0===c?void 0:c.subtract(1,"d"):null===(s=l()(J[0].expiresOn))||void 0===s?void 0:s.subtract(1,"d"),popperPlacement:"top-end",shouldCloseOnSelect:!0,onFocus:Oe,onBlur:xe,readOnly:we||_||(null===e||void 0===e?void 0:e.paid)}),t===a.length-1?o.a.createElement(h.a,{style:{width:150,height:40,borderRadius:4,borderWidth:1,borderColor:"#B7B7B7",backgroundColor:"#E5E5E5"},inputProps:{editable:!1,fontSize:14},value:Object(O.b)("".concat(e.value)),editable:!1,selectTextOnFocus:!1}):o.a.createElement(h.a,{focusable:!0,style:{width:150,height:40,borderRadius:4,borderWidth:1,borderColor:ne.show&&ne.index===t?"rgba(215, 60, 84, 1)":"#B7B7B7"},inputProps:{keyboardType:"numeric",fontSize:14,onFocus:function(){return t>0?Ce(t,!0):null},editable:!(_||we||null!==e&&void 0!==e&&e.paid)},focusProps:{backgroundColor:"#F8F8FF"},value:e.value,onChange:function(e){return Ie(e,t,"value")}}),o.a.createElement(f.a,{gutter:32,alignItems:"center",paddingLeft:4},o.a.createElement(g.a,{width:84},o.a.createElement(N.a,{objectData:{value:null===e||void 0===e?void 0:e.tcs},path:"value",defaultValue:"0"})),o.a.createElement(g.a,{width:84},o.a.createElement(N.a,{objectData:{value:e.discount},path:"value",defaultValue:"0"})),o.a.createElement(g.a,{width:84},o.a.createElement(N.a,{objectData:{value:+(null===e||void 0===e?void 0:e.value)+ +((null===e||void 0===e?void 0:e.tcs)||0)-+(e.discount||0)},path:"value",defaultValue:"0"})),null!==e&&void 0!==e&&e.paid?o.a.createElement(g.a,{width:84},"Paid"):o.a.createElement(g.a,{width:84},"Unpaid")),o.a.createElement(f.a.Item,{flexDirection:"row",gap:20,paddingLeft:4},o.a.createElement(y.a,{disabled:!Te||!_e,onPress:function(){return be(!0)},cursor:Te&&_e?"pointer":"not-allowed"},o.a.createElement(E.a,{fill:"grey"})),o.a.createElement(y.a,{disabled:!(Re&&t!==a.length-1),onPress:function(){return Re&&t!==a.length?Ee(t,!0):null},cursor:Re&&t!==a.length-1?"pointer":"not-allowed"},o.a.createElement(C.a,{fill:"grey"}))))}))))),o.a.createElement(f.a.Item,{height:"7%",width:"100%",paddingBottom:12},o.a.createElement(f.a.Item,{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},o.a.createElement(f.a.Item,{width:"78%"},je&&!_?o.a.createElement(g.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"60%"},"This is a short departure itinerary within 48 hours. No custom instalments allowed."):Ne?o.a.createElement(g.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"60%"},"This is a short departure itinerary. All instalments should be collected within 48 hours"):we?o.a.createElement(g.a,{fontSize:12,lineHeight:"14.5px",color:"rgba(255, 0, 0, 1)",width:"60%"},"First instalment due date has been crossed. To reset, please delete and re-create custom instalments"):null),o.a.createElement(f.a,null,o.a.createElement(v.a,{alignSelf:"flex-end",backgroundColor:"#fff",padding:15,borderRadius:4,borderWidth:1,borderColor:"#00C684",textProps:{color:"#00C684",fontSize:15,fontWeight:600,lineHeight:20},disabled:!ue||we||_,disabledProps:{cursor:"not-allowed",backgroundColor:"#E5E5E5"},onPress:function(){var e="".concat(k.a.api_url,"itinerary/payment/merge-custom-payments"),a={itineraryId:j,value:A,reason:"Clubbing Instalments from FE"};Object(x.a)({url:e,method:"POST",body:a,customHeader:{locale:M},onSuccess:function(e){"SUCCESS"===e.status&&F(Object(u.a)(j,null,M)).then((function(){return t(!1)}))},onFailure:function(){}})}},"Club Instalments"),o.a.createElement(v.a,{alignSelf:"flex-end",backgroundColor:"#00C684",padding:15,borderRadius:4,textProps:{color:"#fff",fontSize:15,fontWeight:600,lineHeight:20},disabled:!ue||we||_,disabledProps:{cursor:"not-allowed",backgroundColor:"#E5E5E5"},onPress:function(){var e={itineraryId:j,paymentInstallmentType:"absolute",paymentOptions:[],reason:Pe},a="".concat(k.a.api_url,"itinerary/payment/schedule/update");if(ue){var n=Object(c.a)(G),i=Object(c.a)(J);n.forEach((function(e){var t=l()(e.expiresOn);e.dueOn=t.format("x"),e.expiresOn=t.toISOString(),e.exposureSegment=!0,e.value=e.value+e.tcs})),i.length&&i[0].value&&i.forEach((function(e,t){var a=l()(e.expiresOn).set("hour",23).set("minute",59).set("second",0).set("millisecond",0);e.dueOn=a.format("x"),e.installment=n.length+1+t,e.expiresOn=a.toISOString(),e.exposureSegment=!1,e.value=+e.value}));var o=[];o=i.length&&i[0].value?[].concat(Object(c.a)(n),Object(c.a)(i)):Object(c.a)(n),e.paymentOptions=o,Object(x.a)({url:a,method:"POST",body:e,customHeader:{locale:M},onSuccess:function(e){"SUCCESS"===e.status&&F(Object(u.a)(j,null,M)).then((function(){return t(!1)}))},onFailure:function(){}})}}},"Save Instalments"))))))},w=a(898),A=a.n(w),T=a(138),R=a.n(T),S=a(1334),D=a(896),P=a(1331),_=a(1594),B=a(36),L=a(1663);t.a=function(e){var t,a=e.showPopUp,r=Object(i.useState)(!1),c=Object(n.a)(r,2),s=c[0],d=c[1],m=Object(i.useState)({open:!1,isConfirm:!1}),h=Object(n.a)(m,2),v=h[0],E=h[1],O=Object(p.e)((function(e){var t=e.app;return(void 0===t?{}:t).itineraryInfo})),I=Object(p.d)(),w=Object(i.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.itinerary)||void 0===e?void 0:e.itineraryId}),[O]),T=Object(i.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.itinerary)||void 0===e?void 0:e.staleCost}),[O]),F=Object(i.useMemo)((function(){return null===O||void 0===O?void 0:O.paymentDetails}),[O]),M=Object(i.useMemo)((function(){var e;return Math.round(null===O||void 0===O||null===(e=O.itinerary)||void 0===e?void 0:e.totalCost)}),[O]),V=Object(i.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.costingConfiguration)||void 0===e?void 0:e.departureDate}),[O]),U=Object(i.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.itinerary)||void 0===e?void 0:e.locale}),[O]),H=Object(i.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.itinerary)||void 0===e?void 0:e.booking}),[O]),z=Object(i.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.paymentSchedule)||void 0===e?void 0:e.totalPending}),[O]),W=Object(i.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.itinerary)||void 0===e?void 0:e.installmentUpdated}),[O]),G=Object(B.useLocation)().pathname,K=l()(),Y=l()(V),q=l.a.duration(K.diff(Y)).asDays();parseFloat(q),R()((function(){if(v.isConfirm){var e="".concat(k.a.api_url,"itinerary/payment/schedule?itineraryId=").concat(w);Object(x.a)({url:e,method:"DELETE",onSuccess:function(e){"SUCCESS"===e.status&&(I(Object(u.a)(w,null,U)),E({open:!1,isConfirm:!1}))},onFailure:function(){return null}})}}),[v]),Object(i.useEffect)((function(){W&&a&&!G.includes("/ab-card")&&(Object(_.a)(I,"Custom Instalment updated!"),setTimeout((function(){J()}),[2e3]))}),[W,G]);var J=Object(i.useCallback)((function(){var e="".concat(k.a.api_url,"itinerary/custom-installment/seen-update/").concat(w);Object(x.a)({url:e,method:"POST",onSuccess:function(e){"SUCCESS"===e.status&&I(Object(u.a)(w,null,U)).then((function(){}))},onFailure:function(){return null}})}),[w,U]);return o.a.createElement(o.a.Fragment,null,null!==O&&void 0!==O&&null!==(t=O.itinerary)&&void 0!==t&&t.costed&&!T&&(!H||null!==F&&void 0!==F&&F.length&&H)?o.a.createElement(f.a,{paddingTop:12,width:"100%",borderWidth:1,borderColor:"#E5E5E5",borderRadius:8,marginTop:24},o.a.createElement(f.a.Item,{width:"100%"},o.a.createElement(f.a,{paddingLeft:20,paddingRight:12,cursor:"pointer",justifyContent:"space-between"},o.a.createElement(y.a,{onPress:function(){return d(!0)},alignItems:"center",flexDirection:"row",paddingBottom:8,gap:2},o.a.createElement(g.a,{fontSize:14,fontWeight:600,lineHeight:19,color:"#00B277"},null!==F&&void 0!==F&&F.length?"Edit ":"Create ","custom instalments"),o.a.createElement(D.a,{fill:"#00B277",width:"15px",height:"15px"})),null!==F&&void 0!==F&&F.length?o.a.createElement(y.a,{onPress:function(){return H?null:E({open:!0,isConfirm:!1})},cursor:H?"not-allowed":"pointer"},o.a.createElement(C.a,{fill:"#E92C2C",height:18,width:18})):null),null!==F&&void 0!==F&&F.length?o.a.createElement(f.a.Item,{backgroundColor:"#F7F7F7",gutter:6,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingBottom:12},o.a.createElement(f.a.Item,{paddingLeft:20,paddingTop:10},o.a.createElement(g.a,{fontSize:14,fontWeight:600,color:"#333333",lineHeight:20},null===F||void 0===F?void 0:F.length," instalments added")),o.a.createElement(f.a.Item,{paddingLeft:20,paddingTop:5},o.a.createElement(f.a,{gutter:4,flexWrap:"wrap",rowGap:4},null===F||void 0===F?void 0:F.map((function(e,t){return o.a.createElement(g.a,{fontSize:14,fontWeight:450,color:"#333333",maxHeight:40,key:t},o.a.createElement(N.a,{objectData:{value:e.amount},path:"value",defaultValue:"0"}))}))))):o.a.createElement(f.a,{paddingVertical:12,backgroundColor:"#FFFAEB",gutter:6,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingBottom:32},o.a.createElement(f.a,{paddingLeft:20,cursor:"pointer"},o.a.createElement(b.a,{fill:"#99791F",width:22,height:22})),o.a.createElement(f.a,{paddingLeft:5},o.a.createElement(g.a,{fontSize:14,width:258,fontWeight:400,color:"#99791F",lineHeight:20,textAlign:"left",maxHeight:40},"By default the exposure amount (non-refundable amount + TCS) or \u20b910,000 is added as first instalment")))),o.a.createElement(S.a,{visible:s,containerProps:{padding:0,width:"100vw",minHeight:"100vh",overflow:"scroll"}},o.a.createElement(f.a,{gutter:"auto",height:"15%",padding:16,backgroundColor:"#F7F7F7",borderTopLeftRadius:8,borderTopRightRadius:8},o.a.createElement(f.a.Item,{paddingLeft:20},o.a.createElement(g.a,{fontWeight:600,fontSize:26,lineHeight:36,color:"rgba(0, 0, 0, 0.9)"},"Custom instalments"),o.a.createElement(f.a,{paddingTop:10},o.a.createElement(f.a,null,o.a.createElement(g.a,{fontSize:14,lineHeight:22,fontWeight:450,color:"#333333"},"Departing in:"),o.a.createElement(g.a,{fontSize:14,lineHeight:22,fontWeight:650,color:"#333333"},Math.round(Math.abs(q))," days (",V,")")),o.a.createElement(f.a,{paddingLeft:10},o.a.createElement(g.a,{fontSize:14,lineHeight:22,fontWeight:450,color:"#333333"},"Total payable:"),o.a.createElement(g.a,{fontSize:14,lineHeight:22,fontWeight:650,color:"#333333"},o.a.createElement(N.a,{objectData:{value:M},path:"value",defaultValue:"0"}))),z<0?o.a.createElement(f.a,{paddingLeft:10},o.a.createElement(g.a,{fontSize:14,lineHeight:22,fontWeight:450,color:"#333333"},"Return Cost:"),o.a.createElement(g.a,{fontSize:14,lineHeight:22,fontWeight:650,color:"#333333"},o.a.createElement(N.a,{objectData:{value:z},path:"value",defaultValue:"0"})," ",o.a.createElement(g.a,{fontSize:14,lineHeight:22,fontWeight:650,color:"#E92C2C"},"(TCS Included)*"))):null)),o.a.createElement(y.a,{onPress:function(){return d(!1)},position:"absolute",top:-40,right:1},o.a.createElement(P.a,{width:20,height:20}))),o.a.createElement(j,{setOpenModal:d}))):null,o.a.createElement(A.a,{show:v.open,title:"Reset Custom Instalment",text:"This will reset the custom instalment to the default state, Are you sure you want to do?",animation:"pop",onCancel:function(){return E({open:!1,isConfirm:!1})},onConfirm:function(){return E({open:!1,isConfirm:!0})},confirmButtonText:"Reset",showCancelButton:!0}),G.includes("/rate-match")&&o.a.createElement(L.a,null))}},1734:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(2),i=a(47),o=a(6),r=n.default.div.withConfig({displayName:"ContainerWrapper"})(["",";padding-left:12px;padding-right:12px;margin-right:auto;margin-left:auto;","{width:1176px;}"],i.d,o.lg)},1739:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var u=function(e){Object(o.a)(a,e);var t=d(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.failedFor,a=e.isLastRow,n=void 0===a||a;return s.a.createElement(s.a.Fragment,null,s.a.createElement("article",{className:"row-costed-item row danger"},s.a.createElement("div",{className:"col-xs-12 col-md-12 spacer"},s.a.createElement("div",{className:"costed-item-head",style:{paddingLeft:0}},s.a.createElement("h5",{className:"no-margin"},"Oh no ",s.a.createElement("span",{role:"img","area-label":"confused"},"\ud83d\ude15")," Looks like there's an issue"),s.a.createElement("span",{className:"meta-text color-accent-3"},"We aren't able to fetch your ",t," details at the moment. Please refresh after a while.")))),n?null:s.a.createElement("hr",{className:"tear"}))}}]),a}(c.Component)},1741:function(e,t,a){"use strict";var n=a(2),i=a(5),o=n.default.span.withConfig({displayName:"TopRecommended"})(["display:inline-block;vertical-align:top;margin-left:10px;i{display:inline-block;vertical-align:top;background:#00c684;color:",";font-size:",";line-height:24px;padding:0 4px;}b{display:inline-block;vertical-align:top;font-weight:",";font-size:",";line-height:24px;letter-spacing:-0.25px;background-color:",";padding:0 4px;}"],i.theme.white,i.theme.baseSecondary,i.theme.semiBold,i.theme.microSecondary,i.theme.white);t.a=o},1750:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(14),i=a(22),o=a(245),r=a(190),l=a(171);function c(e){return function(t){return new Promise((function(a,c){var s="".concat(n.a.api_url,"itinerary/").concat(e.itineraryId,"/splitpricing");Object(i.a)({url:s,method:"POST",body:e,onSuccess:function(e){Object(o.a)(t,e.data),a("Promised resolved from fetch")},onFailure:function(e){Object(r.a)(e,t),Object(l.a)(e,t),c("Failed")}})}))}}},1751:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(1603),r=a(1599),l=a(1725);t.a=function(e){var t=e.price,a=void 0===t?null:t,c=e.publishedPrice,s=void 0===c?null:c,d=e.icons,u=void 0===d?[]:d,m=e.changeText,p=void 0===m?r.b:m,f=e.viewText,g=void 0===f?"View details":f,h=e.onChange,y=e.onRemove,v=e.removeText,b=e.isFree,E=void 0!==b&&b,C=e.isPriceStrikethrough,O=void 0!==C&&C,x=e.isReadOnly,k=e.onEditClick,I=void 0===k?null:k,N=e.canEditPrice,j=void 0!==N&&N,w=e.changeDisabled,A=void 0!==w&&w,T=e.removeDisabled,R=void 0!==T&&T,S=e.onView,D=e.alertComponent,P=e.isBlockCard,_=void 0!==P&&P,B=e.blockCardClickAction,L=e.ourSourceProvider,F=void 0===L?"":L,M=e.enableOnRequest,V=void 0!==M&&M,U=e.disableOnRequest,H=void 0!==U&&U,z=e.isOnRequested,W=void 0!==z&&z,G=e.onRequestChangeAction,K=void 0===G?function(){}:G,Y=e.isAdmin,q="function"===typeof y?i.a.createElement("button",{type:"button",className:"btn btn-xs btn-danger btn-outline btn-outline-bg delete-btn",onClick:y,disabled:R},v||i.a.createElement("i",{className:"pyt-delete-16"})):null,J="function"===typeof h?i.a.createElement("button",{type:"button",className:"btn btn-default btn-outline btn-sm",onClick:h,disabled:A},p):null,Q="function"===typeof S?i.a.createElement("button",{type:"button",className:"btn btn-default btn-outline btn-sm",onClick:S},g):null,X="function"===typeof B&&_?i.a.createElement("button",{type:"button",className:"btn btn-default btn-outline btn-sm",onClick:B},"Add Custom Item"):null;if(!u&&null===J&&null===q&&null===Q&&null===a)return null;var $=V?"col-xs-8":"col-xs-12";return i.a.createElement(n.Fragment,null,u.length?i.a.createElement("div",{className:"row bordered-list"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(o.a,{icons:u.slice(0,2)}))):null,D,F?i.a.createElement("span",{className:"likely-tag bg-accent-2"},i.a.createElement("i",{className:"pyt-flash-on-16 color-accent-1"}),F):null,i.a.createElement("div",{className:"row mtop-medium bordered-list ".concat(a||E?"vertical-center":"")},!x&&(J||q||a||Q)?i.a.createElement(n.Fragment,null,!a&&!s||E?null:i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(l.a,{price:a,isFree:E,isPriceStrikethrough:O,isAdmin:Y,publishedPrice:s,onEditClick:I,canEditPrice:j})),i.a.createElement("div",{className:"".concat(!a&&!s||E?$:"col-xs-8")},i.a.createElement("div",{className:"btn-group"},q,Q,J,X),V?i.a.createElement("p",{className:"color-grey meta-text mtop-small ".concat(H?"cursor-not-allowed":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),H||K(!W)}},"Auto Booking for Flight",i.a.createElement("label",{className:"switch",style:{marginLeft:"4px"}},i.a.createElement("input",{type:"checkbox",checked:W}),i.a.createElement("span",{className:"".concat(H?"cursor-not-allowed":""," slider")}))):null)):null))}},1764:function(e,t,a){"use strict";var n=a(107),i=a(154),o=a(153),r=a(179),l=a(35),c=a.n(l),s=a(0),d=a.n(s),u=a(3),m=a.n(u),p=a(1813),f=a.n(p),g=a(1814),h=a(158),y=a(218),v={active:m.a.bool,disabled:m.a.bool,divider:f()(m.a.bool,(function(e){var t=e.divider,a=e.children;return t&&a?new Error("Children will not be rendered for dividers"):null})),eventKey:m.a.any,header:m.a.bool,href:m.a.string,onClick:m.a.func,onSelect:m.a.func},b=function(e){function t(t,a){var n;return(n=e.call(this,t,a)||this).handleClick=n.handleClick.bind(Object(r.a)(Object(r.a)(n))),n}Object(o.a)(t,e);var a=t.prototype;return a.handleClick=function(e){var t=this.props,a=t.href,n=t.disabled,i=t.onSelect,o=t.eventKey;a&&!n||e.preventDefault(),n||i&&i(o,e)},a.render=function(){var e=this.props,t=e.active,a=e.disabled,o=e.divider,r=e.header,l=e.onClick,s=e.className,u=e.style,m=Object(i.a)(e,["active","disabled","divider","header","onClick","className","style"]),p=Object(h.g)(m,["eventKey","onSelect"]),f=p[0],v=p[1];return o?(v.children=void 0,d.a.createElement("li",Object(n.a)({},v,{role:"separator",className:c()(s,"divider"),style:u}))):r?d.a.createElement("li",Object(n.a)({},v,{role:"heading",className:c()(s,Object(h.e)(f,"header")),style:u})):d.a.createElement("li",{role:"presentation",className:c()(s,{active:t,disabled:a}),style:u},d.a.createElement(g.a,Object(n.a)({},v,{role:"menuitem",tabIndex:"-1",onClick:Object(y.a)(l,this.handleClick)})))},t}(d.a.Component);b.propTypes=v,b.defaultProps={divider:!1,disabled:!1,header:!1},t.a=Object(h.a)("dropdown",b)},1766:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),o=a(245),r=a(1668),l=a(1594),c=a(190),s=a(340);function d(e){var t=e.itineraryId,a=e.key,d=e.method,u=void 0===d?"POST":d,m="POST"===u?s.i:"PUT"===u?s.k:s.j;return function(s){return new Promise((function(d,p){var f="".concat(n.a.api_url,"insurance/").concat(t,"/").concat(a);Object(i.a)({url:f,method:u,body:e,onSuccess:function(e){Object(o.a)(s,e.data),"SPEEDBOAT"===e.data.version?Object(r.a)(s,m,"INSURANCE"):Object(l.a)(s,m),d("done")},onFailure:function(e){Object(c.a)(e,s),p("rejected")}})}))}}},1767:function(e,t,a){"use strict";a(1680)("withRouter"),e.exports=a(1681).withRouter},1768:function(e,t,a){"use strict";var n=a(0),i=function(){return(i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var o=function(e){var t=e.animate,a=e.animateBegin,o=e.backgroundColor,r=e.backgroundOpacity,l=e.baseUrl,c=e.children,s=e.foregroundColor,d=e.foregroundOpacity,u=e.gradientRatio,m=e.gradientDirection,p=e.uniqueKey,f=e.interval,g=e.rtl,h=e.speed,y=e.style,v=e.title,b=e.beforeMask,E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),C=p||Math.random().toString(36).substring(6),O=C+"-diff",x=C+"-animated-diff",k=C+"-aria",I=g?{transform:"scaleX(-1)"}:null,N="0; "+f+"; 1",j=h+"s",w="top-bottom"===m?"rotate(90)":void 0;return Object(n.createElement)("svg",i({"aria-labelledby":k,role:"img",style:i(i({},y),I)},E),v?Object(n.createElement)("title",{id:k},v):null,b&&Object(n.isValidElement)(b)?b:null,Object(n.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+l+"#"+O+")",style:{fill:"url("+l+"#"+x+")"}}),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:O},c),Object(n.createElement)("linearGradient",{id:x,gradientTransform:w},Object(n.createElement)("stop",{offset:"0%",stopColor:o,stopOpacity:r},t&&Object(n.createElement)("animate",{attributeName:"offset",values:-u+"; "+-u+"; 1",keyTimes:N,dur:j,repeatCount:"indefinite",begin:a})),Object(n.createElement)("stop",{offset:"50%",stopColor:s,stopOpacity:d},t&&Object(n.createElement)("animate",{attributeName:"offset",values:-u/2+"; "+-u/2+"; "+(1+u/2),keyTimes:N,dur:j,repeatCount:"indefinite",begin:a})),Object(n.createElement)("stop",{offset:"100%",stopColor:o,stopOpacity:r},t&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+u),keyTimes:N,dur:j,repeatCount:"indefinite",begin:a})))))};o.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var r=function(e){return e.children?Object(n.createElement)(o,i({},e)):Object(n.createElement)(l,i({},e))},l=function(e){return Object(n.createElement)(r,i({viewBox:"0 0 476 124"},e),Object(n.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(n.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};t.a=r},1769:function(e,t,a){"use strict";var n=a(11),i=a(0),o=a.n(i),r=a(1603),l=a(1599),c=a(342),s=a(2),d=a(110),u=a(1828),m=l.k.HOTEL,p=l.k.FLIGHT,f=l.k.TRAIN,g=l.k.FERRY,h=l.k.RENTALCAR,y=l.k.TRANSFER,v=s.default.span.withConfig({displayName:"CardHeaderMobile__SplitStayButton"})(["display:inline-block;font-weight:'600';",";padding:5px 10px;background-color:",";border-radius:24px;color:",";"],d.c,(function(e){return e.disabled?"#e8e5e5":"rgba(38, 119, 240, 0.2)"}),(function(e){return e.disabled?"#b7b6b6":"#2677F0"})),b=function(e){var t=e.title,a=void 0===t?"":t;return a?o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-sm-12"},o.a.createElement("b",{className:"caps-text-tiny color-grey"},a))):null},E=function(e){var t=e.type,a=e.fromDate,n=e.toDate,r=e.fromTime,l=e.toTime,c=e.location,s=function(e){var t=e.text;return t?o.a.createElement("span",{className:"color-accent-13 semi-bold"},t):null},d=null;if(!a.trim()&&!n.trim())return d;if(a.trim()&&""===n.trim()&&![f,g].includes(t)&&(d=o.a.createElement(s,{text:a})),!d)switch(t){case m:d=o.a.createElement(i.Fragment,null,o.a.createElement("i",{className:"pyt-location-16 valign-middle"}),c,"\xa0",o.a.createElement("span",{className:"color-accent-13 semi-bold"},a)," ","\u2192",o.a.createElement("span",{className:"color-accent-13 semi-bold"},n));break;case h:d=o.a.createElement(i.Fragment,null,o.a.createElement(s,{text:a}),"\u2192",o.a.createElement(s,{text:n}));break;case y:case f:case g:case p:d=o.a.createElement(i.Fragment,null,o.a.createElement(s,{text:a})," "+r+" ",n||l?o.a.createElement(i.Fragment,null,o.a.createElement("i",{className:"fs-normal color-grey-medium"},"\u2192")," ".concat(l||""," ")):null,n?o.a.createElement("span",{className:"fine-text light fade"},n):null);break;default:return null}return o.a.createElement("p",{className:t===m?"fine-text mbottom-small":"meta-text color-grey-secondary mb-0"},d)},C=function(e){var t=e.info,a=void 0===t?"":t;return a?Array.isArray(a)?o.a.createElement(r.a,{rootClassName:"amenities",icons:a}):o.a.createElement("span",{className:"fine-text color-grey-medium"},a):null},O=function(e){var t=e.airlineLogos,a=e.round,n=void 0===a||a;return t?o.a.createElement("div",{className:"col-xs-6 col-sm-2 pl-0 text-center"},(t||[]).map((function(e,t){return o.a.createElement("span",{key:t,className:"flight-icon"},o.a.createElement(c.a,{className:"mini-img ".concat(n?"round":""),src:e.url,defaultImage:e.default,alt:e.name||" ",imgFactor:"w=40&h=40&fit=crop&crop=faces&facepad=5"}),e.name?o.a.createElement("p",{className:"img-name"},e.name):null)}))):null};t.a=function(e){var t=e.type,a=e.containerClass,r=void 0===a?"":a,c=e.fromPlace,s=e.sectionTitle,d=e.destination,m=e.fromDate,g=void 0===m?"":m,h=e.toDate,y=void 0===h?"":h,x=e.fromTime,k=void 0===x?"":x,I=e.toTime,N=void 0===I?"":I,j=e.amenities,w=void 0===j?null:j,A=e.sourceProvider,T=void 0===A?null:A,R=e.roomContent,S=void 0===R?null:R,D=e.honeymoonFlag,P=void 0===D?null:D,_=e.comboPricingMessageBox,B=e.stops,L=void 0===B?null:B,F=e.airlineLogos,M=e.roundImage,V=void 0===M||M,U=e.isDisabled,H=void 0!==U&&U,z=e.disableText,W=void 0===z?l.f:z,G=e.location,K=void 0===G?"":G,Y=e.onSplitClicked,q=void 0===Y?function(){}:Y,J=e.showSplitOption,Q=e.isBooked,X=e.hotelName,$=void 0===X?"":X,Z=e.extraInclusions,ee=Object(i.useState)(!1),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],ie=o.a.createElement("i",{className:"pyt-arrow-right-16 color-grey-medium fine-text"});t===p?ie=o.a.createElement("i",{className:"pyt-flight-16 color-grey"}):t===f&&(ie=o.a.createElement("i",{className:"pyt-train-16 color-grey"}));return o.a.createElement(i.Fragment,null,o.a.createElement(b,{title:s}),o.a.createElement("div",{className:"row ".concat(r)},H?o.a.createElement("span",{className:"sold-out"},W):null,H?o.a.createElement("span",{className:"sold-out"},W):null,o.a.createElement("div",{className:(F||[]).lenght>1?"col-xs-9 col-sm-10":"col-xs-12 col-sm-12"},o.a.createElement("h6",{className:"main-para bold no-margin"},c+" ",d?ie:null,d?" ".concat(d):null),J&&o.a.createElement(v,{disabled:Q,onClick:Q?function(e){e.preventDefault(),e.stopPropagation()}:q}," ","Add split stay"),o.a.createElement(E,{type:t,fromDate:g,toDate:y,fromTime:k,toTime:N,location:K}),o.a.createElement(C,{info:w||L}),P?o.a.createElement("span",{className:"pill square md color-white bg-accent-13 mbottom-small",onClick:function(e){e.stopPropagation(),e.preventDefault(),ne(!0)}},o.a.createElement("i",{className:"pyt-star-16 color-accent-2"})," View special inclusions"):null,T?o.a.createElement("span",{className:"likely-tag bg-accent-2"},o.a.createElement("i",{className:"pyt-flash-on-16 color-accent-1"}),T):null,S||null,_?o.a.createElement("div",{className:"clearfix fw vmargin-small mb-0"},o.a.createElement("span",{className:"pill square md color-white bg-black"},o.a.createElement("i",{className:"pyt-check-circle-16 color-accent-2"})," "+_)):null),o.a.createElement(O,{airlineLogos:F,round:V})),ae?o.a.createElement(u.a,{hotelName:$,data:Z,onModalClose:function(){return ne(!1)},goBack:function(){return ne(!1)}}):null)}},1770:function(e,t){e.exports=function(e){return e}},1790:function(e,t,a){"use strict";var n=a(107),i=a(154),o=a(153),r=a(35),l=a.n(r),c=a(0),s=a.n(c),d=a(3),u=a.n(d),m=a(632),p=a.n(m),f=a(158),g={id:p()(u.a.oneOfType([u.a.string,u.a.number])),placement:u.a.oneOf(["top","right","bottom","left"]),positionTop:u.a.oneOfType([u.a.number,u.a.string]),positionLeft:u.a.oneOfType([u.a.number,u.a.string]),arrowOffsetTop:u.a.oneOfType([u.a.number,u.a.string]),arrowOffsetLeft:u.a.oneOfType([u.a.number,u.a.string]),title:u.a.node},h=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.placement,o=t.positionTop,r=t.positionLeft,c=t.arrowOffsetTop,d=t.arrowOffsetLeft,u=t.title,m=t.className,p=t.style,g=t.children,h=Object(i.a)(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"]),y=Object(f.f)(h),v=y[0],b=y[1],E=Object(n.a)({},Object(f.d)(v),((e={})[a]=!0,e)),C=Object(n.a)({display:"block",top:o,left:r},p),O={top:c,left:d};return s.a.createElement("div",Object(n.a)({},b,{role:"tooltip",className:l()(m,E),style:C}),s.a.createElement("div",{className:"arrow",style:O}),u&&s.a.createElement("h3",{className:Object(f.e)(v,"title")},u),s.a.createElement("div",{className:Object(f.e)(v,"content")},g))},t}(s.a.Component);h.propTypes=g,h.defaultProps={placement:"right"},t.a=Object(f.a)("popover",h)},1791:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var u=function(e){Object(o.a)(a,e);var t=d(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.failedFor,a=e.isLastRow,n=void 0===a||a;return s.a.createElement(s.a.Fragment,null,s.a.createElement("article",{className:"row-costed-item row danger"},s.a.createElement("div",{className:"col-xs-12 col-md-12 spacer"},s.a.createElement("div",{className:"costed-item-head",style:{paddingLeft:0}},s.a.createElement("h5",{className:"no-margin"},"Oh no"," ",s.a.createElement("span",{role:"img","aria-label":"confused"},"\ud83d\ude15")," ","Looks like there's an issue"),s.a.createElement("span",{className:"meta-text color-accent-3"},"We aren't able to fetch your ",t," details at the moment. Please refresh after a while.")))),n?null:s.a.createElement("hr",{className:"tear"}))}}]),a}(c.Component)},1792:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a.n(n),o=a(1603);function r(){return i.a.createElement("div",{className:"text-center mbottom-medium"},i.a.createElement("button",{className:"btn btn-sm btn-default btn-outline text-uppercase cursor-default"},"FOR YOUR INFO"))}function l(){return i.a.createElement("button",{className:"btn btn-xs btn-default btn-outline text-uppercase cursor-default mbottom-medium"},"FOR YOUR INFO")}t.b=function(e){var t=e.alerts,a=void 0===t?[]:t,n=e.smallTitle,c=void 0!==n&&n,s=e.rootClassName,d=void 0===s?"info-list":s;return i.a.createElement("div",{className:"mbottom-large bg-yellow ".concat(d)},c?i.a.createElement(l,null):i.a.createElement(r,null),i.a.createElement(o.a,{icons:a,rootClassName:" "}))}},1813:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];function n(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,a);null!=t&&(i=t)}})),i}return(0,o.default)(n)};var n,i=a(631),o=(n=i)&&n.__esModule?n:{default:n};e.exports=t.default},1814:function(e,t,a){"use strict";var n=a(107),i=a(154),o=a(153),r=a(179),l=a(0),c=a.n(l),s=a(3),d=a.n(s),u=a(295),m=a.n(u),p=a(218),f={href:d.a.string,onClick:d.a.func,onKeyDown:d.a.func,disabled:d.a.bool,role:d.a.string,tabIndex:d.a.oneOfType([d.a.number,d.a.string]),componentClass:m.a};function g(e){return!e||"#"===e.trim()}var h=function(e){function t(t,a){var n;return(n=e.call(this,t,a)||this).handleClick=n.handleClick.bind(Object(r.a)(Object(r.a)(n))),n.handleKeyDown=n.handleKeyDown.bind(Object(r.a)(Object(r.a)(n))),n}Object(o.a)(t,e);var a=t.prototype;return a.handleClick=function(e){var t=this.props,a=t.disabled,n=t.href,i=t.onClick;(a||g(n))&&e.preventDefault(),a?e.stopPropagation():i&&i(e)},a.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},a.render=function(){var e=this.props,t=e.componentClass,a=e.disabled,o=e.onKeyDown,r=Object(i.a)(e,["componentClass","disabled","onKeyDown"]);return g(r.href)&&(r.role=r.role||"button",r.href=r.href||"#"),a&&(r.tabIndex=-1,r.style=Object(n.a)({pointerEvents:"none"},r.style)),c.a.createElement(t,Object(n.a)({},r,{onClick:this.handleClick,onKeyDown:Object(p.a)(this.handleKeyDown,o)}))},t}(c.a.Component);h.propTypes=f,h.defaultProps={componentClass:"a"},t.a=h},1818:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(14),i=a(22),o=a(245),r=a(190),l=a(12);function c(e,t){return function(a){return new Promise((function(c,s){var d=t.itineraryId,u="".concat(n.a.api_url,"itinerary/").concat(d,"/freezeItinerary");"booking"===e&&(u="".concat(n.a.api_url,"itinerary/").concat(d,"/changeBookingStatus")),Object(i.a)({url:u,method:"POST",body:t,onSuccess:function(e){Object(o.a)(a,e.data),c("Promised resolved from fetch")},onFailure:function(e){Object(r.a)(e,a),a({type:l.g,payload:{error:"failure"}}),s("Failed")}})}))}}},1819:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(12);function i(e){return function(t){return new Promise((function(a){t({type:n.Ab,payload:e}),a("Promised resolved from fetch")}))}}},1820:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(71);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"itinerary",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.querySelector(".itinerary-header"),i=document.querySelector(".content-wrap"),o=document.querySelector(".itinerary-header-name"),r=document.querySelector(".itinerary-secodary-hdr"),l=document.querySelector(".navbar-outer"),c=l&&l.clientHeight||0,s=document.querySelector(".breadcrumb-container"),d=s&&s.clientHeight||0;s&&!Object(n.a)()?(s.classList.add("sticky"),i.classList.add("with-breadcrumb")):i&&i.classList.remove("with-breadcrumb");var u=document.querySelector("section.itinerary");"costing"===e&&(u=document.querySelector(".costing-tab")),r&&!Object(n.a)()&&(u=r);var m=o&&o.clientHeight;if(a){var p=window.pageYOffset,f=m+6;t&&Object(n.a)()&&(f+=s?s.clientHeight:0),p>f?(a.classList.add("sticky"),u.style.marginTop=a.clientHeight+"px",a.style.top=c+d-f+"px"):(a.classList.remove("sticky"),a.style.top=t?40:0,u.style.marginTop=0)}}},1821:function(e,t,a){"use strict";function n(e){var t=e.couponVO,a=e.hotelCostings;if("object"===typeof t&&"object"===typeof a&&"CRED"===t.couponPartner){var n=a.costingById;if("object"===typeof n)for(var i in n){var o=n[i]||{};if("string"===typeof o.status&&"SOLD_OUT"===o.status)return{status:!0,message:o.name?o:{name:"The hotel"}}}}return{status:!1}}a.d(t,"a",(function(){return n}))},1822:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),i=a.n(n),o=a(289),r=a.n(o),l=a(194);function c(e){var t=e.credAlertStatus,a=e.callback;return i.a.createElement(l.a,{backgroundClass:"bg-white"},i.a.createElement(r.a,{show:t,title:"Oops!",text:"A hotel in the itinerary is unavailable for the selected dates",onConfirm:a,animation:"pop",confirmButtonText:"Select another itinerary"}))}},1823:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),o=a(245),r=a(15),l=a(1594),c=a(190),s=a(171),d=a(340);function u(e,t){return function(a){return new Promise((function(u,m){var p={itineraryId:e,configKey:t},f="".concat(n.a.api_url,"itinerary/changetransfer");Object(i.a)({url:f,method:"POST",body:p,onSuccess:function(e){Object(o.a)(a,e.data),Object(r.Ld)(r.Sb,{transfer_changed:!0}),Object(l.a)(a,d.u),u("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,a),Object(s.a)(e,a),m("Failed")}})}))}}},1824:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),o=a(245),r=a(1594),l=a(190),c=a(171),s=a(340);function d(e){return function(t){return new Promise((function(a,d){var u="".concat(n.a.api_url,"itinerary/visa/modify");Object(i.a)({url:u,method:"POST",body:e,onSuccess:function(e){Object(o.a)(t,e.data),Object(r.a)(t,s.y),a("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,t),Object(c.a)(e,t),d("Failed")}})}))}}},1827:function(e,t,a){"use strict";a.d(t,"j",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"l",(function(){return f})),a.d(t,"m",(function(){return g})),a.d(t,"k",(function(){return h})),a.d(t,"i",(function(){return y})),a.d(t,"h",(function(){return v})),a.d(t,"f",(function(){return b})),a.d(t,"e",(function(){return E})),a.d(t,"a",(function(){return C}));var n=a(2),i=a(1734),o=a(6),r=a(5),l=a(110),c=a(290),s=n.default.div.withConfig({displayName:"domesticItinerarystyles__DomesticWrapper"})(["","{background-color:",";}"],o.sm,r.theme.whiteGrey),d=Object(n.default)(i.a).withConfig({displayName:"domesticItinerarystyles__DomesticContainer"})(["","{padding:",";}","{padding:",";}"],o.xs,(function(e){return e.containerPadding||"16px"}),o.md,(function(e){return e.containerPadding||"24px 0"})),u=n.default.div.withConfig({displayName:"domesticItinerarystyles__DomesticBannerWarpper"})(["height:252px;margin-right:-16px;margin-left:-16px;.slick-slider{.slick-arrow{right:0;:before{content:'';}}}&.activity-details-xs .details-banner .details-banner-slider figure{height:252px;}","{height:427px;margin-top:8px;margin-right:auto;margin-left:auto;&.activity-details .details-banner .banner-image li{height:427px;margin-right:12px;width:calc(30% - 12px);img{","{border-radius:6px;box-shadow:none;}}:first-child{width:calc(50% - 12px);}:last-child{width:20%;margin-right:0;img{border-top-left-radius:6px;border-top-right-radius:0;border-bottom-left-radius:6px;border-bottom-right-radius:w0;}}}}&.hotel-details .details-banner{","{position:absolute;}}"],o.sm,o.sm,o.sm),m=n.default.div.withConfig({displayName:"domesticItinerarystyles__DomesticLeftContainer"})(["float:left;width:100%;","{width:65%;}","{width:63.03%;}.inclusions-xs .card{margin:16px 0 0;border-radius:8px;}.inclusions .inclusion-box .item-header{background-color:#f0f0f0;}.stacked-more{margin-top:-22px;:before{border-top:16px solid #ccc;}}.panel-group{margin:-12px 0 0;.panel{border-radius:0;box-shadow:0 1px 0 0 #d4d4d4;background:transparent;.panel-title{text-decoration:none;color:",";user-select:none;}}.panel-body{font-size:",";padding:4px 16px;","{padding:0 24px;}a{cursor:pointer;}ol{margin-left:-16px;li{padding-left:2px;}}}}"],o.md,o.lg,r.theme.blackSecondary,r.theme.small,o.sm),p=Object(n.default)(c.a).withConfig({displayName:"domesticItinerarystyles__DomesticRightContainer"})(["float:right;.sticky-inner-wrapper{z-index:3;}margin-top:-64px;","{width:31.95%;}"],o.lg),f=n.default.div.withConfig({displayName:"domesticItinerarystyles__PriceCardWrapper"})(["width:368px;height:295px;border:1px solid #e5e5e5;box-sizing:border-box;border-radius:8px;padding:24px;background-color:",";"],r.theme.white),g=n.default.div.withConfig({displayName:"domesticItinerarystyles__PriceUnBlockWrapper"})(["border:0;display:flex;justify-content:center;padding-bottom:24px;border-bottom:1px solid #d4d4d4;margin:0 -24px 22px;& > span{display:inline-flex;flex-direction:column;letter-spacing:-0.02em;margin-right:18px;span{color:",";","}b{color:",";font-size:24px;line-height:30px;text-align:right;}}button{"," ","}"],r.theme.grey,l.i,r.theme.blackSecondary,l.j,(function(e){return e.isStaleCost&&Object(n.css)(["padding:12px 64px;"])})),h=n.default.div.withConfig({displayName:"domesticItinerarystyles__MobilePriceBlock"})(["display:flex;flex-direction:column;> span{font-size:13px;line-height:16px;color:#777777;letter-spacing:-0.02em;}"]),y=(n.default.p.withConfig({displayName:"domesticItinerarystyles__OverviewText"})(["font-size:",";line-height:20px;letter-spacing:-0.02em;color:",";margin:24px 0 0;","{font-size:",";line-height:24px;margin:18px 0 24px;}"],r.theme.small,r.theme.blackSecondary,o.md,r.theme.base),n.default.section.withConfig({displayName:"domesticItinerarystyles__DomesticSectionWrapper"})(["margin:",";","{margin:",";}&.inclusions-xs{margin:0px;}"],(function(e){return e.margin?e.margin:"0 0 40px"}),o.sm,(function(e){return e.margin?e.margin:"0 0 48px"}))),v=n.default.p.withConfig({displayName:"domesticItinerarystyles__DomesticSectionTitle"})(["font-size:",";line-height:23px;letter-spacing:-0.02em;color:#666666;font-weight:",";margin:0;padding-bottom:",";letter-spacing:-0.02em;","{font-size:22px;line-height:28px;padding-bottom:16px;}"],r.theme.medium,r.theme.semiBold,(function(e){return e.titlePadding||"20px"}),o.sm),b=n.default.p.withConfig({displayName:"domesticItinerarystyles__DomesticMetaText"})(["font-size:",";line-height:20px;letter-spacing:-0.02em;margin-bottom:20px;color:",";&:last-child{margin-bottom:0;}"],r.theme.small,r.theme.blackSecondary),E=n.default.strong.withConfig({displayName:"domesticItinerarystyles__DomesticMetaHeading"})(["display:block;font-size:",";line-height:20px;letter-spacing:-0.02em;color:",";font-weight:",";margin-bottom:8px;"],r.theme.small,r.theme.greyMedium,r.theme.semiBold),C=n.default.ul.withConfig({displayName:"domesticItinerarystyles__BreadcrumbsWrapper"})(["font-size:14px;line-height:18px;color:rgba(0,0,0,0.5);opacity:0.7;padding:0;","{font-size:16px;line-height:23px;}li{list-style:none;display:inline-block;cursor:pointer;:after{content:'\\ea10';font-family:'pyticon';display:inline-block;line-height:1;vertical-align:middle;padding:0 3px;font-size:12px;}:last-child{",":after{display:none;}}}"],o.sm,(function(e){return!e.ignoreLast&&Object(n.css)(["cursor:default;"])}))},1828:function(e,t,a){"use strict";var n=a(11),i=a(0),o=a.n(i),r=a(45),l=a.n(r),c=a(2),s=a(86),d=a(1655),u=a(356),m=a(357),p=a(1637),f=c.default.ul.withConfig({displayName:"MobileSpecialInclusionModal__ModalContainer"})(["border:1px solid #e3e3e3;padding-top:13px;padding-bottom:13px;margin:16px;border-radius:4px;li{margin-bottom:1px !important;color:black;display:list-item !important;}.titleLi{list-style:none;margin-left:-1em;color:#666666;font-weight:bold;}.emptyPill{list-style:none;min-height:0.5em;}"]),g=c.default.li.withConfig({displayName:"MobileSpecialInclusionModal__HotelTitle"})(["font-weight:600;font-size:16px;list-style:none;margin-left:-1em;padding-bottom:0.5em;"]);t.a=function(e){var t=e.data,a=void 0===t?[]:t,r=e.onModalClose,c=e.goBack,h=e.hotelName,y=Object(i.useState)(null),v=Object(n.a)(y,2),b=v[0],E=v[1];Object(i.useEffect)((function(){return E(document.querySelector("#modal-portal-container")),Object(u.a)(),function(){Object(m.a)()}}),[]);return b?l.a.createPortal(o.a.createElement("div",{className:"modal modal-sticky-header false in"},o.a.createElement("div",{className:"modal-dialog"},o.a.createElement("div",{className:"modal-content"},o.a.createElement(s.d,null,o.a.createElement(d.a,{title:"Here\u2019s what you get with your stay",showActionButtons:!0,onLeftClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation(),Object(m.a)(),c()},onRightClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation(),Object(m.a)(),r()}}),o.a.createElement(s.a,{padding:"0",top:"64px",bottom:null},o.a.createElement(f,null,o.a.createElement(g,{key:"hotelName"},h),Object(p.b)(a,"modal"))))))),b):null}},1829:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(1599),r=a(1769),l=a(1648),c=a(1751);t.a=function(e){var t=e.type,a=e.from,s=e.to,d=e.fromDate,u=e.toDate,m=e.fromTime,p=e.toTime,f=e.stops,g=e.sectionTitle,h=e.fullContent,y=void 0===h?null:h,v=e.headerImage,b=e.headerImageCaption,E=e.image,C=e.vehicleDetails,O=void 0===C?[]:C,x=e.pickup,k=e.drop,I=e.paraContent,N=void 0===I?"":I,j=e.errorText,w=e.alert,A=void 0===w?{}:w,T=e.alerts,R=void 0===T?[]:T,S=e.footerIcons,D=e.onView,P=e.onChange,_=e.onRemove,B=e.changeText,L=void 0===B?o.b:B,F=e.comboPricingMessageBox,M=void 0===F?"":F,V=e.isReadOnly,U=void 0!==V&&V,H=e.price,z=void 0===H?null:H,W=e.publishedPrice,G=void 0===W?null:W,K=e.onEditClick,Y=void 0===K?null:K,q=e.canEditPrice,J=void 0!==q&&q,Q=e.isDisabled,X=e.disableText,$=e.changeDisabled,Z=void 0!==$&&$,ee=e.removeDisabled,te=void 0!==ee&&ee,ae=e.sourceProvider,ne=void 0===ae?null:ae,ie=e.isPriceStrikethrough,oe=void 0!==ie&&ie,re=e.isAdmin,le=null;return y&&(le=i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("p",{className:"fine-text light"},y)))),i.a.createElement("section",{className:"card",onClick:Q?null:D},i.a.createElement(r.a,{type:t,sourceProvider:ne,containerClass:"vertical-center mbottom-small ".concat(Q?"disabled-layer":""),isDisabled:Q,disableText:X,fromPlace:a,destination:s,sectionTitle:g,fromDate:d,toDate:u,fromTime:m,toTime:p,stops:f,sideImage:v,sideImageCaption:b,comboPricingMessageBox:M,isAdmin:re}),le||i.a.createElement(n.Fragment,null,x||k?i.a.createElement("ul",{className:"incexc-list fw fine-text mbottom-small"},i.a.createElement("li",{className:"tick"},x),i.a.createElement("li",{className:"tick"},k)):null,E?i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("figure",{className:"img-holder",style:{backgroundImage:"url('".concat(E,"')")}}))):null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},j?i.a.createElement("p",{className:"meta-text color-accent-7 semi-bold"},j):i.a.createElement("p",{className:"fine-text mbottom-small color-base"},N))),O.length?i.a.createElement("div",{className:"row row-eq-hgt mbottom-small"},O.map((function(e,t){var a=e.label,n=e.text,o=e.linkText,r=e.linkAction,l=void 0===r?function(){}:r;return i.a.createElement("div",{className:"col-xs-6 col-sm-6",key:t},i.a.createElement("p",{className:"fine-text mb-0"},i.a.createElement("span",{className:"color-grey-medium"},a," "),n," ",o?i.a.createElement("a",{onClick:function(e){e.preventDefault(),l(e)}},o):null))}))):null),i.a.createElement(c.a,{changeDisabled:Z,alertComponent:R.length>0?i.a.createElement(l.a,Object.assign({},R[0],{count:R.length-1,alerts:R})):A?i.a.createElement(l.a,A):null,removeDisabled:te,icons:S,changeText:L,onChange:P,onRemove:_,isReadOnly:U,price:z,isPriceStrikethrough:oe,publishedPrice:G,onEditClick:Y,canEditPrice:J,isAdmin:re}))}},1894:function(e,t,a){"use strict";var n=a(38),i=a(39),o=a(58),r=a(46),l=a(56),c=a(29),s=a(0),d=a.n(s),u=a(36),m=a(30),p=a(54),f=a(1764),g=a(593),h=a(1790),y=a(137),v=a(49),b=a.n(v),E=a(1818),C=a(1750),O=a(291),x=a(55),k=a(14),I=a(15),N=a(7),j=a(22),w=a(1592),A=a(1593);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var R=k.a.api_url,S=function(e){Object(r.a)(a,e);var t=T(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).openCBR=function(e,t,a){i.props.history.push(Object(N.Jb)({itineraryId:e,regionCode:t,location:a,target:N.r}))},i.state={itinerary:{},showAdminPopoverButton:!0},i.showChat=i.showChat.bind(Object(o.a)(i)),i.bookTripHandler=i.bookTripHandler.bind(Object(o.a)(i)),i.renderAdminMenu=i.renderAdminMenu.bind(Object(o.a)(i)),i.suffleCostHandler=i.suffleCostHandler.bind(Object(o.a)(i)),i.emailButtonHandler=i.emailButtonHandler.bind(Object(o.a)(i)),i.sendToPlato=i.sendToPlato.bind(Object(o.a)(i)),i.toggleSplitPricing=i.toggleSplitPricing.bind(Object(o.a)(i)),i.updateCostClickHandler=i.updateCostClickHandler.bind(Object(o.a)(i)),i.onScroll=i.onScroll.bind(Object(o.a)(i)),i.handleClickOutside=i.handleClickOutside.bind(Object(o.a)(i)),i}return Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({itinerary:e.itineraryInfo.itinerary})}},{key:"onScroll",value:function(){this.setState({showAdminPopoverButton:!0}),this.refs.adminPopover&&this.refs.adminPopover.hide()}},{key:"handleClickOutside",value:function(e){e.target.classList.contains("pyt-close-16")||this.onScroll()}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll),window.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("mousedown",this.handleClickOutside)}},{key:"updateCostClickHandler",value:function(e){e&&e.preventDefault();var t=this.props,a=t.itineraryInfo,n=t.userDetails,i=t.history,o=t.lastLocation;Object(I.Ld)(I.Vb,{button:I.zc});var r=a.itinerary,l=r.itineraryId,c=r.regionCode,s=r.campaign;if(n.loggedIn){var d={itineraryId:l,costingType:"RECOST",costingConfig:a.costingConfiguration};this.props.actions.getCost({itineraryId:l,regionCode:c,req_data:d,history:i,lastLocation:o,campaign:s})}else i.push(Object(N.Jb)({itineraryId:l,regionCode:c,target:N.Db}))}},{key:"bookTripHandler",value:function(e){e&&e.preventDefault();var t=this.props,a=t.history,n=t.itineraryInfo;a.push("/booking-travellers/".concat(n.itinerary.itineraryId))}},{key:"showChat",value:function(){}},{key:"emailButtonHandler",value:function(e){e.preventDefault();var t=this.props,a=t.userDetails,n=t.itineraryInfo;a.loggedIn?"ADMIN"===a.userType&&this.props.history.push(Object(N.Jb)({itineraryId:n.itinerary.itineraryId,regionCode:n.itinerary.regionCode,parentPage:N.Lb.inclusion,target:N.G})):this.props.history.push("/login")}},{key:"suffleCostHandler",value:function(e){e.preventDefault();var t="".concat(R,"itinerary/").concat(this.props.itineraryInfo.itinerary.itineraryId,"/shuffleCost");Object(j.a)({url:t,method:"GET",body:{},onSuccess:function(){return swal("Success!","Email will be sent with shuffled cost soon...")}})}},{key:"moveToBooking",value:function(e,t){var a=this;"booking"===e?swal({title:"Are you sure?",text:"You will not be able to revert this!",type:"warning",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, Move it!",cancelButtonText:"No, Dont move to booking",closeOnConfirm:!0,closeOnCancel:!0},(function(){a.props.actions.changeToBooking(e,t).then((function(){})).catch((function(){}))})):swal({title:"Are you sure?",text:"",type:"warning",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:t.booked?"Yes, Freeze it!":"Yes, Un-freeze it!",cancelButtonText:t.booked?"No, Dont freeze":"No, Please",closeOnConfirm:!0,closeOnCancel:!0},(function(){a.props.actions.changeToBooking(e,t).then((function(){})).catch((function(){}))}))}},{key:"sendToPlato",value:function(e){swal({title:'<div class"block-center"> <div class="loading-circle loading-circle-primary"></div> <h4 class="text-center">Sending to PLATO<h4></div>',showCancelButton:!1,showConfirmButton:!1,html:!0});var t="".concat(R,"itinerary/").concat(this.props.itineraryInfo.itinerary.itineraryId,"/sendToPlato");Object(j.a)({url:t,method:"POST",body:e,onSuccess:function(e){return swal("Success!","The data sent to PLATO","success")}})}},{key:"toggleSplitPricing",value:function(e){this.props.actions.toggleSplitPricing(e)}},{key:"renderAdminMenu",value:function(){var e=this,t=this.props,a=t.itineraryInfo,n=t.userDetails,i=t.isReadOnly,o=t.location,r=a.itinerary,l=r.costed,c=r.staleCost,s=r.booking,u=r.frozen,m=r.itineraryId,p=r.regionCode;return d.a.createElement(h.a,{id:"mobile-admin-features-popover",title:"Super powers"},d.a.createElement("ul",{className:"mobile-admin-features list-unstyled mb-0",onClick:function(){e.refs.adminPopover.hide(),e.setState({showAdminPopoverButton:!0})}},!n.loggedIn||"ADMIN"!==n.userType||s||u||i?null:d.a.createElement(f.a,{eventKey:"2",onClick:function(t){return e.suffleCostHandler(t)}},d.a.createElement("span",{className:"pyt-shuffle-16"})," Get better cost"),n.loggedIn&&"ADMIN"===n.userType&&l&&!c?d.a.createElement(f.a,{eventKey:"3",onClick:function(t){return e.emailButtonHandler(t)}},"Share email quote"):null,!n.loggedIn||"ADMIN"!==n.userType||s||u||this.props.itineraryShared||this.props.itineraryInfo.itinerary.shared?null:d.a.createElement(f.a,{eventKey:"4",onClick:function(){e.props.history.push(Object(N.Jb)({itineraryId:m,regionCode:p,location:o,target:N.ub}))}},d.a.createElement("span",{className:"pyt-map-16"})," Share itinerary"),!n.loggedIn||"ADMIN"!==n.userType||s||i?null:d.a.createElement(f.a,{eventKey:"6",onClick:function(){return e.moveToBooking("booking",{itineraryId:m,booked:!0})}},d.a.createElement("span",{className:"pyt-ticket-16"})," Move to booking"),n.loggedIn&&Object(w.a)({permissions:null===n||void 0===n?void 0:n.permissions,key:A.y})&&!s?d.a.createElement(f.a,{eventKey:"7",onClick:function(){return e.sendToPlato({itineraryId:m})}},d.a.createElement("span",{className:"pyt-arrow-top-16"})," Send to PLATO"):null,n.loggedIn&&Object(w.a)({permissions:null===n||void 0===n?void 0:n.permissions,key:A.G})&&!s?d.a.createElement(f.a,{eventKey:"8",onClick:function(){return e.toggleSplitPricing({itineraryId:m,splitPricing:!e.props.itineraryInfo.itinerary.splitPricing})}},d.a.createElement("span",{className:"pyt-recepit-16"}),this.props.itineraryInfo.itinerary.splitPricing?"Disable":"Enable"," split pricing Cust."):null))}},{key:"buttonRenderHelper",value:function(){var e=this,t=this.props,a=t.location,n=t.campaignItineraryId,i=t.itineraryInfo.itinerary,o=i.costed,r=i.staleCost,l=i.booking,c=i.frozen,s=i.campaign,u=i.itineraryId,m=i.regionCode;if(o&&!r)return d.a.createElement("span",{onClick:l||c?null:this.bookTripHandler,className:"cost-div price"},d.a.createElement("span",{className:"large"},this.totalCostRenderHelper()," "),d.a.createElement("span",{className:"small normal book-this-trip-ga"},l?"Booked":c?"Blocked":"Book this trip"));if(o&&r)return d.a.createElement("a",{onClick:function(t){return e.updateCostClickHandler(t)},className:"color-white update-cost-ga"},d.a.createElement("span",{className:"color-white"},"Update cost"));var p=s?"".concat(a.pathname,"/get-cost/").concat(n):Object(N.Jb)({itineraryId:u,regionCode:m,target:N.Q,location:a});return d.a.createElement("a",{onClick:function(t){t.preventDefault(),-1===e.props.history.location.pathname.indexOf("get-cost")&&e.props.history.push(p)},className:"meta-text"},d.a.createElement("span",{className:"color-white"},this.props.isReadOnly?"Check Availability":"View trip costs"))}},{key:"totalCostRenderHelper",value:function(){if(this.props.itineraryInfo.itinerary.costed)return d.a.createElement("span",{className:"itinerary-price bold"},d.a.createElement(x.a,{objectData:this.props.itineraryInfo,path:"itinerary.totalCost",defaultValue:"0"}))}},{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.adult_count,o=n.child_count,r=n.userDetails,l=n.location,c=n.itineraryInfo.itinerary,s=c.costed,u=c.staleCost,m=c.booking,p=c.itineraryId,f=c.regionCode;if(s&&!u){var h=(this.props.itineraryInfo.costingConfiguration||{}).departureDate;e=b()(h,"DD/MMM/YYYY").format("MMM DD").toUpperCase(),t=i+" + "+o}return d.a.createElement("div",{className:"full-width-section fixed-bottom itinerary-footer bg-white visible-xs"},this.state.showAdminPopoverButton?null:d.a.createElement("div",{className:"modal-backdrop fade in"}),d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"row footer-actions"},s&&!u?d.a.createElement("div",{className:"text-center col-xs-6 travel-details-block flex vertical-center center"},d.a.createElement("div",{onClick:function(e){e.preventDefault(),m||-1!==a.props.history.location.pathname.indexOf("get-cost")||a.props.history.push(Object(N.Jb)({itineraryId:p,regionCode:f,target:N.Db,location:l}))}},d.a.createElement("span",{className:"text-center block "+(m?"meta-text":"fine-text")},d.a.createElement("span",{className:"config-texts bold"},e)," ",d.a.createElement("span",{className:"config-texts bold"},d.a.createElement("span",{className:"pyt-people-16"}),"\xa0",t)),m?null:d.a.createElement("span",{className:"small edit-travel-details-cta color-primary dashed-underline block"},"Edit travel details"))):d.a.createElement("div",{className:"text-center col-xs-6 travel-details-block flex vertical-center center open-chat",onClick:function(){Object(I.Ld)(I.E,{element_type:"button",element_name:"btn_chat_requested_itinerary_footer"}),a.openCBR(p,f,l)}},d.a.createElement("span",{className:"meta-text"},"Talk to us!")),d.a.createElement("div",{className:"bg-primary text-center col-xs-6 flex vertical-center center view-trip-cost-ga"},this.buttonRenderHelper()),r&&"ADMIN"===r.userType&&s&&!u?d.a.createElement(g.a,{trigger:"click",placement:"top",ref:"adminPopover",onClick:function(){a.setState({showAdminPopoverButton:!a.state.showAdminPopoverButton})},overlay:this.renderAdminMenu()},this.state.showAdminPopoverButton?d.a.createElement("span",{className:"super-power-icon pyt-flash-on-16"}):d.a.createElement("span",{className:"super-power-icon pyt-close-16"})):null)))}}]),a}(s.Component);t.a=Object(y.withLastLocation)(Object(u.withRouter)(Object(m.c)((function(e){var t=e.app,a=void 0===t?{}:t;return{itineraryInfo:a.itineraryInfo,userDetails:a.user_details,adult_count:a.itineraryInfo.adult_count,child_count:a.itineraryInfo.child_count}}),(function(e){return{actions:{changeToBooking:Object(p.b)(E.a,e),toggleSplitPricing:Object(p.b)(C.a,e),getCost:Object(p.b)(O.a,e)}}}))(S)))},1898:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(14),i=a(22),o=a(610);function r(e,t){return function(a){return new Promise((function(r,l){var c="".concat(n.a.api_url,"itinerary/").concat(e,"/name"),s={itineraryId:e,name:t};Object(i.a)({url:c,method:"POST",body:s,onSuccess:function(e){"SUCCESS"===e.status.toUpperCase()?r():l()},onFailure:function(e){e.responseJSON,401===(e.responseJSON||{}).status&&a(Object(o.a)({show:!0}))}})}))}}},1899:function(e,t,a){"use strict";function n(){var e=document.querySelector("body"),t=document.querySelector(".offcanvas-bg"),a=document.querySelector(".offcanvas-menu");e.classList.add("scroll-locked"),t.classList.add("in"),a&&a.classList.add("open-menu")}a.d(t,"a",(function(){return n}))},1900:function(e,t,a){"use strict";var n=a(11),i=a(0),o=a.n(i),r=a(2),l=a(588),c=a.n(l),s=a(290),d=a(110),u=a(5),m=a(6),p=a(20),f=a(1827),g=a(15),h=a(1660),y=a(1767),v=a.n(y),b=c.a.scroller,E=r.default.div.withConfig({displayName:"ItineraryNavigation__NavigationWrapper"})([".sticky-inner-wrapper{z-index:3;}"]),C=r.default.div.withConfig({displayName:"ItineraryNavigation__ListWrapper"})(["white-space:nowrap;overflow-x:scroll;border-bottom:1px solid #d2d2d2;background:",";::-webkit-scrollbar{width:0px;height:0px;background:transparent;}transition:all 0.2s ease;","{padding:0;a:first-child{span{:before{","{content:'';}}}}a:first-child,a:last-child{span{span{:after{display:none;}}}}}","{height:auto;border-bottom:1px solid #d2d2d2;padding:",";transition:all 0.3s ease;}.active{> span{:after{content:' ';display:inline-block;position:absolute;top:auto;bottom:0;height:3px;width:80px;background:#1895b3;border-radius:8px 8px 0px 0px;","{content:'';height:0;}}color:",";}}"],(function(e){return e.enableWhiteBackground?u.theme.white:"transparent"}),f.c,m.sm,m.sm,(function(e){return e.navPadding||"18px 0"}),m.sm,u.theme.black),O=r.default.span.withConfig({displayName:"ItineraryNavigation__Tab"})(["color:#888888;display:inline-flex;justify-content:center;flex-direction:column;align-items:center;width:80px;height:63px;position:relative;cursor:pointer;padding-top:12px;padding-bottom:12px;margin-right:8px;","{width:114px;height:100%;padding:0;margin:0;}:before{","{content:'+';display:inline-block;position:absolute;right:100%;font-size:20px;line-height:30px;top:10%;color:rgba(0,0,0,0.33);}}i:first-child{font-size:",";}span{display:inline-block;margin-top:4px;position:relative;"," font-weight:",";","{","}:after{","}}"],m.sm,m.sm,u.theme.largeMedium,d.a,u.theme.semiBold,m.sm,d.b,(function(e){return e.showAlert&&Object(r.css)(["content:'\\eaa6';font-weight:normal;font-family:'pyticon';height:16px;position:absolute;font-size:14px;line-height:14px;background-color:#ef435d;border:1px solid #fff;border-radius:100%;background-clip:padding-box;color:",";right:-12px;top:-8px;","{right:-10px;top:-5px;}"],u.theme.white,m.sm)})),x=Object(p.a)();t.a=v()((function(e){var t=e.itineraryInfo,a=void 0===t?{}:t,r=e.unlockDeal,l=void 0===r?function(){}:r,d=e.goToInclusions,u=void 0===d?function(){}:d,m=e.isItineraryView,p=void 0!==m&&m,y=e.navPadding,v=void 0===y?"":y,k=e.location,I=c.a.Link,N=Object(i.useState)(!1),j=Object(n.a)(N,2),w=j[0],A=j[1],T=a.allFlightCostingRefs,R=void 0===T?[]:T,S=a.allHotelCostingRefs,D=void 0===S?[]:S,P=a.allTransferCostingRefs,_=a.allActivityCostingRefs,B=a.allRentalCostingRefs,L=void 0===B?[]:B,F=a.allFerryCostingRefs,M=void 0===F?[]:F,V=a.flightCostings,U=void 0===V?{}:V,H=a.hotelCostings,z=void 0===H?{}:H,W=a.transferCostings,G=void 0===W?{}:W,K=a.ferryCostings,Y=void 0===K?{}:K,q=a.activityCostings,J=a.rentalCarCostings,Q=a.itinerary,X=void 0===Q?{}:Q;Object(i.useEffect)((function(){var e=(k.state||{}).target;!p&&e&&b.scrollTo(e,{duration:500,smooth:!0,spy:!0,offset:x?-80:-120})}),[]);var $=!X.costed,Z=X.costed&&X.staleCost,ee=R.length,te=(D||[]).length,ae=(P||[]).length+(L||[]).length+(M||[]).length,ne=(_||[]).length,ie=!!R&&R.some((function(e){return"SUCCESS"!==U.costingById[e].status&&"BLOCKED"!==U.costingById[e].status})),oe=!!D&&D.some((function(e){return"SUCCESS"!==z.costingById[e].status})),re=!!_&&_.some((function(e){return"SUCCESS"!==q.costingById[e].status})),le=P&&P.some((function(e){return"SUCCESS"!==G.costingById[e].status}))||L&&L.some((function(e){return"SUCCESS"!==J.costingById[e].status}))||M&&M.some((function(e){return"SUCCESS"!==Y.costingById[e].status})),ce=function(e,t){u(e,"Inclusions",{target:t})},se=[{name:"Day wise plan",panelName:"day-by-day",icon:"pyt-daybyday-fill",clickAction:!p&&function(e){return u(e,"Itinerary")}},$||ee?{name:"".concat(ee>1?"Flights":"Flight"," ").concat($||Z?"":"(".concat(ee,")")),panelName:"flight",icon:"pyt-flight-departure-fill-24",soldOut:ie,clickAction:function(e){$?l(e):p?ce(e,h.a.Flights):Z&&l(e,"Update"),$?Object(g.Ld)(g.Cb,{element_name:"flight"}):Object(g.Ld)(g.Db,{element_name:"flight_costed"})}}:null,{name:"".concat(te>1?"Stays":"Stay"," ").concat($||Z?"":"(".concat(te,")")),panelName:"stay",icon:"pyt-hotel-fill",soldOut:oe,clickAction:function(e){$?l(e):p?ce(e,h.a.Hotels):Z&&l(e,"Update"),$?Object(g.Ld)(g.ed,{element_name:"stays"}):Object(g.Ld)(g.fd,{element_name:"stays_costed"})}},{name:"".concat(ae>1?"Transfers":"Transfer"," ").concat($||Z?"":"(".concat(ae,")")),panelName:"transfer",icon:"pyt-transfer-fill",soldOut:le,clickAction:function(e){$?l(e):p?ce(e,h.a.Transfers):Z&&l(e,"Update"),$?Object(g.Ld)(g.md,{element_name:"transfer"}):Object(g.Ld)(g.nd,{element_name:"transfer_costed"})}},$||ne?{name:"".concat(ne>1?"Activities":"Activity"," ").concat($||Z?"":"(".concat(ne,")")),panelName:"activities",icon:"pyt-activities_fill",soldOut:re,clickAction:function(e){$?l(e):p?ce(e,h.a.Activities):Z&&l(e,"Update"),$?Object(g.Ld)(g.a,{element_name:"activities"}):Object(g.Ld)(g.b,{element_name:"activities_costed"})}}:null,{name:"More",panelName:"more",icon:"pyt-more-fill",clickAction:function(e){$?l(e):p?ce(e,h.a.TotalCost):Z&&l(e,"Update"),$?Object(g.Ld)(g.gc,{element_name:"more"}):Object(g.Ld)(g.hc,{element_name:"more_costed"})}}];return o.a.createElement(E,null,o.a.createElement(s.a,{top:0,onStateChange:function(e){2===e.status?A(!0):A(!1)}},o.a.createElement(C,{enableWhiteBackground:w,navPadding:v},o.a.createElement(f.c,null,se.map((function(e,t){return e?o.a.createElement(I,{to:e.panelName,spy:!0,smooth:!0,duration:500,offset:x?-80:-120,key:"tab-".concat(t),onClick:e.clickAction}," ",o.a.createElement(O,{showAlert:Z?null:e.soldOut},o.a.createElement("i",{className:e.icon}),o.a.createElement("span",null,e.name))):null}))))))}))},1901:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(33),i=a(0),o=a.n(i),r=a(4),l=a(1595),c=a(588),s=a.n(c),d=a(7),u=a(1686),m=a(14),p=a(216),f=a(15),g=a(1340),h=a(214),y=a(18),v=a(55),b=a(1592),E=a(1593),C=a(2594),O=s.a.scroller,x=m.a.user_type_agent;function k(e){var t=e.itineraryInfo,a=Object(h.b)(t),i=Object(l.e)(t,e.adult_count,e.child_count),c=t.itinerary,s=c.itineraryId,k=c.totalCost,I=c.costed,N=c.staleCost,j=c.booking,w=c.strikedCost,A=c.discount,T=e.history,R=e.match,S=e.isDubai,D=e.goToInclusions,P=e.isInclusion,_=void 0!==P&&P,B=e.hideComfyScore,L=void 0!==B&&B,F=e.hideEditRoute,M=void 0!==F&&F,V=e.hideEditTitle,U=void 0!==V&&V,H=e.locale,z=[],W=e.user_details,G=void 0===W?{loggedIn:!1,userType:"USER"}:W,K=e.isReadOnly,Y=e.defaultFooterOptions,q=void 0===Y?[]:Y,J=function(){Object(f.Ld)(f.Cc,{button_clicked:"Mobile Footer"}),Object(l.a)({props:e,isMobile:!0,locale:H})};if(!j&&G&&"ADMIN"===G.userType&&(e.itineraryInfo.itinerary.shared||z.push({iconName:"pyt-share-16",text:"Share Itinerary",isRedirect:!1,action:function(){Object(u.d)(t,T)}}),z.push({iconName:"pyt-whatsapp-16",isRedirect:!1,text:"Share PDF",action:function(){Object(u.e)(null,t,s)}},{iconName:"pyt-arrow-top-16",isRedirect:!1,text:"Send to PLATO",action:function(){Object(u.c)(s)}})),!a&&Object(b.a)({permissions:null===G||void 0===G?void 0:G.permissions,key:E.j})&&z.push({iconName:"pyt-email-16",text:G&&G.userType===x?"Download PDF":"Email Quote",action:J}),Object(b.a)({permissions:null===G||void 0===G?void 0:G.permissions,key:E.j})&&z.push({iconName:"pyt-email-16",text:"Download PDF",action:null,icon:o.a.createElement(C.a,{style:{marginRight:"10px"},fill:"rgb(51, 51, 51)"}),isRedirect:!0,redirectLink:"".concat(m.a.api_url,"cost/").concat(s,"/downloadItineraryPdf")}),z.push({iconName:"pyt-close-circle-16",text:"Cancellation Policy",action:function(e){Object(u.b)(e,t,T),Object(f.Ld)(f.y)}}),!j&&!K&&(G||{}).loggedIn&&!t.itinerary.campaign){var Q=Object(d.Jb)({itineraryId:s,regionCode:R.params.searchRegion||"region",target:d.D,location:T.location});U||q.push({iconName:"pyt-edit-16",text:"Edit Title",isRedirect:!1,redirectLink:Q})}var X=K?o.a.createElement("span",{className:"text-right",style:{textAlign:"right"}},a?o.a.createElement("span",{className:"caps-text-micro color-grey-light",style:{fontSize:15}},"Starting \xa0"):null,o.a.createElement("span",{style:{fontSize:20,fontWeight:"bold"}},o.a.createElement(v.a,{objectData:{value:k},path:"value",defaultValue:"0"})),o.a.createElement("span",{className:"caps-text-micro color-grey-light",style:{fontSize:15}},"\xa0",a?"/person *":"Price for 2 persons")):"Edit route",$=I&&!N?[].concat(z,Object(n.a)(q)):q,Z=function(e){e&&e.preventDefault(),T.push(Object(d.Jb)({itineraryId:Object(y.a)(t,"itinerary.itineraryId"),regionCode:Object(y.a)(t,"itinerary.regionCode"),parentPage:_?d.Lb.inclusion:d.Lb.itinerary,target:d.x}))},ee=0;return t&&t.itinerary&&(ee=isNaN(t.itinerary.comfyScore)?0:Number(t.itinerary.comfyScore).toFixed(2)),S?o.a.createElement(g.DubaiItineraryMobileFooter,{goToInclusions:D,isCosted:I,staleCost:N,discount:A,strikedCost:w,booking:j,history:T,itineraryInfo:t,isInclusion:_,leftIconClass:I?"icon pyt-flash-on-16":"",onOptionClick:function(e,t){e&&e.preventDefault();var a=$.find((function(e){return e.text===t}));a.redirectLink?T.push(a.redirectLink):a.action?a.action():a.scrollTo&&O.scrollTo(a.scrollTo)},onTalkToExpert:K||j?null:function(){var t=Object(p.a)(T.location.pathname);e.isFromPackages?T.push("/".concat(t,"/request-callback")):T.push(Object(d.Jb)({itineraryId:s,regionCode:R.params.searchRegion,target:d.r}))},onEditButtonClick:K&&!I||j?function(){}:e.isFromPackages||I&&!N?e.clickGetCost:function(){var e=Object(d.Jb)({itineraryId:s,regionCode:R.params.searchRegion,target:d.E});T.push(e)},onButtonClickAction:function(t){!I||N?e.clickGetCost(t,"Update"):_?e.clickGetCost(t,"BookTrip"):D()},menuIcons:e.menuIcons,panelMenu:e.panelMenu,footerButtonClass:"btn btn-primary",footerButtonText:N?"Update Cost":K?"Check Availability":_?"Get trip cost":"Review Inclusions",footerText:X,footerData:i.costingConfiguration,liOptions:$,comfyScore:ee,setComfyScoreModal:Z}):o.a.createElement(r.vc,{isDubai:S,goToInclusions:D,isCosted:I,discount:A,staleCost:N||a,booking:j,history:T,itineraryInfo:t,leftIconClass:I?"icon pyt-flash-on-16":"",isFromPackages:e.isFromPackages,onOptionClick:function(e,t){e&&e.preventDefault();var a=$.find((function(e){return e.text===t}));a.redirectLink?T.push(a.redirectLink):a.action?a.action():a.scrollTo&&O.scrollTo(a.scrollTo)},onClickEmailQuote:J,onTalkToExpert:K||j?null:function(t){var a=Object(p.a)(T.location.pathname);e.isFromPackages?T.push("/".concat(a,"/request-callback")):T.push(Object(d.Jb)({itineraryId:s,regionCode:R.params.searchRegion,target:t,location:T.location}))},onEditButtonClick:a||K&&!I||j?function(){}:e.isFromPackages||I&&!N?e.clickGetCost:function(){var e=Object(d.Jb)({itineraryId:s,regionCode:R.params.searchRegion,target:d.E});T.push(e)},onButtonClickAction:e.clickGetCost,menuIcons:e.menuIcons,panelMenu:e.panelMenu,footerButtonClass:"btn btn-primary",footerButtonText:a?"Reserve":N?"Update Cost":K?"Check Availability":"Get trip cost",footerText:X,hideEditRoute:M,footerData:i.costingConfiguration,liOptions:$,isT20:a,isInclusion:_,comfyScore:ee,setComfyScoreModal:Z,setSplitPriceModal:function(e){e&&e.preventDefault(),T.push(Object(d.Jb)({itineraryId:Object(y.a)(t,"itinerary.itineraryId"),regionCode:Object(y.a)(t,"itinerary.regionCode"),parentPage:_?d.Lb.inclusion:d.Lb.itinerary,target:d.xb}))},hideComfyScore:L,locale:H})}},1903:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(12);function i(e){return function(t){return new Promise((function(a){t({type:n.Cc,payload:e}),a("toggled")}))}}},1926:function(e,t,a){"use strict";var n=a(69),i=a(1),o=a(11),r=a(0),l=a.n(r),c=a(30),s=a(192),d=a.n(s),u=a(1619),m=a(18),p=a(14),f=a(22),g=a(245),h=a(190);function y(e){return function(t){return new Promise((function(a,n){var i="".concat(p.a.api_url,"flight/converttoroundtrip");Object(f.a)({url:i,method:"POST",body:e,onSuccess:function(e){Object(g.a)(t,e.data),a("Promised resolved from fetch")},onFailure:function(e){Object(h.a)(e,t),n("Failed")}})}))}}var v=a(1628),b=a(55),E=a(191),C=a(1599),O=a(1769),x=a(1648),k=a(1751),I=function(e){var t=e.rows,a=e.error,n=e.alerts,i=void 0===n?[]:n,o=e.footerIcons,r=e.onChange,c=e.onRemove,s=e.changeText,d=void 0===s?C.b:s,u=e.isReadOnly,m=void 0!==u&&u,p=e.price,f=void 0===p?null:p,g=e.publishedPrice,h=void 0===g?null:g,y=e.onEditClick,v=void 0===y?null:y,b=e.canEditPrice,E=void 0!==b&&b,I=e.contentClickAction,N=void 0===I?null:I,j=e.removeDisabled,w=void 0!==j&&j,A=e.changeDisabled,T=void 0!==A&&A,R=e.isBlockCard,S=void 0!==R&&R,D=e.blockCardClickAction,P=e.ourSourceProvider,_=void 0===P?null:P,B=e.enableOnRequest,L=void 0!==B&&B,F=e.disableOnRequest,M=void 0!==F&&F,V=e.isOnRequested,U=void 0!==V&&V,H=e.onRequestChangeAction,z=void 0===H?function(){}:H,W=e.isAdmin,G=void 0!==W&&W,K=[];if(Array.isArray(t)&&t.length){var Y=1===t.length?"DIRECT FLIGHT":"ROUND TRIP BOOKING";K=t.map((function(e,t){var a=e.from,n=e.to,i=e.fromDate,o=e.toDate,r=e.fromTime,c=e.toTime,s=e.airlineLogos,d=e.stops;return l.a.createElement(O.a,{key:t,type:C.k.FLIGHT,containerClass:"vertical-center mbottom-medium",fromPlace:a,destination:n,sectionTitle:0===t?Y:null,fromDate:i,toDate:o,fromTime:r,toTime:c,stops:d,airlineLogos:s,isAdmin:G})}))}return"object"===typeof a&&a.errorMessage?l.a.createElement("section",{className:"card"},l.a.createElement(O.a,{type:C.k.FLIGHT,containerClass:"vertical-center vmargin-small",fromPlace:a.from,destination:a.to,fromDate:a.fromDate,isAdmin:G}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("p",{className:"meta-text vmargin-small"},l.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"}),"\xa0\xa0",a.errorMessage))),l.a.createElement(k.a,{changeText:d,onChange:r,isReadOnly:m,changeDisabled:T,removeDisabled:w,isBlockCard:S,blockCardClickAction:D,ourSourceProvider:_,enableOnRequest:L,disableOnRequest:M,isOnRequested:U,onRequestChangeAction:z,isAdmin:G})):l.a.createElement("section",{className:"card",onClick:N},K,i.length>0?l.a.createElement(x.a,Object.assign({},i[0],{count:i.length>0?i.length-1:null,alerts:i})):null,l.a.createElement(k.a,{icons:o,price:f,publishedPrice:h,changeText:d,onChange:r,changeDisabled:T,removeDisabled:w,onView:N,onRemove:c,isReadOnly:m,onEditClick:v,canEditPrice:E&&!S,ourSourceProvider:_,enableOnRequest:L,disableOnRequest:M,isOnRequested:U,onRequestChangeAction:z,isAdmin:G}))},N=a(20),j=a(1598),w=a(1659),A=a(1650),T=a(7),R=a(15),S=a(611),D=a(2),P=a(5),_=Object(N.a)(),B="".concat(p.a.images_cdn_web_app_url,"itinerary/tooltip-arrow.png"),L=D.default.div.withConfig({displayName:"CardTooltip__CardTooltipWrapper"})(["position:absolute;top:28px;left:100%;width:320px;img{left:5%;width:45px;position:relative;}div{left:10%;position:relative;font-weight:600;font-size:15px;line-height:24px;color:",";ul{margin:0;padding:0;li{list-style:none;}}p{font-weight:bold;font-size:18px;line-height:24px;letter-spacing:-0.02em;margin-bottom:8px;}}"],P.theme.blackSecondary),F=D.default.div.withConfig({displayName:"CardTooltip__CardWrapper"})(["position:relative;"]),M=function(e){var t=e.children,a=e.showToolTip,n=void 0!==a&&a;return l.a.createElement(F,null,t,!_&&n?l.a.createElement(r.Fragment,null,l.a.createElement(L,null,l.a.createElement("img",{src:B,alt:"arrow"}),l.a.createElement("div",null,l.a.createElement("p",null,"Customise this plan your way!"),l.a.createElement("ul",null,l.a.createElement("li",null,"Change Flights"),l.a.createElement("li",null,"Change Hotels "),l.a.createElement("li",null,"Change Activites"),l.a.createElement("li",null,"and more...."))))):null)},V=a(1592),U=a(1593),H=a(105),z=a(141),W=a(1595),G=["status"],K=(t.a=function(e){var t=Object(c.d)(),a=Object(r.useState)({isLoading:!1,enableOneWayFlight:!1,totalPublishedCost:0,totalRoundTripCost:0,allConfigKeys:[]}),n=Object(o.a)(a,2),s=n[0],d=n[1],u=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var n=e.history,i=e.itinerary,o=s.enableOneWayFlight;o?Object(R.Ld)(R.h,{category:"flight",button_clicked:"Inclusions - Alternate split flight",split_flights_flight_costing_id:a,split_flights_itinerary:i.itineraryId,split_flights_alternates_clicked:!0}):Object(R.Ld)(R.D,{category:"flight",button_clicked:"Inclusions - Flight Card"}),n.push(Object(T.Jb)({itineraryId:i.itineraryId,location:n.location,regionCode:i.regionCode,target:T.N,customParams:{configKey:Object(j.a)(a)}}))},m=function(t){var a=e.history,n=e.itinerary;Object(R.Ld)(R.Pc,{category:"flight",button_clicked:"Inclusions - Flight Card"}),a.push(Object(T.Jb)({itineraryId:n.itineraryId,location:a.location,regionCode:n.regionCode,target:T.O,customParams:{configKey:Object(j.a)(t)}}))},O=function(t,a){a.preventDefault(),a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.history,i=e.itinerary;n.push(Object(T.Jb)({itineraryId:i.itineraryId,location:n.location,regionCode:i.regionCode,target:T.ib,customParams:{called_from:"FLIGHT_PANEL",configKey:Object(j.a)(t)}}))},x=function(t,a){a.preventDefault(),a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.history,i=e.itinerary;n.push(Object(T.Jb)({itineraryId:i.itineraryId,location:n.location,regionCode:i.regionCode,target:T.m,customParams:{configKey:Object(j.a)(t)}}))},k=function(a,n){n.preventDefault(),n.stopPropagation(),d(Object(i.a)(Object(i.a)({},s),{},{isLoading:!0}));var o,r=e.itinerary;Object(R.Ld)(R.Sc,{category:"flight",button_clicked:"Inclusions - Split flight",split_flights_flight_costing_id:a,split_flights_itinerary:r.itineraryId,split_flights_clicked:!0}),t((o={itineraryId:r.itineraryId,configKey:a},function(e){return new Promise((function(t,a){var n="".concat(p.a.api_url,"flight/converttooneway");Object(f.a)({url:n,method:"POST",body:o,onSuccess:function(a){Object(g.a)(e,a.data),t("Promised resolved from fetch")},onFailure:function(t){Object(h.a)(t,e),a("Failed")}})}))})).then((function(){return d(Object(i.a)(Object(i.a)({},s),{},{isLoading:!1}))}))},w=function(a,n){var i,o=e.itinerary;t((i={itineraryId:o.itineraryId,configKey:n,automatedBookingForOnRequestHotel:a},function(e){return new Promise((function(t,a){var n="".concat(p.a.api_url,"flight/automatedBookingForOnRequestHotel");Object(f.a)({url:n,method:"POST",body:i,onSuccess:function(a){Object(g.a)(e,a.data),t("Promised resolved from fetch")},onFailure:function(t){Object(h.a)(t,e),a("Failed")}})}))}))},D=function(t,a){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var n=Object(j.a)(a),i=e.history,o=e.itinerary;i.push(Object(T.Jb)({itineraryId:o.itineraryId,location:i.location,regionCode:o.regionCode,target:T.Eb,customParams:{called_from:"FLIGHT_PNR_VALIDITY",configKey:n}}))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return e.map((function(e){var i=e.status,o=e.isBlocked,r=e.tripList,l=void 0===r?[]:r,c=e.flightData,s=e.errorMessage,d=e.expiresIn,p=e.alerts,f=e.isDisabled,g=e.disableText,h=c.offline;if(s)return{header:{firstTitle:e.departureCity+" \u2192 "+e.arrivalCity,fromDate:e.tripDate+" "+e.tripMonth,changeButtonText:e.changeButtonText,onChange:function(e){u(e,c.configKey)},changeDisabled:a},details:s,rootClassName:"error",status:i,onBlockCardAction:function(e){x(c.configKey,e)},flightData:c};var y=t?c.discountApplied:null,b=l.reduce((function(e,t){return e.firstTitle.push(t.departureCity+" \u2192 "+t.arrivalCity),e.fromDate.push(t.dayOfWeek+", "+t.tripDate+" "+t.tripMonth),e.detailsArr.push({airlineLogos:t.airlineLogos,fromDetails:{time:t.departureTime,from:t.departureAirportCode,date:t.tripDate+" "+t.tripMonth,stops:t.airportCodes},toDetails:{time:t.arrivalTime,to:t.arrivalAirportCode},duration:t.duration,stops:t.stops}),e}),{fromDate:[],firstTitle:[],detailsArr:[]});return{configKey:c.configKey,costingId:c.costingId,entityType:c.entityType,bookingNotes:c.bookingNotes,status:c.status,userDetails:n,contentClickAction:function(){m(c.configKey)},isBlocked:o,isBlockCard:h,header:{title:"",firstTitle:b.firstTitle.join(" / "),fromDate:b.fromDate.join(" / "),changeButtonText:h?"Edit Card":C.b,onSplitFlight:Object(V.a)({permissions:null===n||void 0===n?void 0:n.permissions,key:U.m})&&!a&&!o&&null!==c&&void 0!==c&&c.internationalRoundTripFlight?function(e){k(c.configKey,e)}:null,onView:"ERROR"===i?function(){}:function(){m(c.configKey)},onChange:h&&!t?null:function(e){h?x(c.configKey,e):u(e,c.configKey)},changeDisabled:a||"BLOCKED"===i,enableOnRequest:t&&c.onRequestHotelPresent,disableOnRequest:a,isOnRequested:c.automatedBookingForOnRequestHotel,onRequestChangeAction:function(e){w(e,c.configKey)}},secondaryHeader:{tagsContainerClass:"col-md-4 text-right",dataContainerClass:null,dataContainerStyle:{style:{width:"100%",marginLeft:"6px"}},isCountdownVisible:o&&Object(V.a)({permissions:null===n||void 0===n?void 0:n.permissions,key:U.d}),headerText:c.pnr,countdownText:o?"PNR Expires in":"",countdownStartTime:d,data:e.iconsList,isTagsVisible:y,pnrEditAction:function(e){D(e,c.configKey)}},isDisabled:f,disableText:g,details:b.detailsArr,alerts:p,price:c.strikedCost,publishedPrice:Object(v.a)(c.publishedCost,c.ourCost),isDiscountApplied:y,onEditClick:function(e){O(c.configKey,e)},flightData:c}}))};Object(r.useEffect)((function(){!function(){var t=e.costingById,a=void 0===t?{}:t,n=e.allFlightCostingRefs,o=void 0===n?[]:n,r=e.userDetails,l=e.isBooked,c=e.itineraryAlerts,u=r&&r.loggedIn&&"ADMIN"===r.userType,m=K(o,a,c,u),p=P(m,u,l,r),f=!1,g=0,h=0,y=[];(p||[]).forEach((function(e){var t,a,n,o;null!==(t=e.flightData)&&void 0!==t&&t.splitToOneWayFlight?(g+=null===e||void 0===e||null===(a=e.flightData)||void 0===a?void 0:a.publishedCost,h=null===e||void 0===e||null===(n=e.flightData)||void 0===n?void 0:n.roundTripFlightCost,y.push(null===e||void 0===e||null===(o=e.flightData)||void 0===o?void 0:o.configKey),l||null!==e&&void 0!==e&&e.isBlocked||(f=!0),g&&h&&d(Object(i.a)(Object(i.a)({},s),{},{enableOneWayFlight:f,totalPublishedCost:g,totalRoundTripCost:h,allConfigKeys:y}))):d(Object(i.a)(Object(i.a)({},s),{},{enableOneWayFlight:!1,totalPublishedCost:0,totalRoundTripCost:0,allConfigKeys:[]}))}))}()}),[e]);var _=e.costingById,B=void 0===_?{}:_,L=e.allFlightCostingRefs,F=void 0===L?[]:L,W=e.userDetails,G=e.isReadOnly,Y=e.isBooked,q=e.itineraryAlerts,J=e.itineraryVersion,Q=e.showCardTooltip,X=s.isLoading,$=s.enableOneWayFlight,Z=s.totalPublishedCost,ee=s.totalRoundTripCost,te=s.allConfigKeys;if(Array.isArray(F)&&F.length){var ae=W&&W.loggedIn&&"ADMIN"===W.userType,ne=ae&&!Y&&!G,ie=K(F,B,q,ae);if(Object(N.a)()){var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.map((function(e){var n=e.errorMessage,i=e.tripList,o=e.flightData,r=e.status,l=e.alerts,c=o.offline;return n?{error:{from:e.departureCity,to:e.arrivalCity,fromDate:e.tripDate+" "+e.tripMonth,errorMessage:n},status:r,onBlockCardAction:function(e){x(o.configKey,e)},changeText:e.changeButtonText,onChange:function(e){u(e,o.configKey)},changeDisabled:a,flightData:o}:{rows:i.reduce((function(e,t){return e.push({airlineLogos:t.airlineLogos,from:t.departureCity,fromDate:t.tripDate+" "+t.tripMonth,fromTime:t.departureTime,to:t.arrivalCity,toDate:t.arrivalDate+" "+t.arrivalMonth,toTime:t.arrivalTime,stops:t.duration+", "+t.stops}),e}),[]),isBlockCard:c,ourSourceProvider:t?o.ourSourceProvider:null,alerts:l,internationalRoundTripFlight:null===o||void 0===o?void 0:o.internationalRoundTripFlight,splitToOneWayFlight:null===o||void 0===o?void 0:o.splitToOneWayFlight,roundTripFlightCost:null===o||void 0===o?void 0:o.roundTripFlightCost,footerIcons:e.iconsList,changeText:c?"Edit Card":e.changeButtonText,onChange:c&&!t?null:function(e){c?x(o.configKey,e):u(e,o.configKey)},onEditClick:function(e){O(o.configKey,e)},contentClickAction:function(){m(o.configKey)},removeDisabled:a,changeDisabled:a,enableOnRequest:t&&o.onRequestHotelPresent,disableOnRequest:a,isOnRequested:o.automatedBookingForOnRequestHotel,onRequestChangeAction:function(e){w(e,o.configKey)},price:o.strikedCost,publishedPrice:Object(v.a)(o.publishedCost,o.ourCost)}}))}(ie,ae,Y);return l.a.createElement(r.Fragment,null,oe.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return l.a.createElement(I,Object.assign({isBlockCard:ae&&("ERROR"===e.status||"USER_REMOVED"===e.status||"UNAVAILABLE"===e.status),isAdmin:ae,blockCardClickAction:e.onBlockCardAction,key:t,canEditPrice:ne,isBooked:Y,itineraryVersion:J},e,{publishedPrice:Object(v.a)(e.publishedPrice,e.ourCost)}))})))}var re=P(ie,ae,Y,W),le=Object(r.useMemo)((function(){return Z<ee}),[s]),ce=Object(r.useMemo)((function(){return Z>ee}),[s]),se=Object(r.useMemo)((function(){return Z===ee}),[s]),de=Object(r.useMemo)((function(){return Z-ee}),[s]),ue=Object(r.useMemo)((function(){return-1===ee}),[s]);return l.a.createElement(l.a.Fragment,null,$&&l.a.createElement(H.a.Item,{width:"100%",height:64,gutter:0,backgroundColor:le?"#E5F9F3":ce?"#FDECEF":"#F7F7F7",borderWidth:1,borderColor:le?"#ACDDCD":ce?"#F47B8E":"#C3C3C3",marginBottom:32,borderRadius:8,paddingHorizontal:24,justifyContent:"center"},l.a.createElement(H.a,{gutter:0,justifyContent:"space-between"},l.a.createElement(z.a,{fontFamily:"Source Sans Pro",color:le?"#00774F":ce?"#8F2838":se?"#333333":"#000",fontSize:16},le&&!ue?"Cost of 2 one way flights are cheaper than return flight by":ce&&!ue?"Cost of 2 one way flights are costlier than return flight by":se&&!ue?"No change in cost between return flight and 2 oneway flight":ue?"Previous round trip cost was expired. Revert changes to compare prices":"",(le||ce)&&!ue&&l.a.createElement(z.a,{fontFamily:"Source Sans Pro",color:le?"#00774F":ce?"#8F2838":"#000",fontSize:16,fontWeight:700}," ",l.a.createElement(b.a,{objectData:{value:Object(S.b)("".concat(Math.abs(de)))},path:"value",defaultValue:"0"}))),l.a.createElement(E.a,{buttonClass:"btn btn-default btn-outline btn-outline-bg btn-sm",buttonText:"Revert changes",onClickAction:function(a){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;n.preventDefault(),n.stopPropagation(),d(Object(i.a)(Object(i.a)({},s),{},{isLoading:!0}));var o=e.itinerary;Object(R.Ld)(R.Ic,{category:"flight",button_clicked:"Inclusions - Revert split flight",split_flights_flight_onward_costing_id:null===a||void 0===a?void 0:a[0],split_flights_flight_return_costing_id:null===a||void 0===a?void 0:a[1],split_flights_itinerary:o.itineraryId,split_flights_revert_changes_clicked:!0}),t(y({itineraryId:o.itineraryId,onwardConfigKey:null===a||void 0===a?void 0:a[0],returnConfigKey:null===a||void 0===a?void 0:a[1]})).then((function(){return d(Object(i.a)(Object(i.a)({},s),{},{isLoading:!1,enableOneWayFlight:!1,totalPublishedCost:0,totalRoundTripCost:0,allConfigKeys:[]}))}))}(te,a)}}))),l.a.createElement("div",{className:"clearfix fw incl-box-container"},re.length?re.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Q?M:r.Fragment;return l.a.createElement(a,{key:"".concat(t,"-wrapper"),showToolTip:0===t},l.a.createElement(A.b,Object.assign({isBlockCard:Object(V.a)({permissions:null===W||void 0===W?void 0:W.permissions,key:U.a})&&("ERROR"===e.status||"USER_REMOVED"===e.status||"UNAVAILABLE"===e.status),isOnRequest:!0,blockCardClickAction:e.onBlockCardAction,key:t,price:e.flightData.publishedPrice,type:C.k.FLIGHT,publishedPrice:Object(v.a)(e.publishedPrice,e.ourCost),canEditPrice:ne,isBooked:Y,itineraryVersion:J},e,{isAdmin:ae,isLoading:$?X&&Object(V.a)({permissions:null===W||void 0===W?void 0:W.permissions,key:U.m})&&e.flightData.splitToOneWayFlight:X&&Object(V.a)({permissions:null===W||void 0===W?void 0:W.permissions,key:U.m})&&e.flightData.internationalRoundTripFlight,isRoundTrip:$})))})):null))}return null},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=[],r={ERROR:"Your flight costing failed. Please refresh or retry later",USER_REMOVED:"You have removed this flight from itinerary!",UNAVAILABLE:"Flight is unavailable. Try a different date"};return e.forEach((function(e){var l=t[e]||{},c=l.status,s=void 0===c?"":c,u=Object(n.a)(l,G),p={status:s,flightData:d()(u),alerts:Object(W.b)(Object(m.a)(a,e))};switch(p.flightData.offline&&p.alerts.push({type:"danger",iconClass:"color-grey pyt-fyi-36",data:"This flight has been added offline. Please check with our travel consultant before proceeding."}),p.flightData.expired&&i&&p.alerts.push({type:"danger",iconClass:"color-grey pyt-fyi-36",data:"The price of this flight may not be valid anymore. Please check before proceeding further."}),s){case"SUCCESS":case"SOLD_OUT":case"BLOCKED":var f=u.trips,g=void 0===f?{}:f,h=u.allTrips,y=u.airlineName,v=u.refundable,b=u.flightClass,E=u.key,O=u.expiresIn,x=u.tags,k=void 0===x?[]:x,I=u.ourSourceProvider,N=u.excessBaggageInfo,j=y;if(Object.keys(g).length>1)j=Object.keys(g).map((function(e){return g[e].routes[0].carrierName})).filter((function(e,t,a){return a.indexOf(e)===t})).join(" & ");p.isBlocked="BLOCKED"===s,p.configKey=E,p.iconsList=Y({airlineName:j,refundable:v,flightClass:b,ourSourceProvider:I,isAdmin:i,excessBaggageInfo:N}),p.changeButtonText=C.b,p.expiresIn=O,Array.isArray(k)&&(p.longLayover=k.includes("LONG_LAYOVER"),p.isEarlyFlight=k.includes("EARLY_FLIGHT")),p.isDisabled="SOLD_OUT"===s,p.disableText=s,p.tripList=q(g,h);break;case"ERROR":case"USER_REMOVED":case"UNAVAILABLE":var w=u.errorDetail,A=(void 0===w?{}:w).flightErrorDetails,T=void 0===A?[{}]:A;p=Object.assign(p,{errorMessage:r[s],tripMonth:T[0].depMonth,tripDate:T[0].depDay,departureCity:T[0].departureCityName,arrivalCity:T[0].arrivalCityName,changeButtonText:"USER_REMOVED"===s?C.a:C.i});break;default:p=null}p&&o.push(p)})),o}),Y=function(e){var t=e.airlineName,a=e.refundable,n=e.flightClass,i=e.ourSourceProvider,o=e.isAdmin,r=e.excessBaggageInfo,c={className:"pyt-non-refundable-16 color-accent-7",text:"Non Refundable"};a&&(c={className:"pyt-refundable-16 color-primary-dark",text:"Refundable"});var s={className:"pyt-flight-departure-16",text:t},d={className:"pyt-seat-16",text:Object(u.a)(n)},m={},p={text:l.a.createElement("span",{className:"likely-tag bg-accent-2"},l.a.createElement("i",{className:"pyt-flash-on-16 color-accent-1"}),i)},f={text:l.a.createElement("span",{className:"likely-tag bg-accent-2"},l.a.createElement("i",{className:"pyt-baggage-16 color-accent-1"}),"Excess Baggage")},g=[s,c,d];return null!==m&&void 0!==m&&m.text&&g.push(m),o&&g.push(p),null!==r&&void 0!==r&&r.fromDiscount&&g.push(f),g},q=function(e,t){return Array.isArray(t)&&t.length?t.map((function(t){var a=e[t],n=a.routes[0],o=a.routes[a.routes.length-1],r=[];return a.routes.forEach((function(e){r.find((function(t){return t.airlineName===e.carrierName}))||r.push(Object(i.a)(Object(i.a)({},Object(w.a)(e.carrierCode)),{},{airlineName:e.carrierName}))})),Object(i.a)({tripMonth:a.mon,tripDate:a.day,dayOfWeek:a.dayOfWeek,islandSameDay:a.landSameDay?null:a.landDay+a.landMon,carrierName1:n.carrierName,carrierName2:o.carrierName,airlineLogos:r,departureCity:n.departureCity,departureTime:n.departureTime.substring(0,5),departureAirportCode:n.departureAirportCode,arrivalCity:o.arrivalCity,arrivalTime:o.arrivalTime.substring(0,5),arrivalMonth:o.arrMonth.substring(0,5),arrivalDate:o.arrDateOfMonth.substring(0,5),arrivalDayOfWeek:o.arrivalTime.substring(0,5),arrivalAirportCode:o.arrivalAirportCode,airportCodes:J(a.routes)},Q(a.duration,a.routes))})):[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return 0===t?e.departureAirportCode+" \u2192 "+e.arrivalAirportCode:" \u2192 "+e.arrivalAirportCode}))},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a="",n=t.length-1;a=0===n?"Direct":"".concat(n,1===n?" stop":" stops");var i=Math.floor(e/60),o=e%60;return 0!==i?{stops:a,duration:"".concat(i,"h ").concat(o,"m")}:{stops:a,duration:"".concat(o,"m")}}},2048:function(e,t,a){"use strict";function n(e){if(e)return"object"!==typeof e||Array.isArray(e)?e.length:Object.keys(e).length}a.d(t,"a",(function(){return n}))},2049:function(e,t,a){"use strict";function n(e,t){if(e){if(t&&e.constructor===Object)for(var a in e)if(!1===t(e[a],a,e))break;return e}}a.d(t,"a",(function(){return n}))},2051:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(1594),o=a(245),r=a(190),l=a(171),c=a(340),s=a(22);function d(e){return function(t){return new Promise((function(a,d){var u="".concat(n.a.api_url,"itinerary/visa/modify");Object(s.a)({url:u,method:"POST",body:e,onSuccess:function(e){Object(o.a)(t,e.data),Object(i.a)(t,c.w),a("Promised resolved from fetch")},onFailure:function(e){Object(r.a)(e,t),Object(l.a)(e,t),d("Failed")}})}))}}},2052:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),o=a(245),r=a(1594),l=a(190),c=a(171),s=a(340);function d(e){return function(t){return new Promise((function(a,d){var u="".concat(n.a.api_url,"itinerary/visa/modify");Object(i.a)({url:u,method:"POST",body:e,onSuccess:function(e){Object(o.a)(t,e.data),Object(r.a)(t,s.x),a("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,t),Object(c.a)(e,t),d("Failed")}})}))}}},2067:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(2),i=a(14),o=a(5),r=a(6),l=a(1709),c=a(23),s=Object(n.css)(["background-image:url('","');background-repeat:no-repeat;background-size:520px 520px;"],Object(c.a)("https:".concat(i.a.imgix_base,"/images/web_app/worldcup/icc_itinerary_v4.png"))),d=n.default.div.withConfig({displayName:"MatchInfoStyles__MatchInfoWrapper"})(["display:flex;flex-wrap:wrap;align-items:center;background-color:#2a5e9b;position:relative;color:",";min-height:",";padding:",";margin:",";","{padding:",";min-height:",";}","{margin:",";}&:before{content:'';",";position:absolute;top:",";bottom:",";left:",";right:",";width:",";height:",";background-position:",";","{left:",";width:",";height:",";background-position:",";}}.match-info-inner{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;position:relative;z-index:1;width:100%;.agent-logo{",";display:inline-block;vertical-align:top;width:80px;height:50px;background-position:-209px -313px;","{width:",";height:",";background-position:",";}}.right-info{","{margin-top:",";width:",";}.match-title{display:block;font-size:12px;font-weight:",";margin-bottom:4px;}","{margin-bottom:2px;}","{","{font-size:",";span{i{vertical-align:middle;}}}}strong{display:block;font-size:",";font-weight:",";margin:12px 0 4px;}p{margin:0;font-size:14px;","{font-size:",";}}}}"],o.theme.white,(function(e){return e.isInclusions?"217px":"70px"}),(function(e){return e.isInclusions?"16px":"11px 16px"}),(function(e){return e.isInclusions?"16px -12px":"-16px"}),r.sm,(function(e){return e.isInclusions?"24px":"13px 24px"}),(function(e){return e.isInclusions?"217px":"96px"}),r.md,(function(e){return e.isInclusions?"0 0 32px":null}),s,(function(e){return e.isInclusions?null:"0"}),(function(e){return e.isInclusions?"0":null}),(function(e){return e.isInclusions?null:"0"}),(function(e){return e.isInclusions?"0":null}),(function(e){return e.isInclusions?"209px":"120px"}),(function(e){return e.isInclusions?"217px":"70px"}),(function(e){return e.isInclusions?"-309.5px 0":"-260px -217px"}),r.sm,(function(e){return e.isInclusions?"0":null}),(function(e){return e.isInclusions?"309.5px":"260px"}),(function(e){return e.isInclusions?"217px":"96px"}),(function(e){return e.isInclusions?"0 0":"0 -217px"}),s,r.sm,(function(e){return e.isInclusions?"209px":"100px"}),(function(e){return e.isInclusions?"130px":"65px"}),(function(e){return e.isInclusions?"0 -313px":"-380px -217px"}),r.xs,(function(e){return e.isInclusions?"20px":null}),(function(e){return e.isInclusions?"100%":null}),o.theme.semiBold,l.a,r.xs,l.a,o.theme.baseSecondary,o.theme.baseSecondary,o.theme.semiBold,r.sm,o.theme.baseSecondary)},2070:function(e,t,a){"use strict";var n=a(245),i=a(1594),o=a(14),r=a(22);t.a=function(e,t){return function(a){return new Promise((function(l,c){var s="".concat(o.a.api_url,"offline/").concat(e,"/custom/").concat(t);Object(r.a)({url:s,method:"DELETE",body:{},onSuccess:function(e){"SUCCESS"===e.status&&(Object(n.a)(a,e.data),setTimeout((function(){Object(i.a)(a,"AB Card Removed")}),300),l("Promised resolved from fetch"))},onFailure:function(e){c(e)}})}))}}},2071:function(e,t,a){"use strict";var n=a(33),i=a(38),o=a(39),r=a(46),l=a(56),c=a(29),s=a(0),d=a.n(s),u=a(36),m=a(1791),p=a(1602),f=a(20),g=a(1650),h=a(1599),y=a(1829),v=a(7),b=a(18),E=a(1595),C=a(1628);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var x=h.k.RENTALCAR,k=function(e){Object(r.a)(a,e);var t=O(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onChangeClick=function(t,a){a&&a.stopPropagation(),a&&a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.itineraryId,r=n.regionCode,l=Object(p.a)(t.configKey);i.push(Object(v.Jb)({itineraryId:o,regionCode:r,location:i.location,target:v.pb,customParams:{configKey:l}}))},e._onEditClick=function(t,a){a.preventDefault(),a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.itineraryId,r=n.regionCode;i.push(Object(v.Jb)({itineraryId:o,regionCode:r,location:i.location,target:v.kb,customParams:{configKey:Object(p.a)(t),called_from:"RENTAL_CAR_PANEL"}}))},e}return Object(o.a)(a,[{key:"renderRentalCarPanels",value:function(){var e=this,t=this.props,a=t.transferRefs,i=t.transferCostingObj,o=t.isBooked,r=t.isReadOnly,l=t.userDetails,c=t.itineraryAlerts,s=t.hideInsurance,u=l&&l.loggedIn&&"ADMIN"===l.userType;return a.map((function(t){var l=i.costingById&&i.costingById[t];if(void 0===a||void 0===i)return null;if(l){var O=Object(E.b)(Object(b.a)(c,t)),k=l.configKey,I=l.status,N=l.pickup,j=l.days,w=l.pickupMonth,A=l.pickupDate,T=l.pickupDayOfWeek,R=l.dropDayOfWeek,S=l.dropMonth,D=l.dropDate,P=l.carTitle,_=l.pickupTime,B=l.drop,L=l.dropTime,F=l.gpsIncluded,M=l.showInsuranceData,V=l.publishedCost,U=l.ourCost,H=l.strikedCost,z=l.discountApplied,W=l.carType,G=l.gearType,K=l.maxSeats,Y=l.maxLuggage,q=void 0===Y?0:Y,J=l.image,Q=l.rentalCarProvider,X=l.passengerCount,$=l.vehicleCount,Z=l.lastDataUpdatedMillis,ee=l.costingId,te=l.entityType,ae=l.bookingNotes,ne=e.props,ie=ne.history,oe=ne.userDetails,re=ne.regionCode,le=ne.itineraryId,ce=oe&&oe.loggedIn&&"ADMIN"===oe.userType&&!o&&V&&!r,se=Object(C.a)(V,U),de=[];W&&de.push({className:"pyt-car-16",text:W}),G&&de.push({className:"pyt-transmission-16",text:"".concat(G," transmission")}),K&&de.push({className:"pyt-people-16",text:X+" passengers in "+$+($>1?" vehicles":" vehicle")}),q&&de.push({className:"pyt-baggage-16",text:q+" bags"});var ue=[{label:d.a.createElement("span",{className:"pill-outline bg square secondary text-uppercase bold valign-middle"},"GPS"),text:F?"Included":"Not Included",linkText:null}];ue=s?Object(n.a)(ue):[{label:d.a.createElement("span",{className:"pill-outline bg square accent-2 text-uppercase bold valign-middle"},"INSURANCE"),text:M?"Included":"Not Included",linkText:!M||r||o?null:"Change",linkAction:function(e){e&&e.stopPropagation()&&e.stopImmediatePropagation(),M&&!r&&ie.push(Object(v.Jb)({itineraryId:le,regionCode:re,location:ie.location,target:v.v,customParams:{configKey:Object(p.a)(k)}}))}}].concat(Object(n.a)(ue));var me="".concat(P);if(u&&(me="".concat(me," - ").concat(Q)),"SUCCESS"===I)return Object(f.a)()?d.a.createElement(y.a,{type:x,from:"Rental car from ".concat(N," for ").concat(j," days"),isReadOnly:r,fromDate:"".concat(T,", ").concat(A," ").concat(w),toDate:"".concat(R,", ").concat(D," ").concat(S),pickup:"Pickup from ".concat(N," at ").concat(_),drop:"Drop to ".concat(B," at ").concat(L),image:J||"https://pyt-images.imgix.net/images/web_app/itinerary/rental-generic.jpg",paraContent:me,vehicleDetails:ue,onChange:o||r?null:function(t){return e.onChangeClick(l,t)},price:H,publishedPrice:se,onEditClick:function(t){return e._onEditClick(k,t)},canEditPrice:ce,footerIcons:de,isBooked:o,alerts:O,isAdmin:u}):d.a.createElement(g.b,{type:x,isAdmin:u,lastDataUpdatedMillis:u?Z:null,isBooked:o,header:{title:"Rental car from ".concat(N," for ").concat(j," days"),fromDate:"".concat(T,", ").concat(w,", ").concat(A),toDate:"".concat(R,", ").concat(S,", ").concat(D),onChange:r?null:function(t){return e.onChangeClick(l,t)},changeDisabled:o,removeDisable:o,buttonsClassName:"col-md-6"},secondaryHeader:{data:de},details:{vehicleDetails:ue,detailsHeader:me,data:[{className:"pyt-included-16 color-primary",text:"Pickup from ".concat(N," @ ").concat(_)},{className:"pyt-included-16 color-primary",text:"Drop at ".concat(B," @ ").concat(L)}]},isReadOnly:r,price:H,publishedPrice:se,onEditClick:function(t){return e._onEditClick(k,t)},canEditPrice:ce,image:J||"https://pyt-images.imgix.net/images/web_app/itinerary/rental-generic.jpg",isDiscountApplied:u?z:null,alerts:O,costingId:ee,entityType:te,bookingNotes:ae,status:I,userDetails:oe});if(u&&"USER_REMOVED"===I){var pe=[{type:"info",data:"You have removed this transfer from itinerary!",iconClass:"pyt-fyi-36 color-grey"}];return Object(f.a)()?d.a.createElement(y.a,{type:h.k.TRANSFER,from:"Rental car from ".concat(N," for ").concat(j," days"),isReadOnly:r,fromDate:"".concat(T,", ").concat(A," ").concat(w),toDate:"".concat(R,", ").concat(D," ").concat(S),pickup:"Pickup from ".concat(N," at ").concat(_),drop:"Drop to ".concat(B," at ").concat(L),isAdmin:u,isBooked:o,changeText:"Add",onChange:o&&u?null:function(t){return e.onChangeClick(l,t)},alert:pe[0]}):d.a.createElement(g.b,{isBooked:o,isAdmin:u,type:h.k.TRANSFER,disableLeftSection:!0,rootClassName:"error",details:{status:I},header:{title:"Rental car from ".concat(N),changeButtonText:"Add",fromDate:"".concat(T,", ").concat(w,", ").concat(A),onChange:r?null:function(t){return e.onChangeClick(l,t)},changeDisabled:o,removeDisable:o,buttonsClassName:"col-md-6"},isReadOnly:r,alerts:pe,drop:!1,status:I})}return null}return d.a.createElement(m.a,{failedFor:"transfer",isLastRow:!1})}))}},{key:"render",value:function(){return this.renderRentalCarPanels()}}]),a}(s.Component);t.a=Object(u.withRouter)(k)},2072:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(0),i=a.n(n),o=a(20),r=a(1661),l=a(15),c=a(636),s=a(55),d=a(1711),u=a(35),m=a.n(u),p=a(1593),f=a(1592);function g(e){var t,a=e.costedItinerary,u=e.userDetails,g=e.isReadOnly,h=void 0!==g&&g,y=e.itineraryVersion,v=void 0===y?"":y,b=e.isAdmin,E=(null===a||void 0===a?void 0:a.summary)||{},C=E.inclusions,O=E.exclusions,x=E.discounts,k=null===a||void 0===a?void 0:a.itinerary.totalCost,I={value:x},N={value:null===a||void 0===a?void 0:a.itinerary.strikedCost},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tick";return i.a.createElement("ul",{className:"incexc-list fw"},(e||[]).map((function(e,a){return i.a.createElement("li",{key:a,className:t},e)})))},w=function(e){Object(l.Ld)(l.Ub,{button_clicked:e})},A=i.a.createElement(n.Fragment,null,i.a.createElement("ul",{className:"icons-list mb-0"},i.a.createElement("li",null,i.a.createElement("i",{className:"pyt-support-16"}),i.a.createElement("span",null,"Concierge chat")),i.a.createElement("li",null,i.a.createElement("i",{className:"pyt-activities-16"}),i.a.createElement("span",null,"Voucher Manager")),i.a.createElement("li",null,i.a.createElement("i",{className:"pyt-compass-16"}),i.a.createElement("span",null,"Travel tools")),i.a.createElement("li",null,i.a.createElement("i",{className:"pyt-location-16"}),i.a.createElement("span",null,"Destination guide"))),Object(c.a)()?null:i.a.createElement("p",{className:"vmargin-small"},"Available on both",i.a.createElement("span",{className:"app-icons"},i.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.pickyourtrail&hl=en_IN",onClick:function(){return w("android")},rel:"noopener noreferrer",target:"_blank"},i.a.createElement("img",{height:32,src:"https://pyt-images.imgix.net/images/web_app/itinerary/android.png",alt:"Android App"})),i.a.createElement("a",{href:"https://apps.apple.com/in/app/pickyourtrail-travel-planner/id1400253672",onClick:function(){return w("ios")},rel:"noopener noreferrer",target:"_blank"},i.a.createElement("img",{height:32,src:"https://pyt-images.imgix.net/images/web_app/itinerary/ios.png",alt:"ios App"})))));if(Object(o.a)()){var T,R,S=null===a||void 0===a||null===(T=a.paymentSchedule)||void 0===T||null===(R=T.paymentOptions[0])||void 0===R?void 0:R.paymentOptionType;return i.a.createElement(n.Fragment,null,i.a.createElement("section",{className:"total-cost"},i.a.createElement(r.a,{rootClassName:"panel panel-default",components:[{header:i.a.createElement("span",{className:"panel-title"},"Inclusions"),content:j(C,"tick")},{header:i.a.createElement("span",{className:"panel-title"},"Exclusions"),content:j(O,"cross")},{header:i.a.createElement("span",{className:"panel-title"},"Pickyourtrail Mobile App"),content:A}]})),i.a.createElement("section",{className:"total-cost",style:{paddingBottom:S.includes("CUSTOM")?40:""}},i.a.createElement(r.a,{rootClassName:"panel panel-default",activeIndex:0,components:[{header:i.a.createElement("span",{className:"panel-title"},"Cost Summary"),content:i.a.createElement("ul",{className:"cost-summary"},u&&u.loggedIn&&"ADMIN"===u.userType&&x&&"0"!==x&&!h?i.a.createElement("li",null,i.a.createElement("span",null,"Discount on itinerary"),i.a.createElement("span",null,i.a.createElement(s.a,{objectData:I,path:"value",defaultValue:"0"}))):null,i.a.createElement("li",null,i.a.createElement("span",null,"Total price:"),"SANDUNE"===v&&null!==N&&void 0!==N&&N.value?i.a.createElement("span",{className:"color-grey-medium meta-text"},i.a.createElement("span",{className:"strike-line"},i.a.createElement(s.a,{objectData:N,path:"value",defaultValue:"0"}))):null,i.a.createElement("span",null,i.a.createElement(s.a,{objectData:{value:k},path:"value",defaultValue:"0"}))))}]})))}var D=Object(f.a)({permissions:null===u||void 0===u?void 0:u.permissions,key:p.p});return i.a.createElement("div",{className:"clearfix fw"},i.a.createElement("section",{className:m()("total-cost",{"with-hod":D})},i.a.createElement("div",{className:"row content-row"},(C||[]).length?i.a.createElement("div",{className:"col-md-6 pr-5"},i.a.createElement("h5",null,"Inclusions"),j(C,"tick")):i.a.createElement(n.Fragment,null),i.a.createElement("div",{className:"col-md-6"},(O||[]).length?i.a.createElement(n.Fragment,null,i.a.createElement("h5",null,"Exclusions"),j(O,"cross"),i.a.createElement("hr",{className:"vmargin-large"})):i.a.createElement(n.Fragment,null),i.a.createElement("h5",null,i.a.createElement("span",{className:"happy-flag"}),"Pickyourtrail Mobile App"),i.a.createElement("p",{className:"mbottom-medium"},"Stay updated wherever you are & travel hassle-free with Pickyourtrail's mobile app."),A)),i.a.createElement("div",{className:"row price-row"},u&&u.loggedIn&&"ADMIN"===u.userType&&x&&"0"!==x&&!h?i.a.createElement("div",{className:"col-md-12 text-center"},i.a.createElement("p",null,"Discount on itinerary - ",i.a.createElement(s.a,{objectData:I,path:"value",defaultValue:"0"}))):null,i.a.createElement("div",{className:"col-md-12 text-center"},i.a.createElement("p",null,"Total cost including taxes & service fees:"),i.a.createElement("strong",null,i.a.createElement(s.a,{objectData:{value:k},path:"value",defaultValue:"0"})))),D?i.a.createElement(d.a,{itineraryInfo:a,isAdmin:b,canEditHod:D,costingId:"summary",entityType:"itinerary",bookingNotes:null===a||void 0===a||null===(t=a.itinerary)||void 0===t?void 0:t.bookingNotes}):null))}},2073:function(e,t,a){},2129:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(247),r=a(38),l=a(39),c=a(46),s=a(56),d=a(29),u=a(54),m=a(30),p=a(290),f=a(137),g=a(1595),h=a(354),y=a(144),v=a(291),b=a(1898),E=a(591),C=a(1646),O=a(1673),x=a(156),k=a(20),I=a(7),N=a(214),j=a(71),w=a(216),A=a(23),T=a(2),R=a(6),S=T.default.div.withConfig({displayName:"ItineraryHeaderStyles__RightSideSectionStyle"})(["display:flex;justify-content:flex-end;.price-col{display:flex;flex-direction:column;justify-content:center;}.cost-button{padding:14px 38px;}"]),D=(T.default.div.withConfig({displayName:"ItineraryHeaderStyles__HeaderElementStyle"})(["font-size:17px;line-height:25px;font-weight:600;color:#999999;border-bottom:1px solid #1baacc;height:56px;display:flex;align-items:flex-end;background-color:#ffffff;padding-right:4px;transition:border-bottom 1s ease-in-out;","{height:72px;padding-right:0px;margin-top:0px;}&.enabled-sticky{align-items:center;border-bottom:1px solid #e5e5e5;.buttons{padding-bottom:16px;}&.sticky-shadow{box-shadow:0px 8px 8px rgba(0,0,0,0.12);border-bottom:transparent;}.pax-text{animation:0.5s ease-in-out slideTextFromBottom;}}.pax-text{font-weight:normal;display:none;","{display:initial;}.icon{color:#1895b3;vertical-align:middle;margin:0px 6px 0px 0px;opacity:50%;cursor:text;}b{color:#1895b3;cursor:pointer;display:inline-block;font-weight:normal;}&.non-edit{b{cursor:auto;color:#333333;}}}@keyframes slideTextFromBottom{0%{transform:translateY(10%);}100%{transform:translateY(0);}}@keyframes slideFromTop{0%{transform:translateY(-100%);}100%{transform:translateY(0);}}.btn{width:173px;height:48px;margin:0px 18px 0 auto;animation:0.5s ease-in-out slideFromTop;}"],R.md,R.md),T.default.div.withConfig({displayName:"ItineraryHeaderStyles__NavButtons"})(["font-size:15px;line-height:25px;font-weight:600;color:#ffffff;letter-spacing:-0.01em;white-space:nowrap;display:flex;justify-content:space-between;margin:4px auto 0px auto;","{margin:0px 0px 1px 0px;border:none;font-size:17px;padding:0px 16px 0px 12px;}button{width:124px;height:40px;margin:0px 4px -1px 0px;background:#1baacc;border-top-left-radius:8px;border-top-right-radius:8px;border-top:1px solid #1baacc;border-left:1px solid #1baacc;border-right:1px solid #1baacc;border-bottom:transparent;&:last-child{margin-right:0px;margin-right:-2px;}","{width:142px;margin:0px 4px -2px 0px;}&.tab-active{color:#1baacc;background:#ffffff;","{background:#f7f8fb;}}&.tab-active:last-child{color:#1baacc;background:#ffffff;}&:focus{outline:none;}}&.toogle-buttons{width:268px;height:36px;margin:0 auto;padding:2px;background:#1baacc;border-radius:8px;line-height:19px;animation:0.5s ease-in-out slideFromBottom;","{margin:0px 16px 0px 12px;height:41px;animation:0.5s ease-in-out slideFromBottom;}button{width:146px;height:32px;margin:0px;background:none;border-radius:6px;border:none;box-shadow:0px 0px 8px rgba(0,0,0,0.06);","{height:37px;}&.tab-active{background-color:#ffffff;color:#1baacc;}}}@keyframes slideFromBottom{0%{transform:translateY(30%);}100%{transform:translateY(0);}}"],R.md,R.md,R.md,R.md,R.md),T.default.section.withConfig({displayName:"ItineraryHeaderStyles__ItineraryWhiteHeaderStyle"})(["background-color:#ffffff;width:100%;height:56px;display:flex;align-items:center;position:absolute;z-index:26;top:",";&.sticky-shadow{box-shadow:0px 8px 8px rgba(0,0,0,0.12);}"," ","{height:72px;}.header-container{width:100%;margin:auto;display:flex;position:relative;height:56px;justify-content:space-between;align-items:center;padding:0px 16px 0px 16px;","{width:1176px;height:72px;padding:0px 0px 0px 12px;}.header-submenu{","{position:absolute;right:12px;}.caret{color:rgba(44,47,66,0.6);font-weight:400;line-height:1.28;}.dropdown-menu{margin-top:4px;}.user-initials{background:#e5f9f3;color:rgba(0,0,0,0.9);","{background-color:#dddddd;color:rgba(119,119,119,0.6);}}.btn{color:rgba(0,0,0,0.8);padding:0px;font-weight:normal;","{border:1px solid;padding:4px 12px;font-weight:600;}}}}"],(function(e){return e.hasTopBar?"".concat(e.hasTopBar,"px"):0}),(function(e){return e.showBorder&&Object(T.css)(["box-shadow:inset 0 -1px 0 0 rgba(44,47,66,0.1);"])}),R.md,R.md,R.md,R.md,R.md)),P=a(11),_=a(661),B=a(1899),L=a(191),F=a(42),M=function(e){var t=e.user_details,a=e.logoutAction,o=e.history,r=e.location,l=e.isT20,c=void 0!==l&&l,s=e.isMobileDevice,d=void 0!==s&&s,u=e.locale,m=t.loggedIn,p=void 0!==m&&m,f=t.name,g=void 0===f?"":f,h=t.userType,y=void 0===h?"USER":h;if(p){var v=g.split(" ").splice(0,2).map((function(e){var t;return null===(t=e[0])||void 0===t?void 0:t.toUpperCase()})).join(""),b="AGENT"===y,E=Object(n.useState)(!1),C=Object(P.a)(E,2),O=C[0],x=C[1],k=function(e){o.push(e)};return i.a.createElement(_.a,{as:"div",className:"header-submenu ".concat(O?"open":"")},i.a.createElement("a",{className:"dropdown-toggle","data-toggle":"dropdown","aria-expanded":"true",href:" ",onClick:function(e){return e&&e.preventDefault()}},i.a.createElement("span",{className:"user-initials",style:{cursor:"pointer"},onClick:function(e){e&&e.preventDefault(),d?Object(B.a)():x(!O)}},v),"\xa0",i.a.createElement("i",{className:"caret hidden-sm hidden-xs color-white",style:{cursor:"pointer"},onClick:function(e){e&&e.preventDefault(),x(!O)}})),O?i.a.createElement("div",{className:"modal-backdrop fade in",onClick:function(e){e&&e.preventDefault(),x(!1)},style:{zIndex:5,opacity:0}}):null,d?null:i.a.createElement("ul",{className:"dropdown-menu dropdown-menu-right",onMouseLeave:function(){return x(!1)}},i.a.createElement("li",null,i.a.createElement("span",null,g)),i.a.createElement("li",{className:"divider"}),i.a.createElement("li",null,i.a.createElement("a",{href:" ",onClick:function(e){e&&e.preventDefault(),k(b?"/agent/dashboard":"/your-vacations")}},"".concat(b?"Your dashboard":"Your vacations"))),i.a.createElement("li",null,i.a.createElement("a",{href:" ",onClick:function(e){e&&e.preventDefault(),k("/account")}},"Your account")),i.a.createElement("li",null,i.a.createElement("a",{className:"danger-hover",href:" ",onClick:function(e){e&&e.preventDefault(),a({history:o,userType:y,location:r})}},"Logout"))))}return c?null:i.a.createElement(_.a,{as:"div",className:"header-submenu"},i.a.createElement(L.a,{buttonClass:"btn btn-light",buttonText:"Login",onClickAction:function(e){e.preventDefault(),window.location=Object(F.a)(u)||"in"===u?"/login?redirectTo=".concat(o.location.pathname):"/".concat(u,"/signin")}}))},V=a(106),U=a(55),H=function(e){var t=e.isCosted,a=void 0!==t&&t,n=e.staleCost,o=void 0!==n&&n,r=e.isReadOnly,l=void 0!==r&&r,c=e.packageCost,s=e.enableBredCrumb,d=e.itineraryInfo,u=Object(N.b)(d),m=T.default.div.withConfig({displayName:"GetCostingContent__Div"})(["margin-top:16px;margin-right:8px;"]),p={value:c};return!a||o||u?s||l?i.a.createElement("div",{className:"price-col"},i.a.createElement("span",{className:"meta-text anchor-link",style:{cursor:"default"}},l&&!u?"Price for 2 persons":"Starting price/person"),i.a.createElement("strong",{className:"medium-heading"},i.a.createElement(U.a,{objectData:p,path:"value",defaultValue:"0"}),"\xa0",u?i.a.createElement(V.a,{text:"Price is based on double occupancy.",placement:"bottom"},i.a.createElement("span",{className:"meta-text pyt-info-16"})):null)):null:i.a.createElement(m,null,i.a.createElement("strong",{className:"medium-heading"},i.a.createElement(U.a,{objectData:p,path:"value",defaultValue:"0"})))},z=a(15),W=a(1767),G=a.n(W),K=T.default.div.withConfig({displayName:"RightSideSection__Div"})(["display:flex;flex-direction:column;"]),Y=T.default.div.withConfig({displayName:"RightSideSection__WhatsappLink"})(["border:0;padding:13px 24px;border-top:1px solid #d4d4d4;color:#00b277;text-align:center;font-weight:bold;font-size:16px;cursor:pointer;i{font-weight:bold;font-size:18px;vertical-align:-2px;}"]),q=G()((function(e){var t=e.getCostText,a=e.isAnimated,n=e.itineraryInfo,o=e.match,r=void 0===o?{}:o,l=e.history,c=n.itinerary||{},s=c.booking,d=void 0!==s&&s,u=c.campaign,m=void 0!==u&&u;return i.a.createElement(S,{className:"col-md-5 hidden-xs hidden-sm text-right"},i.a.createElement(H,e),i.a.createElement(K,null,i.a.createElement(L.a,{buttonClass:"btn btn-primary btn-lg cost-button ".concat(a?"animated infinite pulse-zoomer":""),isDisabled:d,onClickAction:function(a){"Get trip cost"===t&&Object(z.Ld)(z.Ib,{elementName:"get trip cost button",elementType:"button"}),Object(g.i)(a,"Book this trip"===t?"BookTrip":"Get latest cost"===t||"Get trip cost"===t||"Check Availability"===t?"GCM":"Update",e)},type:"button",buttonText:t}),i.a.createElement(Y,{onClick:function(e){return function(e,t){e&&e.preventDefault();var a=r.params,n=void 0===a?{}:a;m?l.push("".concat(location.pathname,"/request-whatsapp-chat")):l.push(Object(I.Jb)({itineraryId:n.itineraryId,regionCode:n.searchRegion,target:t,location:l.location}))}(e,I.s)}},i.a.createElement("i",{className:"pyt-whatsapp-fill-16"})," Contact us on WhatsApp")))})),J=a(14),Q=a(22),X=a(340),$=a(245),Z=a(1594),ee=a(190),te=a(171);var ae=function(e){var t=e.manageActivity,a=e.itineraryId,o=e.closeModal,r=e.action,l=e.isFaqMobileDevice,c=void 0!==l&&l,s=Object(n.useState)(!1),d=Object(P.a)(s,2),u=d[0],p=d[1],f=Object(m.d)();return i.a.createElement("div",{className:"model-open"},i.a.createElement("div",{className:"modal fade before-you-book modal-sticky-bars in"},i.a.createElement("div",{className:"modal-dialog",style:{top:"".concat(c?"":"20%")}},i.a.createElement("div",{className:"modal-content with-header"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close",onClick:function(){o(!1)}},i.a.createElement("i",{className:"pyt-close-16"}))),i.a.createElement("div",{className:"modal-body text-left",style:{padding:"".concat(c?"":"0 56px 48px")}},i.a.createElement("p",{className:"bold medium-heading"},"Are you sure?"),i.a.createElement("p",{className:"mtop-small",style:{letterSpacing:" -0.02em"}},"Choosing this option will ",i.a.createElement("b",null,"delete all the ",r.toLowerCase())," in your itinerary. Please confirm your selection."),i.a.createElement("button",{disabled:u,className:"btn btn-primary mtop-large ".concat(u?"progress-btn infinite":""),onClick:function(){switch(r){case"ACTIVITIES":p(!0),t({action:"REMOVEALL",itineraryId:a}).then((function(){p(!1),o(!1)}));break;case"TRANSFERS":p(!0),f(function(e){var t=e.itineraryId;return function(e){return new Promise((function(a,n){var i="".concat(J.a.api_url,"itinerary/").concat(t,"/transfer/removeall");Object(Q.a)({url:i,method:"DELETE",body:null,onSuccess:function(t){Object($.a)(e,t.data),setTimeout((function(){Object(Z.a)(e,X.r+" & Custom Instalment updated!")}),300),a("Promised resolved from fetch")},onFailure:function(t){Object(ee.a)(t,e),Object(te.a)(t,e),n("Failed")}})}))}}({itineraryId:a})).then((function(){p(!1),o(!1)}))}}},u?i.a.createElement("span",{className:"progress-bg"}):null,i.a.createElement("span",{className:"btn-text"},"Proceed")),i.a.createElement("button",{className:"btn btn-link mtop-large",onClick:function(){o(!1)}},"Cancel"))))),i.a.createElement("div",{className:"modal-backdrop fade in"}))},ne=a(1592),ie=a(1593),oe=a(105),re=function(e){var t,a,o,r=e.title,l=e.isRename,c=e.renameAction,s=e.listItems,d=e.isReadOnly,u=e.match,m=e.actions,p=e.itineraryInfo,f=e.user_details,h=e.target,y=e.isT20,v=e.isMobileDevice,b=void 0!==v&&v,E=e.isFaqMobileDevice,C=void 0!==E&&E,O=(u&&u.params).itineraryId,x=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"activityById")}),[p]),k=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"transferCostings")}),[p]),I=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"rentalCarCostings")}),[p]),N=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"trainCostings")}),[p]),j=Object(n.useMemo)((function(){return p&&Object.prototype.hasOwnProperty.call(p,"ferryCostings")}),[p]),w=Object(n.useMemo)((function(){var e;return null===p||void 0===p||null===(e=p.itinerary)||void 0===e?void 0:e.booking}),[p]),A=Object(n.useState)(!1),T=Object(P.a)(A,2),R=T[0],S=T[1],D=Object(n.useState)(!0),_=Object(P.a)(D,2),B=_[0],L=_[1],F=Object(n.useState)({open:!1,action:""}),M=Object(P.a)(F,2),U=M[0],H=M[1];return i.a.createElement("div",{className:"col-md-7"},i.a.createElement("div",{className:"itin-title-outer"},i.a.createElement("div",{className:"right-col"},i.a.createElement("ol",{vocab:"http://schema.org/",typeof:"BreadcrumbList",className:"breadcrumb meta-text truncate color-grey"},(s||[]).map((function(e,t){return i.a.createElement("li",{key:t,property:"itemListElement",typeof:"ListItem"},i.a.createElement("a",{href:e.href,property:"item",typeof:"WebPage",onClick:function(t){e.href?"function"===typeof e.onClick&&e.onClick(t):(t&&t.preventDefault(),e.action&&e.action())}},i.a.createElement("span",{property:"name"},e.content)),i.a.createElement("meta",{property:"position",content:t||"index"}))})),l?i.a.createElement("li",null):null),i.a.createElement("h1",{id:"title_editable",suppressContentEditableWarning:!0,contentEditable:!(b||!l||!c),className:"semi-bold no-margin ".concat(R?"edit-on":""),onBlur:function(e){e&&e.preventDefault();var t,a=e.target.innerText,n=void 0===a?"":a;S(!1),n.trim()!==r.trim()&&(t=n,m&&m.renameItinerary(O,t).then((function(){Object(z.Ld)(z.Fc,{from:r,to:t}),m.getItinerary(O)}))),B&&setTimeout((function(){var e=document.getElementById("title_editable");L(!1),e.focus(),e.blur()}),100),L(!0)},onClick:function(t){t&&t.preventDefault(),S(!0),l||d||Object(g.i)(t,"GCM",e)},onKeyDown:function(e){return 13===e.keyCode&&e.preventDefault()}},r),l&&c?i.a.createElement(V.a,{text:R?"":"Edit Itinerary Title",placement:"bottom"},i.a.createElement("i",{onClick:function(){var e=document.getElementById("title_editable");S(!0),e.focus()},className:"cursor-pointer pyt-edit-24 color-grey-medium hidden-xs hidden-sm ".concat(R?"hide":"")})):null,i.a.createElement(oe.a,null,!Object(ne.a)({permissions:null===(t=f||{})||void 0===t?void 0:t.permissions,key:ie.r})||"inclusion"===(h||"").toLowerCase()||!x||y||!O||null!==p&&void 0!==p&&null!==(a=p.itinerary)&&void 0!==a&&a.booking?null:i.a.createElement("p",{className:"anchor-link meta-text semi-bold",onClick:function(){return H({open:!0,action:"ACTIVITIES"})},style:{margin:"0"}},"Remove Activities"),Object(ne.a)({permissions:null===(o=f||{})||void 0===o?void 0:o.permissions,key:ie.s})&&!w&&"inclusion"!==(h||"").toLowerCase()&&(k||I||N||j)?i.a.createElement("p",{className:"anchor-link meta-text semi-bold",onClick:function(){return H({open:!0,action:"TRANSFERS"})},style:{margin:"0"}},"Remove Transfers"):null),U.open?i.a.createElement(ae,{closeModal:H,action:U.action,itineraryId:O,manageActivity:m.manageActivity,isFaqMobileDevice:C}):null)))},le=a(1900),ce=a(31),se=a(121);function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var i=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var ue=Object(k.a)(),me=Object(j.a)(),pe=function(e){Object(c.a)(a,e);var t=de(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={enableStick:!1,enableNonSticky:!1,hasTopBar:0},e.componentDidMount=function(){e.props.user_details||e.props.actions.getUserDetails();var t=document.getElementsByClassName("navbar-outer")[0];if(t&&t.classList.add("hide"),window.addEventListener("scroll",e.scrollListener),!Object(ce.a)()){var a=document.getElementById("verify-block-header");a?e.setState({hasTopBar:a.offsetHeight}):e.setState({hasTopBar:0})}},e.componentWillUnmount=function(){var t=document.getElementsByClassName("navbar-outer")[0];t&&t.classList.remove("hide"),window.removeEventListener("scroll",e.scrollListener)},e.scrollListener=function(){var t=ue?window.scrollY>=112:window.scrollY>=135;e.setState({enableStick:t})},e.performTabAction=function(t,a,n){t&&t.preventDefault();var i=e.props,o=i.itineraryInfo,r=void 0===o?{}:o,l=i.history,c=r.itinerary,s=c.itineraryId,d=c.regionCode,u=c.campaign,m=void 0!==u&&u,p=l.location,f=void 0===p?{}:p;if(Object(N.b)(r)){var h="/"+Object(w.a)(f.pathname);"itinerary"===(a||"").toLowerCase()?l.push(h):l.push("".concat(h,"/").concat(I.Lb.inclusion))}else if("Itinerary"===a)if(m){var y="/"+Object(w.a)(f.pathname);l.push(y)}else l.push(Object(I.Jb)({itineraryId:s,regionCode:d}));else{var v=e.props,b=v.isCosted,E=v.staleCost,C=v.getCostText;!b||E?Object(g.i)(t,"Book this trip"===C?"BookTrip":"Get latest cost"===C||"Get trip cost"===C||"Check Availability"===C?"GCM":"Update",e.props):l.push({pathname:Object(I.Jb)({itineraryId:s,regionCode:d,parentPage:I.Lb.inclusion}),state:n})}},e.getLogoStyle=function(e){return e?{height:"40px"}:se.e?ue?{height:"34px"}:{height:"54px"}:se.d?ue?{height:"54px",left:"-30px",position:"relative"}:{height:"82px",left:"-44px",position:"relative"}:ue?{height:"20px"}:{height:"28px"}},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.state.hasTopBar;if(!Object(ce.a)()){var t=document.getElementById("verify-block-header");t&&!e?this.setState({hasTopBar:t.offsetHeight}):e&&!t&&this.setState({hasTopBar:0})}}},{key:"render",value:function(){var e=this.props,t=e.user_details,a=void 0===t?{}:t,o=e.actions,r=e.history,l=e.location,c=e.itineraryInfo,s=e.target,d=e.simpleHeader,u=e.isT20,m=void 0!==u&&u,f=e.localeCodeFromUrl,g=e.locale,h=this.state.enableStick&&ue&&"Inclusion"!==s,y=!Object(ce.a)()&&(!0===localStorage.getItem("show_combined_logo")||"true"===localStorage.getItem("show_combined_logo")),v=this.getLogoStyle(y);return i.a.createElement(n.Fragment,null,i.a.createElement(D,{showBorder:!ue,className:"".concat(h?"sticky-shadow":""),hasTopBar:this.state.hasTopBar},i.a.createElement(p.a,{enabled:!0,top:0},i.a.createElement(O.a,{backgroundColor:"#FFFFFF"})),i.a.createElement("div",{className:"header-container"},i.a.createElement("div",{className:"logo-mark"},i.a.createElement("img",{style:v,className:"pyt-icon cursor-pointer",src:!se.e&&!se.d||y?Object(A.a)(Object(se.a)({type:y?"CLUB_MAHINDRA":""})):Object(se.a)({type:""}),alt:"pickyourtrail",onClick:function(){Object(x.a)("".concat((f||"").length>0?"/".concat(f):"/"),"")}})),i.a.createElement(M,Object.assign({user_details:a||{}},o,{history:r,location:l,isT20:m,locale:g})))),i.a.createElement("section",{className:"container sm-full-width lg-container itin-title-bar"},d?i.a.createElement("div",{className:"row"},i.a.createElement(re,Object.assign({},this.props,{isMobileDevice:ue,isFaqMobileDevice:me}))):i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"row",style:{marginTop:"85px"}},i.a.createElement(re,Object.assign({},this.props,{isMobileDevice:ue,isFaqMobileDevice:me})),"Inclusion"===s?null:i.a.createElement(q,this.props)))),i.a.createElement(le.a,{itineraryInfo:c,unlockDeal:this.performTabAction,goToInclusions:this.performTabAction,isItineraryView:"Inclusion"!==s,navPadding:"22px 0"}))}}]),a}(n.Component),fe=Object(f.withLastLocation)(Object(m.c)((function(e){var t=e.app,a=void 0===t?{}:t;return{user_details:a.user_details||{},itineraryInfo:a.itineraryInfo,localeCodeFromUrl:a.localeCodeFromUrl,locale:a.locale}}),(function(e){return{actions:{logoutAction:Object(u.b)(h.c,e),getUserDetails:Object(u.b)(y.a,e),getCost:Object(u.b)(v.a,e),renameItinerary:Object(u.b)(b.a,e),getItinerary:Object(u.b)(E.a,e),manageActivity:Object(u.b)(C.a,e)}}}))(pe)),ge=a(1634);function he(e){var t=e.itineraryInfo,a=e.isReadOnly,r=e.isFromPackages,l=e.enableBredCrumb,c=e.clickGetCost,s=e.enableLogo,d=e.user_details,u=e.campaignDetail,m=e.history,p=e.locale,f=Object(g.e)(t,e.adult_count,e.child_count),h=Object(N.b)(t),y=t.itinerary,v=y.totalCost,b=y.staleCost,E=y.costed,C=y.booking,O=y.netCost,x=y.itineraryId,k=y.regionCode,j=void 0===k?"region":k,w=y.agent;return i.a.createElement(n.Fragment,null,r?null:i.a.createElement(o.a,null,i.a.createElement("title",null,f.HeaderData.title||""," ",x||""," | Book Now"),i.a.createElement("meta",{name:"description",content:"".concat(f.HeaderData.title,"  (").concat(x,"). Build an itinerary completely suited to your taste and at the best online prices. Customize & book now.")})),i.a.createElement(fe,Object.assign({history:e.history,location:e.location,isFromPackages:r,simpleHeader:!0,target:e.target,title:f.HeaderData.title,isReadOnly:a,isT20:h,isRename:!C&&!a&&(d||{}).loggedIn&&!t.itinerary.campaign,renameAction:function(){m.push(Object(I.Jb)({itineraryId:x,regionCode:j,target:I.D,location:m.location}))},listItems:Object(ge.e)(r,u,(d||{}).loggedIn,t.version,null,p),isAnimated:!0,onButtonClickAction:h?function(){}:c,getCostText:h?"Reserve":a&&!E?"Check Availability":l?"Get latest cost":E?b?"Update Cost":"Book this trip dd":"Get trip cost"},e,{isCosted:E,staleCost:b,itineraryInfo:t,onSaveItinerary:function(){alert("Itinerary Saved")},isAgentItinerary:w,isLoggedIn:(d||{}).loggedIn,isAdmin:(d||{}).loggedIn&&"ADMIN"===(d||{}).userType,packageCost:v,netCost:O,enableBredCrumb:l,openGCMModal:function(){alert("Open Edit Modal")},enableLogo:s,HeaderData:E?b?f.HeaderData:f.HeaderCostedData&&f.HeaderCostedData[0]:f.HeaderData,rightButtonClass:"btn btn-primary btn-lg hidden-xs hidden-sm ".concat(C?"disabled":""),rightButtonText:a&&!E?"Check Availability":l?"Get latest cost":E?b?"Update Cost":"Book this trip ss":"Get trip cost"})))}a.d(t,"a",(function(){return he}))},2143:function(e,t,a){"use strict";var n=a(38),i=a(39),o=a(46),r=a(56),l=a(29),c=a(0),s=a.n(c),d=a(36),u=a(54),m=a(30),p=a(1650),f=a(20),g=a(1599),h=a(1829),y=a(1628),v=function(e){var t=e.ferry,a=e.changeFerryHandler,n=e.onViewDetailsClick,i=e.isReadOnly,o=e.isBooked,r=e.itineraryId,l=e.handleCallToActionClick,d=e.disableEditing,u=e._onEditClick,m=e._canEditPrice,v=e.isAdmin,b=e.userDetails,E=o&&v,C=function(e){e&&e.preventDefault(),d||l({itineraryId:r,configKey:encodeURI(t.configKey),isRemove:!1,transfer:"ferry"},e)};if("SUCCESS"===t.status){var O=null;t.inCombo?O="Included in combo package!":t.inSwissPass&&(O="Included in Swiss Pass!");var x=[];t.refundable?x.push({className:"pyt-refundable-16 color-primary-dark",text:"Refundable"}):x.push({className:"pyt-non-refundable-16 color-accent-7",text:"Non Refundable"}),t.duration&&x.push({className:"pyt-clock-16",text:t.duration}),t.ferryClass&&x.push({className:"pyt-ship-16",text:t.ferryClass});var k=v?t.discountApplied:null;return Object(f.a)()?s.a.createElement(h.a,{type:g.k.FERRY,isAdmin:v,price:t.strikedCost,publishedPrice:Object(y.a)(t.publishedCost,t.ourCost),from:t.text,isReadOnly:i,fromDate:"".concat(t.dayOfWeek,", ").concat(t.day," ").concat(t.mon),headerImage:"https://pyt-images.imgix.net/images/misc/ferry.jpg",onView:function(e){n(t,e)},isBooked:o,onEditClick:u,canEditPrice:m,onChange:o?null:t.alternateAvailable?function(e){a(t,e)}:null,comboPricingMessageBox:O,footerIcons:x}):s.a.createElement(c.Fragment,null,s.a.createElement(p.b,{type:g.k.FERRY,isAdmin:v,costingId:null===t||void 0===t?void 0:t.costingId,entityType:null===t||void 0===t?void 0:t.entityType,userDetails:b,bookingNotes:null===t||void 0===t?void 0:t.bookingNotes,status:null===t||void 0===t?void 0:t.status,lastDataUpdatedMillis:v?t.lastDataUpdatedMillis:null,isBooked:o,price:t.strikedCost,publishedPrice:Object(y.a)(t.publishedCost,t.ourCost),contentClickAction:n?function(e){n(t,e)}:null,header:{title:t.text,fromDate:"".concat(t.dayOfWeek,", ").concat(t.day," ").concat(t.mon),onChange:t.alternateAvailable?function(e){a(t,e)}:null,onRemove:v?function(e){l({itineraryId:r,configKey:encodeURI(t.configKey),isRemove:!0,transfer:"ferry"},e)}:null,changeButtonText:"Change",buttonsClassName:"col-md-6"},secondaryHeader:{data:x},onEditClick:u,canEditPrice:m,details:{departureTime:t.departureTime,pickup:"".concat(t.fromCity," ").concat(t.pickup),arrivalTime:t.arrivalTime,drop:"".concat(t.toCity," ").concat(t.drop),duration:t.duration,departureDate:t.day+" "+t.mon,arrivalDate:t.day+" "+t.mon,comboPricingMessageBox:O},image:"https://pyt-images.imgix.net/images/misc/ferry.jpg",isDiscountApplied:k}))}if("ERROR"===t.status)return Object(f.a)()?s.a.createElement(h.a,{isBooked:o,isAdmin:v,type:g.k.FERRY,from:t.text,isReadOnly:i,fromDate:"".concat(t.day," ").concat(t.mon),errorText:"Sorry, Ferry costing has failed currently. Please try after sometime!",headerImage:"https://pyt-images.imgix.net/images/misc/ferry.jpg"}):s.a.createElement(p.b,{type:g.k.FERRY,isAdmin:v,header:{title:t.text,fromDate:"".concat(t.dayOfWeek,", ").concat(t.day," ").concat(t.mon)},details:{fullContent:s.a.createElement(c.Fragment,null,s.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"})," Sorry, Ferry costing has failed currently. Please try after sometime!")},disableLeftSection:!0,rootClassName:"error"});if("USER_REMOVED"===t.status&&v){var I=[{type:"info",data:"You have removed this transfer from itinerary!",iconClass:"pyt-fyi-36 color-grey"}],N=t.text,j=void 0===N?"":N,w=t.dayOfWeek,A=t.day,T=t.mon;return Object(f.a)()?s.a.createElement(h.a,{type:g.k.FERRY,isAdmin:v,from:j,isBooked:o,isReadOnly:i,fromDate:"".concat(w,", ").concat(A," ").concat(T),changeText:"Add",onChange:E?null:C,alert:I[0]}):s.a.createElement(p.b,{isBooked:o,isAdmin:v,type:g.k.FERRY,disableLeftSection:!0,contentClickAction:n?function(e){return n(t,e)}:null,rootClassName:"error",details:{status:t.status},header:{title:j,fromDate:"".concat(w,", ").concat(A," ").concat(T),onChange:E?null:C,changeButtonText:"Add",buttonsClassName:"col-md-6"},isReadOnly:i,alerts:I})}return null},b=a(1791),E=a(1598),C=a(7),O=a(1672),x=a(15),k=a(1602);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var N=function(e){Object(o.a)(a,e);var t=I(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleCallToActionClick=function(t,a){a.preventDefault(),a.stopPropagation(),e.props.manageInterCityTransfer(t).then().catch()},e.onChangeClick=function(t,a){a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.regionCode,r=n.itineraryId,l=Object(E.a)(t.configKey);Object(x.Ld)(x.D,{category:"ferry",button_clicked:"Inclusions - Ferry"}),i.push(Object(C.Jb)({itineraryId:r,regionCode:o,location:i.location,target:C.K,customParams:{configKey:l}}))},e.onViewDetailsClick=function(t,a){a&&a.preventDefault();var n=e.props,i=n.history,o=n.regionCode,r=n.itineraryId,l=Object(E.a)(t.configKey);Object(x.Ld)(x.Pc,{category:"ferry",button_clicked:"Inclusions - Ferry"}),i.push(Object(C.Jb)({itineraryId:r,regionCode:o,location:i.location,target:C.L,customParams:{configKey:l}}))},e._onEditClick=function(t,a){a.preventDefault(),a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var n=e.props,i=n.history,o=n.itineraryId,r=n.regionCode;i.push(Object(C.Jb)({itineraryId:o,regionCode:r,location:i.location,target:C.hb,customParams:{configKey:Object(k.a)(t),called_from:"FERRY_PANEL"}}))},e}return Object(i.a)(a,[{key:"renderFerryPanels",value:function(){var e=this,t=this.props,a=t.ferryRefs,n=t.ferryCostingObj,i=t.isReadOnly,o=t.isBooked,r=t.itineraryId,l=t.userDetails,c=t.isAdmin;return void 0!==a&&void 0!==n?a.map((function(t){var a=n.costingById&&n.costingById[t];if(!a)return s.a.createElement(b.a,{failedFor:"ferry",isLastRow:!1});var d=l&&l.loggedIn&&"ADMIN"===l.userType&&!o&&a.publishedCost&&!i;return s.a.createElement(v,{key:t,ferry:a,changeFerryHandler:e.onChangeClick,onViewDetailsClick:e.onViewDetailsClick,isReadOnly:i,isBooked:o,itineraryId:r,handleCallToActionClick:e.handleCallToActionClick,_onEditClick:function(t){return e._onEditClick(a.configKey,t)},_canEditPrice:d,isAdmin:c,userDetails:l})})):null}},{key:"render",value:function(){return this.renderFerryPanels()}}]),a}(c.Component);t.a=Object(d.withRouter)(Object(m.c)((function(){return{}}),(function(e){return{manageInterCityTransfer:Object(u.b)(O.a,e)}}))(N))},467:function(e,t,a){"use strict";a.r(t);t.default=function(e,t){}}}]);