(this["webpackJsonpveho-react"]=this["webpackJsonpveho-react"]||[]).push([[91],{1378:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(33),r=a(38),o=a(39),l=a(58),c=a(46),s=a(56),d=a(29),u=a(0),m=a.n(u),p=a(30),f=a(54),h=a(1824),v=a(1667),g=a(1597),b=a(213),y=a(341),E=a(191),C=a(1595),x=(a(1605),a(55));function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var i=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var N=function(e){return isNaN(e)?parseInt((e||"0").replace(/,/g,"")):e},w=function(e){Object(c.a)(a,e);var t=O(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).headerComponent=function(){var e=n.totalMemberCount(n.state.individualCount,n.state.familiesForVisa)===n.props.adult_count+n.props.child_count;return m.a.createElement("div",{className:"modal-header"},m.a.createElement("section",{className:"subheader-modals"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xs-10 left-txt"},m.a.createElement("p",null,m.a.createElement("span",null,"ITINERARY / Change visa type"),"Change visa type")),m.a.createElement("div",{className:"pull-right"},m.a.createElement(E.a,{buttonClass:"btn btn-primary choose-btn",buttonText:"Apply",onClickAction:function(e){e&&(e.preventDefault(),e.stopPropagation(),n.handleUpdateClick(e))},disabled:!e})),m.a.createElement("div",{className:"col-xs-2 text-right"},m.a.createElement(E.a,{buttonClass:"action-btn",onClickAction:n.closeModal},m.a.createElement("i",{className:"pyt-close-16"}))))))},n.state={showModal:!1,isLoading:!1,passwordInvalid:!1,otp_value:"",errorMessage:"",familiesForVisa:n.props.membersInFamilies?n.props.membersInFamilies.map((function(e){return{memberCount:e}})):[],families:n.props.familyVisas,individualCount:n.props.individualVisas||0,prevTotalCost:n.props.publishedCost,publishedCost:n.props.publishedCost,currentlySelectedCost:n.props.publishedCost,currentlySelectedVisa:{},updateCost:null},n.openModal=n.openModal.bind(Object(l.a)(n)),n.closeModal=n.closeModal.bind(Object(l.a)(n)),n.handleKeyUp=n.handleKeyUp.bind(Object(l.a)(n)),n.changeMemberCount=n.changeMemberCount.bind(Object(l.a)(n)),n.addFamilyForVisa=n.addFamilyForVisa.bind(Object(l.a)(n)),n.changeIndividualCount=n.changeIndividualCount.bind(Object(l.a)(n)),n.renderTotalCost=n.renderTotalCost.bind(Object(l.a)(n)),n.getCurrentDetails=n.getCurrentDetails.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.openModal(),this.getCurrentDetails(this.props),this.setState({updateCost:this.props.itineraryInfo.visaCostings.totalPublishedCost}),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUpdate",value:function(e){this.props.individualVisas===e.individualVisas&&this.props.familyVisas===e.familyVisas&&this.props.publishedCost===e.publishedCost||this.setState({publishedCost:e.publishedCost,prevTotalCost:e.publishedCost,familiesForVisa:e.membersInFamilies?e.membersInFamilies.map((function(e){return{memberCount:e}})):[],families:e.familyVisas,individualCount:e.individualVisas||0})}},{key:"getCurrentDetails",value:function(e){if(e.itineraryInfo&&Object.keys(e.itineraryInfo).length&&e.itineraryInfo.visaCostings&&!Object.keys(this.state.currentlySelectedVisa).length){var t=this.props.match.params.visaKey;t=Object(g.a)(t);var a=e.itineraryInfo.visaCostings.costingById[t],n=[];if(a.familyVisas)for(var i=0;i<a.familyVisas;i++)n.push({memberCount:a.membersInFamilies[i]});this.setState({familiesForVisa:n,currentlySelectedVisa:a,individualVisaCost:a.individualVisaCost,familyVisaCost:a.familyVisaCost,publishedCost:e.itineraryInfo.visaCostings.totalPublishedCost,individualVisas:a.individualVisas,individualCount:a.individualVisas||0,familyVisas:a.familyVisas,membersInFamilies:a.membersInFamilies?a.membersInFamilies.map((function(e){return{memberCount:e}})):[]})}}},{key:"totalMemberCount",value:function(e,t){return"undefined"===typeof e&&"undefined"===typeof t?0:e+t.reduce((function(e,t){return e+t.memberCount}),0)}},{key:"changeMemberCount",value:function(e,t){var a=this.totalMemberCount(this.state.individualCount,this.state.familiesForVisa),r=Object(i.a)(this.state.familiesForVisa);r[t].memberCount=Math.min(Math.max(r[t].memberCount+("reduce"===e?-1:1),0),Math.min(4,this.props.adult_count+this.props.child_count)),0===r[t].memberCount&&r.splice(t,1);var o=a===this.props.adult_count+this.props.child_count?Math.min(Math.max(this.state.individualCount+("reduce"===e?1:-1),0),this.props.adult_count+this.props.child_count):this.state.individualCount,l=N(this.state.currentlySelectedVisa.individualVisaCost),c=N(this.state.currentlySelectedVisa.familyVisaCost);this.setState(Object(n.a)(Object(n.a)({},this.state),{},{individualCount:o,familiesForVisa:r,prevTotalCost:this.state.publishedCost,publishedCost:o*l+r.length*c}))}},{key:"addFamilyForVisa",value:function(){var e=this.totalMemberCount(this.state.individualCount,this.state.familiesForVisa),t=e===this.props.adult_count+this.props.child_count?Math.max(this.state.individualCount-1,0):this.state.individualCount,a=0===this.state.individualCount&&e===this.props.adult_count+this.props.child_count?Object(i.a)(this.state.familiesForVisa):[].concat(Object(i.a)(this.state.familiesForVisa),[{memberCount:1}]),r=N(this.state.currentlySelectedVisa.individualVisaCost),o=N(this.state.currentlySelectedVisa.familyVisaCost);this.setState(Object(n.a)(Object(n.a)({},this.state),{},{familiesForVisa:a,individualCount:t,prevTotalCost:this.state.publishedCost,publishedCost:t*r+a.length*o}))}},{key:"changeIndividualCount",value:function(e){var t=this.totalMemberCount(this.state.individualCount,this.state.familiesForVisa),a=Math.min(Math.max(this.state.individualCount+("reduce"===e?-1:1),0),this.props.adult_count+this.props.child_count),r=Object(i.a)(this.state.familiesForVisa),o=r.length,l=N(this.state.currentlySelectedVisa.individualVisaCost),c=N(this.state.currentlySelectedVisa.familyVisaCost);o>0&&"add"===e&&t>=this.props.adult_count+this.props.child_count&&(r[o-1].memberCount=Math.max(r[o-1].memberCount-1,0),0===r[o-1].memberCount&&r.splice(o-1,1)),this.setState(Object(n.a)(Object(n.a)({},this.state),{},{individualCount:a,familiesForVisa:r,prevTotalCost:this.state.publishedCost,publishedCost:a*l+r.length*c}))}},{key:"handleUpdateClick",value:function(e){var t=this;e&&e.preventDefault(),this.props.changeVisa({itineraryId:this.props.itineraryInfo.itinerary.itineraryId,visaKey:this.state.currentlySelectedVisa.configKey,include:!0,individuals:this.state.individualCount,families:this.state.familiesForVisa.map((function(e){return e.memberCount}))}).then((function(){t.closeModal()})).catch((function(){t.closeModal()}))}},{key:"openModal",value:function(){this.setState({showModal:!0},(function(){Object(y.a)()}))}},{key:"closeModal",value:function(){var e=this;setTimeout((function(){e.setState({showModal:!1},(function(){Object(b.a)(),Object(C.h)(e.props)}))}),400)}},{key:"handleKeyUp",value:function(e){27===e.keyCode&&this.closeModal()}},{key:"shouldComponentUpdate",value:function(e){return null==this.state.updateCost||this.state.updateCost===e.itineraryInfo.visaCostings.totalPublishedCost}},{key:"renderTotalCost",value:function(){var e=N(this.props.itineraryInfo.visaCostings.totalPublishedCost),t=N(this.state.publishedCost)-e,a=Math.abs(t);return t>0?m.a.createElement(v.a,{tooltip:!1,diff:{diffChangeType:"PRICEINCREASE",diffCost:a},classNames:"total-price base bold"}):t<0?m.a.createElement(v.a,{tooltip:!1,diff:{diffChangeType:"PRICEDECREASE",diffCost:a},classNames:"total-price base bold"}):this.state.publishedCost?m.a.createElement("span",{className:"total-price base bold"},m.a.createElement(x.a,{objectData:{value:this.state.publishedCost},path:"value",defaultValue:"0"})):null}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{tabIndex:"0",className:"modal fade modal-sticky-header inpage-modal "+(this.state.showModal?"in":"")},m.a.createElement("div",{className:"modal-dialog"},m.a.createElement("div",{className:"modal-content with-header"},this.headerComponent(),m.a.createElement("div",{className:"modal-body"},m.a.createElement("div",{className:"current-pick-panel"},m.a.createElement("div",{className:"current-pick-content hotel"},m.a.createElement("div",{className:"col-xs-9 col-md-10"},m.a.createElement("span",{className:"single-line-text fade small no-margin"},"Total cost for"," ",this.totalMemberCount(this.state.individualCount,this.state.familiesForVisa)," ","of ",this.props.adult_count+this.props.child_count," ","travellers")),m.a.createElement("div",{className:"col-xs-3 col-md-2 text-right"},this.props.itineraryInfo.itinerary.splitPricing?m.a.createElement("span",{className:"total-price base bold"},m.a.createElement(x.a,{objectData:{value:this.state.publishedCost},path:"value",defaultValue:"0"})):this.renderTotalCost()))),m.a.createElement("div",{className:"modal-row pl-0 pr-0"},m.a.createElement("div",{className:"column-pad"},m.a.createElement("div",{className:"row flex vertical-center hidden-xs spacer-top"},m.a.createElement("div",{className:"col-md-3 col-xs-12 "},m.a.createElement("span",{className:"base fade"},"Type")),m.a.createElement("div",{className:"col-md-6 col-xs-12 "},m.a.createElement("span",{className:"base fade"},this.props.itineraryInfo.itinerary.splitPricing?"Cost":"Inclusion")),m.a.createElement("div",{className:"col-md-3 hidden-xs"},"\xa0")),m.a.createElement("hr",{className:"mute spacer hidden-xs"}),m.a.createElement("div",{className:"row spacer-both"},m.a.createElement("div",{className:"col-md-3 col-xs-12"},m.a.createElement("span",{className:"base fade"},"Individuals")),m.a.createElement("div",{className:"col-xs-7 col-sm-6"},this.props.itineraryInfo.itinerary.splitPricing?m.a.createElement("span",{className:"base fade"},m.a.createElement(x.a,{objectData:{value:this.state.currentlySelectedVisa&&this.state.currentlySelectedVisa.individualVisaCost},path:"value",defaultValue:"0"}),m.a.createElement("span",{className:"fine-text"}," ","(Per visa, per individual)")):null,m.a.createElement("span",{className:"block fine-text"},"Visa to be taken separately for each passenger travelling")),m.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-5 actions text-right"},m.a.createElement("div",{className:"visa-btn-grp btn-group v-spaced",role:"group","aria-label":"no"},m.a.createElement("button",{type:"button",className:"btn btn-sm  btn-primary",disabled:this.state.individualCount<=0,onClick:function(){return e.changeIndividualCount("reduce")}},m.a.createElement("span",{className:"pyt-minus-circle-16 valign-middle"})),m.a.createElement("button",{type:"button",className:"btn btn-sm btn-default"},m.a.createElement("span",{className:"inline-block"},this.state.individualCount)),m.a.createElement("button",{type:"button",className:"btn btn-sm  btn-primary",disabled:this.state.individualCount>=this.props.adult_count+this.props.child_count,onClick:function(){return e.changeIndividualCount("add")}},m.a.createElement("span",{className:"pyt-plus-circle-16 valign-middle"}))))),m.a.createElement("div",{className:"row spacer-both"},m.a.createElement("div",{className:"col-md-3 col-xs-12 "},m.a.createElement("span",{className:"base fade"},"Families")),m.a.createElement("div",{className:"col-xs-9 col-sm-6"},this.props.itineraryInfo.itinerary.splitPricing?m.a.createElement("span",{className:"block base fade"},"\xa0",m.a.createElement(x.a,{objectData:{value:this.state.currentlySelectedVisa&&this.state.currentlySelectedVisa.familyVisaCost},path:"value",defaultValue:"0"}),m.a.createElement("span",{className:"fine-text"},"* (Per visa, Valid upto 4 members)")):null,m.a.createElement("span",{className:"block fine-text"},"Single Family Visa covers husband, wife and dependent children traveling together. [Marriage certificate required]")),m.a.createElement("div",{className:"col-md-3 col-xs-3 actions text-right"},m.a.createElement("button",{className:"btn btn-sm btn-primary-dark btn-outline",disabled:this.totalMemberCount(0,this.state.familiesForVisa)>=this.props.adult_count+this.props.child_count,onClick:function(){e.addFamilyForVisa()}},"Add"))),this.state.familiesForVisa.map((function(t,a){return m.a.createElement(k,Object.assign({},t,{key:a,index:a,changeMemberCount:e.changeMemberCount,disabled:0===e.state.individualCount&&e.props.adult_count+e.props.child_count<=e.totalMemberCount(e.state.individualCount,e.state.familiesForVisa)}))})),m.a.createElement("span",{className:"block mini fade"},"* Does not include individual VFS fee")))))))}}]),a}(u.Component),k=function(e){return m.a.createElement("div",{className:"row spacer-both"},m.a.createElement("div",{className:"col-md-3 col-xs-12 hidden-xs"},m.a.createElement("span",null,"\xa0")),m.a.createElement("div",{className:"col-xs-7 col-sm-6"},m.a.createElement("span",{className:"small fade"},"Number of members in family #",e.index+1)),m.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-5 actions text-right"},m.a.createElement("div",{className:"btn-group",role:"group","aria-label":"remove"},m.a.createElement("button",{type:"button",className:"btn btn-sm  btn-primary",disabled:e.memberCount<=0,onClick:function(){return e.changeMemberCount("reduce",e.index)}},m.a.createElement("span",{className:"pyt-minus-circle-16 small"})),m.a.createElement("button",{type:"button",className:"btn btn-sm btn-default"},m.a.createElement("span",{className:"inline-block"},e.memberCount)),m.a.createElement("button",{type:"button",className:"btn btn-sm  btn-primary",disabled:e.disabled||4===e.memberCount,onClick:function(){return e.changeMemberCount("add",e.index)}},m.a.createElement("span",{className:"pyt-plus-circle-16 small"})))))};t.default=Object(p.c)((function(e){var t=e.app,a=void 0===t?{}:t;return{itineraryInfo:a.itineraryInfo,user_details:a.user_details,adult_count:a.itineraryInfo.adult_count,child_count:a.itineraryInfo.child_count}}),(function(e){return{changeVisa:Object(f.b)(h.a,e)}}))(w)},1379:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(54),m=a(606),p=a.n(m),f=a(1667),h=a(14),v=a(213),g=a(341),b=a(345),y=a(1766),E=a(191),C=a(7),x=(a(1605),a(15)),O=a(464),N=a(22),w=a(607),k=a(55);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var A=h.a.api_url,j=function(e){Object(r.a)(a,e);var t=S(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).onTriggerClick=function(e){i.state.expanded===e&&(e=""),i.setState({expanded:e})},i.getCurrentDetails=function(e){if(e.itineraryInfo&&Object.keys(e.itineraryInfo).length&&e.itineraryInfo.insuranceCosting&&!Object.keys(i.state.insuranceChoice).length){var t=Object.keys(e.itineraryInfo.insuranceCosting.costingById)[0],a=e.itineraryInfo.insuranceCosting.costingById[t];i.setState({chosenPlanId:a.planId,insuranceChoice:a.planId,currentInsurance:a},(function(){var n={itineraryId:e.itineraryInfo.itinerary.itineraryId,regionCode:a.insuranceRegion,chosenPlanId:a.planId,key:t};i.getInsuranceOptions(n)}))}},i.openModal=function(){i.setState({showModal:!0},(function(){Object(g.a)()}))},i.closeModal=function(){var e=i.props,t=e.history,a=e.itineraryInfo.itinerary,n=a.itineraryId,r=a.regionCode;setTimeout((function(){i.setState({showModal:!1},(function(){Object(v.a)(),t.push(Object(C.Jb)({itineraryId:n,regionCode:r,parentPage:C.Lb.inclusion}))}))}),400)},i.changeItineraryInsurance=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;if(a&&a.preventDefault(),e)i.setState({insuranceChoice:t});else{try{var n=i.state.insuranceOptions.find((function(e){return e.planId===t}));Object(x.Ld)(O.EVENT_SB_CHANGE_INSURANCE,{region_code:i.state.currentInsurance.insuranceRegion,from_insurance_plan:i.state.currentInsurance.plan,to_insurance_plan:n.plan})}catch(a){}var r=Object.keys(i.props.itineraryInfo.insuranceCosting.costingById)[0];i.props.actions.triggerInsurance({key:r,planId:i.state.insuranceChoice,method:"PUT",itineraryId:i.props.itineraryInfo.itinerary.itineraryId}).then((function(){i.closeModal()})).catch((function(){i.closeModal()}))}},i.costTotal=function(){return i.state.insuranceChoice?i.state.chosenPlanId===i.state.insuranceChoice?i.state.currentInsurance.publishedCost:i.state.insuranceOptions.find((function(e){return e.planId===i.state.insuranceChoice})).approximateCost:i.state.currentInsurance.publishedCost},i.renderDiffCost=function(){var e=i.state,t=e.insuranceChoice,a=e.chosenPlanId,n=e.insuranceOptions;if(a!==t){var r=n.find((function(e){return e.planId===t}));return r.diff&&"NONE"!==r.diff.diffChangeType?s.a.createElement(f.a,{tooltip:!1,diff:{diffChangeType:r.diff.diffChangeType,diffCost:r.diff.diffCost},classNames:"total-price base bold"}):s.a.createElement(w.a,{value:r.publishedCost,withoutIcon:!0,rootClassName:"total-price base bold"})}},i.renderTotalCost=function(){if(!i.state.currentInsurance||void 0===i.state.currentInsurance.publishedCost)return null;var e=parseInt(i.state.currentInsurance.publishedCost.toString().replace(/,/g,""),10)-parseInt(i.costTotal().toString().replace(/,/g,""),10),t=Math.abs(e);return e>0?s.a.createElement(f.a,{tooltip:!1,diff:{diffChangeType:"PRICEINCREASE",diffCost:t},classNames:"total-price base bold"}):e<0?s.a.createElement(f.a,{tooltip:!1,diff:{diffChangeType:"PRICEDECREASE",diffCost:t},classNames:"total-price base bold"}):void 0},i.handleKeyUp=function(e){27===e.keyCode&&i.closeModal()},i.headerComponent=function(){var e=i.state,t=e.insuranceChoice,a=e.chosenPlanId;return s.a.createElement("div",{className:"modal-header"},s.a.createElement("section",{className:"subheader-modals"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-10 left-txt"},s.a.createElement("p",null,s.a.createElement("span",null,"ITINERARY / Change Insurance"),"Change Insurance")),s.a.createElement("div",{className:"pull-right"},s.a.createElement(E.a,{buttonClass:"btn btn-primary choose-btn",buttonText:"Apply",onClickAction:function(e){e&&(e.preventDefault(),e.stopPropagation(),i.changeItineraryInsurance(!1,null,e))},isDisabled:a===t})),s.a.createElement("div",{className:"col-xs-2 text-right"},s.a.createElement(E.a,{buttonClass:"action-btn",onClickAction:i.closeModal},s.a.createElement("i",{className:"pyt-close-16"}))))))},i.state={showModal:!1,currentInsurance:{},chosenPlanId:"",insuranceChoice:"",insuranceOptions:[],expanded:0},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.openModal(),this.getCurrentDetails(this.props),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"getInsuranceOptions",value:function(e){var t=this,a=e.itineraryId,n=e.key,i="".concat(A,"insurance/").concat(a,"/").concat(n);Object(N.a)({url:i,method:"GET",body:{},onSuccess:function(e){var a=e.data,n=t.state.insuranceChoice,i=0;a.forEach((function(e,t){e.planId===n&&(i=t)})),t.setState({insuranceOptions:e.data,expanded:i})},onFailure:function(){swal("Something went wrong. Try again.")}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.insuranceChoice,n=t.currentInsurance,i=t.insuranceOptions,r=t.expanded;return s.a.createElement("div",{tabIndex:"0",className:"modal fade modal-sticky-header inpage-modal parent-close "+(this.state.showModal?"in":""),onClick:function(t){Object(b.a)(t,e.closeModal)}},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content with-header"},this.headerComponent(),n&&Object.keys(n).length?s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"current-pick-panel"},s.a.createElement("div",{className:"current-pick-content hotel"},s.a.createElement("div",{className:"col-xs-9 col-md-10"},s.a.createElement("span",{className:"single-line-text fade small no-margin"},"Choose an insurance plan meeting your preferences")),s.a.createElement("div",{className:"col-xs-3 col-md-2 text-right"},this.props.itineraryInfo.itinerary.splitPricing?s.a.createElement("span",{className:"total-price base bold"},s.a.createElement(k.a,{objectData:{value:this.costTotal()},path:"value",defaultValue:"0"})):null,this.props.itineraryInfo.itinerary.splitPricing?null:this.renderDiffCost()))),s.a.createElement("div",{className:"modal-row"},s.a.createElement(I,Object.assign({},this.props,{changeItineraryInsurance:this.changeItineraryInsurance}),i.map((function(t,n){return s.a.createElement(T,Object.assign({key:t.planId},t,{index:n,expanded:r,onTriggerClick:e.onTriggerClick,selectedInsurance:a,changeItineraryInsurance:e.changeItineraryInsurance,checked:t.planId===a}))}))))):s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-12 text-center",style:{height:"200px"}},s.a.createElement("div",{className:"clearfix"},s.a.createElement("div",{className:"loading-dots"}),s.a.createElement("div",{className:"loading-dots"}),s.a.createElement("div",{className:"loading-dots"}))))))))}}]),a}(s.a.Component),I=function(e){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-12"},s.a.createElement("h4",{className:"dim padding"},"Insurance Options"),s.a.createElement("div",{className:"panel-group accordions visainsurence-accordion"},e.children)))},T=function(e){var t=e.index,a=e.expanded,n=e.onTriggerClick,i=e.changeItineraryInsurance,r=e.checked,o=e.planId,l=e.inclusions,c=e.costDetails,d=e.plan;return s.a.createElement(F,{index:t,expanded:a,onTriggerClick:n,trigger:s.a.createElement("div",{className:"panel-title",onClick:function(e){return i(!0,o,e)}},s.a.createElement("div",{className:"inline-block"},r?s.a.createElement("span",{className:"list-tick-round animated flipInY"},s.a.createElement("span",{className:"pyt-tickmark-16"})):s.a.createElement("span",{className:"list-numbering-round animated fadeIn"},t+1)),s.a.createElement("div",{className:"inline-block "},s.a.createElement("span",{className:"base"},d)))},s.a.createElement("ul",{className:"small dim"},(l||[]).map((function(e,t){return s.a.createElement(R,{key:"Inclusion"+o+t,text:e})}))),c?s.a.createElement("div",{className:"small dim"},s.a.createElement("table",{className:"table table-bordered table-hover"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"padding-left-3"},"Min. Age"),s.a.createElement("th",{className:"padding-left-20"},"Max. Age"),s.a.createElement("th",{className:"padding-left-20"},"Cost")),c&&c.map((function(e){return s.a.createElement(D,Object.assign({key:e.minAge+e.maxAge+e.cost},e))}))))):null)},R=function(e){return s.a.createElement("li",null,e.text)},D=function(e){return s.a.createElement("tr",{className:"border-top-bottom"},s.a.createElement("td",{className:"padding-left-3 text-center"},e.minAge),s.a.createElement("td",{className:"padding-left-20 text-center"},e.maxAge),s.a.createElement("td",{className:"padding-left-20 text-center"},s.a.createElement(k.a,{objectData:e,path:"cost",defaultValue:"0"}),e.cost))},F=function(e){var t=e.expanded,a=e.index,n=e.onTriggerClick,i=e.trigger,r=e.children;return s.a.createElement("section",{className:"panel panel-default"},s.a.createElement(p.a,{open:t===a,triggerTagName:"div",triggerClassName:"panel-heading accordion-toggle",triggerOpenedClassName:"panel-heading accordion-toggle",contentInnerClassName:"panel-body",handleTriggerClick:function(){return n(a)},trigger:i},r))};t.default=Object(d.c)((function(e){var t=e.app;return{itineraryInfo:(void 0===t?{}:t).itineraryInfo}}),(function(e){return{actions:{triggerInsurance:Object(u.b)(y.a,e)}}}))(j)},1380:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(54),m=a(36),p=a(290),f=a(1597),h=a(1596),v=a(71),g=a(1656),b=a(1621),y=a(591),E=a(4),C=a(1863),x=a(2077),O=a(1830),N=a(1603),w=a(191),k=a(2078),S=a(7),A=a(2205),j=(a(1605),a(15));function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var T=function(e){Object(r.a)(a,e);var t=I(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={itinerary:e.props.itinerary,activeBusDetails:{},updated:!1},e.getCurrentDetails=function(t){var a=t.itineraryInfo,n=t.match.params.configKey,i=a.transferCostings;if(i&&!Object.keys(e.state.activeBusDetails).length){var r;r=Object(f.a)(n);var o=i.costingById[r];o||e.closeModal(),e.setState({activeBusDetails:o,updated:!0})}},e.handleChangeBtnClick=function(t){t.preventDefault();var a=e.props,n=a.history,i=a.match,r=i.params.configKey;n.push(Object(S.Jb)({itineraryId:i.params.itineraryId,regionCode:i.params.searchRegion,parentPage:S.Lb.inclusion,target:S.o,customParams:{configKey:r}}))},e.closeModal=function(){var t=e.props,a=t.history,n=t.match;setTimeout((function(){e.setState({showModal:!1},(function(){a.push(Object(S.Jb)({itineraryId:n.params.itineraryId,regionCode:n.params.searchRegion,parentPage:S.Lb.inclusion}))}))}),400)},e.handleKey=function(t){27===t.keyCode&&e.closeModal()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.match,n=e.actions,i=e.itinerary,r=void 0===i?{}:i;if(Object(h.a)(r)){var o=a.params.itineraryId;o&&n.getItinerary(o,t.search).then((function(){})).catch((function(){}))}this.getCurrentDetails(this.props),document.addEventListener("keyup",this.handleKey),Object(b.a)()}},{key:"componentDidUpdate",value:function(){this.state.updated||this.getCurrentDetails(this.props)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKey),Object(g.a)()}},{key:"render",value:function(){var e=this,t=this.state.activeBusDetails,a=t.fromCity,n=t.toCity,i=t.departureTime,r=t.arrivalTime,o=t.pickup,l=t.drop,c=t.duration,d=t.stops,u=t.mon,f=t.day,h=t.dayOfWeek,g=t.refundable,b=t.alternateAvailable,y=Object(v.a)(),x={departureDate:f+" "+u,arrivalDate:f+" "+u,departureTime:i,arrivalTime:r,departureCity:a,arrivalCity:n,departureStationName:"Port"!==o?o:"".concat(a," Port"),arrivalStationName:"Port"!==l?l:"".concat(n," Port"),travelTime:c,stops:d,imageUrl:"https://pyt-images.imgix.net/images/misc/transfers-bus.jpg",trainName:"BUS NAME",isMobile:y,dayOfWeek:h,refundable:g,alternateAvailable:b,handleChangeBtnClick:this.handleChangeBtnClick,icons:[{className:"pyt-clock-16",text:c+" duration"},{className:"txt-icon ".concat(g?"color-accent-5":"color-accent-11"),text:g?"Refundable":"Non Refundable",dataText:g?"R":"NR"},{className:"pyt-car-16",text:"Transfer included"}]};return s.a.createElement("div",{className:y?"hidden-md hidden-lg altermodal-xs-view xs-slide-up train-details-xs":"hidden-sm hidden-xs train-alternate"},s.a.createElement(p.a,null,s.a.createElement(C.a,{rootClassName:"subheader-modals mbottom-medium",onClickBackAction:function(){Object(j.Ld)(j.t,{page:"Bus Details"}),e.closeModal()},onClickCloseAction:this.closeModal,spanContent:"ITINERARY/BUS",headerContent:"".concat(a," \u2192 ").concat(n),isMobile:y})),y?s.a.createElement(R,x):s.a.createElement(D,x),s.a.createElement(m.Switch,null,s.a.createElement(m.Route,{path:"/inclusions/:itineraryId/alternate-buses/:configKey",component:E.t})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.itinerary!==t.itinerary?{itinerary:e.itinerary,updated:!1}:t}}]),a}(c.Component);function R(e){var t=e.handleChangeBtnClick;return s.a.createElement(c.Fragment,null,s.a.createElement("div",{className:"altermodal-xs-content"},s.a.createElement("section",{className:"green-subheader mbottom-medium"},s.a.createElement(N.a,{rootClassName:" ",icons:e.icons.splice(0,2)})),s.a.createElement(x.a,e)),s.a.createElement("div",{className:"altermodal-xs-ftr notify-ftr"},s.a.createElement("div",{className:"right-btns text-right"},s.a.createElement(w.a,{buttonText:"Change",buttonClass:"btn btn-primary",onClickAction:t}))))}function D(e){var t=s.a.createElement(x.a,e),a=e.departureCity,n=e.arrivalCity,i=e.dayOfWeek,r=e.departureDate,o=e.departureTime,l=e.handleChangeBtnClick,c=e.refundable,d=e.alternateAvailable;return s.a.createElement("div",{className:"container lg-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("section",{className:"row details-title"},s.a.createElement("div",{className:"col-md-10"},s.a.createElement("h6",null,"".concat(a," \u2192 ").concat(n)))),s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},t)),s.a.createElement(k.a,{refundable:c,type:"bus"}),d?s.a.createElement(A.a,{handleChangeBtnClick:l}):null),s.a.createElement("div",{className:"col-md-4"},s.a.createElement(p.a,{enabled:!Object(v.a)(),top:124},s.a.createElement(O.a,{changeButtonText:"Change Bus",isDisabledChange:!d,onChangeAction:l,firstHalf:{header:"Date:",content:i+", "+r},browsingText:"buses",secondHalf:{header:"Pickup time:",content:o},icons:e.icons})))))}t.default=Object(d.c)((function(e){var t=e.app,a=t.itineraryInfo,n=a.itinerary,i=a.adult_count,r=a.child_count;return{itineraryInfo:a,itinerary:n,user_details:t.user_details,itineraryDetail:n,adult_count:i,child_count:r}}),(function(e){return{actions:{getItinerary:Object(u.b)(y.a,e)}}}),null)(T)},1381:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(54),m=a(49),p=a.n(m),f=a(2058),h=a(14),v=a(1597),g=a(213),b=a(341),y=a(191),E=a(2206),C=a(1595),x=(a(1605),a(15)),O=a(22);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var w=h.a.api_url,k=function(e){Object(r.a)(a,e);var t=N(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).getCurrentDetails=function(e){if(e.itineraryInfo&&Object.keys(e.itineraryInfo).length&&e.itineraryInfo.trainCostings&&!Object.keys(i.state.activeBusDetails).length){var t=i.props.match,a=e.itineraryInfo,n=t.params.configKey;n=Object(v.a)(n);var r=a&&a.transferCostings?a.transferCostings.costingById[n]:{};r||i.closeModal(),i.setState({activeBusDetails:r},(function(){var t={itineraryId:e.itineraryDetail.itineraryId,configKey:n};i.getAlternateBuses(t)}))}},i.getAlternateBuses=function(e){var t="".concat(w,"itinerary/alternateBuses");Object(O.a)({url:t,method:"POST",body:e,onSuccess:function(e){i.setState({alternateBuses:e.data,showModal:!0})},onFailure:function(){swal({title:"Sorry about this!",text:"Sorry about this. But there seems to be an issue with Pickyourtrail.",animation:!0,showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Try again!",cancelButtonText:"No, cancel!",closeOnConfirm:!0,closeOnCancel:!0})}})},i.handleReplaceButtonClick=function(e){i.props.updateBus({itineraryId:i.props.itineraryDetail.itineraryId,configKey:i.state.activeBusDetails.configKey,newTransferId:e.transferId}).then((function(){i.closeModal(!0),Object(x.Ld)(x.Sb,{category:"bus",action:x.Hc,button_clicked:"Alternate Bus"})})).catch((function(){i.closeModal(!0)}))},i.handleKeyUp=function(e){27===e.keyCode&&i.closeModal()},i.openModal=function(){i.setState({showModal:!0},(function(){Object(b.a)()}))},i.closeModal=function(){setTimeout((function(){i.setState({showModal:!1},(function(){Object(C.h)(i.props),Object(g.a)()}))}),400)},i.headerComponent=function(){var e=i.state.activeBusDetails;return s.a.createElement("div",{className:"modal-header"},s.a.createElement("section",{className:"subheader-modals"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-10 left-txt"},s.a.createElement("p",null,s.a.createElement("span",null,"ITINERARY / ",e.pickup," \u2192"," ",e.drop),"Change bus")),s.a.createElement("div",{className:"col-xs-2 text-right"},s.a.createElement(y.a,{buttonClass:"action-btn",onClickAction:i.closeModal},s.a.createElement("i",{className:"pyt-close-16"}))))))},i.busRows=function(){var e,t,a,n=i.state,r=n.alternateBuses,o=n.activeBusDetails.dateMillis;return(r||[]).map((function(n){return t=p()(n.arrivalTime||"00:00","HH:mm"),e=p()(n.departureTime||"00:00","HH:mm"),t=p()(o).set({h:t.hours(),m:t.minutes()}),e=p()(o).set({h:e.hours(),m:e.minutes()}),a=p.a.utc(t.diff(e)),{clickAction:function(){i.handleReplaceButtonClick(n)},diff:n.diff,diffCost:(n.diff||{diffCost:n.publishedCost}).diffCost,duration:a,arrivalTime:t,departureTime:e}}))},i.state={showModal:!1,activeBusDetails:{},componentStatus:"IDLE",alternateBuses:[]},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.openModal(),this.getCurrentDetails(this.props),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.state.showModal;return s.a.createElement("div",{tabIndex:"0",className:"modal fade modal-sticky-header train-alternate "+(e?"in":"")},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content with-header"},this.headerComponent(),s.a.createElement(E.a,{headers:[{columnClass:"col-xs-4 col-sm-2",title:"Departure",sortingField:"departureTime",enableSorting:!0},{columnClass:"col-xs-4 col-sm-2",title:"Arrival",sortingField:"arrivalTime",enableSorting:!0},{columnClass:"col-sm-2 hidden-xs",title:"Duration",sortingField:"duration",enableSorting:!0},{columnClass:"col-xs-4 col-sm-6",title:"Price",sortingField:"diffCost",enableSorting:!0}],sortingIndex:1,rows:this.busRows()}))))}}]),a}(c.Component);t.default=Object(d.c)((function(e){var t=e.app,a=t.itineraryInfo,n=t.user_details;return a&&Object.keys(a).length?{itineraryInfo:a,itineraryDetail:a.itinerary,user_details:n,adult_count:a.adult_count,child_count:a.child_count}:{itineraryInfo:a,itineraryDetail:{},user_details:n}}),(function(e){return{updateBus:Object(u.b)(f.a,e)}}))(k)},1382:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(54),m=a(36),p=a(290),f=a(1597),h=a(1596),v=a(71),g=a(1621),b=a(1656),y=a(591),E=a(4),C=a(1863),x=a(2077),O=a(1830),N=a(1603),w=a(191),k=a(2078),S=a(7),A=a(2205),j=a(15);a(1605);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var T=function(e){Object(r.a)(a,e);var t=I(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={itinerary:e.props.itinerary,activeFerryDetails:{},updated:!1},e.getCurrentDetails=function(t){var a=t.itineraryInfo,n=t.match.params.configKey,i=a.ferryCostings;if(i&&!Object.keys(e.state.activeFerryDetails).length){var r;r=Object(f.a)(n);var o=i.costingById[r];o||e.closeModal(),e.setState({activeFerryDetails:o,updated:!0})}},e.handleChangeBtnClick=function(t){t.preventDefault();var a=e.props,n=a.history,i=a.match,r=i.params.configKey;n.push(Object(S.Jb)({itineraryId:i.params.itineraryId,regionCode:i.params.searchRegion,location:n.location,target:S.K,customParams:{configKey:r}}))},e.closeModal=function(){var t=e.props,a=t.history,n=t.match;setTimeout((function(){e.setState({showModal:!1},(function(){a.push(Object(S.Jb)({itineraryId:n.params.itineraryId,regionCode:n.params.searchRegion,parentPage:S.Lb.inclusion}))}))}),400)},e.handleKey=function(t){27===t.keyCode&&e.closeModal()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.match,n=e.actions,i=e.itinerary,r=void 0===i?{}:i;if(Object(h.a)(r)){var o=a.params.itineraryId;o&&n.getItinerary(o,t.search).then((function(){})).catch((function(){}))}this.getCurrentDetails(this.props),document.addEventListener("keyup",this.handleKey),Object(g.a)()}},{key:"componentDidUpdate",value:function(){this.state.updated||this.getCurrentDetails(this.props)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKey),Object(b.a)()}},{key:"render",value:function(){var e=this,t=this.state.activeFerryDetails,a=t.fromCity,n=t.toCity,i=t.departureTime,r=t.arrivalTime,o=t.pickup,l=t.drop,c=t.duration,d=t.stops,u=t.mon,f=t.day,h=t.dayOfWeek,g=t.refundable,b=t.alternateAvailable,y=this.state.itinerary,x=Object(v.a)(),O=y.booking||y.frozen,N={departureDate:f+" "+u,arrivalDate:f+" "+u,departureTime:i,arrivalTime:r,departureCity:a,arrivalCity:n,departureStationName:"Port"!==o?o:"".concat(a," Port"),arrivalStationName:"Port"!==l?l:"".concat(n," Port"),travelTime:c,stops:d,imageUrl:"https://pyt-images.imgix.net/images/misc/ferry.jpg",trainName:"FERRY NAME",isMobile:x,dayOfWeek:h,refundable:g,alternateAvailable:b,handleChangeBtnClick:this.handleChangeBtnClick,icons:[{className:"pyt-clock-16",text:c+" duration"},{className:"txt-icon ".concat(g?"color-accent-5":"color-accent-11"),text:g?"Refundable":"Non Refundable",dataText:g?"R":"NR"},{className:"pyt-car-16",text:"Transfer included"}],isBooked:O};return s.a.createElement("div",{className:x?"hidden-md hidden-lg altermodal-xs-view xs-slide-up train-details-xs":"hidden-sm hidden-xs train-alternate"},s.a.createElement(p.a,{top:0},s.a.createElement(C.a,{rootClassName:"subheader-modals mbottom-medium",onClickBackAction:function(){Object(j.Ld)(j.t,{page:"Ferry Details"}),e.closeModal()},onClickCloseAction:this.closeModal,spanContent:"ITINERARY/FERRY",headerContent:"".concat(a," \u2192 ").concat(n),isMobile:x})),x?s.a.createElement(R,N):s.a.createElement(D,N),s.a.createElement(m.Switch,null,s.a.createElement(m.Route,{path:"/inclusions/:itineraryId/alternate-ferries/:configKey",component:E.v})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.itinerary!==t.itinerary?{itinerary:e.itinerary,updated:!1}:t}}]),a}(c.Component);function R(e){var t=e.handleChangeBtnClick,a=e.isBooked;return s.a.createElement(c.Fragment,null,s.a.createElement("div",{className:"altermodal-xs-content"},s.a.createElement("section",{className:"green-subheader mbottom-medium"},s.a.createElement(N.a,{rootClassName:" ",icons:e.icons.splice(0,2)})),s.a.createElement(x.a,e)),s.a.createElement("div",{className:"altermodal-xs-ftr notify-ftr"},s.a.createElement("div",{className:"right-btns text-right"},s.a.createElement(w.a,{buttonText:"Change",buttonClass:"btn btn-primary",onClickAction:t,isDisabled:a}))))}function D(e){var t=s.a.createElement(x.a,e),a=e.departureCity,n=e.arrivalCity,i=e.dayOfWeek,r=e.departureDate,o=e.departureTime,l=e.handleChangeBtnClick,c=e.refundable,d=e.alternateAvailable,u=e.isBooked;return s.a.createElement("div",{className:"container lg-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("section",{className:"row details-title"},s.a.createElement("div",{className:"col-md-10"},s.a.createElement("h6",null,"".concat(a," \u2192 ").concat(n)))),s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},t)),s.a.createElement(k.a,{refundable:c,type:"ferry"}),d?s.a.createElement(A.a,{handleChangeBtnClick:l}):null),s.a.createElement("div",{className:"col-md-4"},s.a.createElement(p.a,{enabled:!Object(v.a)(),top:124},s.a.createElement(O.a,{changeButtonText:"Change Ferry",isDisabledChange:!!u||!d,onChangeAction:l,firstHalf:{header:"Date:",content:i+", "+r},browsingText:"ferries",secondHalf:{header:"Pickup time:",content:o},icons:e.icons})))))}t.default=Object(d.c)((function(e){var t=e.app,a=t.itineraryInfo,n=a.itinerary,i=a.adult_count,r=a.child_count;return{itineraryInfo:a,itinerary:n||{},user_details:t.user_details,itineraryDetail:n,adult_count:i,child_count:r}}),(function(e){return{actions:{getItinerary:Object(u.b)(y.a,e)}}}),null)(T)},1383:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(54),m=a(49),p=a.n(m),f=a(2059),h=a(14),v=a(1597),g=a(213),b=a(341),y=a(191),E=a(2206),C=a(1595),x=(a(1605),a(15)),O=a(22);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var w=h.a.api_url,k=function(e){Object(r.a)(a,e);var t=N(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).getCurrentDetails=function(e){if(e.itineraryInfo&&Object.keys(e.itineraryInfo).length&&e.itineraryInfo.ferryCostings&&!Object.keys(i.state.activeFerryDetails).length){var t=i.props.match,a=e.itineraryInfo,n=e.itineraryDetail,r=t.params.configKey;r=Object(v.a)(r);var o=a&&a.ferryCostings&&a.ferryCostings.costingById[r];o||i.closeModal(),i.setState({activeFerryDetails:o},(function(){var e={itineraryId:n.itineraryId,configKey:r};i.getAlternateFerries(e)}))}},i.getAlternateFerries=function(e){var t="".concat(w,"itinerary/alternateFerries");Object(O.a)({url:t,method:"POST",body:e,onSuccess:function(e){i.setState({alternateFerries:e.data,showModal:!0})},onFailure:function(){swal({title:"Sorry about this!",text:"Sorry about this. But there seems to be an issue with Pickyourtrail.",animation:!0,showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Try again!",cancelButtonText:"No, cancel!",closeOnConfirm:!0,closeOnCancel:!0})}})},i.handleReplaceButtonClick=function(e){i.props.updateFerry({itineraryId:i.props.itineraryDetail.itineraryId,configKey:i.state.activeFerryDetails.configKey,newTransferId:e.transferId}).then((function(){i.closeModal(!0),Object(x.Ld)(x.Sb,{category:"ferry",action:x.Hc,button_clicked:"Alternate Ferry"})})).catch((function(){i.closeModal(!0)}))},i.handleKeyUp=function(e){27===e.keyCode&&i.closeModal()},i.openModal=function(){i.setState({showModal:!0},(function(){Object(b.a)()}))},i.closeModal=function(){setTimeout((function(){i.setState({showModal:!1},(function(){Object(g.a)(),Object(C.h)(i.props)}))}),400)},i.headerComponent=function(){var e=i.state.activeFerryDetails;return s.a.createElement("div",{className:"modal-header"},s.a.createElement("section",{className:"subheader-modals"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-10 left-txt"},s.a.createElement("p",null,s.a.createElement("span",null,"ITINERARY / ",e.pickup," \u2192"," ",e.drop),"Change ferry")),s.a.createElement("div",{className:"col-xs-2 text-right"},s.a.createElement(y.a,{buttonClass:"action-btn",onClickAction:i.closeModal},s.a.createElement("i",{className:"pyt-close-16"}))))))},i.ferryRows=function(){var e,t,a=i.state,n=a.alternateFerries,r=a.activeFerryDetails.dateMillis;return(n||[]).map((function(a){t=p()(a.arrivalTime||"00:00","HH:mm"),e=p()(a.departureTime||"00:00","HH:mm"),t=p()(r).set({h:t.hours(),m:t.minutes()}),e=p()(r).set({h:e.hours(),m:e.minutes()});var n=p.a.utc(t.diff(e));return{clickAction:function(){i.handleReplaceButtonClick(a)},diff:a.diff,diffCost:(a.diff||{diffCost:a.publishedCost}).diffCost,duration:n,arrivalTime:t,departureTime:e,ferryClass:a.ferryClass}}))},i.state={showModal:!1,activeFerryDetails:{},componentStatus:"IDLE",alternateFerries:[]},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.openModal(),this.getCurrentDetails(this.props),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.state.showModal;return s.a.createElement("div",{tabIndex:"0",className:"modal fade modal-sticky-header train-alternate "+(e?"in":"")},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content with-header"},this.headerComponent(),s.a.createElement(E.a,{targetComponent:"ferry",headers:[{columnClass:"col-xs-4 col-sm-2",title:"Departure",sortingField:"departureTime",enableSorting:!0},{columnClass:"col-xs-4 col-sm-2",title:"Arrival",sortingField:"arrivalTime",enableSorting:!0},{columnClass:"col-sm-2 hidden-xs",title:"Duration",sortingField:"duration",enableSorting:!0},{columnClass:"col-xs-4 col-sm-2",title:"Class",sortingField:"ferryClass",enableSorting:!1},{columnClass:"col-xs-4 col-sm-4",title:"Price",sortingField:"diffCost",enableSorting:!0}],sortingIndex:1,rows:this.ferryRows()}))))}}]),a}(c.Component);t.default=Object(d.c)((function(e){var t=e.app,a=t.itineraryInfo,n=t.user_details;return a&&Object.keys(a).length?{itineraryInfo:a,itineraryDetail:a.itinerary,user_details:n,adult_count:a.adult_count,child_count:a.child_count}:{itineraryInfo:a,itineraryDetail:{},user_details:n}}),(function(e){return{updateFerry:Object(u.b)(f.a,e)}}))(k)},1386:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(54),u=a(30),m=a(1898),p=a(591),f=a(1765),h=a(341),v=a(213),g=a(1596),b=a(20),y=a(62),E=a(598),C=a(7),x=a(191),O=(a(1605),a(15));function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var w=function(e){Object(r.a)(a,e);var t=N(a);function a(e){var i;Object(n.a)(this,a),(i=t.call(this,e)).handleKeyUp=function(e){27===e.keyCode&&i.closeModal()},i.callBackAction=function(e){e&&e.preventDefault();var t=i.props,a=t.history,n=void 0===a?{}:a,r=t.itineraryInfo,o=n.location.pathname,l=void 0===o?"":o,c=r&&r.itinerary,s=c.itineraryId,d=c.regionCode;n.push(Object(C.Jb)({itineraryId:s,regionCode:d,parentPage:Object(y.a)(l,[C.ab])?C.ab:C.cb}))},i.updateTitle=function(e){e&&e.preventDefault(),i.setState({currentTitle:e.currentTarget.value})},i.keyPress=function(e){13===e.keyCode&&i.onConfirmTitleName()},i.onConfirmTitleName=function(){var e=i.props,t=e.actions,a=e.match,n=i.state,r=n.currentTitle,o=n.itineraryTitle,l=(a&&a.params).itineraryId;t&&t.renameItinerary(l,r).then((function(){Object(O.Ld)(O.Fc,{from:o,to:r}),t.getItinerary(l),i.callBackAction()}))};var r=Object(E.a)(e.itineraryInfo);return i.state={itinerary:e.itinerary,itineraryTitle:r,currentTitle:r},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){Object(h.a)();var e=this.props,t=e.location,a=e.match,n=e.actions,i=e.itinerary;if(Object(g.a)(i)){var r=a.params.itineraryId;r&&n.getItinerary(r,t.search).then((function(){})).catch((function(){}))}document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){Object(v.a)(),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){return s.a.createElement(f.a,{enable:!0,onClickAction:this.callBackAction,contentClassName:"row",enableModalHeader:!0,rootClassName:"modal fade modal-sticky-header share-itinerary"},s.a.createElement("div",{className:"col-xs-12"},s.a.createElement("h5",null,"Rename this title..."),s.a.createElement("div",{className:"row sendquote-wrapper"},s.a.createElement("div",{className:"col-xs-12 col-sm-8"},s.a.createElement("div",{className:"form-group form-group-lg"},s.a.createElement("input",{type:"text",key:"edit-tile",value:this.state.currentTitle,className:"form-control",onKeyDown:this.keyPress,onChange:this.updateTitle,placeholder:this.state.itineraryTitle}))),s.a.createElement("div",{className:"col-xs-12 col-sm-4 ".concat(Object(b.a)()?"text-right":"")},s.a.createElement(x.a,{buttonClass:"btn btn-primary btn-lg",buttonText:"Rename",onClickAction:this.onConfirmTitleName})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.itinerary!==t.itinerary?{itinerary:e.itinerary,itineraryTitle:Object(E.a)(e.itineraryInfo)}:t}}]),a}(c.Component);t.default=Object(u.c)((function(e){var t=e.app,a=(void 0===t?{}:t).itineraryInfo,n=void 0===a?{}:a,i=n.campaignDetail,r=n.itinerary;return{itineraryInfo:n,itinerary:void 0===r?{}:r,campaignDetail:i}}),(function(e){return{actions:{renameItinerary:Object(d.b)(m.a,e),getItinerary:Object(d.b)(p.a,e)}}}))(w)},1387:function(e,t,a){"use strict";a.r(t);var n=a(68),i=a(1),r=a(38),o=a(39),l=a(46),c=a(56),s=a(29),d=a(33),u=a(0),m=a.n(u),p=a(30),f=a(36),h=a(54),v=a(604),g=a(18),b=a(347),y=a(470),E=a(42),C=a(1775),x=a(192),O=a.n(x),N=a(137),w=a(14),k=a(2098),S=a(20),A=a(252),j=a(591),I=a(1646),T=a(610),R=a(1960),D=a(1613),F=a(1602),P=a(1621),M=a(1656),_=a(1684),L=a(7),B=a(1710),H=a(4),V=a(1634),z=a(1780),U=(a(1605),a(15)),K=a(22),W=a(2075),G=a(2076),Y=a(1592),q=a(1593);function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var Q=w.a.api_url,X=function(e,t){return Object(b.a)(e,(function(e){return e.title.toLowerCase().indexOf(t)>-1}))},$=function(e){Object(l.a)(a,e);var t=J(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleKeyUp=function(e){27===e.keyCode&&o.closeModal()},o.handleGuide=function(e){var t=o.props,a=t.setToStorage,n=t.getFromStorage;Object(U.Ld)(U.ld,{element_name:"city_itinerary_pg_btn"}),[z.a.NEXT].includes(e.action)||([z.b.STEP_AFTER,z.b.TARGET_NOT_FOUND].includes(e.type)?o.setState({stepIndex:o.state.stepIndex+1}):[z.c.FINISHED,z.c.SKIPPED].includes(e.status)&&1!==n("alternate_activity_user_guide")&&(a("alternate_activity_user_guide",1),o.setState({showGuide:!1})))},o.updatePagination=function(){o.setState({pagination:o.state.pagination+24})},o.getCurrentDetails=function(e){if(!Object(E.a)(e.itineraryInfo)&&e.itineraryInfo.iterSlotByKey&&!Object.keys(o.state.current_slot).length){var t=e.match.params.configKey;t=Object(D.a)(t);var a=e.itineraryInfo.iterSlotByKey[t];if(!a)return void o.closeActivityAlternate();if(a.slotIdentifier=t,"LEISURE"!==a.type&&"INTERCITY_TRANSFER"!==a.type){var n=e.itineraryInfo.activityById[a.activitySlotDetail.activityId];Object.assign(a.activitySlotDetail,n);var r={};e.itineraryInfo.itinerary.costed&&!e.itineraryInfo.itinerary.staleCost&&(r=e.itineraryInfo.activityCostings.costingById[a.activitySlotDetail.activityCostingIdentifier]),a=Object(i.a)(Object(i.a)({},a),r)}o.setState({current_slot:a},(function(){var t=e.location;Object(g.a)(t,"state.alternates")?o.reduceAlternatesToState(t.state.alternates):o.getAlternateActivites(a)}))}},o.fetchAlternateActivites=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=o.props.itineraryInfo,r=Object(v.a)(i.iterDayByKey,(function(t){return-1!==t.allSlotKeys.indexOf(e.slotIdentifier)})),l=i.iterDayByKey[r],c=Object(v.a)(i.iterCityByKey,(function(e){return-1!==e.allDayKeys.indexOf(r)})),s=i.itinerary.allCityKeys.findIndex((function(e){return e===c})),d=i.iterCityByKey[c],u="",m=!1,p=!1,f=e.activitySlotDetail,h=d.cityId,g=d.cityId;switch(e.type){case"ACTIVITY":u=f&&f.activityId;break;case"LEISURE":m=!0;break;case"ACTIVITY_WITH_TRANSFER":case"INTERCITY_TRANSFER":p=!0,h=e.intercityTransferSlotDetailVO.fromCity,g=e.intercityTransferSlotDetailVO.toCity}if(e.prevCity&&l){var b=i.itinerary.allCityKeys[s-1];g=h=i.iterCityByKey[b].cityId}var y=e.activitySlotDetail&&e.activitySlotDetail.activityCostingIdentifier||"",E={cityId:h,itineraryId:i.itinerary.itineraryId,currentActivityId:u,alternateActivityIds:o.getOtherActivities(u),timeSlotType:6,showOtherSlots:m,slotSpan:e.span,startSlot:e.start,showActivitiesWithTransferOnly:p,dropCityId:g,rcAvailable:l.rcAvailable,primaryTravelMode:"UNKNOWN",activityCostingKey:y,dayNum:l.dayNum,showAllActivities:t,searchTerm:a?"":o.state.searchTerm};o.setState({showLoading:!0,showReset:n});var C="".concat(Q,"activity/alternates");Object(K.a)({url:C,method:"POST",body:E,onSuccess:function(e){o.reduceAlternatesToState(e.data),o.setState({searchTerm:a?"":o.state.searchTerm})},onFailure:function(){o.setState({searchTerm:o.state.searchTerm,showLoading:!1,allAlternates:[],recommendedActivitiesFound:!1})}})},o.reduceAlternatesToState=function(e){var t=o.props,a=t.itineraryInfo,n=t.getFromStorage;e.map((function(e){e.likeCount=Object(A.a)(30,570),e.dislikeCount=Object(A.a)(3,17),e.status=e.free?"":"".concat(Object(A.a)(5,800)," Bookings")}));var i=function(e){var t=e.map((function(e){return Number(e.selectedTourGrade.cost&&e.selectedTourGrade.cost)}));return{minPrice:t.length?Math.min.apply(Math,Object(d.a)(t)):void 0,maxPrice:t.length?Math.max.apply(Math,Object(d.a)(t)):void 0}}(e),r=i.minPrice,l=i.maxPrice,c=Object(k.a)(e,a.itinerary.splitPricing),s=e.filter((function(e){return e.recommended}));o.setState({showLoading:!1,isFetching:!1,allAlternates:c,recommendedActivitiesFound:s.length>0,minPrice:r,maxPrice:l,selectedMinPrice:r,selectedMaxPrice:l},(function(){if(0!==o.state.filteredAlternates.length||o.state.dataNotFoundText||o.state.pytFilter)o.applyFilters();else{var e=!1;1!==n("alternate_activity_user_guide")&&(e=!0),o.setState({filteredAlternates:c,showGuide:e,dataNotFoundText:""})}}))},o.goToDefaultItineraryOrInclusionsPage=function(){var e=o.props,t=e.history,a=e.location,n=e.itineraryInfo,i=void 0===n?{itinerary:{}}:n;t.push(Object(L.Jb)({itineraryId:i.itinerary.itineraryId,location:a,regionCode:i.itinerary.regionCode}))},o.goBackModal=function(){var e=o.props,t=e.history,a=e.lastLocation,n=void 0===a?{}:a;n&&n.pathname?t.goBack():o.goToDefaultItineraryOrInclusionsPage()},o.closeActivityAlternate=function(){o.goToDefaultItineraryOrInclusionsPage()},o.changeActivity=function(e){var t="CHANGE",a=!1,n=o.state.current_slot,i=Object.assign({},n),r=o.props,l=r.itineraryInfo,c=r.manageActivity,s=Object(v.a)(l.iterDayByKey,(function(e){return-1!==e.allSlotKeys.indexOf(i.slotIdentifier)})),d=Object(v.a)(l.iterCityByKey,(function(e){return-1!==e.allDayKeys.indexOf(s)})),u=l.iterCityByKey[d],m=u.cityId,p=u.cityId;"LEISURE"!==i.type&&"INTERCITY_TRANSFER"!==i.type||(t="ADD"),"INTERCITY_TRANSFER"!==i.type&&"ACTIVITY_WITH_TRANSFER"!==i.type||(m=i.intercityTransferSlotDetailVO.fromCity,p=i.intercityTransferSlotDetailVO.toCity,a=!0);var f=!1;i.activitySlotDetail&&i.activitySlotDetail.activityCostingIdentifier&&l.itinerary.costed&&!l.itinerary.staleCost&&(f=l.activityCostings.costingById[i.activitySlotDetail.activityCostingIdentifier].cancelled);i.activitySlotDetail=e,c({action:t,type:"alternate_activity",activityWithTransfer:a,itineraryId:l.itinerary.itineraryId,activitySlot:i,fromCityId:m,toCityId:p,cancelled:f}).then((function(){o.goToDefaultItineraryOrInclusionsPage()}))},o.handleCardClick=function(e){var t=o.props,a=t.history,n=t.location,r=t.itineraryInfo,l=void 0===r?{itinerary:{}}:r,c=o.state.current_slot,s=Object(i.a)({},c);s.activitySlotDetail=e,s.isFromAlternateList=!0,s.handleActivityBlockClick=o.handleActivityBlockClick,Object(U.Ld)(U.Pc,{category:"activity",button_clicked:"Alternate Activity Card"}),o.props.openDetailsFromAlternate({itineraryId:l.itinerary.itineraryId,regionCode:l.itinerary.regionCode,location:n,selectedActivity:s,configKey:Object(F.a)(s.slotIdentifier),history:a})},o.getUpdatedFilters=function(e,t){var a=O()(o.state.filters[e]),n=a.indexOf(t);return n>-1?a.splice(n,1):a.push(t),a},o.updateFilters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==a){var r=o.getUpdatedFilters(a,t);o.setState((function(e){var t=e.filters;return{showLoading:!0,filters:Object(i.a)(Object(i.a)({},t),{},Object(n.a)({},a,r))}}),(function(){if(!Object(S.a)()){o.applyFilters();var e=o.state.filters;switch(a){case"durationFilters":Object(U.Ld)(U.c,{duration:e.durationFilters.sort()});break;case"interestFilters":var t=o.state.interestFilterOptions,n=[];t.forEach((function(t){e.interestFilters.includes(t.category.id)&&n.push(t.category.name)})),Object(U.Ld)(U.c,{interests:n.sort()});break;case"timeFilters":Object(U.Ld)(U.c,{time_slot:e.timeFilters.sort()});break;case"typeFilters":Object(U.Ld)(U.c,{activity_type:e.typeFilters.sort()})}}}))}},o.getPriceFilteredData=function(e,t,a){return Object(b.a)(e,(function(e){var n=e.selectedTourGrade.cost||"";n="string"===typeof n?n.split(",").join(""):n;var i=Number(n);return i<=a&&i>=t}))},o.updatePriceFilter=function(e){var t=e[0],a=e[1];o.setState({selectedMinPrice:t,selectedMaxPrice:a},(function(){o.applyFilters()}))},o.updateOtherFilter=function(e,t){var a=o.state.filters;null!==t&&(a.otherFilters[t]=!a.otherFilters[t],o.setState({filters:a,showLoading:!0},(function(){if(!Object(S.a)()){o.applyFilters();var e=[];for(var t in a.otherFilters)a.otherFilters[t]&&e.push(t);Object(U.Ld)(U.c,{other_filters:e.sort()})}})))},o.updatePYTfilter=function(e){o.setState({pytFilter:e,showLoading:!0},(function(){o.applyFilters(),Object(U.Ld)(U.c,{smart_filter:e})}))},o.onUpdateButtonClick=function(e){o.setState({filters:e},o.applyFilters)},o.onClickRemoveNotFoundText=function(){o.setState({dataNotFoundText:""})},o.filterApplied=function(){var e=o.state,t=e.filters,a=e.pytFilter;return Object.values(t).some((function(e){return Array.isArray(e)?!!e.length:Object.values(e).includes(!0)}))||a},o.applySort=function(e,t){var a=[];return t.price&&(a=Object(k.a)(e,o.props.itineraryInfo.itinerary.splitPricing,t.price)),0===a.length&&(a=e),a},o.filterData=function(e,t,a){var n=o.state.allInterestIds;switch(a){case"durationFilters":return!(e.length>0)||e.indexOf(t.selectedTourGrade.durationType.toLowerCase())>-1;case"timeFilters":return!(e.length>0)||e.indexOf(t.selectedTourGrade.startSlot.toLowerCase())>-1;case"typeFilters":return 0===e.length||2===e.length||(e.indexOf("private")>-1?t.privateTour:!t.privateTour);case"interestFilters":var i=e.map((function(e){return n[e]}));return i=i.flat(),!(e.length>0)||Object(C.a)(i,t.interests).length>0;default:return!0}},o.sortData=function(e){var t={};"asc"===o.state.sortApplied[e]?t[e]="desc":t[e]="asc",o.setState({sortApplied:t,showLoading:!0},(function(){o.applyFilters(),Object(U.Ld)(U.Rc,{page:"Activity Alternates",type:e,sort_order:o.state.sortApplied[e]})}))},o.sortOnprice=function(){o.sortData("price")},o.sortOnRating=function(){o.sortData("rating")},o.doSearch=function(e){if(""!==e){var t=o.state.filteredAlternates,a=X(t,e);o.setState({searchedData:a,searchTerm:e,dataNotFoundText:a.length?"":G.g})}else o.setState({searchTerm:"",showLoading:!0},o.applyFilters)},o.searchAction=function(e){o.doSearch(e.toLowerCase())},o.closeAuth=function(){o.props.resetAuth({alert:{show:!1}}),o.props.history.push("/")},o.state={showGuide:!1,showReset:!1,stepIndex:0,pagination:24,interestFilterOptions:[],allInterestIds:[],showContentPlaceHolders:!1,isFetching:!0,showLoading:!0,showAllActivities:!1,filteredAlternates:[],searchedData:[],allAlternates:[],current_slot:{},recommendedActivitiesFound:!1,enableFilterOnMobile:!1,filters:{durationFilters:[],timeFilters:[],typeFilters:[],interestFilters:[],otherFilters:{transferIncluded:!1,transferNotIncluded:!1,highlight:!1,kidFriendly:!1,fastSelling:!1,free:!1,explored:!1}},pytFilter:!1,searchTerm:"",sortApplied:{price:"asc"},minPrice:null,maxPrice:null},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.currentDetails={};var e=this.props.match.params.itineraryId;Object(P.a)(),window.scroll(0,0),Object(_.a)(),Object(E.a)(this.props.itineraryInfo)?this.props.getItinerary(e):this.getCurrentDetails(this.props),this.getCategoryList(),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentDidUpdate",value:function(e){Object(P.a)(),Object(E.a)(e.itineraryInfo)&&!Object(E.a)(this.props.itineraryInfo)&&this.getCurrentDetails(this.props)}},{key:"componentWillUnmount",value:function(){Object(M.a)(),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"getIds",value:function(e){var t={};return e.forEach((function(e){t[e.category.id]=e.interests.map((function(e){return e.id}))})),t}},{key:"getCategoryList",value:function(){var e=this,t="".concat(Q,"misc/getCategoryInterestMapping"),a=this;Object(K.a)({url:t,method:"GET",body:{},onSuccess:function(t){var n=a.getIds(t);e.setState({interestFilterOptions:t,allInterestIds:n})},onFailure:function(){e.setState({interestFilterOptions:[],showLoading:!1,allInterestIds:[]})}})}},{key:"getAlternateActivites",value:function(e,t){"LEISURE"!==e.type&&"INTERCITY_TRANSFER"!==e.type&&e.activitySlotDetail.costingInfo&&e.activitySlotDetail.costingInfo.inCombo||this.fetchAlternateActivites(e,t)}},{key:"hideActivityFilters",value:function(){this.setState({enableFilterOnMobile:!1})}},{key:"showActivityFilters",value:function(){this.setState({enableFilterOnMobile:!0})}},{key:"getOtherActivities",value:function(e){var t=this.props.itineraryInfo.activityById;return Object(E.a)(e)||(t=Object(y.a)(t,[e])),t&&"object"===typeof t?Object.keys(t):[]}},{key:"applyFilters",value:function(){var e=this,t=this.state,a=t.allAlternates,n=t.searchTerm,i=t.filters,r=t.pytFilter,o=t.sortApplied,l=t.selectedMinPrice,c=t.selectedMaxPrice,s=i.durationFilters,d=i.timeFilters,u=i.typeFilters,m=i.interestFilters,p=i.otherFilters,f=Object(b.a)(a,(function(t){var a=e.filterData(s,t,"durationFilters"),n=e.filterData(d,t,"timeFilters"),i=e.filterData(u,t,"typeFilters"),r=e.filterData(m,t,"interestFilters"),o=(!p.transferIncluded||t.transferIncluded)&&(!p.transferNotIncluded||!t.transferIncluded)||p.transferIncluded===p.transferNotIncluded,l=!!p.highlight&&!0===t.highlight||!!p.kidFriendly&&!0===t.kidFriendly||!!p.fastSelling&&!0===t.fastSelling||!!p.free&&!0===t.free||!!p.explored&&!0===t.explored||!(p.highlight||p.kidFriendly||p.fastSelling||p.free||p.explored),c=a&&n&&i&&r&&l&&o;return window.scrollTo(0,0),c}));f=this.applySort(f,o),r&&(f=Object(b.a)(f,"recommended"));var h=[];n&&(h=X(f,n)),(l||c)&&(f=this.getPriceFilteredData(f,l,c));var v=f.length?n?h.length?"":G.g:"":this.filterApplied()?G.d:a.length?"":G.a;this.setState({filteredAlternates:f,searchedData:h,showLoading:!1,dataNotFoundText:v})}},{key:"render",value:function(){var e,t,a,n=this,i=this.state,r=i.current_slot,o=i.filteredAlternates,l=i.allAlternates,c=i.filters,s=i.showReset,d=i.recommendedActivitiesFound,p=i.sortApplied,h=i.interestFilterOptions,v=i.pytFilter,b=i.showLoading,y=i.pagination,E=i.searchedData,C=i.searchTerm,x=i.minPrice,O=i.maxPrice,N=i.selectedMinPrice,w=i.selectedMaxPrice,k=i.isFetching,A=i.dataNotFoundText,j=this.props,I=j.match,T=j.itineraryInfo,R=j.unAuth,D=j.splitPricingEnabled,F=j.user_details,P=r.activitySlotDetail&&r.activitySlotDetail.selectedTourGrade.cost,M=Object(g.a)(r,"activitySlotDetail.title")||void 0;return m.a.createElement(u.Fragment,null,Object(S.a)()?null:m.a.createElement(z.d,{run:this.state.showGuide,callback:this.handleGuide,stepIndex:this.state.stepIndex,steps:[{target:".smart-filter",placement:"right",textAlign:"left",hideCloseButton:!0,hideFooter:!0,disableBeacon:!0,content:m.a.createElement("div",{className:"text-right"},m.a.createElement("p",{className:"text-left mb-0"},m.a.createElement("strong",null,"New!"),"\xa0Enable the smart filter to get our recommended activities",m.a.createElement("a",{className:"bold color-white cursor-pointer pull-right",onClick:function(){return n.handleGuide({type:z.b.STEP_AFTER})}},"Got It")))},{target:".search > input",content:m.a.createElement("div",{className:"text-right"},m.a.createElement("p",{className:"text-left mb-0"},"Search from over 200+ activities",m.a.createElement("a",{className:"bold color-white cursor-pointer pull-right",onClick:function(){return n.handleGuide({status:z.c.FINISHED})}},"Got It"))),textAlign:"left",hideCloseButton:!0,hideFooter:!0,disableBeacon:!0}],styles:{options:{arrowColor:"#1895b3",backgroundColor:"#1895b3",textColor:"#FFFFFF"},tooltipContent:{padding:"0px"}}}),m.a.createElement(B.a,{costed:T&&T.itinerary&&T.itinerary.costed,regionCode:T&&T.itinerary&&T.itinerary.regionCode,staleCost:T&&T.itinerary&&T.itinerary.staleCost,activityHeader:M,headerContent:"Change Activity",alternates:C?E.slice(0,y):o.slice(0,y),current_slot:r,filteredDataLength:C?E.length:o.length,totalLength:l.length,pagination:24,currentPrice:P?parseInt(P):0,interestFilterOptions:h,replaceActivity:this.changeActivity,onCardClick:this.handleCardClick,updateFilters:this.updateFilters,onUpdateButtonClick:this.onUpdateButtonClick,onClickRemoveNotFoundText:this.onClickRemoveNotFoundText,applyFilters:this.applyFilters,updateOtherFilter:this.updateOtherFilter,filterOnPytRecommended:this.updatePYTfilter,sortByPrice:this.sortOnprice,sortByRatings:this.sortOnRating,closeActivityAlternate:this.closeActivityAlternate,goBackAction:this.goBackModal,onSearchAction:this.searchAction,otherFilters:c.otherFilters,pytFilterApplied:v,sortApplied:p,recommendedActivitiesFound:d,handlePriceRangeSliderChange:this.updatePriceFilter,updatePagination:this.updatePagination,searchTerm:C,detailsOpened:I.path===L.bb.ACTIVITY_ALTERNATES_DETAILS_ROUTE||I.path===L.Ib.ALTERNATE_ACTIVITY_DETAILS,showReset:s&&(null===F||void 0===F||null===(e=F.permissions)||void 0===e?void 0:e.includes(q.B)),isFilterApplied:!(o.length===l.length),filterData:c,minPrice:x,maxPrice:O,selectedMinPrice:N,selectedMaxPrice:w,splitPricingEnabled:D,showLoading:b,isFetching:k,lastLocation:this.props.lastLocation,location:this.props.location,history:this.props.history,params:this.props.match.params,dataNotFoundText:A,fetchAlternateActivites:this.fetchAlternateActivites,showAllActivities:null!==F&&void 0!==F&&null!==(t=F.permissions)&&void 0!==t&&t.includes(q.B)?this.state.showAllActivities:null,isAdmin:F&&F.loggedIn&&"ADMIN"===F.userType,showSearchResult:null===F||void 0===F||null===(a=F.permissions)||void 0===a?void 0:a.includes(q.B),userDetails:F}),m.a.createElement(f.Switch,null,m.a.createElement(f.Route,{path:L.bb.ACTIVITY_ALTERNATES_DETAILS_ROUTE,exact:!0,component:H.l}),m.a.createElement(f.Route,{path:L.Ib.ALTERNATE_ACTIVITY_DETAILS,exact:!0,component:H.l})),m.a.createElement(V.d,Object.assign({},R,{callback:this.closeAuth})))}}]),a}(u.Component);t.default=Object(N.withLastLocation)(Object(W.a)(Object(p.c)((function(e){var t,a=e.app,n=void 0===a?{}:a;return{itineraryInfo:n.itineraryInfo,splitPricingEnabled:n.itineraryInfo&&n.itineraryInfo.itinerary&&n.itineraryInfo.itinerary.splitPricing||n.user_details&&Object(Y.a)({permissions:null===(t=n.user_details)||void 0===t?void 0:t.permissions,key:q.G}),user_details:n.user_details,isReadOnly:n.isReadOnly,unAuth:n.unAuth}}),(function(e){return{getItinerary:Object(h.b)(j.a,e),manageActivity:Object(h.b)(I.a,e),resetAuth:Object(h.b)(T.a,e),openDetailsFromAlternate:Object(h.b)(R.a,e)}}))($)))},1388:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(54),m=a(14),p=a(1613),f=a(341),h=a(213),v=a(2064),g=a(191),b=(a(1605),a(22)),y=a(55);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var C=m.a.api_url,x=function(e){Object(r.a)(a,e);var t=E(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).getCurrentDetails=function(e){var t=e.itineraryInfo;if(t&&Object.keys(t).length&&t.rentalCarCostings&&!Object.keys(i.state.activeRCDetails).length){var a=i.props,n=a.match,r=a.history,o=n.params.configKey;o=Object(p.a)(o);var l=t.rentalCarCostings.costingById[o];l||r.goBack(),i.setState({activeRCDetails:l,insuranceType:l.insuranceType,insuranceCost:l.insuranceCost},(function(){i.getInsuranceOptions(t.itinerary.itineraryId,o,l.insuranceType)}))}},i.openModal=function(){i.setState({showModal:!0},(function(){Object(f.a)()}))},i.closeModal=function(){var e=i.props.history;setTimeout((function(){i.setState({showModal:!1},(function(){e.goBack(),Object(h.a)()}))}),400)},i.handleKeyUp=function(e){27===e.keyCode&&i.closeModal()},i.getInsuranceOptions=function(e,t,a){var n="".concat(C,"itinerary/").concat(e,"/rentalcar/insurance");Object(b.a)({url:n,method:"POST",body:{configKey:t},onSuccess:function(e){i.setState({insuranceOptions:e.data,insuranceChoice:a||"BASIC"})},onFailure:function(){swal("Something went wrong. Try again.")}})},i.changeRentalCarInsurance=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=i.props,n=a.itineraryInfo,r=void 0===n?{itinerary:{}}:n,o=a.match,l=a.actions;e?i.setState({insuranceChoice:t}):(l.changeRentalCarInsurance({configKey:Object(p.a)(o.params.configKey),type:i.state.insuranceChoice,itineraryId:r.itinerary.itineraryId}).catch((function(){i.closeModal()})),i.closeModal())},i.headerComponent=function(){return s.a.createElement("div",{className:"modal-header"},s.a.createElement("section",{className:"subheader-modals"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-10 left-txt"},s.a.createElement("p",null,s.a.createElement("span",null,"ITINERARY / CHANGE CAR INSURANCE"),"CHANGE CAR INSURANCE")),s.a.createElement("div",{className:"pull-right"},s.a.createElement(g.a,{buttonClass:"btn btn-primary choose-btn",buttonText:"Apply",onClickAction:function(e){e&&(e.preventDefault(),e.stopPropagation(),i.changeRentalCarInsurance(!1))}})),s.a.createElement("div",{className:"col-xs-2 text-right"},s.a.createElement(g.a,{buttonClass:"action-btn",onClickAction:i.closeModal},s.a.createElement("i",{className:"pyt-close-16"}))))))},i.state={showModal:!1,insuranceChoice:"",activeRCDetails:{},insuranceOptions:[]},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.openModal(),this.getCurrentDetails(this.props),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this,t=this.state,a=t.insuranceChoice,n=t.insuranceOptions,i=t.showModal;return s.a.createElement("div",{tabIndex:"0",className:"modal fade modal-sticky-header inpage-modal hotel-modal "+(i?"in":"")},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content with-header"},this.headerComponent(),s.a.createElement("div",{className:"modal-body"},s.a.createElement(O,{publishedCost:n.reduce((function(e,t){return t.type===a?t.publishedCost:e}),0)}),s.a.createElement(N,null,n.map((function(t){return s.a.createElement(w,Object.assign({key:t.type},t,{changeRentalCarInsurance:e.changeRentalCarInsurance,checked:t.type===a}))})))))))}}]),a}(s.a.Component),O=function(e){return s.a.createElement("div",{className:"current-pick-panel"},s.a.createElement("div",{className:"current-pick-content hotel"},s.a.createElement("div",{className:"col-xs-9 col-md-10"},s.a.createElement("span",{className:"single-line-text fade small no-margin"},"Total insurance cost for Rental Car")),s.a.createElement("div",{className:"col-xs-3 col-md-2 text-right"},s.a.createElement("span",{className:"total-price base bold"},s.a.createElement(y.a,{objectData:e,path:"publishedCost",defaultValue:"0"})))))},N=function(e){return s.a.createElement("div",{className:"modal-row"},s.a.createElement("h4",{className:"dim"},"Insurance Options"),s.a.createElement("div",{className:"planning vmargin-large"},s.a.createElement("ul",{className:"planning-stage insurance-options list-unstyled clearfix"},e.children)))},w=function(e){var t=e.type,a=e.checked,n=e.insuranceName,i=e.liability,r=e.costPerDay,o=e.changeRentalCarInsurance;return s.a.createElement("li",null,s.a.createElement("div",{className:"clearfix"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"custom-options"},s.a.createElement("input",{type:"radio",name:"insuranceOptions",value:t,checked:a,onClick:function(){return o(!0,t)}}),s.a.createElement("span",{className:"block bold main-para fade"},n),s.a.createElement("span",{className:"block fine-text"},"Liability on the traveler is",s.a.createElement(y.a,{objectData:{value:i},path:"value",defaultValue:"0"}),". \xa0"),s.a.createElement("span",{className:"block fine-text"},"Amount to be paid by the user is"," ",s.a.createElement(y.a,{objectData:{value:r},path:"value",defaultValue:"0"})," ","per day"),s.a.createElement("i",null)))))};t.default=Object(d.c)((function(e){var t=e.app;return{itineraryInfo:(void 0===t?{}:t).itineraryInfo}}),(function(e){return{actions:{changeRentalCarInsurance:Object(u.b)(v.a,e)}}}))(x)},1465:function(e,t,a){"use strict";a.r(t);var n=a(68),i=a(33),r=a(1),o=a(38),l=a(39),c=a(58),s=a(46),d=a(56),u=a(29),m=a(0),p=a.n(m),f=a(30),h=a(54),v=a(137),g=a(36),b=a(212),y=a(905),E=a.n(y),C=a(289),x=a.n(C),O=(a(1605),a(18)),N=a(1621),w=a(1656),k=a(1684),S=a(1702),A=a(1693),j=a(1596),I=a(20),T=a(213),R=a(1597),D=a(1897),F=a(591),P=a(2060),M=a(7),_=a(22),L=a(14),B=a(4),H=a(1662),V=a(11),z=a(2),U=a(354),K=a(626),W=a(1673),G=a(1799),Y=a.n(G),q=a(6),J=z.default.div.withConfig({displayName:"alternatesstyles__Container"})(["width:100%;margin-right:auto;margin-left:auto;padding-left:12px;padding-right:12px;","{width:992px;}","{width:1176px;}"],q.md,q.lg),Q=z.default.div.withConfig({displayName:"alternatesstyles__Row"})(["display:flex;align-items:center;"]),X=z.default.div.withConfig({displayName:"alternatesstyles__RowElement"})(["display:flex;ul{margin-top:0;border-bottom:none;justify-content:flex-end;li{&:after{height:4px;}a{color:#88939d;span{font-weight:600;}}&:hover,&:hover a,&.active,&.active a{&:after{background-color:#00c684;color:#2c2f42;}}}}&:nth-of-type(1){width:50%;","{width:67%;}","{width:25%;}}&:nth-of-type(2){width:50%;justify-content:flex-end;","{width:50%;}}&:nth-of-type(3){justify-content:flex-end;position:absolute;right:4%;","{width:25%;}}"],q.sm,q.md,q.sm,q.md),$=z.default.div.withConfig({displayName:"alternatesstyles__HotelNameComponent"})(["display:flex;align-items:center;font-weight:600;a{margin-left:4px;}span{color:#1895b3;}div{display:flex;align-items:center;margin:0 8px;width:88px;height:32px;left:auto;top:20px;background:#e5e5e5;border-radius:8px;p{margin:0;}}"]),Z=a(472),ee=a(1899),te=a(55);function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var ne=function(){window.scroll(0,0)},ie=z.default.div.withConfig({displayName:"AlternateHeaderHotel__Circle"})(["text-align:center;color:black;height:25px;width:25px;background-color:#f1f3f6;border-radius:50%;display:flex;justify-content:center;align-items:center;margin-right:4px;i{font-weight:600;}"]),re=z.default.p.withConfig({displayName:"AlternateHeaderHotel__HotelPrice"})(["font-weight:bold;color:'black';text-align:center;padding:8px;"]),oe=function(e){Object(s.a)(a,e);var t=ae(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={activeIndes:[],searchExpand:!1,textValue:""},e.onClickAction=function(t,a,n){t&&t.preventDefault();var i=e.state.activeIndes,r=i.indexOf(n);r>-1?i.splice(r,1):i.push(n),e.setState({activeIndex:i}),a.onClickAction()},e.onChangeAction=function(t){t&&t.preventDefault();var a=t.currentTarget.value;e.setState({textValue:a},(function(){e.props.onChangeAction(a)}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isMobile,n=void 0!==a&&a,i=t.onClickCloseAction,r=t.rootClassName,o=void 0===r?null:r,l=t.sortingCategory,c=t.onClickPriceModeAction,s=t.priceMode,d=t.ratingMode,u=t.onClickTopRatedOption,f=t.isFetching,h=void 0===f?null:f,v=t.HotelName,g=t.HotelCost,b=t.userDetails,y=void 0===b?{}:b,E={value:g},C=p.a.createElement(J,null,p.a.createElement(Q,null,p.a.createElement(X,{onClick:i},p.a.createElement(ie,null,p.a.createElement("i",{className:"pyt-chevron-left-16"}))," ","Back"),n?null:p.a.createElement(X,null,p.a.createElement("section",{className:"mid-tabs"},h?null:p.a.createElement($,null,"Now Changing:"," ",v?p.a.createElement("span",null," ".concat(v)):null,"ADMIN"===y.userType?p.a.createElement("div",null," ",p.a.createElement(re,null,p.a.createElement(te.a,{objectData:E,path:"value",defaultValue:"0"}))):null)))," ",p.a.createElement(X,null,n?p.a.createElement("ul",{style:{color:"white"},className:"list-unstyled list-inline no-margin tab-links"},p.a.createElement("li",{className:"PRICE"===l||null===l?"active":""},p.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),c()}},"PRICE"===l||null===l?p.a.createElement("i",{style:{color:"black"},className:"".concat("ASC"===s?"pyt-sort-ascending-16":"pyt-sort-descending-16")}):null,p.a.createElement("span",null,"Price"))),p.a.createElement("li",{className:"STAR_RATING"===l?"active":""},p.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),u()}},"STAR_RATING"===l?p.a.createElement("i",{style:{color:"black"},className:"".concat("ASC"!==d?"pyt-sort-ascending-16":"pyt-sort-descending-16"," ")}):null,p.a.createElement("span",null,"Rating")))):p.a.createElement("ul",{onMouseLeave:this.closeDropDownIfOpened,className:"list-unstyled right-links mb-0"},y&&y.loggedIn?p.a.createElement(Z.a,{trigger:"click",wrapperClassName:"header-submenu",wrapperDropdownClassName:"hidden-xs",triggerElement:p.a.createElement("span",null,p.a.createElement("span",{className:"user-initials",onClick:n?function(){return e.props.history.push("/your-vacations")}:function(){}},Object(K.a)(y.name.split(" ").splice(0,2),(function(e){return e[0]})).join("").toUpperCase()),"\xa0",p.a.createElement("i",{className:"caret hidden-xs"}))},p.a.createElement("li",null,p.a.createElement("span",null,y.name)),p.a.createElement("li",{className:"divider"}),y&&"AGENT"===y.userType?p.a.createElement("li",null,p.a.createElement(Y.a,{to:{pathname:"/agent/dashboard"},className:"n-tracker-youraccount",onClick:ne},"Your dashboard")):p.a.createElement(m.Fragment,null,p.a.createElement("li",{key:"user_actions_0"},p.a.createElement(Y.a,{to:{pathname:"/your-vacations"},className:"n-tracker-yourvacations",onClick:ne},"Your vacations")),p.a.createElement("li",{key:"user_actions_1"},p.a.createElement(Y.a,{to:{pathname:"/account"},className:"n-tracker-youraccount",onClick:ne},"Your account"))),p.a.createElement("li",null,p.a.createElement("a",{href:"#",className:"danger-hover",onClick:function(t){t.preventDefault(),e.props.actions.logout({history:e.props.history,userType:y.userType,location:e.props.location})}},"Logout"))):p.a.createElement("li",null,p.a.createElement("a",{href:"/login",onClick:function(t){t.preventDefault(),e.props.history.push("/login")},className:"btn btn-default btn-outline btn-sm login-btn"},"Login")),p.a.createElement("li",{id:"menuBtn",className:"hamburger-menu cursor-pointer n-tracker-mbl-hamburgermenu",onClick:ee.a},p.a.createElement("i",null))))));return n?p.a.createElement("div",{className:o||"subheader-modals"},C):p.a.createElement("section",{className:o||"subheader-modals mbottom-medium"},p.a.createElement(W.a,null),C)}}]),a}(m.Component);var le=Object(v.withLastLocation)(Object(g.withRouter)(Object(f.c)(null,(function(e){return{actions:{logout:Object(h.b)(U.c,e)}}}))(oe))),ce=a(290),se=a(15),de=a(1761),ue=a(1735),me=a(1639),pe=a(9),fe=a.n(pe),he=a(10),ve=a(1640),ge=z.default.div.withConfig({displayName:"FilterInclusionsModal__ModalWrapper"})(["cursor:default;color:black;position:absolute;display:flex;flex-wrap:wrap;width:",";max-height:50vh;justify-content:space-between;background-color:white;top:48px;box-shadow:rgba(0,0,0,0.176) 0px 0px 14px;border-radius:8px;padding:24px;overflow:scroll;::before{content:' ';bottom:100%;left:11px;height:0px;width:0px;position:absolute;pointer-events:none;border-style:solid;border-image:initial;border-color:rgba(255,255,255,0) rgba(255,255,255,0) rgb(255,255,255);border-width:8px;}div{width:50%;}"],(function(e){return"filter"===e.type?"530px":"230px"})),be=function(e){var t=e.filtersList,a=e.isMobile,n=void 0!==a&&a,i=e.type,r=void 0===i?"":i,o=e.noOfAppliedFilters,l=void 0===o?function(){return null}:o,c=0;return(t||[]).forEach((function(e){e&&Array.isArray(e.activeItems)&&e.activeItems.length&&Array.isArray(e.content)&&e.content.forEach((function(t){e.activeItems.includes(t.value)&&(c+=1)}))})),l(c),p.a.createElement(ge,{type:r,className:"altermodal-filters"},(t||[]).map((function(e,t){return p.a.createElement("div",{key:t,title:e.title},e.title,p.a.createElement(ve.a,{isCheckBox:e.checkbox,isRadio:e.radio,allowMultiple:e.allowMultiple,orientation:e.orientation,activeButtons:e.activeItems,onClickAction:function(t,a,i,r){e.callback(a,r,n)},componentValues:e.content,padding:"12px 0",textSize:"18px",textColor:"#777777",iconSize:"20px",iconActiveColor:"#1BAACC",iconWeight:"600"}))})))},ye=z.default.div.withConfig({displayName:"SortHotelModal__ModalWrapper"})(["cursor:default;color:black;position:absolute;display:flex;flex-wrap:wrap;width:",";justify-content:space-between;background-color:white;top:48px;box-shadow:rgba(0,0,0,0.176) 0px 0px 14px;border-radius:8px;padding:24px;::before{content:' ';bottom:100%;left:11px;height:0px;width:0px;position:absolute;pointer-events:none;border-style:solid;border-image:initial;border-color:rgba(255,255,255,0) rgba(255,255,255,0) rgb(255,255,255);border-width:8px;}ul{padding:0;}div{width:50%;}"],(function(e){return"filter"===e.type?"530px":"230px"})),Ee=z.default.li.withConfig({displayName:"SortHotelModal__SortItem"})(["list-style:none;color:#777777;i{color:",";}"],(function(e){return e.active?"#1BAACC":"#B7B7B7"})),Ce=function(e){var t=e.type,a=e.sortingContents;return p.a.createElement(ye,{type:t,className:"altermodal-filters"},p.a.createElement("ul",null,a.map((function(e,t){return p.a.createElement(Ee,{active:e.active,onClick:e.onClickAction,key:t}," ",p.a.createElement("i",{className:e.active?"pyt-radiobtn-checked-16":"pyt-radiobtn-unchecked-16"})," ",e.title," ")}))))},xe=z.default.div.withConfig({displayName:"SourceProviderModal__ModalWrapper"})(["cursor:default;color:black;position:absolute;display:flex;flex-wrap:wrap;width:",";justify-content:space-between;background-color:white;top:48px;box-shadow:rgba(0,0,0,0.176) 0px 0px 14px;border-radius:8px;padding:24px;::before{content:' ';bottom:100%;left:11px;height:0px;width:0px;position:absolute;pointer-events:none;border-style:solid;border-image:initial;border-color:rgba(255,255,255,0) rgba(255,255,255,0) rgb(255,255,255);border-width:8px;}ul{padding:0;}div{width:50%;}"],(function(e){return"filter"===e.type?"530px":"230px"})),Oe=function(e){var t=e.hotelProviders;return p.a.createElement(xe,{className:"altermodal-filters"},p.a.createElement("ul",null,p.a.createElement(ve.a,{isCheckBox:!0,allowMultiple:!1,activeButtons:t.activeItems,onClickAction:function(e,a,n,i){t.callback(a,i,!1)},componentValues:t.content,padding:"12px 0",textSize:"18px",textColor:"#777777",iconSize:"20px",iconActiveColor:"#1BAACC",iconWeight:"600"})))},Ne=a(1592),we=a(1593),ke=z.default.ul.withConfig({displayName:"SecondaryBarWrapper__UL"})(["display:flex;align-items:center;padding-left:0;list-style:none;margin-top:'12px';margin-left:-5px;margin-right:1rem;.li{position:relative;display:inline-block;padding-left:5px;padding-right:5px;&:first-child{padding-left:0;}}margin:0;"]),Se=z.default.li.withConfig({displayName:"SecondaryBarWrapper__Li"})(["margin-right:20px;"]),Ae=z.default.span.withConfig({displayName:"SecondaryBarWrapper__NoOfFilters"})(["position:absolute;background:#e77470;color:#ffffff;width:20px;height:20px;text-align:center;border-radius:50%;left:-10px;"]),je=(fe()({loader:function(){return Promise.all([a.e(5),a.e(17)]).then(a.bind(null,1934))},loading:function(){return p.a.createElement(he.a,null)}}),function(e){var t,a=e.filterState,n=e.onClickOurPickAction,i=e.filtersList,r=e.pytExclusive,o=e.onPYTExclusiveAction,l=e.onClickPriceModeAction,c=e.onClickTopRatedOption,s=e.onClickDistanceOption,d=e.sortingCategory,u=e.userDetails,h=e.hotelProviders,v=e.cityId,g=Object(m.useState)(null),b=Object(V.a)(g,2),y=b[0],E=b[1],C=Object(m.useState)(0),x=Object(V.a)(C,2),O=x[0],N=x[1],w=[{title:"Cheapest First",sortOrder:"ASC",onClickAction:function(e){e&&e.preventDefault(),l()},active:"PRICE"===d},{title:"Best Rated First",onClickAction:function(e){e&&e.preventDefault(),c()},active:"STAR_RATING"===d},{title:"Closest To City Centre",sortOrder:"ASC",onClickAction:function(e){e&&e.preventDefault(),s()},active:"DISTANCE"===d}],k=Object(f.e)((function(e){var t=e.app;return(void 0===t?{}:t).itineraryInfo})),S=null===k||void 0===k||null===(t=k.cityById[v])||void 0===t?void 0:t.recommendedHotelsOnly,A=Object(Ne.a)({permissions:null===u||void 0===u?void 0:u.permissions,key:we.f});return p.a.createElement(ke,null,p.a.createElement(m.Fragment,null,p.a.createElement(Se,null,p.a.createElement(ue.a,{highlight:a.pytRecommended,v2:!0}," ","Our Picks",p.a.createElement("div",{className:"pull-right"},p.a.createElement(me.a,{v2:!0,value:S&&A?S:(null===a||void 0===a?void 0:a.pytRecommended)||!1,onChangeAction:function(e){n({isMobile:e})}})))),"ADMIN"===u.userType?p.a.createElement(Se,null,p.a.createElement(ue.a,{v2:!0}," ","PYT Preferred",p.a.createElement("div",{className:"pull-right"},p.a.createElement(me.a,{v2:!0,value:r||!1,onChangeAction:function(){return o(Object(I.a)())}})))):null,p.a.createElement(Se,null,p.a.createElement(ue.a,{onClick:function(){E(y?null:"filter")}},0===O?null:p.a.createElement(Ae,null,O),"Filter ",p.a.createElement("i",{className:"pyt-filter-16"})),"filter"===y?p.a.createElement(be,{noOfAppliedFilters:function(e){return N(e)},filtersList:i,type:"filter"}):null),p.a.createElement(Se,null,p.a.createElement(ue.a,{onClick:function(){E(y?null:"sort")}},"Sort ",p.a.createElement("i",{className:"pyt-sort-descending-16"})),"sort"===y?p.a.createElement(Ce,{sortingContents:w,type:"sort"}):null),Object(Ne.a)({permissions:null===u||void 0===u?void 0:u.permissions,key:we.g})?p.a.createElement(Se,null,p.a.createElement(ue.a,{onClick:function(){E(y?null:"provider")}},"Source Provider"),"provider"===y?p.a.createElement(Oe,{hotelProviders:h}):null):null))}),Ie=z.default.section.withConfig({displayName:"alternate_header__Section"})(["position:relative;height:100%;top:0;left:12px;width:240px;transition:all 0.3s;width:368px;height:40px;margin-right:3rem;i{position:absolute;&:nth-of-type(1){left:18px;top:14px;line-height:1;font-size:13px;font-weight:600;color:#88939d;}&:nth-of-type(2){right:8px;top:8px;font-size:22px;line-height:1;color:#88939d;}}input{border:0;outline:0 none;height:40px;padding:8px 44px;width:80%;font-weight:600;width:368px;height:40px;background:#eef0f2;border-radius:8px;::placeholder{color:#88939d;}}&.expand{&:before{color:#333333;}input{color:#333333;}}"]);function Te(e){var t=e.hotel,a=e.closeAction,n=e.backAction,i=e.enableSorting,r=void 0===i||i,o=e.priceMode,l=e.ratingMode,c=e.filterState,s=e.filtersList,d=void 0===s?[]:s,u=e.onChangeSearchTerm,f=e.onClickOurPickAction,h=e.onPYTExclusiveAction,v=e.onClickTopRatedOption,g=e.onClickDistanceOption,b=e.onClickPriceModeAction,y=e.sortingCategory,E=e.enableOurPicks,C=e.hotelProviders,x=e.showMapView,O=void 0!==x&&x,N=e.splitMode,w=e.userDetails,k=t.numberOfNights,S=t.cityName,A=t.name,j=t.location,T=t.sourceProvider,R=t.pytRecommended,D=[0];E&&D.push(0),"PRICE"===y&&(D=[0]),"STAR_RATING"===y&&(D=[1]);var F=Object(m.useState)(null),P=Object(V.a)(F,2),M=P[0],_=P[1],L=Object(m.useState)(null),B=Object(V.a)(L,2),H=B[0],z=B[1],U=Object(m.useState)(null),K=Object(V.a)(U,2),W=K[0],G=K[1];"AGODA"===T&&d&&d.length&&(d=d.filter((function(e){return"Trip Advisor Rating"!==e.title}))),Object(m.useEffect)((function(){_(null)}),[O]);var Y=null;if(O){var q=(d||[]).filter((function(e){return"source provider"!==(e.title||"").toLowerCase()}));Y=p.a.createElement(m.Fragment,null,p.a.createElement(Ie,null,p.a.createElement("i",{className:"pyt-search-16"}),p.a.createElement("input",{onChange:function(e){var t=e.target.value;G(t),_(null),u(t)},onFocus:function(e){e&&e.preventDefault(),z(!0)},value:W,onBlur:function(e){e&&e.preventDefault(),z(!H)},type:"text",placeholder:"Find a Hotel"}),p.a.createElement("i",{className:"pyt-backspace-24",onClick:function(e){e&&e.preventDefault(),_(null),z(!1),u(W,"")}})),p.a.createElement(je,{filterState:c,filtersList:q,onClickOurPickAction:f,onPYTExclusiveAction:h,sortingCategory:y,onClickPriceModeAction:b,onClickTopRatedOption:v,onClickDistanceOption:g,pytExclusive:c.pytExclusiveRates,userDetails:w,hotelProviders:C,cityId:null===t||void 0===t?void 0:t.cityId,pytRecommended:R}))}return p.a.createElement(m.Fragment,null,p.a.createElement(de.a,{show:null!==M&&O,onClick:function(){_(null)}}),p.a.createElement(ce.a,{enabled:!0},p.a.createElement("div",{className:"clearfix fw mbottom-medium"},p.a.createElement(le,{rootClassName:"subheader-models",searchPlaceHolder:"Find a hotel",isMobile:Object(I.a)(),sortingCategory:y,priceMode:o,ratingMode:l,onClickPriceModeAction:b,onClickTopRatedOption:v,onClickDistanceOption:g,userDetails:w,onClickBackAction:function(){Object(se.Ld)(se.t,{page:"Hotel Alternates"}),_(null),n()},onClickCloseAction:a,spanContent:"".concat(k," nights, ").concat(S),headerContent:"Change Hotel",enableSearch:r,defaultActiveIndes:D,onChangeAction:function(e){_(null),u(e)},HotelName:A,HotelCost:t.publishedCost}),Object(I.a)()?null:p.a.createElement("section",{className:"subheader-modals-info",style:O?{backgroundColor:"#fff"}:null},p.a.createElement(J,null,p.a.createElement("div",{className:"row vertical-center"},p.a.createElement("div",{className:"col-xs-7 col-sm-6 col-md-9 truncate info-header-block bold ".concat(O?"fade-slide-up":"fade-slide-down"),style:{overflow:"inherit",display:"flex"}},O?Y:"SUCCESS"===t.status?p.a.createElement(m.Fragment,null,N?"Looking to split stay at":"Now changing:",p.a.createElement("a",{href:"_",onClick:function(e){e&&e.preventDefault(),n()}}," ".concat(A).concat(j?", "+j:""))):null),p.a.createElement("div",{className:"col-xs-5 col-sm-6 col-md-3 text-right"})))))))}var Re=a(42),De=a(1619),Fe=a(1595),Pe=a(193),Me=a(601),_e=a(607),Le=a(191);function Be(e){var t=e.rootClassName,a=e.headerText,n=e.content,i=e.contentClass;return p.a.createElement("div",{className:t},a?p.a.createElement("b",null,a):null,p.a.createElement("span",{className:i},n))}Be.defaultProps={rootClassName:"bottom-info meta-text",contentClass:""};var He=a(35),Ve=a.n(He),ze=a(1617),Ue=a(1741),Ke=a(1650),We=a(898),Ge=a.n(We);function Ye(e){var t,a=e.size,n=e.starRatingCount,i=void 0===n?0:n,r=e.advisorRatingCount,o=void 0===r?0:r,l=e.images,c=void 0===l?[]:l,s=e.roomLeftCount,d=e.hotelName,u=e.recommended,h=e.amenityElement,v=e.addressContent,g=e.activitiesIcons,b=void 0===g?[]:g,y=e.hotelCost,E=e.isSoldOut,C=void 0!==E&&E,x=e.testimonialContent,O=e.soldOutContent,N=e.isMobile,w=void 0!==N&&N,k=e.status,S=e.itineraryTotalCost,A=e.onClickAction,j=void 0===A?function(){}:A,I=e.onMouseEnter,T=void 0===I?function(){}:I,R=e.onMouseLeave,D=void 0===R?function(){}:R,F=e.replaceClickAction,P=void 0===F?function(){}:F,M=e.priceDiffType,_=void 0===M?"NONE":M,L=e.maximumActivitiesCount,B=void 0===L?null:L,H=e.enableReport,z=void 0!==H&&H,U=e.ourSourceProviders,K=e.reportAction,W=void 0===K?function(){}:K,G=e.isLoading,Y=void 0!==G&&G,q=e.splitMode,J=void 0!==q&&q,Q=e.sourceProvider,X=void 0===Q?"":Q,$=e.tripAdvisorReviewCount,Z=void 0===$?0:$,ee=e.isAdmin,ae=void 0!==ee&&ee,ne=e.hotelDetails,ie=e.userDetails,re=Object(m.useState)(!1),oe=Object(V.a)(re,2),le=oe[0],ce=oe[1],se=Object(m.useState)(!1),de=Object(V.a)(se,2),ue=de[0],me=de[1],pe=Object(f.e)((function(e){var t=e.app;return(void 0===t?{}:t).itineraryInfo})),fe=null===pe||void 0===pe||null===(t=pe.cityById[null===ne||void 0===ne?void 0:ne.cityId])||void 0===t?void 0:t.recommendedHotelsOnly,he=Object(Ne.a)({permissions:ie.permissions,key:we.f}),ve={value:y},ge="AGODA"!==X||!!ae&&(!isNaN(i)&&0!==i&&!isNaN(Z)&&0!==Z),be="AGODA"===X?"AGODA":"ADVISOR",ye="AGODA"===X?10:5;Object(m.useEffect)((function(){null!==ne&&void 0!==ne&&ne.pytRecommended||!fe||!he||ce(!0)}),[]);var Ee=U?U.map((function(e,t){return p.a.createElement("figcaption",{key:t,className:"stars inverse bold"},p.a.createElement("span",{className:"pill color-white bg-accent-4"},e))})):null,Ce=function(){return"string"===typeof c?p.a.createElement("figure",{onClick:j,style:{backgroundImage:"url(".concat(c,")"),position:"relative"}}):p.a.createElement("figure",{style:{backgroundImage:"url(".concat(Array.isArray(c)?c[0]:"",")")}},"DATABASE"===X?p.a.createElement(Ke.a,{className:"color-white"},p.a.createElement("i",{className:"color-primary-dark pyt-flag-16"}),"PYT PREFERRED"):u?p.a.createElement(Ue.a,{style:{position:"absolute",top:"8px",left:"8px"}},p.a.createElement("i",{className:"pyt-thumb-up-16"}),p.a.createElement("b",null,"Top Recommended")):null)},xe=b;if(null!==B){var Oe=b.length;Oe>B&&(xe=xe.slice(0,B)).push(" + ".concat(Oe-B," amenities"))}var ke=z?p.a.createElement(Le.a,{buttonClass:"btn btn-danger btn-xs report-btn",buttonText:"Report",onClickAction:function(e){e&&e.stopPropagation(),W(e)}}):null,Se=p.a.createElement("div",{className:"middle-col",style:"medium"===a?{width:"60%"}:null,onClick:function(e){j(e)}},function(e){var t=p.a.createElement("i",{className:"bg-accent-1 color-white"},e),a=w?"count-left color-white":"count-left color-grey-medium";return e?w?p.a.createElement("strong",{className:a},t," Rooms left"):p.a.createElement("span",{className:a},t," Rooms left"):null}(s),p.a.createElement("p",null,p.a.createElement("span",{className:"small-heading bold"},d),v),Ee,h,p.a.createElement("p",{className:"txt"},xe.join(".")),p.a.createElement("ul",{className:"btm-txt"},!isNaN(i)&&0!==i&&p.a.createElement("li",null,p.a.createElement(Me.a,{rating:i}),p.a.createElement("b",null,"Star Category")),!isNaN(o)&&0!==o&&p.a.createElement("li",null,p.a.createElement("span",{className:"AGODA"===be?"agoda-rating":"ta-rating"},ge&&p.a.createElement(Me.a,{rating:o,defaultClassName:"pyt-radiobtn-unchecked-16",ratingType:be,starClassName:"pyt-radiobtn-checked-16",halfStarClassName:"pyt-half-checked-16",rootClassName:"ta-dots",alternateHotelRating:!0,tripAdvisorReviewCount:Z,maximumRating:ye})),"AGODA"===X?ae?p.a.createElement("b",null,"On Agoda"):null:p.a.createElement("b",null,"On Trip Advisor")),"medium"===a&&p.a.createElement("li",{className:"text-right ".concat(z?"price-block":""),style:{flex:1,margin:0}},C?p.a.createElement(ze.d,null):p.a.createElement(m.Fragment,null,y?p.a.createElement("span",{className:"price-txt medium-heading",style:{verticalAlign:"bottom",display:"block"}},"NONE"!==_?p.a.createElement("i",{className:"PRICEINCREASE"===_?"pyt-arrow-top-16 color-accent-13":"pyt-arrow-down-16 color-primary",style:{fontWeight:"bold",fontSize:"20px",lineHeight:1.2,verticalAlign:"top"}}):null,p.a.createElement(te.a,{objectData:ve,path:"value",defaultValue:"0"})):null,z?p.a.createElement(Le.a,{buttonClass:"btn btn-primary btn-sm",buttonText:J?"Add":"Replace",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),le?me(!0):P(e)},isLoading:Y}):"NONE"===_?p.a.createElement("b",null,"\xa0"):p.a.createElement("b",null,"Trip Total:"," ",p.a.createElement(te.a,{objectData:{value:Number.parseFloat(S)+Number.parseFloat(y)},path:"value",defaultValue:"0"}))))),"medium"===a?ke:null),Ae=p.a.createElement("div",{className:"detail-hotel-box",onClick:j},p.a.createElement("p",{className:"small-heading bold"},d,!isNaN(i)&&0!==i&&p.a.createElement(Me.a,{rating:i})),p.a.createElement("p",{className:"meta-text txt"},v),Ee,h,p.a.createElement("div",{className:"clearfix"},!isNaN(o)&&0!==o&&p.a.createElement("div",{className:"AGODA"===be?"agoda-rating":"ta-rating"},p.a.createElement(Me.a,{rating:o,ratingType:be,defaultClassName:"pyt-radiobtn-unchecked-16",starClassName:"pyt-radiobtn-checked-16",halfStarClassName:"pyt-half-checked-16",rootClassName:"ta-dots",enableLazyLoad:!1,alternateHotelRating:!0,tripAdvisorReviewCount:Z,maximumRating:ye})),p.a.createElement("div",{className:"clearfix pull-right"},y?p.a.createElement(_e.a,{rootClassName:"price-txt",withoutIcon:"NONE"===_,iconClassName:"PRICEINCREASE"===_?"pyt-arrow-top-16":"pyt-arrow-down-16",value:y,priceTag:"SPAN",spanClassName:" "}):null,ke))),je="medium"!==a&&p.a.createElement("div",{className:Ve()("right-col",{"price-variant-col":!C})},C?p.a.createElement(ze.d,null):p.a.createElement(m.Fragment,null,p.a.createElement("div",{className:"price-col"},y?p.a.createElement(_e.a,{rootClassName:"price-txt",withoutIcon:"NONE"===_,iconClassName:"PRICEINCREASE"===_?"pyt-arrow-top-16":"pyt-arrow-down-16",value:y,priceTag:"SPAN",spanClassName:" "}):null," ",p.a.createElement(Le.a,{buttonClass:"btn btn-primary btn-sm",buttonText:J?"Add":"Replace",onClickAction:P,isLoading:Y}))),ke),Ie=C?p.a.createElement(Be,{content:O,headerText:"This property is sold out. ",contentclassName:"light"}):x?p.a.createElement(Be,{rootClassName:"bottom-info meta-text blue-bg",content:x}):null,Te={rootClassName:"hotel-alter-card",leftSidePanel:Ce(),midPanel:Ae,rightSidePanel:null,cardFooterPanel:null},Re={rootClassName:"hotel_card",leftSidePanel:p.a.createElement("div",{className:"left-col",style:"medium"===a?{width:"40%"}:null},k?p.a.createElement("strong",{className:"color-white"},p.a.createElement("i",{className:"pyt-fire-16 color-accent-1 "})," ",k):null,Ce()),midPanel:Se,rightSidePanel:je,cardFooterPanel:Ie},De=w?Te:Re,Fe=De.leftSidePanel,Pe=De.midPanel,He=De.rightSidePanel,We=De.cardFooterPanel,Ye=De.rootClassName;return p.a.createElement("section",{className:Ye,onMouseEnter:T,onMouseLeave:D},Fe,Pe,He,We,p.a.createElement(Ge.a,{show:ue,title:"Not a recommended hotel",text:"The hotel that you are about to add to the itinerary is not a recommended hotel. This could be because the hotel gave poor experience to our customer's in the past or is not a part of the SIC  transfer zone. Please  proceed with caution.",animation:!0,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel",onConfirm:function(){me(!1),P(),ce(!1)},onCancel:function(){me(!1)}}))}Ye.defaultProps={starRatingCount:0,advisorRatingCount:0,images:[],roomLeftCount:0,hotelName:"",amenitiesIcons:[],activitiesIcons:[],hotelCost:0,addressContent:"",priceContent:"",isSoldOut:!1,testimonialContent:"",soldOutContent:"",isMobile:!1,status:"",contentType:""};var qe=a(106),Je=a(1606),Qe=function(e){var t=(e||[]).every((function(e){return e.refundable})),a=(e||[]).every((function(e){return e.freeWireless})),n=(e||[]).every((function(e){return e.freeBreakfast})),i=(e||[]).length&&Object(Je.a)(e[0].mealType);return p.a.createElement("ul",{className:Object(I.a)()?"list-unstyled amenities":"amenities"},p.a.createElement("li",null,p.a.createElement("i",{className:"pyt-".concat(t?"refundable":"non-refundable","-16")}),p.a.createElement("span",null," ","".concat(t?"":"Non-","Refundable"))),p.a.createElement("li",null,p.a.createElement("i",{className:"pyt-".concat(a?"included":"excluded","-16")}),p.a.createElement("span",null," Wifi")),i?p.a.createElement("li",null,p.a.createElement("i",{className:"pyt-included-16"}),p.a.createElement("span",null," ",i)):p.a.createElement("li",null,p.a.createElement("i",{className:"pyt-".concat(n?"included":"excluded","-16")}),p.a.createElement("span",null," Breakfast")))};function Xe(e){var t=e.hotelList,a=e.userDetails,n=e.reportHotel,i=e.onMouseEnter,r=e.onMouseLeave,o=e.cardSize,l=e.splitMode,c=a&&a.loggedIn&&"ADMIN"===a.userType;if(!t)return null;var s=e.offlineHotels,d=e.hotelsReported,u=e.onViewDetailsClick,f=e.itineraryTotalCost,h=e.handleSelectedAlternateHotel,v=Object(m.useState)(null),g=Object(V.a)(v,2),b=g[0],y=g[1],E=Object(I.a)();return t.map((function(e,t){if(e.offlineHotels=s,-1!==(d||"").indexOf(e.hotelCode))return null;var v=e.diff||{},g=v.diffCost,C=v.diffChangeType,x=void 0===C?"NONE":C,O=e.publishedCost;e.diff&&e.diff.diffCost&&(O=g);var N=e.closestAttractions,w=((void 0===N?[]:N)||[]).map((function(e){var t=e.distanceToClosestHotel,a=void 0===t?null:t,n=e.name,i=void 0===n?"":n;return a?"".concat(a.toFixed(2)," ").concat(a>1?"Kms":"Km"," from ").concat(i):null})),k=w.length>1?" + ".concat(w.length-1," More"):null,S=w.length?w.splice(0,1):[],A=k?w.map((function(e){return e})):null;return p.a.createElement(Ye,{key:t,size:o,onClickAction:function(t){t&&t.preventDefault(),u(e),Object(se.Ld)(se.Qb,{hotel_name:e.name,hotel_id:e.hotelCode})},onMouseEnter:function(){"function"===typeof i&&i(e)},onMouseLeave:function(){"function"===typeof r&&r(e)},enableReport:c,reportAction:function(t){n(e,t)},starRatingCount:e.stars,images:E?e.otherImages?e.otherImages[0]:"":e.otherImages,roomLeftCount:0,hotelName:e.name,sourceProvider:e.sourceProvider,tripAdvisorReviewCount:e.tripAdvisorReviewCount,recommended:e.pytRecommended,advisorRatingCount:e.tripAdvisorRating,hotelCost:O,isLoading:b===t,maximumActivitiesCount:3,replaceClickAction:function(a){y(t),a&&a.preventDefault()&&a.stopPropagation(),h(e,a)},itineraryTotalCost:c?null:"string"===typeof f?parseInt(f.replace(/\,/g,"")):null,priceDiffType:c?"NONE":x,isSoldOut:!1,isMobile:Object(I.a)(),splitMode:l,addressContent:S.length?p.a.createElement(m.Fragment,null,S[0],k?p.a.createElement(qe.a,{text:A.join()},p.a.createElement("span",{style:{display:"inline-block"}},k)):null):e.location,amenityElement:Qe(e.roomsInHotel),activitiesIcons:(e.amenityDisplayList||[]).map((function(e){return e.amenityName})),ourSourceProviders:c?e.ourSourceProviders:null,isAdmin:c,hotelDetails:e,userDetails:a})}))}var $e=a(23),Ze=a(1638);function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var tt=L.a.api_url,at=function(e){Object(s.a)(a,e);var t=et(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={hotelsReported:[],element_status:"",header_text:"Available hotel options to choose from"},e.onViewDetailsClick=function(t){var a=e.props,n=a.history,i=a.location,r=a.currentPickHotel,o=a.openHotelsFromAlternates,l=a.cacheKey,c=a.match.params,s=c.itineraryId,d=c.searchRegion;o({currentPickHotel:r,selectedHotel:t,cacheKey:l,history:n,location:i,itineraryId:s,configKey:c.configKey,regionCode:d,retainQueryString:!0})},e.hideLoading=function(){e.setState({element_status:"",header_text:"Available hotel options to choose from"})},e.reportHotel=function(t,a){a.stopPropagation(),e.setState({reportAlert:!0,reportedHotel:t})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.hotelList.length!==e.hotelList.length?this.hideLoading():Object(Pe.a)(this.props,e)||this.hideLoading()}},{key:"render",value:function(){var e=this,t=this.props,a=t.moreAvailable,n=t.loadingStatus,r=t.loadMore,o=t.isLoadedTrigger,l=t.hotelList,c=void 0===l?[]:l,s=t.offlineHotels,d=t.itineraryTotalCost,u=t.handleSelectedAlternateHotel,f=t.userDetails,h=t.filtersList,v=t.cardSize,g=t.isLoading,b=t.onCardMouseEnter,y=t.onCardMouseLeave,E=t.splitMode,C=t.dataNotFoundText,O=this.state,N=O.hotelsReported,w=O.reportedHotel,k=O.reportAlert,S=p.a.createElement(Ze.a,{image:Object($e.a)("https://d3lf10b5gahyby.cloudfront.net/packages/empty_state_illustration.png",Object(I.a)()?"w=100&h=96&fit=crop":"w=160&h=153&fit=crop",20,void 0,!1),text:Array.isArray(C)?C.map((function(e,t){return p.a.createElement("p",{key:"no-text-".concat(t)},e)})):C,rootClassName:Object(I.a)()?"col-xs-10 col-xs-offset-1":""});if(g)S=p.a.createElement(H.d,null);else if(c.length){var A={cardSize:v,hotelList:c,userDetails:f,offlineHotels:s,hotelsReported:N,onViewDetailsClick:this.onViewDetailsClick,itineraryTotalCost:d,handleSelectedAlternateHotel:u,reportHotel:this.reportHotel,onMouseEnter:b,onMouseLeave:y,splitMode:E};S=p.a.createElement(Xe,A)}return p.a.createElement(m.Fragment,null,Object(I.a)()?null:p.a.createElement("div",{className:"option-header"},p.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium"},it(this.props)),p.a.createElement(nt,{filtersList:h||[]})),S,p.a.createElement(rt,{moreAvailable:a,loadingStatus:n,loadMoreAction:r,isLoadedTrigger:o}),p.a.createElement(x.a,{show:k,title:"Report Hotel!",text:"Are you sure you want to report this hotel? It will not come in any search results after this.",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, report",cancelButtonText:"Cancel",onCancel:function(){e.setState({reportAlert:!1,reportHotel:{}})},onConfirm:function(){var t="".concat(tt,"hotel/").concat(w.planningToolId,"/reportHotel");Object(_.a)({url:t,method:"GET",body:{},onSuccess:function(){e.setState((function(e){return{reportAlert:!1,reportedHotel:{},hotelsReported:[].concat(Object(i.a)(e.hotelsReported||[]),[w.hotelCode])}}))}})}}))}}]),a}(m.Component);function nt(e){var t=e.filtersList,a=[];return t.forEach((function(e,t){e&&Array.isArray(e.activeItems)&&e.activeItems.length&&Array.isArray(e.content)&&e.content.forEach((function(n,i){e.activeItems.includes(n.value)&&a.push(p.a.createElement("li",{key:"pill-".concat(t).concat(i)},p.a.createElement("span",{className:"".concat(e.styleName?e.styleName:"tag-sm"," round")},n.text||n.pillContent,p.a.createElement("i",{className:"pyt-close-16 cursor-pointer",onClick:function(){e.callback(n.value,!1)}}))))}))})),a.length?p.a.createElement("ul",{className:"popular-tags list-inline mbottom-medium ml-0",style:{padding:0}},a):null}function it(e){var t=e.loadingStatus,a=e.hotelList,n=void 0===a?[]:a,i="";return"FILTERING"===t?i="Fetching hotels based on your filters...":n.length>0&&(i="".concat(n.length," Options found")),i}function rt(e){var t=e.moreAvailable,a=e.loadingStatus,n=e.loadMoreAction,i=e.isLoadedTrigger;return t&&"FILTERING"!==a?p.a.createElement("div",{className:"col-xs-12 text-center mbottom-large",id:"load-more-link"},p.a.createElement(Le.a,{isDisabled:i,buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg",onClickAction:n,buttonText:i?"Loading...":"Load More",isLoading:i})):null}var ot=Object(g.withRouter)(at),lt=a(2204),ct=a(1886),st=z.default.div.withConfig({displayName:"recommendedFilter__FilterWrapper"})(["padding:12px 0;border-bottom:1px solid #f0f0f0;margin-bottom:16px;"]),dt=z.default.div.withConfig({displayName:"recommendedFilter__FilterDesc"})(["font-size:15px;color:#777777;width:70%;margin-top:8px;display:block;"]),ut=z.default.div.withConfig({displayName:"recommendedFilter__SmartFilter"})(["display:flex;align-items:center;width:100%;position:relative;font-weight:600;border-radius:4px;background-clip:padding-box;font-size:18px;line-height:1.2;letter-spacing:-0.3px;&::after{content:'\\EAE2';font-family:'pyticon';font-weight:normal;line-height:1;font-size:24px;position:absolute;left:96px;color:#26cf96;}i{font-size:17px;font-weight:normal;margin-left:6px;color:#777;}label{margin-left:auto;}"]),mt=function(e){var t=e.label,a=void 0===t?"Our Picks":t,n=e.on,i=e.onChange,r=e.isMobile,o=e.style;return p.a.createElement(st,null,p.a.createElement(ut,{style:o},a,"\xa0\xa0",p.a.createElement(me.a,{v2:!0,value:n||!1,onChangeAction:function(){return i(r)}})),p.a.createElement(dt,null,"Our expert's pick for a hassle-free stay during your vacation"))},pt=a(1604),ft=fe()({loader:function(){return Promise.all([a.e(5),a.e(17)]).then(a.bind(null,1934))},loading:function(){return p.a.createElement(he.a,null)}}),ht=function(e){var t=e.toggle,a=void 0===t||t,n=e.isMobile,i=e.filterState,r=e.filtersList,o=e.showRecommendedFilter,l=e.onClickOurPickAction,c=e.onPYTExclusiveAction;return p.a.createElement(ct.b,{toggle:a},p.a.createElement(ct.a,{bodyStyle:{paddingBottom:0}},o&&p.a.createElement(mt,{on:i.pytRecommended,tooltip:pt.h,isMobile:n,onChange:l})),(r||[]).map((function(e,t){return p.a.createElement(ct.a,{key:t,title:e.title},e.range?p.a.createElement(ft,{isMobile:n,minPrice:e.minPrice,maxPrice:e.maxPrice,selectedPrice:e.activeItems,sparkLinesData:e.content,onChange:e.callback,onComplete:e.onComplete,pytExclusive:i.pytExclusiveRates,onPYTExclusiveAction:c}):p.a.createElement(ve.a,{isCheckBox:e.checkbox,isRadio:e.radio,allowMultiple:e.allowMultiple,orientation:e.orientation,activeButtons:e.activeItems,onClickAction:function(t,a,i,r){e.callback(a,r,n)},componentValues:e.content}))})))},vt=function(e){var t=e.lastLocation,a=e.onGoBackModal,n=e.onCloseModal,i=e.currentHotel,r=e.searchText,o=e.priceMode,l=e.ratingMode,c=e.showRecommendedFilter,s=e.sortingCategory,d=e.filterState,u=e.filtersList,f=e.filterOptions,h=e.onClickOurPickAction,v=e.onClickTopRatedOption,g=e.onClickPriceModeAction,b=e.onChangeSearchText,y=e.loadingStatus,E=e.lastRequestType,C=e.resetFilterState,x=e.alternateHotels,O=e.itineraryId,N=e.regionCode,w=e.loadMore,k=e.applyFilters,S=e.isLoading,A=e.isLoadedTrigger,j=e.offlineHotels,I=e.openHotelsFromAlternates,T=e.handleSelectedAlternateHotel,R=e.userDetails,D=e.dataNotFoundText,F=x||{},P=F.cacheKey,M=void 0===P?"":P,_=F.hotelCostingVOList,L=void 0===_?[]:_,B=F.moreResultsAvailable,H=Object(m.useState)(!1),z=Object(V.a)(H,2),U=z[0],K=z[1],W=Object(m.useState)(d),G=Object(V.a)(W,1)[0],Y=function(){C(G),K(!U)};return p.a.createElement("div",{className:"hidden-md hidden-lg altermodal-xs-view xs-slide-up hotels-alternate-xs"},p.a.createElement(Te,{isMobile:!0,lastLocation:t,backAction:U?Y:a,closeAction:U?Y:n,hotel:i,searchTerm:r,priceMode:o,ratingMode:l,filterState:d,filterOptions:f,isLoading:S,showRecommendedFilter:c,sortingCategory:s,onChangeSearchTerm:b,onClickOurPickAction:h,onClickPriceModeAction:g,onClickTopRatedOption:v}),p.a.createElement("div",{className:"altermodal-xs-content"},U&&p.a.createElement("aside",{className:"altermodal-filters"},p.a.createElement(ht,{isMobile:!0,toggle:!1,filterState:d,filtersList:u,showRecommendedFilter:!0,onClickOurPickAction:h})),!U&&p.a.createElement(m.Fragment,null,p.a.createElement("section",{className:"options-hdr"},p.a.createElement("div",{className:"row vertical-center"},p.a.createElement("div",{className:"col-xs-12"},p.a.createElement(lt.a,{enableFilterOnMobile:U,isSearchable:!0,filtersList:u,onChangeSearchTerm:b,mobileFilterAction:function(){return K(!0)},mobileFilterUpdate:function(){K(!1),k()}}),p.a.createElement("p",{className:"small-heading color-grey-secondary mtop-medium mbottom-medium"},it({loadingStatus:y,hotelList:L,lastRequestType:E,isLoading:S})))))),!U&&p.a.createElement(ot,{loadMore:w,regionCode:N,cacheKey:M,itineraryId:O,userDetails:R,offlineHotels:j,moreAvailable:B,currentPickHotel:i,isLoading:S,isLoadedTrigger:A,hotelList:L,openHotelsFromAlternates:I,handleSelectedAlternateHotel:T,dataNotFoundText:D})),U?p.a.createElement(lt.a,{enableFilterOnMobile:U,mobileFilterAction:function(){return K(!0)},mobileFilterUpdate:function(){K(!1),k()}}):null)},gt=a(1780),bt=a(2586),yt=z.default.div.withConfig({displayName:"MapCard__MapCardContainer"})(["cursor:default;width:240px;margin:0;background-color:#fff;box-shadow:0px 3px 15px rgba(0,0,0,0.1);"]),Et=z.default.figure.withConfig({displayName:"MapCard__CardImageContainer"})(["position:relative;background:",";background-size:cover;background-position:center;height:166px;width:100%;::before{content:'';position:absolute;left:0;top:0;height:100%;width:100%;background-color:rgba(0,0,0,0.5);background:-webkit-gradient( linear,left top,left bottom,from(rgba(0,0,0,0.5)),to(transparent) );background:linear-gradient(180deg,rgba(0,0,0,0.5),transparent);background:-webkit-linear-gradient(top,rgba(0,0,0,0.5),transparent);background:-o-linear-gradient(top,rgba(0,0,0,0.5),transparent);}"],(function(e){return e.src?"url(".concat(e.src,")"):"#fcfcfc"})),Ct=z.default.span.withConfig({displayName:"MapCard__CardImageTitle"})(["color:#fff;font-size:20px;position:absolute;top:8px;left:8px;i{font-size:24px;vertical-align:-2px;}"]),xt=z.default.div.withConfig({displayName:"MapCard__CardContet"})(["padding:12px;p{font-size:14px;}.star-rating i{color:#e5b52e;font-size:16px;color:#e5b52e;line-height:1;vertical-align:text-bottom;}.ta-rating{margin-left:8px;img{width:24px;}i{font-size:16px;}}"]),Ot=function(e){var t=e.data,a=e.isAdmin,n=e.onClick,i=e.onReplaceAction,r=e.splitMode,o=t.name,l=t.location,c=t.imageURL,s=t.pytRecommended,d=t.stars,u=t.tripAdvisorRating,m=t.diff,f=t.publishedCost,h=t.sourceProvider,v=m||{},g=v.diffCost,b=v.diffChangeType,y=void 0===b?"NONE":b,E="AGODA"===h,C=f;m&&m.diffCost&&(C=g);var x={value:C},O="PRICEINCREASE"===y?"pyt-arrow-top-24 color-accent-7":"NONE"===y?"":"pyt-arrow-down-24 color-primary";return p.a.createElement(yt,{onClick:n||function(){return null}},p.a.createElement(Et,{src:c},p.a.createElement("figcaption",null,p.a.createElement(Ct,null,p.a.createElement("i",{className:O}),p.a.createElement("b",{className:"semi-bold"},p.a.createElement(te.a,{objectData:x,path:"value",defaultValue:"0"}))),"DATABASE"===h?p.a.createElement(Ke.a,{className:"color-white"},p.a.createElement("i",{className:"color-primary-dark pyt-flag-16"}),"PYT EXCLUSIVE"):s?p.a.createElement(Ue.a,{style:{position:"absolute",top:"8px",left:"8px"}},p.a.createElement("i",{className:"pyt-thumb-up-16"}),p.a.createElement("b",null,"Top Recommended")):null)),p.a.createElement(xt,null,p.a.createElement("p",{className:"mbottom-small color-grey-medium"},p.a.createElement("span",{className:"bold color-black fine-text",style:{display:"block"}},o),l),p.a.createElement("div",{className:"mbottom-small"},!isNaN(d)&&0!==d&&p.a.createElement(Me.a,{rating:d}),p.a.createElement("span",{className:"ta-rating"},!isNaN(u)&&0!==u&&!E&&p.a.createElement(Me.a,{rating:u,ratingType:"ADVISOR",defaultClassName:"pyt-radiobtn-unchecked-16",starClassName:"pyt-radiobtn-checked-16",halfStarClassName:"pyt-half-checked-16",rootClassName:"ta-dots"}))),a?p.a.createElement(Le.a,{type:"button",buttonText:r?"Add":"Replace",buttonClass:"btn btn-sm btn-primary",styleValues:{fontSize:"14px"},onClickAction:i}):null))};function Nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var wt,kt,St=z.default.div.withConfig({displayName:"AlternatesMapWrapper__CustomContainer"})(["position:absolute;padding:10px;display:inline-block;z-index:6;"]),At=Object(z.default)(St).withConfig({displayName:"AlternatesMapWrapper__TopRightContainer"})(["top:0;right:0;"]),jt=Object(z.default)(bt.b).withConfig({displayName:"AlternatesMapWrapper__AttractionsMarker"})(["i{font-size:14px;padding:4px;background-color:rgba(0,0,0,0.7);border-radius:50%;color:#eaeaea;cursor:default;}"]),It=Object(z.default)(bt.d).withConfig({displayName:"AlternatesMapWrapper__PopupContainer"})(["display:flex;z-index:"," !important;will-change:auto !important;.mapboxgl-popup-content{padding:0;line-height:1;border:",";border-bottom-width:0;border-radius:0;will-change:auto;box-shadow:0 2px 10px rgba(0,0,0,0.25);transition:border 0.2s ease-in;.mapboxgl-popup-close-button{z-index:2;font-size:30px;top:1px;right:2px;color:#fff;outline:none;}}&.price-block{.mapboxgl-popup-tip{border-top-color:#c3c3c3;&::after{content:'';border:6px solid transparent;border-bottom:none;border-top-color:#fff;bottom:1px;position:absolute;left:calc(50% - 6px);}}.mapboxgl-popup-content{box-shadow:0 3px 8px rgba(0,0,0,0.2);font-weight:bold;border:1px solid #c3c3c3;}.recommend-icon{background-color:#26cf96;padding:2px;margin-right:-6px;}}&.price-block.active,&.price-block:hover{cursor:pointer;z-index:6 !important;.mapboxgl-popup-tip{border-top-color:#333 !important;&::after{border:none;border-top-color:#333 !important;}}.mapboxgl-popup-content{color:#fff;background-color:#333;border-color:#333;i{color:#fff;}}&.highlight-green{.mapboxgl-popup-tip{border-top-color:#26cf96 !important;}.mapboxgl-popup-content{background-color:#26cf96;border-color:#26cf96;}}&.highlight-red{.mapboxgl-popup-tip{border-top-color:#f44336 !important;}.mapboxgl-popup-content{background-color:#f44336;border-color:#f44336;}}.recommend-icon{background-color:rgba(0,0,0,0.2);}}"],(function(e){return e.zIndex||3}),(function(e){return e.noBorder?"none":"1px solid rgba(0, 0, 0, 0.175)"})),Tt=Object(z.default)(bt.b).withConfig({displayName:"AlternatesMapWrapper__ActiveMarker"})(["z-index:3;"]),Rt=Object(z.default)(It).withConfig({displayName:"AlternatesMapWrapper__PopupMarker"})([".mapboxgl-popup-tip{border-top-color:#333 !important;}.mapboxgl-popup-content{font-size:14px;padding:8px;border-radius:3px;background-color:#333;color:#fff;width:150px;.small{font-size:80%;line-height:1.3;}}&::after{content:'';position:absolute;bottom:-8px;left:50%;margin-left:-9px;width:18px;height:18px;border:1px solid #fff;border-radius:9px;background-color:#ff3e3ebd;display:none;box-shadow:1px 1px 4px rgba(0,0,0,0.5);z-index:-1;}"]),Dt=z.default.div.withConfig({displayName:"AlternatesMapWrapper__MarkerPoint"})(["display:inline-block;width:20px;height:20px;border:2px solid #fff;border-radius:10px;background-color:#7d42a1;box-shadow:1px 1px 4px rgba(0,0,0,0.5);z-index:3;animation:"," 2s 300ms 0 ease;animation-iteration-count:infinite;"],(wt="#7d42a1",kt=15,Object(z.keyframes)(["0%{box-shadow:0 0 0 0 ",";}70%{box-shadow:0 0 0 ","px transparent;}100%{box-shadow:0 0 0 0 transparent;}"],wt||"blue",kt||20))),Ft=Object(z.default)(It).withConfig({displayName:"AlternatesMapWrapper__PopupTooltip"})([".mapboxgl-popup-tip{border-top-color:#333 !important;}.mapboxgl-popup-content{font-size:14px;padding:6px;border-radius:3px;background-color:#333;color:#fff;max-width:150px;}"]),Pt=z.default.div.withConfig({displayName:"AlternatesMapWrapper__MapCardPrice"})(["padding:0;font-size:15px;text-align:center;> div{padding:0 16px;}span{padding:6px;display:inline-block;vertical-align:middle;&:last-child{padding:6px 12px;}}"]),Mt=z.default.i.withConfig({displayName:"AlternatesMapWrapper__PYTHappySign"})(["color:#fff;font-size:23px;display:block;"]),_t=function(e){Object(s.a)(a,e);var t=Nt(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={tooltipData:null,popupCardData:null,showActiveData:null,activeLatitude:100,activeLongitude:100,currentHotelTooltip:null,mapData:{latitude:0,longitude:0,minZoom:11}},e.onViewportChange=function(t){e.setState((function(e){return{mapData:Object(r.a)(Object(r.a)({},e.mapData),t)}}))},e.onMapClick=function(){e.state.popupCardData&&(Object(se.Ld)(se.cc,{map_clicked:!0}),e.setPopupCardData(null))},e.setPopupCardData=function(t){t&&Object(se.Ld)(se.bc,{hotel_name:t.name,hote_price:t.diff?t.diff.diffost:null,pyt_recommended:t.pytRecommended,current_hotel:e.props.activeData.name}),e.setState({popupCardData:t})},e.setTooltipData=function(t){e.setState({tooltipData:t})},e.mapMarkers=function(t){return t.map((function(t,a){return p.a.createElement(jt,{key:a,latitude:parseFloat(t.location.latitude),longitude:parseFloat(t.location.longitude),offsetLeft:-11},p.a.createElement("i",{className:"pyt-binocular-16",onMouseEnter:function(){return e.setTooltipData(t)},onMouseLeave:function(){return e.setTooltipData(null)}}))}))},e.mapPopups=function(t){return t.map((function(t,a){var n=t.diff||{},i=n.diffCost,r=n.diffChangeType,o=void 0===r?"NONE":r,l=t.publishedCost;t.diff&&t.diff.diffCost&&(l=i);var c="highlight-green";"PRICEINCREASE"===o?c="highlight-red":"NONE"===o&&(c="");var s={value:l};return t&&t.lon&&t.lat?p.a.createElement(It,{key:a,noBorder:!0,tipSize:6,anchor:"bottom",sortByDepth:!0,dynamicPosition:!1,closeButton:!1,className:"price-block ".concat(c," ").concat(t.active?"active":""),longitude:parseFloat(t.lon),latitude:parseFloat(t.lat)},p.a.createElement(Pt,{onClick:function(){return e.setPopupCardData(t)}},t.pytRecommended&&p.a.createElement("span",{className:"recommend-icon"},p.a.createElement(Mt,{className:"pyt-happy-sign-32"})),p.a.createElement("span",null,"\xa0",p.a.createElement(te.a,{objectData:s,path:"value",defaultValue:"0"})))):null}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.zoom,n=e.activeData,i=n.lat,o=n.lon,l=n.status,c={};"SUCCESS"===l&&i&&o?(c.showActiveData=!0,c.activeLatitude=parseFloat(i),c.activeLongitude=parseFloat(o)):(c.showActiveData=!1,c.activeLatitude=parseFloat(t[0].lat),c.activeLongitude=parseFloat(t[0].lon)),this.setState((function(e){return Object(r.a)(Object(r.a)({},c),{},{mapData:Object(r.a)(Object(r.a)({},e.mapData),{},{latitude:c.activeLatitude,longitude:c.activeLongitude,zoom:a||11})})}))}},{key:"componentDidUpdate",value:function(){this.props.highlightData&&this.state.popupCardData&&this.setPopupCardData(null)}},{key:"render",value:function(){var e=this,t=this.state,a=t.mapData,n=t.popupCardData,i=t.tooltipData,r=t.showActiveData,o=t.activeLatitude,l=t.activeLongitude,c=t.currentHotelTooltip,s=this.props,d=s.data,u=void 0===d?[]:d,f=s.activeData,h=s.highlightData,v=s.attractions,g=s.onCardClick,b=s.isAdmin,y=s.handleSelectedAlternateHotel,E=s.splitMode;return r||o&&l?p.a.createElement(bt.e,Object.assign({mapboxApiAccessToken:L.a.MapboxAccessToken,dragPan:!0,dragRotate:!1,doubleClickZoom:!0,touchZoom:!1,touchRotate:!1,keyboard:!1},a,{mapStyle:"mapbox://styles/sasikumar1418/cjukr8o595v3e1fobdt1gzw7e",minZoom:11,width:"100%",height:"100%",onViewportChange:this.onViewportChange,onClick:this.onMapClick,onDblClick:function(){return Object(se.Ld)(se.ec,{double_click_zoom:!0})},onWheel:function(e){return e.delta<0?Object(se.Ld)(se.ec,{map_zoom_out:!0}):Object(se.Ld)(se.ec,{map_zoom_in:!0})}}),Array.isArray(v)?this.mapMarkers(v):null,Array.isArray(u)?this.mapPopups(u):null,h?this.mapPopups([h]):null,r?p.a.createElement(m.Fragment,null,p.a.createElement(Tt,{longitude:l,latitude:o,offsetLeft:-10,offsettop:-10,style:{zIndex:3}},p.a.createElement(Dt,{onMouseEnter:function(){e.setState({currentHotelTooltip:!0})},onMouseLeave:function(){e.setState({currentHotelTooltip:null})}})),c?p.a.createElement(Rt,{zIndex:5,closeButton:!1,longitude:l,latitude:o,tipSize:6},p.a.createElement(Pt,{className:"truncate"},p.a.createElement("div",{className:"text-center color-grey-light small bold"},"CURRENT STAY"),f.name)):null):null,n?p.a.createElement(It,{noBorder:!0,zIndex:6,longitude:parseFloat(n.lon),latitude:parseFloat(n.lat),closeOnClick:!1,closeButton:!1},p.a.createElement(Ot,{data:n,splitMode:E,isAdmin:b,onClick:function(){"function"===typeof g&&g(n)},onReplaceAction:function(e){e&&e.preventDefault(),e&&e.stopPropagation(),y(n,e)}})):null,i?p.a.createElement(Ft,{noBorder:!0,zIndex:6,className:"truncate",longitude:parseFloat(i.location.longitude),latitude:parseFloat(i.location.latitude),closeButton:!1,tipSize:6},p.a.createElement(Pt,{className:"truncate"},i.name)):null,p.a.createElement(At,null,p.a.createElement(bt.a,null),p.a.createElement(bt.c,{className:"vmargin-small",showCompass:!1}))):null}}]),a}(m.Component),Lt=a(31),Bt=a(2075),Ht=z.default.div.withConfig({displayName:"HotelAlternatesDesktop__MapContainer"})(["position:fixed;z-index:0;right:0px;bottom:0px;width:42vw;height:calc(100vh - 130px);transform:",";transition:transform 0.3s ease-in;"],(function(e){return e.show?"translateX(0)":"translateX(100%)"})),Vt=Object(Bt.a)((function(e){var t=e.match,a=e.location,n=e.lastLocation,i=e.loadMore,o=e.isLoading,l=e.isLoadedTrigger,c=e.showRecommendedFilter,s=e.attractions,d=e.filterState,u=e.filterOptions,f=e.filtersList,h=e.userDetails,v=e.resetFilters,g=e.itineraryTotalCost,b=e.alternateHotels,y=e.onGoBackModal,E=e.onCloseModal,C=e.currentHotel,x=e.searchText,O=e.priceMode,N=e.ratingMode,w=e.sortingCategory,k=e.onChangeSearchText,S=e.onClickOurPickAction,A=e.onPYTExclusiveAction,j=e.onClickTopRatedOption,I=e.clearAll,T=e.hotelProviders,R=e.onClickPriceModeAction,D=e.onClickDistanceOption,F=e.openHotelsFromAlternates,P=e.handleSelectedAlternateHotel,M=e.getFromStorage,_=e.setToStorage,L=e.splitMode,B=e.dataNotFoundText,z=void 0===B?"":B,U=Object(m.useState)({stepIndex:0,showGuide:!1}),K=Object(V.a)(U,2),W=K[0],G=K[1];Object(m.useEffect)((function(){1!==M("alternate_hotel_user_guide")&&G({showGuide:!0})}),[]),Object(m.useEffect)((function(){var e=window.sessionStorage.getItem("alternate_hotels_scroll_pos");e&&window.scrollTo(0,parseInt(e)||0)}),[(a||{}).pathname]);var Y=Object(m.useState)(null),q=Object(V.a)(Y,2),J=q[0],Q=q[1],X=!0;Object(Lt.a)()||("ah_map_status"in window.localStorage?X=Boolean(parseInt(M("ah_mp_status"))):_("ah_mp_status",1));var $=Object(m.useState)(X),Z=Object(V.a)($,2),ee=Z[0],te=Z[1],ae=function(e){Object(se.Ld)(se.ld,{element_name:"city_itinerary_pg_btn"}),[gt.a.NEXT].includes(e.action)||([gt.b.STEP_AFTER,gt.b.TARGET_NOT_FOUND].includes(e.type)?G({stepIndex:W.stepIndex+1}):[gt.c.FINISHED,gt.c.SKIPPED].includes(e.status)&&(_("alternate_hotel_user_guide",1),G({showGuide:!1})))},ne=b||{},ie=ne.cacheKey,re=void 0===ie?"":ie,oe=ne.hotelCostingVOList,le=void 0===oe?[]:oe,ce=ne.moreResultsAvailable;return p.a.createElement("div",{className:"hidden-sm hidden-xs hotels-alternate ".concat(t.params.hotelCode?"hide":"")},p.a.createElement(gt.d,{run:W.showGuide,callback:ae,stepIndex:W.stepIndex,steps:[{target:".joyride-trigger-pyt",placement:"right",textAlign:"left",hideCloseButton:!0,hideFooter:!0,disableBeacon:!0,content:p.a.createElement("div",{className:"text-right"},p.a.createElement("p",{className:"text-left mb-0"},p.a.createElement("strong",null,"New!"),"\xa0Enable the smart filter to get our recommended hotels",p.a.createElement("a",{className:"bold color-white cursor-pointer pull-right",onClick:function(){return ae({type:gt.b.STEP_AFTER})}},"Got It")))},{target:".search > input",content:p.a.createElement("div",{className:"text-right"},p.a.createElement("p",{className:"text-left mb-0"},"Search from over 200+ hotels",p.a.createElement("a",{className:"bold color-white cursor-pointer pull-right",onClick:function(){return ae({status:gt.c.FINISHED})}},"Got It"))),textAlign:"left",hideCloseButton:!0,hideFooter:!0,disableBeacon:!0}],styles:{options:{arrowColor:"#1895b3",backgroundColor:"#1895b3",textColor:"#FFFFFF"},tooltipContent:{padding:"0px"}}}),p.a.createElement(Te,{showMapView:ee,toggleMapViewAction:function(e){Object(Lt.a)()||(_("ah_mp_status",e?1:0),te(e),e?Object(se.Ld)(se.Ab,{map_toggle_clicked:!0}):Object(se.Ld)(se.dc,{map_toggle_fullscreen:!0}),window.scrollBy(0,1))},lastLocation:n,backAction:y,closeAction:E,hotel:C,filterState:d,filtersList:f,resetFilters:v,history:history,location:a,hotelProviders:T,clearAll:I,filterOptions:u,showRecommendedFilter:c,searchTerm:x,priceMode:O,ratingMode:N,userDetails:h,sortingCategory:w,onChangeSearchTerm:k,onClickOurPickAction:S,onPYTExclusiveAction:A,onClickTopRatedOption:j,onClickPriceModeAction:R,onClickDistanceOption:D}),o?p.a.createElement(H.d,null):p.a.createElement("div",{className:"container lg-container"},p.a.createElement("div",{className:"row ".concat(ee?"fade-slide-left":"fade-slide-right")},p.a.createElement("div",{className:Ve()({"col-md-7":le.length&&ee,"col-md-9":le.length&&!ee||!le.length&&!ee,"col-md-12":!le.length&&ee})},p.a.createElement(ot,{cardSize:ee?"medium":null,loadMore:i,cacheKey:re,userDetails:h,filtersList:f,itineraryTotalCost:g,hotelList:le,currentPickHotel:C,moreAvailable:ce,onCardMouseEnter:function(e){ee&&Q(Object(r.a)(Object(r.a)({},e),{},{active:!0}))},onCardMouseLeave:function(){ee&&Q(null)},isLoadedTrigger:l,openHotelsFromAlternates:F,handleSelectedAlternateHotel:P,splitMode:L,dataNotFoundText:z}))),le.length?p.a.createElement(Ht,{className:ee?"bg-grey-lighter":"",show:ee},ee&&le.length?p.a.createElement(_t,{attractions:s,activeData:C,data:le,highlightData:J,isAdmin:h&&h.loggedIn&&"ADMIN"===h.userType,handleSelectedAlternateHotel:P,splitMode:L}):null):null))})),zt=function(e){var t,a,n,i,r,o,l=e.user_details,c=void 0===l?{loggedIn:!1}:l,s=e.currentPickHotel,d=e.campaign,u=e.regionCode,m=e.amenities,p=e.nearByLocations,f=e.hotelTypes,h=e.hotelProviders;return!(s&&"ISLANDHOPPER"===s.sourceProvider)&&(!d||d&&"mle"!==u)&&(t={type:"CHECKBOX",filterKey:"refundable",header:"Cancellation Policy",content:[{text:"Refundable",value:"Refundable"},{text:"Non Refundable",value:"Non Refundable"}]},Array.isArray(m)&&m.length&&(a={type:"CHECKBOX",filterKey:"amenities",header:"Inclusions",content:m.map((function(e){return{text:Object(De.a)(e.name),value:e.code,key:e.code}}))}),Array.isArray(f)&&f.length&&(r={type:"CHECKBOX",filterKey:"types",header:"Type",content:f.map((function(e){return{key:e.code,name:"hotel-type",value:e.code,text:Object(De.a)(e.name)}}))})),Array.isArray(p)&&p.length&&(i={type:"CHECKBOX",filterKey:"attractions",header:"Nearby Attractions",content:p.map((function(e){return{text:e.name,value:e.id,key:e.id}}))}),n={type:"CHECKBOX",filterKey:"starRatings",header:"Star Category",content:[{key:1,value:"2",text:"2 star"},{key:2,value:"3",text:"3 star"},{key:3,value:"4",text:"4 star"},{key:4,value:"5",text:"5 star"}]},Object(Ne.a)({permissions:null===c||void 0===c?void 0:c.permissions,key:we.g})&&h&&h.length&&(o={type:"CHECKBOX",filterKey:"sourceProvider",header:"Source provider",content:h.map((function(e){return{value:e,name:e,text:e}}))}),[a,n,t,r,i,o]},Ut=a(358),Kt=a(49),Wt=a.n(Kt),Gt=a(190),Yt=a(245),qt=a(2076);function Jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var Qt=L.a.api_url,Xt=function(e){Object(s.a)(a,e);var t=Jt(a);function a(){var e;Object(o.a)(this,a);for(var l=arguments.length,s=new Array(l),d=0;d<l;d++)s[d]=arguments[d];return(e=t.call.apply(t,[this].concat(s))).state={searchText:"",showModal:!1,currentPick:{},priceMode:"ASC",ratingMode:"ASC",sortingType:null,sortingCategory:"PRICE",filters:{amenities:[],attractions:[],maxPrice:null,minPrice:null,name:"",offerAvailable:null,packageRate:null,pytRecommended:null,pytExclusiveRates:null,refundable:null,seaPlane:null,speedBoat:null,starRatings:[],tripAdvisorRatings:[],sourceProvider:null,types:[],waterVilla:null},paymentOptions:{refundable:null,non_refundable:null},priceFilter:{selectedMinPrice:null,selectedMaxPrice:null},componentStatus:"LOAD_MORE",alternatesApiError:!1,filterOptionsInitialized:!1,existingHotelSet:[],alternateHotels:{hotelCostingVOList:[]},itineraryId:"",isLoadedTrigger:!1,currentHotelDetails:{},currentPageNumber:1,lastRequestType:"WITHOUT_FILTER",moreAvailable:!1,backgroundHeight:"100vh",isLoading:!1,nearByLocations:[]},e.skipCurrentHotel=function(t){var a=t.findIndex((function(t){return t.planningToolId===e.state.currentPick.planningToolId}));a>-1?t.splice(a,1):t.splice(0,0)},e.getCurrentDetails=function(){var t=e.props,a=t.match,n=t.hotelCostings,i=t.costingConfiguration,o=void 0===i?{}:i,l=t.location.search,c=t.cityById,s=e.state,d=s.currentPick,u=s.filters;if(n&&!Object.keys(d).length){var m,p=a.params.configKey;p=Object(R.a)(p);var f=n.costingById[p],h=null===(m=c[null===f||void 0===f?void 0:f.cityId])||void 0===m?void 0:m.recommendedHotelsOnly;if(!f)return void e.closeModal();var v=f.checkInDate,g=f.checkOutDate;if(e.isSplitMode()){v=Object(Ut.a)(l,"checkInDate");var b=Wt()(v,"DD/MMM/YYYY").format("DDMMYYYY");g=Object(Ut.a)(l,"checkOutDate");var y=Wt()(g,"DD/MMM/YYYY").format("DDMMYYYY");p="".concat(f.cityId,"###").concat(b,"_").concat(y)}var E={configKey:f.configKey,checkInDate:v,checkOutDate:g,hotelCostingKey:p,cityId:f.cityId,hotelGuestConfiguration:{guestRoomConfigurations:o.hotelGuestRoomConfigurations},filters:Object(r.a)(Object(r.a)({},u),{},{sourceProvider:f.sourceProvider})};e.setState({currentPick:f,filters:Object(r.a)(Object(r.a)({},u),{},{sourceProvider:f.sourceProvider})},(function(){h?e.getAlternateHotels(E,"NONE",h):e.getAlternateHotels(E,"NONE")}))}},e.getAlternateHotels=function(t,a,n){var o=e.props.match.params.itineraryId;t.itineraryId=o,void 0===t.filters?e.setState((function(){var e={showModal:!0,isLoadedTrigger:!0,lastRequestType:"WITHOUT_FILTER"};return"LOAD_MORE"!==a&&(e.alternateHotels={hotelCostingVOList:[]},e.isLoading=!0),e})):e.setState((function(){var e={isLoadedTrigger:!0,lastRequestType:"WITH_FILTER",componentStatus:"LOADING",filters:Object(r.a)({},t.filters)};return"LOAD_MORE"!==a&&(e.alternateHotels={hotelCostingVOList:[]},e.isLoading=!0),e})),Object(_.a)({url:"".concat(Qt,"hotel/alternates"),method:"POST",body:Object(r.a)(Object(r.a)({},t),{},{pageNum:t.pageNum||1}),onSuccess:function(a){var l={itineraryId:o,currentHotelDetails:t,componentStatus:e.state.filterOptionsInitialized?"IDLE":"LOADING",isLoadedTrigger:!1,isLoading:!1},c=Object(b.a)(e.state.alternateHotels.hotelCostingVOList,e.skipCurrentHotel),s=a?a.data:a;if(s&&s.hotelCostingVOList&&s.hotelCostingVOList.length){var d=Object(b.a)(s.hotelCostingVOList,e.skipCurrentHotel);l.alternateHotels=Object(r.a)(Object(r.a)({},s),{},{hotelCostingVOList:[].concat(Object(i.a)(e.state.currentPageNumber===s.currentPageNum?[]:c),Object(i.a)(d))}),l.filters=Object(r.a)(Object(r.a)({},e.state.filters),{},{minPrice:s.minPrice,maxPrice:s.maxPrice}),l.priceFilter={selectedMinPrice:s.minPrice,selectedMaxPrice:s.maxPrice},l.currentPageNumber=s.currentPageNum,l.moreAvailable=s.moreResultsAvailable}else l.alternateHotels={hotelCostingVOList:c};var u=t.cityId,m=l.alternateHotels&&!l.alternateHotels.hotelCostingVOList.length?e.filterApplied()?e.state.filters.name.length?qt.h:qt.f:qt.c:"";e.setState(l,(function(){e.getNearByLocations(u,n),e.setState({dataNotFoundText:m})}))},onFailure:function(){e.setState({alternatesApiError:!0})}})},e.getFilterOptions=function(t){if(!e.state.filterOptionsInitialized)try{var a,n=e.props,i=n.user_details,r=n.itinerary,o=n.campaign,l=e.state,c=l.currentPick,s=l.alternateHotels,d=void 0===s?{}:s,u=l.nearByLocations,m=d.alternateHotelFilters||{},p=m.amenities,f=void 0===p?[]:p,h=m.types,v=void 0===h?[]:h,g=m.priceRange,b=void 0===g?[]:g,y=m.showPytFilter,E=d.hotelProviders;e._showPytFilter=y,e._filterOptions=zt({campaign:o,amenities:f,priceRange:b,hotelProviders:E,user_details:i,nearByLocations:u,hotelTypes:v,currentPickHotel:c,regionCode:r.regionCode,splitPricing:r.splitPricing}),e.manipulateFilterItems(),e.setState({filterOptionsInitialized:!0});var C=Object(Ne.a)({permissions:null===(a=e.props.user_details)||void 0===a?void 0:a.permissions,key:we.f});t&&C&&e.onClickOurPickAction({isMobile:!0,recommendedHotelsOnly:t})}catch(x){}},e.getNearByLocations=function(t,a){Array.isArray(e.state.nearByLocations)&&!e.state.nearByLocations.length&&Object(_.a)({url:"".concat(Qt,"city/attractions?city=").concat(t),method:"GET",body:{},onSuccess:function(t){e.setState({nearByLocations:t.data},(function(){e.getFilterOptions(a)}))},onFailure:function(){e.setState({nearByLocations:[]},(function(){e.getFilterOptions(a)}))}})},e.resetMobileFilterState=function(t){e.setState({filters:t,priceFilter:{selectedMinPrice:t.minPrice,selectedMaxPrice:t.maxPrice}})},e.closeModal=function(){setTimeout((function(){e.setState({showModal:!1},(function(){Object(T.a)(),Object(Fe.h)(e.props)}))}),400)},e.goBackModal=function(){var t=e.props,a=t.history,n=t.location,i=t.match.params,r=i.searchRegion,o=i.itineraryId,l=i.configKey;a.push(Object(M.Jb)({itineraryId:o,regionCode:r,location:n,target:M.W,customParams:{configKey:l}}))},e.onChangeSearchText=function(t){e.state.filters.name!==t&&e.setState({searchText:t},(function(){e.applyHeaderFilters()}))},e.onClickOurPickAction=function(t){var a=t.isMobile;e.setState((function(e){return{filters:Object(r.a)(Object(r.a)({},e.filters),{},{pytRecommended:a})}}),(function(){e.applyFilters(),Object(se.Ld)(se.Rb,{smart_filter:e.state.filters.pytRecommended})}))},e.onPYTExclusiveAction=function(t){e.setState((function(e){return{filters:Object(r.a)(Object(r.a)({},e.filters),{},{pytExclusiveRates:!e.filters.pytExclusiveRates})}}),(function(){t||e.applyFilters()}))},e.onClickAttractions=function(t,a,n){e.setState((function(e){var n=e.filters.attractions.slice();if(a){var i=e.nearByLocations.find((function(e){return e.id===t}));n.push(i)}else n=n.filter((function(e){return e.id!==t}));return{filters:Object(r.a)(Object(r.a)({},e.filters),{},{attractions:n})}}),(function(){if(!n&&(e.applyFilters(),Array.isArray(e.state.nearByLocations)&&Array.isArray(e.state.filters.attractions))){var t=e.state.nearByLocations.filter((function(t){return e.state.filters.attractions.indexOf(t.id)>-1})).map((function(e){return e.name})).sort();Object(se.Ld)(se.Rb,{nearby:t})}}))},e.onClickHotelTypes=function(t,a,n){e.setState((function(e){var n=e.filters.types.slice();return a?n.push(t):n=n.filter((function(e){return e!=t})),{filters:Object(r.a)(Object(r.a)({},e.filters),{},{types:n})}}),(function(){if(!n&&(e.applyFilters(),Array.isArray(e.state.filters.types))){var t=[],a=((e.state.alternateHotels||{}).alternateHotelFilters||{}).types,i=void 0===a?[]:a;e.state.filters.types.forEach((function(e){i.includes(e.code)&&t.push(Object(De.a)(e.name))})),Object(se.Ld)(se.Rb,{hotel_types:t.sort()})}}))},e.onClickAmenities=function(t,a,n){e.setState((function(e){var n=e.filters.amenities.slice();return a?n.push(t):n=n.filter((function(e){return e!=t})),{filters:Object(r.a)(Object(r.a)({},e.filters),{},{amenities:n})}}),(function(){if(!n&&(e.applyFilters(),Array.isArray(e.state.filters.amenities))){var t=[],a=((e.state.alternateHotels||{}).alternateHotelFilters||{}).amenities,i=void 0===a?[]:a;e.state.filters.amenities.forEach((function(e){i.includes(e.code)&&t.push(Object(De.a)(e.name))})),Object(se.Ld)(se.Rb,{inclusions:t.sort()})}}))},e.onClickRatings=function(t,a,n){e.setState((function(e){var n=e.filters.starRatings.slice();if(a){var i=parseFloat(t);n.push(t,(i-.5).toString())}else n=n.filter((function(e){return Math.ceil(parseFloat(e))!=t}));return{filters:Object(r.a)(Object(r.a)({},e.filters),{},{starRatings:n})}}),(function(){if(!n&&(e.applyFilters(),Array.isArray(e.state.filters.starRatings))){var t=e.state.filters.starRatings.map((function(e){return parseFloat(e)})).sort();Object(se.Ld)(se.Rb,{star_category:t})}}))},e.onClickTARatings=function(t,a,n){e.setState((function(e){var n=e.filters.tripAdvisorRatings.slice();return a?n.push(t):n=n.filter((function(e){return Math.ceil(parseFloat(e))!=t})),{filters:Object(r.a)(Object(r.a)({},e.filters),{},{tripAdvisorRatings:n})}}),(function(){if(!n&&(e.applyFilters(),Array.isArray(e.state.filters.tripAdvisorRatings))){var t=e.state.filters.tripAdvisorRatings.map((function(e){return parseFloat(e)})).sort();Object(se.Ld)(se.Rb,{star_category:t})}}))},e.onClickSourceProvider=function(t,a,n){e.setState((function(e){return{filters:Object(r.a)(Object(r.a)({},e.filters),{},{sourceProvider:t})}}),(function(){if(!n&&(e.applyFilters(),Array.isArray(e.state.filters.sourceProvider))){var t=e.state.filters.sourceProvider.map((function(e){return parseFloat(e)})).sort();Object(se.Ld)(se.Rb,{source_provider:t})}}))},e.onClickPaymentOptions=function(t,a,n){e.setState((function(e){var n=e.paymentOptions,i=n.refundable,o=n.non_refundable;return a?"Refundable"===t?i=!0:o=!0:"Refundable"===t?i=!1:o=!1,{paymentOptions:{refundable:i,non_refundable:o},filters:Object(r.a)(Object(r.a)({},e.filters),{},{refundable:i===o?null:!!i||!o&&null})}}),(function(){if(!n){e.applyFilters();var t=[];e.state.paymentOptions.refundable&&(t=["Refundable"]),e.state.paymentOptions.non_refundable&&(t=Array.isArray(t)?["Refundable","Non Refundable"]:["Non Refundable"]),Object(se.Ld)(se.Rb,{payment_options:t})}}))},e.onClickOtherFilters=function(t,a,i){e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{filters:Object(r.a)(Object(r.a)({},e.filters),{},Object(n.a)({},t,!0===a||null))})}),(function(){!i&&e.applyFilters()}))},e.onDragPriceRange=function(t){e._selectedPriceRange=t},e.onCompletePriceRangeSelection=function(t){e.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{priceFilter:{selectedMinPrice:e._selectedPriceRange[0],selectedMaxPrice:e._selectedPriceRange[1]}})}),(function(){!t&&e.applyFilters()}))},e.onClickPriceModeAction=function(){var t=Object(I.a)()&&"ASC"===e.state.priceMode?"DESC":"ASC";e.setState({sortingType:t,priceMode:t,sortingCategory:"PRICE",filters:Object(r.a)(Object(r.a)({},e.state.filters),{},{sortingType:t,priceMode:t,sortingCategory:"PRICE"})},(function(){e.applyFilters("HEADER"),Object(se.Ld)(se.Rc,{page:"Hotel Alternates",type:e.state.sortingCategory,sort_order:e.state.priceMode})}))},e.onClickTopRatedOption=function(){var t=Object(I.a)()?"ASC"===e.state.ratingMode?"DESC":"ASC":"DESC";e.setState({sortingType:t,ratingMode:t,sortingCategory:"STAR_RATING",filters:Object(r.a)(Object(r.a)({},e.state.filters),{},{sortingType:t,ratingMode:t,sortingCategory:"STAR_RATING"})},(function(){e.applyFilters("HEADER"),Object(se.Ld)(se.Rc,{page:"Hotel Alternates",type:e.state.sortingCategory,sort_order:e.state.ratingMode})}))},e.onClickDistanceOption=function(){e.setState({sortingType:"ASC",ratingMode:"ASC",sortingCategory:"DISTANCE",filters:Object(r.a)(Object(r.a)({},e.state.filters),{},{sortingType:"ASC",ratingMode:"ASC",sortingCategory:"DISTANCE"})},(function(){e.applyFilters("HEADER"),Object(se.Ld)(se.Rc,{page:"Hotel Alternates",type:e.state.sortingCategory,sort_order:e.state.ratingMode})}))},e.getSplitRequestData=function(t){var a=e.props,n=a.location.search,i=a.match.params,r=i.itineraryId,o=i.configKey,l=Object(Ut.a)(n,"lookingFor"),c=Object(Ut.a)(n,"nights"),s=e.state.alternateHotels.cacheKey;return{itineraryId:r,position:l,nights:c,updateHotelData:{planningToolId:t.planningToolId,configKey:Object(R.a)(o),cacheKey:s,itineraryId:r}}},e.saveSplitHotelInfo=function(t){var a=e.props.dispatch;Object(_.a)({url:"".concat(Qt,"hotel/split"),method:"POST",body:t,onSuccess:function(t){Object(Yt.a)(a,t.data),e.closeModal()},onFailure:function(t){Object(Gt.a)(t,a),e.closeModal()}})},e.handleSelectedAlternateHotel=function(t,a){a&&a.stopPropagation(),a&&a.nativeEvent.stopImmediatePropagation();var n={itineraryId:e.props.match.params.itineraryId,planningToolId:t.planningToolId,cacheKey:e.state.alternateHotels.cacheKey,hotelQuery:t.hotelQuery,offline:t.offlineHotels,configKey:e.state.currentHotelDetails.configKey,roomIdentifierList:(t.roomsInHotel||[]).map((function(e){return e.identifier})),sourceProvider:t.sourceProvider};if(e.isSplitMode()){var i=e.getSplitRequestData(t),r=e.props,o=r.hotelCostings,l=r.match,c=Object(R.a)(l.params.configKey),s=Object(O.a)(o,"costingById")[c]||{};return e.saveSplitHotelInfo(i),void Object(se.Ld)(se.Tc,{order_of_stay:i.position,total_duration:s.numberOfNights,hotel_1_name:s.name,hotel_2_name:t.name,hotel_2_duration:i.nights})}e.props.actions.updateHotel(n).then((function(){e.closeModal()})).catch((function(){e.closeModal()}))},e.filterApplied=function(){var t=e.state.filters;return t&&Object.values(t).some((function(e){if(e){if(Array.isArray(e))return!!e.length;if("object"===typeof e)return Object.values.includes(!0);if("number"!==typeof e)return!0}}))},e.applyFilters=function(t,a){var n=e.state,i=n.currentHotelDetails,o=n.filters,l=n.paymentOptions,c=n.nearByLocations,s=n.alternateHotels,d=n.sortingCategory,u=n.sortingType,m=n.priceFilter,p=n.searchText,f=n.currentPageNumber+1;if("LOAD_MORE"!==t&&(f=1,window.scrollTo(0,0),e.manipulateFilterItems()),a){var h={};if(Array.isArray(o.starRatings)&&(h.star_category=o.starRatings.map((function(e){return parseFloat(e)})).sort()),Array.isArray(c)&&Array.isArray(o.attractions)&&(h.nearby=c.filter((function(e){return o.attractions.indexOf(e.id)>-1})).map((function(e){return e.name})).sort()),Array.isArray(o.amenities)){var v=[],g=(s.alternateHotelFilters||{}).amenities,b=void 0===g?[]:g;o.amenities.forEach((function(e){b.includes(e.code)&&v.push(Object(De.a)(e.name))})),h.inclusions=v.sort()}if(l.refundable&&(h.payment_options=["Refundable"]),l.non_refundable&&(h.payment_options=Array.isArray(h.payment_options)?["Refundable","Non Refundable"]:["Non Refundable"]),Array.isArray(o.types)){var y=[],E=(s.alternateHotelFilters||{}).types,C=void 0===E?[]:E;o.types.forEach((function(e){C.includes(e.code)&&y.push(Object(De.a)(e.name))})),h.hotel_types=y.sort()}h.smart_filter=o.pytRecommended,Object(se.Ld)(se.Rb,h)}e.getAlternateHotels(Object(r.a)(Object(r.a)({},i),{},{pageNum:f,sortingCategory:d,sortingType:u,filters:Object(r.a)(Object(r.a)({},o),{},{name:p,minPrice:m.selectedMinPrice,maxPrice:m.selectedMaxPrice})}),t)},e.loadMore=function(){e.applyFilters("LOAD_MORE")},e.manipulateFilterItems=function(t){var a,n;"LOAD_MORE"!==t&&(e._filtersList=[],null===(a=Object(c.a)(e))||void 0===a||null===(n=a._filterOptions)||void 0===n||n.forEach((function(t){if(!t)return null;var a=[],n=function(){};if(Array.isArray(e.state.filters[t.filterKey])&&(a=e.state.filters[t.filterKey].map((function(e){return"string"===typeof e?e:e.id}))),"CHECKBOX"===t.type){if("attractions"===t.filterKey&&(n=e.onClickAttractions),"types"===t.filterKey&&(n=e.onClickHotelTypes),"amenities"===t.filterKey&&(n=e.onClickAmenities),"transfer"===t.filterKey){n=e.onClickOtherFilters;var r=e.state.filters,o=r.speedBoat,l=r.seaPlane;o&&a.push("speedBoat"),l&&a.push("seaPlane")}if("tripAdvisorRatings"===t.filterKey&&(n=e.onClickTARatings),"starRatings"===t.filterKey&&(n=e.onClickRatings),"refundable"===t.filterKey&&(n=e.onClickPaymentOptions,e.state.paymentOptions.refundable&&a.push("Refundable"),e.state.paymentOptions.non_refundable&&a.push("Non Refundable")),"sourceProvider"===t.filterKey){n=e.onClickSourceProvider;var c=e.state.filters.sourceProvider;a.push(c)}if("others"===t.filterKey){n=e.onClickOtherFilters;var s=e.state.filters,d=s.waterVilla,u=s.offerAvailable;d&&a.push("waterVilla"),u&&a.push("offerAvailable")}e._filtersList.push({checkbox:!0,orientation:"Vertical",title:t.header,callback:n,activeItems:a,content:t.content,styleName:t.styleName})}if("MULTIPLE"===t.type&&("starRatings"===t.filterKey&&(n=e.onClickRatings),"refundable"===t.filterKey&&(n=e.onClickPaymentOptions,e.state.paymentOptions.refundable&&a.push("Refundable"),e.state.paymentOptions.non_refundable&&a.push("Non Refundable")),e._filtersList.push({title:t.header,callback:n,activeItems:a,content:t.content})),"RANGE"===t.type){var m;n=e.onDragPriceRange;var p=e.onCompletePriceRangeSelection,f=e.state.filters;(m=a).push.apply(m,Object(i.a)(e._selectedPriceRange||[f.minPrice,f.maxPrice])),e._filtersList.push({range:!0,title:t.header,callback:n,onComplete:p,minPrice:f.minPrice,maxPrice:f.maxPrice,activeItems:a,content:t.content})}})))},e.isSplitMode=function(){var t=e.props.location.search;return!!Object(Ut.a)(t,"splitMode")},e.openHotelDetails=function(){var t;window.sessionStorage.setItem("alternate_hotels_scroll_pos",window.scrollY),(t=e.props.actions).openHotelsFromAlternates.apply(t,arguments)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.itinerary,n=t.location,i=t.match,r=t.actions,o=(i.params||{}).itineraryId;Object(j.a)(a)&&o&&r.getItinerary(o,n.search).then((function(){})).catch((function(){})),this.applyHeaderFilters=E()((function(){e.applyFilters("HEADER")}),300),Object(N.a)(),window.scroll(0,0),Object(k.a)(),this.getCurrentDetails(),window.addEventListener(Object(S.a)(),r.resizeHandler)}},{key:"componentWillUnmount",value:function(){Object(w.a)(),window.removeEventListener(Object(S.a)(),this.props.actions.resizeHandler),window.sessionStorage.removeItem("alternate_hotels_scroll_pos")}},{key:"componentDidUpdate",value:function(e){try{Object(N.a)(),this.props.itinerary&&JSON.stringify(e.itinerary)!==JSON.stringify(this.props.itinerary)&&this.getCurrentDetails()}catch(t){}}},{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){var e=this,t={type:"CHECKBOX",filterKey:"sourceProvider",header:"Source Provider",callback:this.onClickSourceProvider,activeItems:[this.state.filters.sourceProvider],content:(this.state.alternateHotels.hotelProviders||["AGODA","EXPEDIA"]).map((function(e){return{text:e,value:e,key:e}}))},a=Object(I.a)(),n=this.state,i=n.alternateHotels,o=n.componentStatus,l=n.isLoadedTrigger,c=n.moreAvailable,s=n.currentPick,d=n.searchText,u=n.priceMode,f=n.ratingMode,h=n.sortingCategory,v=n.filters,b=n.isLoading,y=n.paymentOptions,E=n.nearByLocations,C=n.alternatesApiError,O=n.dataNotFoundText,N=this.isSplitMode();if(i&&Object(Re.a)(i.hotelCostingVOList)&&"LOAD_MORE"===o)return p.a.createElement(H.d,null,p.a.createElement(Te,{key:"Loader",hotel:s,enableSorting:!1,isMobile:a,closeAction:this.closeModal,backAction:this.goBackModal,splitMode:N,sortingCategory:h,priceMode:u,ratingMode:f,onClickPriceModeAction:this.onClickPriceModeAction,onClickTopRatedOption:this.onClickTopRatedOption,onClickDistanceOption:this.onClickDistanceOption}));var w=this.props,k=w.lastLocation,S=w.location,A=w.match,j=w.history,T=w.user_details,R=w.itinerary;return p.a.createElement(m.Fragment,null,a?p.a.createElement(vt,{match:A,history:j,filterState:Object(r.a)(Object(r.a)({},v),{},{paymentOptions:y}),filterOptions:this._filterOptions||[],filtersList:this._filtersList||[],isLoadedTrigger:l,isLoading:b,showRecommendedFilter:this._showPytFilter,lastLocation:k,userDetails:T,alternateHotels:i,onGoBackModal:this.goBackModal,onCloseModal:this.closeModal,resetFilterState:this.resetMobileFilterState,loadMore:this.loadMore,moreAvailable:c,currentHotel:s,searchText:d,priceMode:u,ratingMode:f,sortingCategory:h,applyFilters:function(){return e.applyFilters(null,!0)},onChangeSearchText:this.onChangeSearchText,onClickOurPickAction:this.onClickOurPickAction,onPYTExclusiveAction:this.onPYTExclusiveAction,onClickAttractions:this.onClickAttractions,onClickHotelTypes:this.onClickHotelTypes,onClickRatings:this.onClickRatings,onClickAmenities:this.onClickAmenities,onClickOtherFilters:this.onClickOtherFilters,onClickPaymentOptions:this.onClickPaymentOptions,onClickTopRatedOption:this.onClickTopRatedOption,onClickDistanceOption:this.onClickDistanceOption,onClickPriceModeAction:this.onClickPriceModeAction,onClickPriceRangeFilters:this.onClickPriceRangeFilters,openHotelsFromAlternates:this.openHotelDetails,dataNotFoundText:O}):p.a.createElement(Vt,{match:A,location:S,filterState:Object(r.a)(Object(r.a)({},v),{},{paymentOptions:y}),filterOptions:this._filterOptions||[],filtersList:this._filtersList||[],isLoadedTrigger:l,isLoading:b,attractions:E,showRecommendedFilter:this._showPytFilter,lastLocation:k,userDetails:T,history:j,alternateHotels:i,onGoBackModal:this.goBackModal,onCloseModal:this.closeModal,currentHotel:s,loadMore:this.loadMore,hotelProviders:t,searchText:d,priceMode:u,ratingMode:f,itineraryTotalCost:null===R||void 0===R?void 0:R.totalCost,sortingCategory:h,onChangeSearchText:this.onChangeSearchText,onClickOurPickAction:this.onClickOurPickAction,onPYTExclusiveAction:this.onPYTExclusiveAction,onClickAttractions:this.onClickAttractions,onClickHotelTypes:this.onClickHotelTypes,onClickRatings:this.onClickRatings,onClickAmenities:this.onClickAmenities,onClickOtherFilters:this.onClickOtherFilters,onClickPaymentOptions:this.onClickPaymentOptions,onClickTopRatedOption:this.onClickTopRatedOption,onClickDistanceOption:this.onClickDistanceOption,onClickPriceModeAction:this.onClickPriceModeAction,onClickPriceRangeFilters:this.onClickPriceRangeFilters,openHotelsFromAlternates:this.openHotelDetails,handleSelectedAlternateHotel:this.handleSelectedAlternateHotel,splitMode:N,dataNotFoundText:O}),p.a.createElement(g.Switch,null,p.a.createElement(g.Route,{path:M.Ib.ALTERNATE_HOTEL_DETAILS,exact:!0,component:B.oc}),p.a.createElement(g.Route,{path:M.bb.HOTEL_ALTERNATES_DETAILS_ROUTE,exact:!0,component:B.oc})),p.a.createElement(x.a,{show:C,title:"Oops!",text:"Something went wrong while we were looking for hotels!",animation:!0,showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Try again!",cancelButtonText:"Cancel",onConfirm:function(){e.setState({alternatesApiError:!1}),e.closeModal()},onCancel:function(){e.setState({alternatesApiError:!1}),e.closeModal()}}))}}]),a}(m.Component);t.default=Object(v.withLastLocation)(Object(f.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=a.itineraryInfo,i=n.itinerary,r=n.hotelCostings,o=n.costingConfiguration,l=n.cityById,c=a.user_details;return{isReload:a.isReload,itinerary:i,hotelCostings:r,costingConfiguration:o,user_details:c,cityById:l}}),(function(e){return{actions:{updateHotel:Object(h.b)(D.a,e),getItinerary:Object(h.b)(F.a,e),resizeHandler:Object(h.b)(A.a,e),openHotelsFromAlternates:Object(h.b)(P.a,e)},dispatch:e}}))(Xt))},1472:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(38),r=a(39),o=a(58),l=a(46),c=a(56),s=a(29),d=a(0),u=a.n(d),m=a(30),p=a(54),f=a(591),h=a(1646),v=a(610),g=a(49),b=a.n(g),y=a(350),E=a(42),C=a(604),x=a(1602),O=a(1613),N=a(1621),w=a(1656),k=a(1684),S=a(1702),A=a(1693),j=a(213),I=a(341),T=a(62),R=a(252),D=a(20),F=a(2097),P=a(159),M=a(7),_=a(1634),L=a(290),B=a(1863),H=a(1765),V=a(1830),z=a(1600);function U(e){var t=e.rootClassName,a=void 0===t?"grey-content":t,n=e.policyClassName,i=void 0===n?"box-title mbottom-large":n,r=e.policyName,o=void 0===r?"Policy":r,l=e.children;return u.a.createElement("div",{className:a},u.a.createElement("div",{className:i},u.a.createElement("p",null,o)),l)}function K(e){var t=e.rootClassName,a=void 0===t?"box-para":t,n=e.titleClassName,i=void 0===n?"subtitle":n,r=e.title,o=e.children;return u.a.createElement("div",{className:a},u.a.createElement("strong",{className:i},r),o)}var W=a(15),G=a(1595),Y=a(18),q=a(2094),J=a(11),Q=a(2),X=a(191),$=a(47),Z=a(5),ee=a(6),te=a(55),ae=a(105),ne=a(169),ie=a(141),re=a(2437),oe=a(2597);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var ce=["AVAILABLE","COLLISION_WITH_ACTIVITY"],se=(Object(D.a)(),Q.default.ul.withConfig({displayName:"UpgradeActivityCard__WrapperStyledComponent"})(["",";",";margin:16px -4px 24px;li{float:left;width:33.33%;padding:0 4px;margin-bottom:8px;","{width:16.66%;}}"],$.d,$.f,ee.sm));Q.default.span.withConfig({displayName:"UpgradeActivityCard__TimePill"})(["display:block;transition:all 0.2s;border:1px solid ",";border-radius:4px;padding:9px 12px;text-align:center;font-size:13px;line-height:17px;background-color:",";color:",";cursor:",";b{text-transform:uppercase;font-weight:",";}p{display:block;font-size:12px;line-height:16px;color:",";margin:3px 0 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;i{font-size:",";line-height:1;vertical-align:text-bottom;}}","{",";}"],(function(e){return e.selected?"#1BAACC":"#D4D4D4"}),(function(e){return e.selected?"#1BAACC":null}),(function(e){return e.selected?"#ffffff":"rgba(0, 0, 0, 0.8)"}),(function(e){return e.selected?"default":e.isUnavailable?"not-allowed":"pointer"}),Z.theme.semiBold,(function(e){return e.selected?"#ffffff":"rgba(0, 0, 0, 0.5)"}),Z.theme.baseSecondary,ee.md,(function(e){return!e.selected&&Object(Q.css)(["&:hover{background-color:rgba(27,170,204,0.04);border-color:rgba(27,170,204,0.2);color:#1baacc;p{color:rgba(0,0,0,0.7);}}"])}));function de(e){var t=e.title,a=e.gradeDescription,n=e.diff,i=e.price,r=void 0===i?null:i,o=e.onSelect,l=e.gradeCode,c=e.available,s=e.currentSelection,d=e.currentStartSlot,m=e.startTime,p=e.options,f=e.tourGradeAvailabilityStatus,h=u.a.createElement(X.a,{buttonClass:"btn btn-default btn-outline btn-outline-bg",buttonText:"UNAVAILABLE"===f?"SOLD OUT":"Select",onClickAction:c?function(){return o(l,f)}:function(){},isDisabled:!c,styleValues:{color:"UNAVAILABLE"===f?"red":"inherit"}}),v={value:r},g={value:n};return u.a.createElement("section",{className:"viator-tg",style:{borderBottom:p.length>1&&"2px solid #e7e7e7"}},u.a.createElement("div",{className:"left-col",style:{borderRight:null!==p&&void 0!==p&&p.length||Object(D.a)()?"none":"1px solid #e7e7e7",paddingTop:Object(D.a)()&&0}},u.a.createElement("p",{style:{fontSize:Object(D.a)()?14:18,fontWeight:600,fontFamily:"Source Sans Pro",color:Object(D.a)()?"#5E5E5E":"#464646",margin:0,paddingTop:Object(D.a)()?0:20}},t),u.a.createElement("span",{style:{fontSize:Object(D.a)()?14:16,fontWeight:400,fontFamily:"Source Sans Pro",color:"#404040",margin:0},dangerouslySetInnerHTML:{__html:a}}),null!==p&&void 0!==p&&p.length?u.a.createElement(ae.a.Item,{paddingTop:16,flexDirection:"row",gap:8,width:"100%",flexWrap:"wrap",rowGap:20,columnGap:20},null===p||void 0===p?void 0:p.map((function(e,a){var n,i,r=m?s&&m===e.time:s&&d===e.startSlot,c=null===e||void 0===e||null===(n=e.diffVO)||void 0===n?void 0:n.diffChangeType,p=null===e||void 0===e||null===(i=e.diffVO)||void 0===i?void 0:i.diffCost,h="UNAVAILABLE"===(null===e||void 0===e?void 0:e.optionAvailabilityStatus),v="COLLISION_WITH_FLIGHT"===(null===e||void 0===e?void 0:e.optionAvailabilityStatus)||"COLLISION_WITH_TRANSFER"===(null===e||void 0===e?void 0:e.optionAvailabilityStatus);return u.a.createElement(ne.a,{key:t+"time-solot"+a,style:{backgroundColor:r?"rgba(0, 178, 119, 1)":"#FFF",border:"1px solid #C5C5C5",boxShadow:"none",borderRadius:"4px",height:Object(D.a)()?"69px":"78px",width:Object(D.a)()?"158px":"180px",justifyContent:"center",display:"flex",paddingLeft:"16px"},cursor:r||h||v?"not-allowed":"pointer",onPress:r||h||v?function(){return null}:function(){o(l,f,e.time)}},u.a.createElement(ie.a,{fontWeight:600,fontFamily:"Source Sans Pro",color:r?"#fff":"#747474",selectable:!1,fontSize:Object(D.a)()?14:16,paddingBottom:4},function(e){var t=e.split(":"),a=Object(J.a)(t,2),n=+a[0]%24;return(n%12||12)+":"+a[1]+" "+(n<12?"AM":"PM")}(null===e||void 0===e?void 0:e.time)),u.a.createElement(ie.a,{display:"flex",gap:4,alignItems:"center",fontFamily:"Source Sans Pro",fontWeight:h?600:400,color:r?"#fff":h?"#EF435D":"rgba(85, 85, 85, 1)",lineHeight:"17.6px",selectable:!1},r?"Current selection":"",h&&!r?"SOLD OUT":"",null===e||void 0===e||!e.cost||r||h?"":u.a.createElement(te.a,{objectData:{value:null===e||void 0===e?void 0:e.cost},path:"value",defaultValue:"0"}),"NONE"!==c||r||h?"PRICEINCREASE"!==c||r||h?"PRICEDECREASE"!==c||r||h?"":u.a.createElement("span",{style:{color:"#009E6A",fontSize:Object(D.a)()?"12px":"14px",fontWeight:600,alignItems:"center",display:"inline-flex",gap:2}},u.a.createElement(oe.a,{width:Object(D.a)()?12:14,height:Object(D.a)()?12:14,fill:"#00C684"}),"LOWER BY"):u.a.createElement("span",{style:{color:"#D73C54",fontSize:Object(D.a)()?"12px":"14px",fontWeight:600,alignItems:"center",display:"inline-flex",gap:2}},u.a.createElement(re.a,{width:Object(D.a)()?12:14,height:Object(D.a)()?12:14,fill:"#D73C54"}),"HIGHER BY"):"Same price",!p||"NONE"===c||r||h?" ":u.a.createElement(te.a,{objectData:{value:p},path:"value",defaultValue:"0"})))}))):null),u.a.createElement("div",{className:"right-col"},s&&!p.length?u.a.createElement("span",{className:"picked"},"CURRENT SELECTION"):!n||null!==p&&void 0!==p&&p.length?n||null!==p&&void 0!==p&&p.length?null:u.a.createElement("div",{className:"price-txt"},u.a.createElement("p",{className:"varied-price color-grey-secondary"},r?u.a.createElement(te.a,{objectData:v,path:"value",defaultValue:"0"}):""),h):u.a.createElement("div",{className:"price-txt"},u.a.createElement("p",{className:"varied-price color-grey-secondary"},"PRICEINCREASE"===n.diffChangeType?u.a.createElement("i",{className:"color-primary-dark pyt-arrow-top-16"}):u.a.createElement("i",{className:"color-primary-dark pyt-arrow-down-16"}),u.a.createElement(te.a,{objectData:g,path:"diffCost",defaultValue:"0"})),h)))}var ue=function(e){Object(l.a)(a,e);var t=le(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updateShowMore=function(e){n.setState((function(t){return{itemsToShow:"all"===e?t.itemsToShow+3:t.itemsToShow<=3?3:t.itemsToShow-3}}))},n.state={itemsToShow:3},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelect,n=t.tourGradeOptions,i=void 0===n?[]:n,r=t.currentTourGrade,o=t.tourGradeIsTitleOnly,l=t.currentStartSlot,c=t.startTime,s=this.state.itemsToShow,m=i.slice(0,o?i.length:s),p=de,f=o?se:d.Fragment,h=m.map((function(e,t){return u.a.createElement(p,{key:t,title:e.gradeTitle,gradeDescription:e.gradeDescription,diff:e.diff,price:e.cost,message:e.message,onSelect:a,tourGradeAvailabilityStatus:e.tourGradeAvailabilityStatus,gradeCode:e.gradeCode,available:ce.indexOf(e.tourGradeAvailabilityStatus)>-1,options:null===e||void 0===e?void 0:e.options,currentSelection:r===e.gradeCode,currentStartSlot:l,startTime:c,statusMessage:e.message})}));return u.a.createElement(f,null,h,s<i.length&&!o?u.a.createElement("div",{id:"load-more-link",style:{paddingTop:24}},u.a.createElement(X.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg",buttonText:"Show more",onClickAction:function(){return e.updateShowMore("all")}})):null," ",s!==i.length||3===s||o?null:u.a.createElement("div",{className:"text-center vpadding-medium mtop-medium",id:"load-more-link"},u.a.createElement(X.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg",buttonText:"Show less",onClickAction:this.updateShowMore})))}}]),a}(d.Component),me=a(2595),pe=a(1331),fe=a(1335),he=function(e){var t=e.inclusions,a=e.exclusions,n=Object(d.useMemo)((function(){var e=[],a=null===t||void 0===t?void 0:t.__html.split("<li>").filter((function(e,t){return t>0}));return null===a||void 0===a||a.forEach((function(t){var a=null===t||void 0===t?void 0:t.indexOf("<");e.push(t.substring(0,a))})),e}),[t]),i=Object(d.useMemo)((function(){var e=[],t=null===a||void 0===a?void 0:a.__html.split("<li>").filter((function(e,t){return t>0}));return null===t||void 0===t||t.forEach((function(t){var a=null===t||void 0===t?void 0:t.indexOf("<");e.push(t.substring(0,a))})),e}),[a]);return u.a.createElement(u.a.Fragment,null,n.length||i.length?u.a.createElement(fe.a,{style:{borderBottomWidth:!Object(D.a)()&&"2px",borderBottomColor:!Object(D.a)()&&"#E7E7E7",paddingBottom:Object(D.a)()?20:"40px"}},u.a.createElement("div",{style:{flexDirection:"row",display:"flex"}},n.length?u.a.createElement("div",{className:"inc-exc-title",style:{paddingTop:24,width:"50%"}},"Inclusions"):null,!Object(D.a)()&&i.length?u.a.createElement("div",{className:"inc-exc-title",style:{paddingTop:24,width:"50%",paddingLeft:"20px"}},"Exclusions"):null),u.a.createElement("div",{className:"inclusion-exclusion",style:{gap:20}},n.length&&u.a.createElement(fe.a,{style:{padding:"20px",backgroundColor:"#E4FBEF",borderRadius:"6px",height:"fit-content",width:!Object(D.a)()&&"50%"},gap:"16px"},null===n||void 0===n?void 0:n.map((function(e,t){return u.a.createElement(fe.a,{flexDirection:"row",gap:"8px",alignItems:"flex-start",key:"inclusion-list-"+t},u.a.createElement(me.a,{fill:"rgba(9, 179, 103, 1)",height:"16px",width:"16px",style:{marginTop:"4px"}}),u.a.createElement(ie.a,{fontSize:Object(D.a)()?14:17,fontWeight:400,color:"#5F5F5F",lineHeight:24,width:"320px",fontFamily:"Source Sans Pro"},e))}))),Object(D.a)()&&i.length?u.a.createElement("div",{className:"inc-exc-title",style:{paddingTop:12}},"Exclusions"):null,i.length?u.a.createElement(fe.a,{style:{padding:"20px",backgroundColor:"#FDECEF",borderRadius:"6px",height:"100%",flexBasis:"calc(50% - 10px)"},gap:"16px"},null===i||void 0===i?void 0:i.map((function(e,t){return u.a.createElement(fe.a,{flexDirection:"row",gap:"8px",alignItems:"flex-start",key:"exclusion-list-"+t},u.a.createElement(pe.a,{fill:"rgba(239, 67, 93, 1)",style:{height:"16px",width:"16px",marginTop:"4px"}}),u.a.createElement(ie.a,{fontSize:Object(D.a)()?14:17,fontWeight:400,color:"#5F5F5F",lineHeight:24,width:"320px",fontFamily:"Source Sans Pro"},e))}))):null)):null)},ve=a(2600),ge=a(1334),be=a(23),ye=a(1976),Ee=a(2587),Ce=a(2541),xe=a(896),Oe=Q.default.div.withConfig({displayName:"ImageSlider__Wrapper"})([".swiper-button-next{opacity:1 !important;box-shadow:0px 3px 8px rgba(0,0,0,0.2) !important;border-radius:50px !important;background-color:#ffffff !important;width:40px !important;height:40px !important;color:#000 !important;font-weight:700 !important;text-align:center !important;top:44% !important;z-index:1;position:absolute;right:20px !important;justify-content:center;align-items:center;display:flex;cursor:pointer;::after{font-size:12px !important;}margin-top:1 !important;@media screen and (max-width:480px){width:30px !important;height:30px !important;}}.swiper-button-prev{content:'>';opacity:1 !important;box-shadow:0px 3px 8px rgba(0,0,0,0.2) !important;border-radius:50px !important;background-color:#ffffff !important;width:40px !important;height:40px !important;color:#000 !important;font-weight:700 !important;text-align:center !important;top:44% !important;left:20px;z-index:1;position:absolute;justify-content:center;align-items:center;display:flex;cursor:pointer;::after{font-size:12px !important;}margin-top:1 !important;@media screen and (max-width:480px){width:30px !important;height:30px !important;}}.swiper-pagination-bullet{background-color:#ffffff !important;height:8px !important;width:18px !important;opacity:0.8 !important;border-radius:4px !important;}.swiper-pagination-bullet-active{width:20px !important;height:8px !important;opacity:2 !important;border-radius:4px !important;background-color:#ffffff !important;}.swiper-slide > span{width:100% !important;height:100% !important;}.mySwiper > .swiper-wrapper > .swiper-slide{height:88px !important;width:144px !important;opacity:0.8 !important;border-radius:8px !important;overflow:hidden !important;}.mySwiper > .swiper-wrapper > .swiper-slide-thumb-active{opacity:1 !important;border-radius:8px !important;border:4px solid #ffc933 !important;height:96px !important;}"]),Ne=function(e){var t=e.img,a=e.height,n=void 0===a?"550px":a,i=Object(d.useRef)(null),r=Object(d.useRef)(null),o=Object(d.useState)(1),l=Object(J.a)(o,2),c=l[0],s=l[1];return u.a.createElement(Oe,{style:{position:"relative"}},u.a.createElement(Ee.a,{onRealIndexChange:function(e){return s(e.activeIndex+1)},style:{height:n,width:"100%",borderRadius:Object(D.a)()?0:8},lazy:!0,navigation:{prevEl:r.current,nextEl:i.current},pagination:{clickable:!0,dynamicBullets:!0},onBeforeInit:function(e){e.params.navigation.prevEl=r.current,e.params.navigation.nextEl=i.current},modules:[ye.a,ye.b,d.lazy],centeredSlides:!0},null===t||void 0===t?void 0:t.map((function(e,t){return u.a.createElement(Ee.b,{key:t},u.a.createElement(ae.a.Item,{display:"flex",alignItems:"center",justifyContent:"center"},u.a.createElement("img",{src:e,alt:"img-slider-".concat(t),style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover"}})))})),u.a.createElement("div",{ref:r,className:"swiper-button-prev"},u.a.createElement(Ce.a,{height:Object(D.a)()?14:16,width:Object(D.a)()?14:16,fill:"#333"})),c==t.length?null:u.a.createElement("div",{ref:i,className:"swiper-button-next"},u.a.createElement(xe.a,{height:Object(D.a)()?14:16,width:Object(D.a)()?14:16,fill:"#333"}))),u.a.createElement("div",{style:{padding:Object(D.a)()?"4px 12px":"5px 14px",backgroundColor:"rgba(41, 41, 41, 0.7)",fontSize:Object(D.a)()?12:14,fontWeight:600,color:"#FFFFFF",position:"absolute",bottom:Object(D.a)()?20:80,display:"flex",zIndex:99999,right:Object(D.a)()?20:"18%",borderRadius:"21px"}},c,"/",t.length))},we=function(e){var t=e.title,a=e.images,n=Object(d.useState)(!1),i=Object(J.a)(n,2),r=i[0],o=i[1],l=null===a||void 0===a?void 0:a[0],c=(null===a||void 0===a?void 0:a[1])===(null===a||void 0===a?void 0:a[0])?void 0===(null===a||void 0===a?void 0:a[2])?null===a||void 0===a?void 0:a[1]:null===a||void 0===a?void 0:a[2]:null===a||void 0===a?void 0:a[1],s=(null===a||void 0===a?void 0:a[2])===(null===a||void 0===a?void 0:a[1])||null!==a&&void 0!==a&&a[0]?void 0===(null===a||void 0===a?void 0:a[3])?null===a||void 0===a?void 0:a[2]:null===a||void 0===a?void 0:a[3]:null===a||void 0===a?void 0:a[1],m=(null===a||void 0===a?void 0:a.length)>3&&(null===a||void 0===a?void 0:a.length)-3;return r||(document.body.style.overflow="auto"),u.a.createElement(ae.a,{overflow:"scroll",marginLeft:"auto",width:"calc(100% - 0px)",direction:"column",backgroundColor:"transparent",gutter:16},u.a.createElement(ae.a,{overflow:"hidden"},u.a.createElement(ae.a.Item,{overflow:"hidden",borderRadius:8,width:564,height:427},u.a.createElement("img",{src:"".concat(Object(be.a)(l)),height:"100%",width:"100%",alt:"img not shown",style:{objectFit:"cover"}})),u.a.createElement(ae.a.Item,{borderRadius:8,overflow:"hidden",width:422,height:427},u.a.createElement("img",{src:"".concat(Object(be.a)(c)),height:"100%",width:"100%",alt:"error",style:{objectFit:"cover"}})),u.a.createElement(ae.a.Item,{height:427,width:"100%",overflow:"hidden",borderRadius:8},u.a.createElement("img",{src:"".concat(Object(be.a)(s)),height:"100%",width:"100%",alt:"error",style:{objectFit:"cover"}})),m&&u.a.createElement(ae.a.Item,{position:"absolute",right:"3%",bottom:"40%"},u.a.createElement(ne.a,{onPress:function(){return o(!0)}},u.a.createElement(ae.a,{width:104,height:48,borderRadius:12,gutter:0},u.a.createElement(ae.a.Item,{width:"50%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.66)",borderTopLeftRadius:12,borderBottomLeftRadius:12,justifyContent:"center",alignItems:"center"},u.a.createElement(ae.a.Item,{alignItems:"center"},u.a.createElement(ie.a,{fontSize:18,fontWeight:600,lineHeight:24,color:"#fff"},isNaN(m)?0:m),u.a.createElement(ie.a,{fontSize:14,fontWeight:400,lineHeight:18,color:"#fff"},"More"))),u.a.createElement(ae.a.Item,{width:"50%",height:"100%",backgroundColor:"#fff",borderTopRightRadius:12,borderBottomRightRadius:12,justifyContent:"center",alignItems:"center"},u.a.createElement(ve.a,{width:19,height:19})))))),r?u.a.createElement(ge.a,{visible:r,containerProps:{minWidth:"100vw",minHeight:"100vh",paddingHorizontal:24,paddingVertical:16,backgroundColor:"rgb(44, 47, 66)",overflow:"scroll"}},u.a.createElement(ae.a,{height:"100%",alignItems:"center",flexDirection:"column",justifyContent:"space-evenly"},u.a.createElement(ae.a.Item,{height:"50px",width:"80%",justifyContent:"space-between",flexDirection:"row",alignItems:"center",borderBottomColor:"#FFFFFF",borderBottomWidth:.8},u.a.createElement(ie.a,{fontSize:16,fontWeight:600,color:"#FFFFFF"},t),u.a.createElement(ne.a,{onPress:function(){return o(!1)}},u.a.createElement(pe.a,{fill:"#FFFFFF",height:"18px",width:"18px"}))),u.a.createElement(ae.a.Item,{width:"80%",minHeight:"550px"},u.a.createElement(Ne,{img:a,height:"550px"})))):null)},ke=function(e){var t=e.whatToExport;return u.a.createElement(fe.a,{style:{paddingBottom:Object(D.a)()?20:40,borderBottomWidth:!Object(D.a)()&&2,borderBottomColor:!Object(D.a)()&&"#E7E7E7"}},u.a.createElement("div",{className:"what-to-expect-title"},"What To expect"),t&&u.a.createElement(u.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e,a){return u.a.createElement(fe.a,{flexDirection:"column",position:"relative",key:"whatToExpect"+a},u.a.createElement(fe.a,{position:"absolute",left:Object(D.a)()?3:1,top:0==a?22:5},u.a.createElement(fe.a,{height:Object(D.a)()?12:16,width:Object(D.a)()?12:16,backgroundColor:"#CDCDCD",borderRadius:50})),u.a.createElement("div",{className:"point-title",style:{paddingLeft:30,paddingTop:0==a?20:0}},null===e||void 0===e?void 0:e.attractionName," ",u.a.createElement("span",{className:"point-title",style:{textTransform:"capitalize"}})),u.a.createElement(fe.a,{style:{borderLeftColor:a+1==(null===t||void 0===t?void 0:t.length)?"none":"#CDCDCD",borderLeftWidth:a+1==(null===t||void 0===t?void 0:t.length)?0:"2px",marginLeft:"8px",paddingBottom:a+1==(null===t||void 0===t?void 0:t.length)?0:36}},u.a.createElement("div",{className:"description",style:{paddingTop:null!==e&&void 0!==e&&e.attractionName?8:2}},null===e||void 0===e?void 0:e.description),(null===e||void 0===e?void 0:e.googleMapsUrl)&&u.a.createElement("a",{href:"".concat(null===e||void 0===e?void 0:e.googleMapsUrl),target:"_blank",style:{gap:12,paddingTop:16,flexDirection:"row",paddingLeft:20,alignItems:"center",cursor:"pointer",display:"flex"}},u.a.createElement("img",{alt:"",src:Object(be.a)("https://oceanjar-new.s3.ap-south-1.amazonaws.com/images/web_app/Group+3522-min.png"),height:32,width:32}),u.a.createElement("div",{className:"see-on-map-text"},"See on Map"))))}))))},Se=function(e){var t=e.additionalInfo,a=Object(d.useState)(!1),n=Object(J.a)(a,2),i=n[0],r=n[1],o=1==i?null===t||void 0===t?void 0:t.length:null===t||void 0===t?void 0:t.slice(0,6).length,l=Object(d.useMemo)((function(){var e=[];return null===t||void 0===t||t.slice(0,o).map((function(t,a){(a+1)%2===0&&e.push(t)})),e}),[i]),c=Object(d.useMemo)((function(){var e=[];return null===t||void 0===t||t.slice(0,o).map((function(t,a){(a+1)%2!==0&&e.push(t)})),e}),[i]),s=Object(d.useState)(!1),m=Object(J.a)(s,2),p=m[0],f=m[1];return p||(document.body.style.overflow="auto"),u.a.createElement(u.a.Fragment,null,u.a.createElement(fe.a,{style:{paddingBottom:!Object(D.a)()&&40,borderBottomWidth:!Object(D.a)()&&2,borderBottomColor:!Object(D.a)()&&"#E7E7E7"}},u.a.createElement(ie.a,{fontSize:Object(D.a)()?17:24,lineHeight:30,fontWeight:600,color:"#333333",marginTop:Object(D.a)()?20:40,marginBottom:Object(D.a)()?20:24,fontFamily:"Source Sans Pro"},"Additional Info"),Object(D.a)()?u.a.createElement(u.a.Fragment,null,null===t||void 0===t?void 0:t.slice(0,3).map((function(e,t){return u.a.createElement(fe.a,{alignItems:"flex-start",key:"addInfo-"+t,flexDirection:"row",gap:"8px",paddingTop:0==t?0:12,columnGap:10},u.a.createElement(fe.a,{marginTop:8,height:8,width:8,backgroundColor:"#CDCDCD",borderRadius:50}),u.a.createElement("div",{className:"add-inf0-text"},e))}))):u.a.createElement("div",{className:"add-info-wrapper"},u.a.createElement("div",{className:"left-side"},null===c||void 0===c?void 0:c.slice(0,o).map((function(e,t){return u.a.createElement(fe.a,{alignItems:"flex-start",key:"addInfo-"+t,flexDirection:"row",gap:"8px",paddingTop:0==t?0:16},u.a.createElement(fe.a,{marginTop:8,height:8,width:8,backgroundColor:"#CDCDCD",borderRadius:50}),u.a.createElement("div",{className:"add-inf0-text"},e))}))),u.a.createElement("div",{className:"right-side"},null===l||void 0===l?void 0:l.slice(0,o).map((function(e,t){return u.a.createElement(fe.a,{alignItems:"flex-start",key:"addInfo-"+t,flexDirection:"row",gap:"8px",paddingTop:0==t?0:12},u.a.createElement(fe.a,{marginTop:8,height:8,width:8,backgroundColor:"#CDCDCD",borderRadius:50}),u.a.createElement("div",{className:"add-inf0-text"},e))})))),t.length>3&&Object(D.a)()?u.a.createElement("div",{className:"add-info-readMore",onClick:function(){return r(!0)},style:{marginBottom:"20px"}},"Read more"):t.length>3&&!Object(D.a)()?u.a.createElement("div",{className:"add-info-readMore",onClick:function(){return f(!0)}},"Read more"):null),p&&!Object(D.a)()?u.a.createElement(ge.a,{visible:p,containerProps:{minWidth:"100vw",minHeight:"100vh",paddingHorizontal:24,paddingVertical:16,backgroundColor:"rgba(0, 0, 0, 0.9)",justifyContent:"center",alignItems:"center",display:"flex"}},u.a.createElement(fe.a,{style:{height:"434px",width:"784px",backgroundColor:"white",borderRadius:12,paddingLeft:32,paddingRight:32,display:"flex"},marginBottom:40},u.a.createElement(fe.a,{style:{height:"64px",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomColor:"#E5E5E5",borderBottomWidth:"1px"}},u.a.createElement(ie.a,{fontSize:20,color:"#333333",fontWeight:600,fontFamily:"Source Sans Pro"},"Additional info"),u.a.createElement("div",{onClick:function(){return f(!1)},style:{cursor:"pointer"}},u.a.createElement(pe.a,{height:24,width:24,fill:"#888888"}))),u.a.createElement("div",{className:"scrool-bar",style:{display:"flex",paddingTop:20,marginBottom:0,paddingRight:0}},u.a.createElement("div",{className:"add-info-wrapper",style:{width:"100%"}},u.a.createElement("div",{className:"left-side",style:{width:"45%"}},null===c||void 0===c?void 0:c.map((function(e,t){return u.a.createElement(fe.a,{alignItems:"flex-start",key:"addInfo-"+t,flexDirection:"row",gap:"8px",paddingTop:0==t?0:16},u.a.createElement(fe.a,{marginTop:8,height:8,width:8,backgroundColor:"#CDCDCD",borderRadius:50}),u.a.createElement("div",{className:"add-inf0-text"},e))}))),u.a.createElement("div",{className:"right-side",style:{width:"45%"}},null===l||void 0===l?void 0:l.map((function(e,t){return u.a.createElement(fe.a,{alignItems:"flex-start",key:"addInfo-"+t,flexDirection:"row",gap:"8px",paddingTop:0==t?0:16},u.a.createElement(fe.a,{marginTop:8,height:8,width:8,backgroundColor:"#CDCDCD",borderRadius:50}),u.a.createElement("div",{className:"add-inf0-text"},e))}))))))):null,Object(D.a)()&&i?u.a.createElement(ge.a,{visible:i,containerProps:{minWidth:"100vw",minHeight:"100vh",backgroundColor:"rgba(0, 0, 0, 0.9)",justifyContent:"flex-end",display:"flex"}},u.a.createElement(fe.a,{style:{height:"70%",width:"100%",backgroundColor:"white",borderTopRightRadius:18,borderTopLeftRadius:18}},u.a.createElement(fe.a,{style:{height:"63px",flexDirection:"row",alignItems:"center",borderBottomColor:"#E5E5E5",borderBottomWidth:"1px"}},u.a.createElement("div",{onClick:function(){return r(!1)},style:{paddingLeft:12,cursor:"pointer"}},u.a.createElement(pe.a,{height:14,width:14,fill:"#777777"})),u.a.createElement(ie.a,{fontSize:17,paddingLeft:16,color:"rgba(51, 51, 51, 1)",fontWeight:600,fontFamily:"Source Sans Pro"},"Additional info")),u.a.createElement("div",{style:{paddingLeft:20,paddingRight:20,overflow:"scroll"}},null===t||void 0===t?void 0:t.map((function(e,t){return u.a.createElement(fe.a,{alignItems:"flex-start",key:"addInfo-"+t,flexDirection:"row",gap:"8px",paddingTop:0==t?16:12,columnGap:10},u.a.createElement(fe.a,{marginTop:8,height:8,width:8,backgroundColor:"#CDCDCD",borderRadius:50}),u.a.createElement("div",{className:"add-inf0-text"},e))}))))):null)},Ae=function(e){var t=e.redemptionPoints,a=e.redemptionPointsDescription,n=e.endPoint,i=e.startPoints;return u.a.createElement(u.a.Fragment,null,null!==n&&void 0!==n&&n.forEach((function(e){return e.description||e.attractionName}))||null!==i&&void 0!==i&&i.forEach((function(e){return e.description||e.attractionName}))||null!==t&&void 0!==t&&t.forEach((function(e){return e.description||e.attractionName}))||a?u.a.createElement(fe.a,{paddingBottom:Object(D.a)()?20:40,borderBottomWidth:!Object(D.a)()&&2,borderBottomColor:!Object(D.a)()&&"#E7E7E7"},u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"meeting-title"},"Meeting & Pickup"),i?u.a.createElement(u.a.Fragment,null,null===i||void 0===i?void 0:i.map((function(e,t){return u.a.createElement(u.a.Fragment,null,null!==(null===e||void 0===e?void 0:e.description)||null!==(null===e||void 0===e?void 0:e.attractionName)?u.a.createElement("div",{className:"point-wrapper",key:t},u.a.createElement("div",{className:"point-title"},"Meeting Point ",t+1),null!==(null===e||void 0===e?void 0:e.description)?u.a.createElement("div",{className:"point-description"},null===e||void 0===e?void 0:e.description):null,null!==(null===e||void 0===e?void 0:e.address)&&u.a.createElement(fe.a,{flexDirection:"row",paddingTop:Object(D.a)()?8:10,alignItems:"center"},u.a.createElement("div",{className:"location-text"},"Location:"),u.a.createElement("div",{className:"address-text"},null===e||void 0===e?void 0:e.address)),(null===e||void 0===e?void 0:e.googleMapsUrl)&&u.a.createElement("a",{href:"".concat(null===e||void 0===e?void 0:e.googleMapsUrl),style:{gap:12,paddingTop:Object(D.a)()?8:10,flexDirection:"row",alignItems:"center",cursor:"pointer",display:"flex"}},u.a.createElement("img",{alt:"",src:Object(be.a)("https://oceanjar-new.s3.ap-south-1.amazonaws.com/images/web_app/Group+3522-min.png"),height:32,width:32}),u.a.createElement("div",{className:"see-on-map-text"},"See on Maps"))):null)}))):null,n?u.a.createElement(u.a.Fragment,null,null===n||void 0===n?void 0:n.map((function(e,t){return u.a.createElement(u.a.Fragment,null,null!==(null===e||void 0===e?void 0:e.description)||null!==(null===e||void 0===e?void 0:e.attractionName)?u.a.createElement("div",{className:"point-wrapper",key:t},u.a.createElement("div",{className:"point-title"},"Pickup Point ",t+1),null!==(null===e||void 0===e?void 0:e.description)?u.a.createElement("div",{className:"point-description"},null===e||void 0===e?void 0:e.description):null,null!==(null===e||void 0===e?void 0:e.address)&&u.a.createElement(fe.a,{flexDirection:"row",paddingTop:Object(D.a)()?8:10,alignItems:"center"},u.a.createElement("div",{className:"location-text"},"Location:"),u.a.createElement("div",{className:"address-text"},null===e||void 0===e?void 0:e.address)),(null===e||void 0===e?void 0:e.googleMapsUrl)&&u.a.createElement("a",{href:"".concat(null===e||void 0===e?void 0:e.googleMapsUrl),style:{gap:12,paddingTop:Object(D.a)()?8:10,flexDirection:"row",alignItems:"center",cursor:"pointer",display:"flex"}},u.a.createElement("img",{alt:"",src:Object(be.a)("https://oceanjar-new.s3.ap-south-1.amazonaws.com/images/web_app/Group+3522-min.png"),height:32,width:32}),u.a.createElement("div",{className:"see-on-map-text"},"See on Maps"))):null)}))):null,null!==t&&void 0!==t&&t.forEach((function(e){return e.description||e.attractionName}))?u.a.createElement(u.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e,a){return u.a.createElement(u.a.Fragment,null,""!==(null===e||void 0===e?void 0:e.description)||""!==(null===e||void 0===e?void 0:e.address)||""!==(null===e||void 0===e?void 0:e.googleMapsUrl)?u.a.createElement("div",{className:"point-wrapper2",key:a,style:{borderBottomColor:a+1==t.length?"":"#E7E7E7",borderBottomWidth:a+1==t.length?0:1}},""!==(null===e||void 0===e?void 0:e.description)||""!==(null===e||void 0===e?void 0:e.address)||""!==(null===e||void 0===e?void 0:e.googleMapsUrl)?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"point-title"},"Redemption Point ",a+1),null!==(null===e||void 0===e?void 0:e.description)?u.a.createElement("div",{className:"point-description"},null===e||void 0===e?void 0:e.description):null):null,null!==(null===e||void 0===e?void 0:e.address)&&u.a.createElement(fe.a,{flexDirection:"row",paddingTop:Object(D.a)()?8:10,alignItems:"center"},u.a.createElement("div",{className:"location-text"},"Location:"),u.a.createElement("div",{className:"address-text"},null===e||void 0===e?void 0:e.address)),(null===e||void 0===e?void 0:e.googleMapsUrl)&&u.a.createElement("a",{href:"".concat(null===e||void 0===e?void 0:e.googleMapsUrl),style:{gap:12,paddingTop:Object(D.a)()?8:10,flexDirection:"row",alignItems:"center",cursor:"pointer",display:"flex"}},u.a.createElement("img",{alt:"",src:Object(be.a)("https://oceanjar-new.s3.ap-south-1.amazonaws.com/images/web_app/Group+3522-min.png"),height:32,width:32}),u.a.createElement("div",{className:"see-on-map-text"},"See on Map"))):null)}))):u.a.createElement("div",{className:"point-wrapper2"},u.a.createElement("div",{className:"point-title"},"Redemption Point"),u.a.createElement("div",{className:"point-description"},a)))):null)},je=a(463),Ie=function(e){var t=e.title,a=e.images,n=Object(d.useState)(!1),i=Object(J.a)(n,2),r=i[0],o=i[1];return r||(document.body.style.overflow="auto"),u.a.createElement(u.a.Fragment,null,u.a.createElement(fe.a,{style:{paddingBottom:Object(D.a)()?20:40,borderBottomWidth:2,borderBottomColor:"#E7E7E7"}},u.a.createElement(ie.a,{fontSize:24,lineHeight:16,fontWeight:600,color:"#333333",paddingTop:40},"Traveler Photos"),u.a.createElement("div",{className:"gallery-banner"},u.a.createElement("div",{className:"banner-left"},null===a||void 0===a?void 0:a.map((function(e,t){return u.a.createElement(u.a.Fragment,null,0==t&&u.a.createElement("div",{style:{borderRadius:8,overflow:"hidden",position:"relative",height:Object(D.a)()?200:332,width:Object(D.a)()?"100%":354,cursor:"pointer"},key:t},u.a.createElement(je.a,{resizeMode:"contain",height:"100%",width:"100%",source:{image:Object(be.a)(e)}})))}))),u.a.createElement("div",{className:"banner-right"},null===a||void 0===a?void 0:a.map((function(e,t){return u.a.createElement(u.a.Fragment,null,0!==t&&u.a.createElement("div",{onClick:function(){return o(!0)},className:t+1==a.length&&"image-after",style:{borderRadius:8,overflow:"hidden",position:"relative",height:Object(D.a)()?122:"160px",width:Object(D.a)()?"47%":"150px",cursor:"pointer"},key:t},u.a.createElement("img",{alt:"",style:{zIndex:1,objectFit:"cover"},height:"100%",width:"100%",src:e})))}))))),r&&u.a.createElement(ge.a,{visible:r,containerProps:{minWidth:"100vw",minHeight:"100vh",paddingHorizontal:24,paddingVertical:16,backgroundColor:"rgb(44, 47, 66)",overflow:"scroll"}},u.a.createElement(ae.a,{height:"100%",alignItems:"center",flexDirection:"column",justifyContent:"space-evenly"},u.a.createElement(ae.a.Item,{height:"50px",width:"80%",justifyContent:"space-between",flexDirection:"row",alignItems:"center",borderBottomColor:"#FFFFFF",borderBottomWidth:.8},u.a.createElement(ie.a,{fontSize:Object(D.a)()?14:16,fontWeight:600,color:"#FFFFFF"},t),u.a.createElement(ne.a,{onPress:function(){return o(!1)}},u.a.createElement(pe.a,{fill:"#FFFFFF",height:"18px",width:"18px"}))),u.a.createElement(ae.a.Item,{width:"80%",minHeight:Object(D.a)()?"240px":"550px"},u.a.createElement(Ne,{img:a,height:Object(D.a)()?"240px":"550px"})))))},Te=a(2542),Re=function(e){var t=e.bgColor,a=void 0===t?"#00B277":t,n=e.totalCount,i=e.ratingCount/n*100+"%";return u.a.createElement(ae.a,{position:"relative",width:"100%",height:"100%",borderRadius:4,backgroundColor:"#D9D9D9",direction:"column"},u.a.createElement(ae.a.Item,{position:"absolute",left:0,top:0,height:"100%",borderRadius:8,width:i,backgroundColor:a}))},De=a(1625),Fe=function(e){var t,a,n,i,r,o,l,c,s,m,p=e.data,f=e.overAllRating,h=null===p||void 0===p||null===(t=p.totalReviewsSummary)||void 0===t?void 0:t.reviewCountTotals,v=Object(d.useState)(!1),g=Object(J.a)(v,2),b=g[0],y=g[1],E=Object(d.useState)(!1),C=Object(J.a)(E,2),x=C[0],O=C[1];b&&x||(document.body.style.overflow="auto");var N=Object(d.useMemo)((function(){var e=[];return null===h||void 0===h||h.reverse().map((function(t){e.push(t)})),e}),[h]),w=Object(d.useMemo)((function(){return null===h||void 0===h?void 0:h.reduce((function(e,t){return e+t.count}),0)}),[h]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(fe.a,{style:{paddingBottom:Object(D.a)()?20:40,borderBottomWidth:!Object(D.a)()&&2,borderBottomColor:!Object(D.a)()&&"#E7E7E7"}},u.a.createElement(fe.a,null,u.a.createElement("div",{className:"review-text"},"Reviews"),u.a.createElement(fe.a,{flexDirection:"row",paddingTop:!Object(D.a)()&&16},u.a.createElement(fe.a,{paddingRight:30,paddingTop:0,paddingBottom:10,display:"flex",alignItems:"center"},u.a.createElement("div",{className:"rating-text"},Number.isInteger(f)?f:parseFloat(f.toString()).toFixed(1)),u.a.createElement(fe.a,{flexDirection:"row",gap:8,color:"green",fontSize:Object(D.a)()?14:16},u.a.createElement(De.a,{rating:f,fillEmpty:!0})),u.a.createElement(ie.a,{paddingTop:2,fontSize:Object(D.a)()?13:15,fontWeight:400,color:"#333333",fontFamily:"Source Sans Pro"},null===p||void 0===p||null===(a=p.totalReviewsSummary)||void 0===a?void 0:a.totalReviews," ","","reviews")),u.a.createElement(fe.a,{borderLeftWidth:1,borderLeftColor:"#D7D7D7",style:{flex:1},display:"flex",justifyContent:"center"},u.a.createElement(fe.a,{paddingLeft:Object(D.a)()?30:40,paddingTop:Object(D.a)()&&10},null===N||void 0===N?void 0:N.map((function(e,t){return u.a.createElement(fe.a,{flexDirection:"row",alignItems:"center",key:t,paddingTop:0==t?0:Object(D.a)()?5:7},u.a.createElement(ie.a,{fontFamily:"Source Sans Pro",fontSize:Object(D.a)()?14:16,lineHeight:20,fontWeight:600,color:"#008046"},null===e||void 0===e?void 0:e.rating),Object(D.a)()?null:u.a.createElement(Te.a,{fill:"#008046",style:{paddingLeft:4}}),u.a.createElement(fe.a,{height:Object(D.a)()?8:10,width:"95%",paddingLeft:Object(D.a)()?8:12,paddingTop:2},u.a.createElement(Re,{ratingCount:null===e||void 0===e?void 0:e.count,totalCount:w,bgColor:"#008046"})))}))))),null===p||void 0===p||null===(n=p.reviews)||void 0===n?void 0:n.slice(0,2).map((function(e,t){return u.a.createElement(fe.a,{paddingTop:0==t?24:20,key:t},u.a.createElement(fe.a,{flexDirection:"row",alignItems:"center"},u.a.createElement(fe.a,{color:"#008046",fontSize:(Object(D.a)(),12)},u.a.createElement(De.a,{rating:null===e||void 0===e?void 0:e.rating,fillEmpty:!0})),u.a.createElement("div",{className:"review-title"},Object(D.a)()&&e.reviewTitle.length>50?e.reviewTitle.slice(0,52)+"...":e.reviewTitle)),u.a.createElement("div",{className:"user-name"},null===e||void 0===e?void 0:e.userName,", Mar 2022"),u.a.createElement("div",{className:"review-des"},null===e||void 0===e?void 0:e.reviewText))}))),!Object(D.a)()&&(null===p||void 0===p||null===(i=p.reviews)||void 0===i?void 0:i.length)>2?u.a.createElement("div",{className:"see-all-review",onClick:function(){y(!0)}},"See all ",null===p||void 0===p||null===(r=p.reviews)||void 0===r?void 0:r.length," Reviews"):Object(D.a)()&&(null===p||void 0===p||null===(o=p.reviews)||void 0===o?void 0:o.length)>2?u.a.createElement("div",{className:"see-all-review",onClick:function(){O(!0)}},"See all ",null===p||void 0===p||null===(l=p.reviews)||void 0===l?void 0:l.length," Reviews"):null),b&&!Object(D.a)()?u.a.createElement(ge.a,{visible:b,containerProps:{minWidth:"100vw",minHeight:"100vh",paddingHorizontal:24,paddingVertical:16,backgroundColor:"rgba(0, 0, 0, 0.9)",justifyContent:"center",alignItems:"center",display:"flex"}},u.a.createElement(fe.a,{style:{height:"552px",width:"784px",backgroundColor:"white",borderRadius:12,paddingLeft:32,paddingRight:32,display:"grid"},marginBottom:40},u.a.createElement(fe.a,{style:{height:"64px",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomColor:"#E5E5E5",borderBottomWidth:"1px"}},u.a.createElement(ie.a,{fontSize:20,color:"#333333",fontWeight:600,fontFamily:"Source Sans Pro"},"Reviews (",null===p||void 0===p||null===(c=p.reviews)||void 0===c?void 0:c.length,")"),u.a.createElement("div",{onClick:function(){return y(!1)}},u.a.createElement(pe.a,{height:24,width:24,fill:"#888888"}))),u.a.createElement("div",{className:"scrool-bar"},null===p||void 0===p||null===(s=p.reviews)||void 0===s?void 0:s.map((function(e,t){var a,n;return u.a.createElement(fe.a,{paddingTop:0==t?24:16,key:t,paddingBottom:t+1==(null===p||void 0===p||null===(a=p.reviews)||void 0===a?void 0:a.length)&&(null===p||void 0===p||null===(n=p.reviews)||void 0===n?void 0:n.length)>4?40:0},u.a.createElement(fe.a,{flexDirection:"row",alignItems:"center"},e&&new Array(Math.floor(null===e||void 0===e?void 0:e.rating)).fill(null).map((function(e,t){return u.a.createElement(Te.a,{fill:"#008046",height:Object(D.a)()?10:12,width:Object(D.a)()?10:12,style:{marginLeft:0==t?0:5},key:"star-rating"+t})})),u.a.createElement("div",{className:"review-title"},null===e||void 0===e?void 0:e.reviewTitle)),u.a.createElement("div",{className:"user-name"},null===e||void 0===e?void 0:e.userName,", Mar 2022"),u.a.createElement("div",{className:"review-des"},null===e||void 0===e?void 0:e.reviewText))}))))):null,Object(D.a)()&&x?u.a.createElement(ge.a,{visible:x,containerProps:{minWidth:"100vw",minHeight:"100vh",backgroundColor:"rgba(0, 0, 0, 0.9)",justifyContent:"flex-end",display:"flex"}},u.a.createElement(fe.a,{style:{height:"70%",width:"100%",backgroundColor:"white",borderTopRightRadius:18,borderTopLeftRadius:18}},u.a.createElement(fe.a,{style:{height:"63px",flexDirection:"row",alignItems:"center",borderBottomColor:"#E5E5E5",borderBottomWidth:"1px"}},u.a.createElement("div",{onClick:function(){return O(!1)},style:{paddingLeft:12}},u.a.createElement(pe.a,{height:14,width:14,fill:"#777777"})),u.a.createElement(ie.a,{fontSize:17,paddingLeft:16,color:"rgba(51, 51, 51, 1)",fontWeight:600,fontFamily:"Source Sans Pro"},"All Reviews")),u.a.createElement("div",{style:{paddingLeft:20,paddingRight:20,overflow:"scroll"}},null===p||void 0===p||null===(m=p.reviews)||void 0===m?void 0:m.map((function(e,t){var a,n;return u.a.createElement(fe.a,{paddingTop:0==t?24:16,key:t,paddingBottom:t+1==(null===p||void 0===p||null===(a=p.reviews)||void 0===a?void 0:a.length)&&(null===p||void 0===p||null===(n=p.reviews)||void 0===n?void 0:n.length)>4?40:0},u.a.createElement(fe.a,{flexDirection:"row",alignItems:"center"},e&&new Array(Math.floor(null===e||void 0===e?void 0:e.rating)).fill(null).map((function(e,t){return u.a.createElement(Te.a,{fill:"#008046",height:Object(D.a)()?10:12,width:Object(D.a)()?10:12,style:{marginLeft:0==t?0:5},key:"star-rating"+t})})),u.a.createElement("div",{className:"review-title"},null===e||void 0===e?void 0:e.reviewTitle)),u.a.createElement("div",{className:"user-name"},null===e||void 0===e?void 0:e.userName,", Mar 2022"),u.a.createElement("div",{className:"review-des"},null===e||void 0===e?void 0:e.reviewText))}))))):null)},Pe=a(2601),Me=a(588),_e=a.n(Me),Le=a(69),Be=["name","key"],He=_e.a.Link,Ve=Object(Q.default)("ul").withConfig({displayName:"ScrollSpyTabs__TabWrapper"})(["list-style:none;margin:0;white-space:nowrap;overflow:auto;padding:0px;li{display:inline-block;margin-right:40px;cursor:pointer;position:relative;transition:all 0.5s ease;height:100%;padding-top:10px;@media screen and (max-width:480px){padding-top:0px;scrollbar-width:0;}&:last-child{margin-right:0;}a{color:#FFFFFF;font-size:15px;line-height:20px;font-weight:600;margin-top:16px;margin-bottom:24px;height:100%;display:inline-block;@media screen and (max-width:480px){margin:18px 0;}}a:after{content:'';display:block;width:0;height:3px;background-color:transparent;transition:all 0.5s ease;position:absolute;bottom:0;color:#00B277;}&:hover,&:hover a,a.active{color:#00B277;font-weight:600;&:after{width:100%;background-color:#00B277;border-radius:8px 8px 0px 0px;margin-bottom:4px;@media screen and (max-width:480px){background-color:black;}}}}}}"]),ze=function(e){var t=e.tabs;return u.a.createElement(Ve,{style:{scrollbarWidth:0}},null===t||void 0===t?void 0:t.map((function(e,t){var a=e.name,n=e.key,i=Object(Le.a)(e,Be);return u.a.createElement("li",{key:"list-tab-".concat(t)},u.a.createElement(He,Object.assign({to:n,href:n,spy:!0,smooth:!0,duration:500},i),a))})))},Ue=a(35),Ke=a.n(Ue),We=function(e){var t,a,n,i,r,o,l=e.headerTopContent,c=e.headerContent,s=e.title,m=e.images,p=e.name,f=e.fromAlternates,h=e.inclusions,v=e.exclusions,g=e.overView,b=e.duration,y=e.privateTour,E=e.refundable,C=e.transferIncluded,x=e.transferType,O=e.departureTime,N=e.dateOfTravel,w=e.isBooked,k=e.policyAdditional,S=e.refundPolicies,A=e.changeButtonText,j=e.removeButtonText,I=e.isDisabledRemove,R=e.onRemoveAction,F=e.closeActivityDetail,P=e.onChangeAction,M=e.createMarkup,_=e.currentMobileModalView,J=e.onMobileModalClick,Q=e.diffCost,X=e.backActivityDetails,$=e.isUpdatePriceIncreased,Z=e.disablePriceVariation,ee=e.onUpdateAction,te=e.isDisabledChange,ae=e.isReadOnly,ne=e.location,re=e.onCollapseClickAction,oe=e.onTGSelect,le=e.tourGradeOptions,ce=void 0===le?[]:le,se=e.showUpgrades,de=void 0!==se&&se,me=e.currentTourGrade,pe=void 0===me?null:me,ve=e.currentStartSlot,ge=void 0===ve?null:ve,be=e.startTime,ye=void 0===be?null:be,Ee=e.tourGradeIsTitleOnly,Ce=e.upgradable,xe=e.staleCost,Oe=e.additionalInfo,je=e.whatToExport,Te=e.bannerData,Re=e.endPoint,De=e.redemptionPoints,_e=e.redemptionPointsDescription,Le=e.startPoints,Be=e.rating,He=e.reviewData,Ve=e.permission,Ue=e.recommendedActivity,We=e.userDetails,Ge=Object(D.a)();(!m||m&&0===m.length)&&(m=[Object(z.a)("ACTIVITIES")]);var Ye=u.a.createElement(U,{policyName:"Policy"},u.a.createElement(K,{title:"Refund"},u.a.createElement("p",null,S)),u.a.createElement(K,{title:"Additional info"}," ",u.a.createElement("p",null,k))),qe=ce.length&&!xe?u.a.createElement(q.a,{rootClassName:"expand-link text-left clearfix semi-bold",spanClassName:Ge?" ":"pull-left light fade",boldClassName:Ge?" ":"pull-right",spanContent:Ge?" ":"",onClickAction:re,directContent:de?"Choose inclusion":"See more inclusions",collapseContent:de?"Collapse":"",enableCollapse:!0}):null,Je=de&&ce.length?u.a.createElement(ue,{onSelect:oe,currentTourGrade:pe,currentStartSlot:ge,startTime:ye,tourGradeOptions:ce,tourGradeIsTitleOnly:Ee}):null,Qe=u.a.createElement("p",{style:{paddingTop:20,marginBottom:0,color:"#404040"},className:"main-text light desc mbottom-large",dangerouslySetInnerHTML:M(g)}),Xe=[];Xe.push({className:"pyt-clock-16",text:"".concat(b," duration")}),Xe.push({className:"pyt-shared-activity-16",text:"".concat(y?"Private":"Shared"," activity")}),void 0!==E&&Ve&&Xe.push({className:E?"pyt-refundable-16 color-primary-dark":"pyt-non-refundable-16 color-accent-7",text:"".concat(E?"":"Non"," Refundable")}),Xe.push({className:"pyt-transfer-16",text:"Transfer ".concat(C?"":"Not"," Included")});var $e=function(e,t){var a=[],n=Object(G.b)(Object(Y.a)(e,t),!0);return n.length&&n.map((function(e){e.text.split(". ").map((function(t){a.push({text:t,className:e.className})}))})),{alerts:a}}(e.itineraryAlerts,e.keyValue).alerts,Ze=u.a.createElement(V.a,{browsingText:"activities",changeButtonText:A,onChangeAction:P,onUpdateAction:ee,removeButtonText:j,onRemoveAction:R,isDisabledRemove:w||I,isDisabledChange:w||te,firstHalf:N,isMobile:Ge,secondHalf:{header:"NOTRANSFER"===x?"Start Time":"Pickup time:",content:ye||O},updatedPrice:Q,disablePriceVariation:Z,isUpdatePriceIncreased:$,isUpdate:f,icons:Xe,testimonials:[],alertIcons:$e,isReadOnly:ae,upgradable:Ce,activity:!0,recommendedActivity:Ue,userDetails:We}),et="";Ge&&_&&(et="Policy"===_?Ye:"Overview"===_?Qe:null);var tt=ne&&Object(T.a)(ne.pathname,["/details/"])?"Back to list":null,at=Object(d.useMemo)((function(){var e,t=[];return null===He||void 0===He||null===(e=He.reviews)||void 0===e||e.map((function(e){var a;null!==e&&void 0!==e&&null!==(a=e.photosUrl)&&void 0!==a&&a.length&&t.push(null===e||void 0===e?void 0:e.photosUrl)})),t}),[He]),nt=Object(d.useMemo)((function(){var e,t,a,n=[];return g&&n.push({name:"Overview",key:"overview",offset:-200}),at.length&&n.push({name:"Travelers Photos",key:"travel-photos",offset:-160}),(h||v)&&n.push({name:"Inclusions & Exclusions",key:"inclusions-exclusions",offset:-150}),!f&&ce.length&&n.push({name:"Ticket Types",key:"ticket-types",offset:-150}),(null!==Le&&void 0!==Le&&Le.forEach((function(e){return e.description||e.attractionName}))&&null!==Re&&void 0!==Re&&Re.forEach((function(e){return e.description||e.attractionName}))&&null!==De&&void 0!==De&&De.forEach((function(e){return e.description||e.attractionName}))||_e)&&n.push({name:"Meeting & Pickup",key:"meeting-pickup",offset:-120}),je&&n.push({name:"What to expect",key:"what-to-expect",offset:-150}),null!==He&&void 0!==He&&null!==(e=He.reviews)&&void 0!==e&&e.length&&null!==He&&void 0!==He&&null!==(t=He.totalReviewsSummary)&&void 0!==t&&null!==(a=t.reviewCountTotals)&&void 0!==a&&a.length&&n.push({name:"Reviews",key:"reviews",offset:-150}),Oe&&n.push({name:"Additional Info",key:"additional-info",offset:-150}),n}),[He,g,h,v,Le,Re,De,_e,je,Oe]),it=function(e){var t=e.border,a=void 0===t?1:t;return u.a.createElement("hr",{style:{width:"calc(100% + 32px)",marginLeft:"-16px",border:"".concat(a,"px solid #E7E7E7"),marginTop:0,marginBottom:0}})};return Ge?u.a.createElement("div",null,u.a.createElement("div",{className:Ke()("hidden-md hidden-lg altermodal-xs-view xs-slide-up activity-details-xs",{"hide-footer":ae})},u.a.createElement(B.a,{spanContent:l,alternateText:tt,headerContent:c,onClickBackAction:function(){Object(W.Ld)(W.t,{page:"Activity Details"}),X()},onClickCloseAction:function(){F(!0)},onClickAlternateAction:function(){F(!1)},isMobile:!0}),u.a.createElement("div",{className:"altermodal-xs-content"},Te.filter((function(e){return""!==e})).length>0?u.a.createElement("div",{style:{height:"240px",width:"100%"}},u.a.createElement(Ne,{img:Te,height:"240px"})):null,u.a.createElement("div",{className:"container sm-full-width"},u.a.createElement(fe.a,{style:{paddingTop:24}},u.a.createElement(ie.a,{fontSize:14,fontWeight:600,lineHeight:18,color:"#595959",fontFamily:"Source Sans Pro",textTransform:"uppercase"},p),u.a.createElement(ie.a,{paddingTop:4,fontSize:24,fontWeight:700,lineHeight:30,fontFamily:"Source Sans Pro",color:"#333333"},s)),Be>0?u.a.createElement("div",{style:{backgroundColor:"#3B4CB9",padding:"4px 10px",flexDirection:"row",width:"fit-content",marginTop:8,borderRadius:6,gap:4,display:"flex",alignItems:"center"}},u.a.createElement(Pe.a,{style:{height:"13px",width:"13px"},fill:"#FFFFFF"}),u.a.createElement(ie.a,{fontSize:14,lineHeight:18,color:"#E4E6F6",fontWeight:600},Number.isInteger(Be)?Be:parseFloat(Be.toString()).toFixed(1)," rating")):null,Ze,g?u.a.createElement(Me.Element,{name:"overview-m",id:"overview-m"},u.a.createElement("div",{style:{flexDirection:"column",paddingBottom:20}},u.a.createElement("div",{style:{fontSize:17,fontWeight:600,color:"#333333"}},"Overview"),u.a.createElement("div",{style:{fontSize:14,fontWeight:400,color:"#404040",paddingTop:16,overflow:"hidden"}},g)),u.a.createElement(it,null)):null,u.a.createElement(Me.Element,{name:"travel-photos-m",id:"travel-photos-m"},at.length?u.a.createElement(Ie,{title:s,images:at}):null),h||v?u.a.createElement(u.a.Fragment,null,u.a.createElement(Me.Element,{name:"inclusions-exclusions-m",id:"inclusions-exclusions-m"},u.a.createElement(he,{inclusions:h,exclusions:v})),u.a.createElement(it,null)):null,!f&&ce.length?u.a.createElement(Me.Element,{name:"ticket-types-m",id:"ticket-types-m"},u.a.createElement("div",{style:{paddingTop:"24px"}},u.a.createElement(ie.a,{fontSize:17,lineHeight:21,color:"#333333",fontWeight:600},"Choose Tickets"),qe,Je),u.a.createElement(it,null)):null,Le||Re||De||_e?u.a.createElement(Me.Element,{name:"meeting-pickup-m",id:"meeting-pickup-m"},u.a.createElement(Ae,{endPoint:Re,redemptionPoints:De,redemptionPointsDescription:_e,startPoints:Le}),u.a.createElement(it,null)):null,je?u.a.createElement(Me.Element,{name:"what-to-expect-m",id:"what-to-expect-m"},u.a.createElement(ke,{whatToExport:je}),u.a.createElement(it,null)):null,null!==He&&void 0!==He&&null!==(t=He.reviews)&&void 0!==t&&t.length&&null!==He&&void 0!==He&&null!==(a=He.totalReviewsSummary)&&void 0!==a&&null!==(n=a.reviewCountTotals)&&void 0!==n&&n.length?u.a.createElement(Me.Element,{name:"reviews-m",id:"reviews-m"},u.a.createElement(Fe,{data:He,overAllRating:Be}),u.a.createElement(it,null)):null,Oe?u.a.createElement(Me.Element,{name:"additional-info-m",id:"additional-info-m"},u.a.createElement(Se,{additionalInfo:Oe}),u.a.createElement(it,null)):null)),u.a.createElement(V.a,Object.assign({},e,{browsingText:"activities",isDisabledRemove:w||I,isDisabledChange:w||te,isMobileFooter:!0,isMobile:!0,upgradable:Ce,updatedPrice:Q}))),""!==_&&u.a.createElement("div",{className:"row rating-content"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement("p",{className:"small-heading bold color-grey mbottom-large"},_),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-8"},et?u.a.createElement(H.a,{key:_,onClickAction:function(){return J("NONE")},enable:!0},et):null))))):u.a.createElement("div",{className:"hidden-sm hidden-xs activity-details"},u.a.createElement(L.a,{enabled:!Ge},u.a.createElement(B.a,{spanContent:l,headerContent:c,onClickBackAction:function(){Object(W.Ld)(W.t,{page:"Activity Details"}),X()},alternateText:tt,onClickCloseAction:function(){F(!0)},onClickAlternateAction:function(){F(!1)}})),u.a.createElement("div",{style:{backgroundColor:"#000000"}},u.a.createElement("div",{className:"container lg-container"},u.a.createElement("div",{className:"title-name",style:{textTransform:"uppercase"}},p),u.a.createElement("div",{className:"title"},s),Be?u.a.createElement("div",{style:{backgroundColor:"#3B4CB9",padding:"4px 10px",flexDirection:"row",width:"fit-content",marginTop:8,borderRadius:6,gap:6,display:"flex",alignItems:"center"}},u.a.createElement(Pe.a,{style:{height:"13px",width:"13px"},fill:"#FFFFFF"}),u.a.createElement(ie.a,{fontSize:16,lineHeight:20,color:"#E4E6F6",fontWeight:600},u.a.createElement(u.a.Fragment,null,Number.isInteger(Be)?Be:parseFloat(Be.toString()).toFixed(1)," rating"))):null,Te.filter((function(e){return""!==e})).length>0?u.a.createElement("div",{style:{padding:"26px 0px"}},u.a.createElement(we,{title:s,images:Te})):null),u.a.createElement(L.a,{top:65,enabled:!0,innerZ:1},u.a.createElement("div",{style:{height:68,backgroundColor:"black",width:"100%"}},u.a.createElement("div",{className:"container lg-container"},u.a.createElement(ze,{tabs:nt}))))),u.a.createElement("div",{className:"container lg-container",style:{marginTop:"40px"}},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-8 pr-5"},u.a.createElement(Me.Element,{name:"overview"},u.a.createElement("div",{style:{borderBottom:"2px solid #E7E7E7",paddingBottom:Object(D.a)()?20:"40px"}},u.a.createElement(ie.a,{fontSize:24,color:"#333333",fontWeight:600,lineHeight:16,fontFamily:"Source Sans Pro"},"Overview"),Qe)),u.a.createElement(Me.Element,{name:"travel-photos"},at.length?u.a.createElement(Ie,{title:s,images:at}):null),u.a.createElement(Me.Element,{name:"inclusions-exclusions"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},h||v?u.a.createElement(he,{inclusions:h,exclusions:v}):null))),u.a.createElement(Me.Element,{name:"ticket-types"},ce.length?u.a.createElement("div",{style:{paddingTop:"40px"}},u.a.createElement(ie.a,{fontSize:24,color:"#333333",marginBottom:8,display:"flex",fontWeight:600,lineHeight:16,fontFamily:"Source Sans Pro"},"Choose Tickets"),f?null:qe,Je):null),Le||Re||De||_e?u.a.createElement(Me.Element,{name:"meeting-pickup"},u.a.createElement(Ae,{endPoint:Re,redemptionPoints:De,redemptionPointsDescription:_e,startPoints:Le})):null,u.a.createElement(Me.Element,{name:"what-to-expect"},je&&u.a.createElement(ke,{whatToExport:je})),u.a.createElement(Me.Element,{name:"reviews"},null!==He&&void 0!==He&&null!==(i=He.reviews)&&void 0!==i&&i.length&&null!==He&&void 0!==He&&null!==(r=He.totalReviewsSummary)&&void 0!==r&&null!==(o=r.reviewCountTotals)&&void 0!==o&&o.length?u.a.createElement(Fe,{data:He,overAllRating:Be}):null),u.a.createElement(Me.Element,{name:"additional-info"},Oe&&u.a.createElement(Se,{additionalInfo:Oe}))),u.a.createElement("div",{className:"col-md-4"},u.a.createElement(L.a,{enabled:!0,top:134},Ze)))))},Ge=a(137),Ye=(a(1605),a(352)),qe=a(22),Je=a(14),Qe=a(245),Xe=a(1594),$e=a(340);function Ze(e,t,a,n,i,r){return function(o){return new Promise((function(l,c){var s="".concat(Je.a.api_url,"itinerary/").concat(e,"/activity/").concat(t,"/tourgrades");Object(qe.a)({url:s,method:"POST",body:{activityId:t,itineraryId:e,gradeCode:a,startTime:r},onSuccess:function(e){Object(Qe.a)(o,e.data,""),i(e.data),n&&n(),Object(Xe.a)(o,$e.p),l("Promised resolved from fetch")},onFailure:function(){c("Failed")}})}))}}var et=a(1596),tt=a(592),at=a(1592),nt=a(1593);function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var rt=function(e){Object(l.a)(a,e);var t=it(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).initFetchActivityPreviewList=function(){var e=r.props,t=e.itineraryInfo,a=e.itineraryInfo.version,n=e.generateActivityPreviewList;"SANDUNE"===a&&n(t)},r.isFromAlternate=function(){var e=r.props.match;return e.path===M.bb.ACTIVITY_ALTERNATES_DETAILS_ROUTE||e.path===M.Ib.ALTERNATE_ACTIVITY_DETAILS},r.goToDefaultItineraryOrInclusionsPage=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.props,a=t.history,n=t.location,i=t.itineraryInfo,o=void 0===i?{itinerary:{}}:i;!Object(T.a)(n.pathname,["/alternate-activities/"])||Object(D.a)()||e?a.push(Object(M.Jb)({itineraryId:o.itinerary.itineraryId,location:n,regionCode:o.itinerary.regionCode})):r.goToAlternateActivity()},r.backActivityDetails=function(){var e=r.props,t=e.history,a=e.lastLocation,n=void 0===a?{}:a;n&&n.pathname?t.goBack():Object(G.h)(r.props)},r.closeActivityDetail=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.goToDefaultItineraryOrInclusionsPage(e)},r.goToAlternateActivity=function(e){Object(W.Ld)(W.qd,{view_more_activities_clicked:!0}),e&&e.preventDefault();var t=r.props,a=t.history,n=t.location,i=t.itineraryInfo,o=void 0===i?{itinerary:{}}:i,l=t.match,c=t.lastLocation;r.isFromAlternate()&&c?a.goBack():(a.push(Object(M.Jb)({itineraryId:o.itinerary.itineraryId,regionCode:o.itinerary.regionCode,location:n,target:M.b,customParams:{configKey:Object(x.a)(r.state.currentDetails.configKey?r.state.currentDetails.configKey:l.params.configKey),called_from:"ACTIVITY_PANEL"}})),window.scroll(0,0))},r.addActivity=function(e){e&&e.preventDefault();var t="CHANGE",a=!1,n=r.state.currentDetails,i=Object.assign({},n),o=r.props,l=o.itineraryInfo,c=o.manageActivity,s=o.activityDetailsFromAlternates.selectedActivity.activitySlotDetail;if(s){var d=Object(C.a)(l.iterDayByKey,(function(e){return-1!==e.allSlotKeys.indexOf(i.slotIdentifier)})),u=Object(C.a)(l.iterCityByKey,(function(e){return-1!==e.allDayKeys.indexOf(d)})),m=l.iterCityByKey[u],p=m.cityId,f=m.cityId;"LEISURE"!==i.type&&"INTERCITY_TRANSFER"!==i.type||(t="ADD"),"INTERCITY_TRANSFER"!==i.type&&"ACTIVITY_WITH_TRANSFER"!==i.type||(p=i.intercityTransferSlotDetailVO.fromCity,f=i.intercityTransferSlotDetailVO.toCity,a=!0);var h=!1;if(i.activitySlotDetail&&i.activitySlotDetail.activityCostingIdentifier&&l.itinerary.costed&&!l.itinerary.staleCost)h=l.activityCostings.costingById[i.activitySlotDetail.activityCostingIdentifier].cancelled;i.activitySlotDetail=s,c({action:t,type:"activity_details",activityWithTransfer:a,itineraryId:l.itinerary.itineraryId,activitySlot:i,fromCityId:p,toCityId:f,cancelled:h}).then((function(){r.goToDefaultItineraryOrInclusionsPage(!0)}))}else r.closeActivityDetail()},r.removeActivity=function(){var e=r.state.currentDetails,t={action:"REMOVE",type:"activity_details",activitySlot:Object(n.a)(Object(n.a)({},e),{},{slotIdentifier:e.configKey}),itineraryId:r.props.itineraryInfo.itinerary.itineraryId};r.closeActivityDetail(),r.props.manageActivity(t).then((function(){Object(F.a)()}))},r.removeButtonClickHandler=function(){var e=r.state.currentDetails,t=Object(o.a)(r);void 0!==e.activitySlotDetail.costingInfo?e.activitySlotDetail.costingInfo.inCombo?swal({title:"This will remove your Combo Package savings",text:"Are you sure you want to remove this activity? You might lose huge amount of savings!",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Ok, Continue",cancelButtonText:"No, Don't remove this activity",closeOnConfirm:!0,closeOnCancel:!0},(function(e){e&&t.removeActivity()})):e.activitySlotDetail.costingInfo.inSwissPass?swal({title:"This will reduce your Swiss Pass savings",text:"Are you sure you want to remove this activity? You might lose huge amount of savings!",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Ok, Continue",cancelButtonText:"No, Don't remove this activity",closeOnConfirm:!0,closeOnCancel:!0},(function(e){e&&t.removeActivity()})):t.removeActivity():t.removeActivity()},r.getCurrentDetails=function(){var e=r.props,t=r.props,a=t.itineraryInfo,i=t.match;if(a&&Object.keys(a).length&&e.itineraryInfo.iterSlotByKey){var o,l,c,s,d,u=i.params.configKey,m=i.params.activityId,p=Object(O.a)(u),f=a.iterSlotByKey[p],h="";if(m&&(h="".concat(Je.a.api_url,"activity/activity/review/").concat(m)),null!==(o=f)&&void 0!==o&&null!==(l=o.activitySlotDetail)&&void 0!==l&&l.activityId)h="".concat(Je.a.api_url,"activity/activity/review/").concat(null===(s=f)||void 0===s||null===(d=s.activitySlotDetail)||void 0===d?void 0:d.activityId);if(null!==(c=h)&&void 0!==c&&c.length&&Object(qe.a)({url:h,method:"GET",onSuccess:function(e){r.setState({review:e})},onFailure:function(e){console.log({errorrrrrr:e})}}),!f)return void r.closeActivityDetail();if("LEISURE"!==f.type&&"INTERCITY_TRANSFER"!==f.type){var v,g,b,y,E=a.activityById[(null===(v=f)||void 0===v?void 0:v.activitySlotDetail)&&(null===(g=f)||void 0===g?void 0:g.activitySlotDetail.activityId)];E.likeCount=Object(R.a)(30,570),E.dislikeCount=Object(R.a)(3,17),Object.assign(null===(b=f)||void 0===b?void 0:b.activitySlotDetail,E);var C,x,N={};if(a.itinerary.costed&&!a.itinerary.staleCost)N=a.activityCostings.costingById[(null===(C=f)||void 0===C?void 0:C.activitySlotDetail)&&(null===(x=f)||void 0===x?void 0:x.activitySlotDetail.activityCostingIdentifier)];(f=Object(n.a)(Object(n.a)({},f),N)).configKey=p,null!==(y=f)&&void 0!==y&&y.activitySlotDetail||r.goToDefaultItineraryOrInclusionsPage()}if(m){var w=e.activityDetailsFromAlternates.selectedActivity;w?r.setState({currentDetails:w}):r.goToAlternateActivity()}else r.setState({currentDetails:f});var k=a.itinerary.booking||a.itinerary.frozen;if(!r.isFromAlternate()&&f&&!k){var S,A="".concat(Je.a.api_url,"itinerary/").concat(a.itinerary.itineraryId,"/activity/").concat(null===(S=f)||void 0===S?void 0:S.activitySlotDetail.activityId,"/tourgrades");Object(qe.a)({url:A,method:"GET",body:{},onSuccess:function(e){var t,a=(null===(t=f)||void 0===t?void 0:t.activitySlotDetail).selectedTourGrade.gradeCode,n=void 0===a?"":a,i=[],o=[],l=!0;(e.data||[]).map((function(t){var a,r;n===t.gradeCode?(o.push(t),(1===e.length&&(null===t||void 0===t||null===(a=t.gradeTitle)||void 0===a?void 0:a.length)>5||null!==t&&void 0!==t&&t.gradeDescription||(null===t||void 0===t||null===(r=t.gradeTitle)||void 0===r?void 0:r.length)>5)&&(l=!1)):(null!==t&&void 0!==t&&t.gradeTitle||null!==t&&void 0!==t&&t.gradeDescription)&&((null!==t&&void 0!==t&&t.gradeDescription||(null===t||void 0===t?void 0:t.gradeTitle.length)>5)&&l&&(l=!1),i.push(t))})),r.setState({tourGradeOptions:[].concat(o,i),tourGradeIsTitleOnly:l})}})}}},r.onTriggerDetailPage=function(){var e=r.props,t=e.history,a=e.match.params,n=a.itineraryId,i=a.configKey,o=a.searchRegion;Object(D.a)()||t.push(Object(M.Jb)({itineraryId:n,regionCode:o,parentPage:M.Lb.inclusion,target:M.d,customParams:{configKey:i}}))},r.getDay=function(){var e=r.props.itineraryInfo,t=r.state.currentDetails,a=t.configKey?t.configKey:t.slotIdentifier,n=e&&e.iterDayByKey,i=e&&e.iterCityByKey,o=null,l=null;return Object(y.a)(n,(function(e,t){e.allSlotKeys.indexOf(a)>-1&&(l=t,o=e.slots[0].cityKey)})),{Day:n&&l?"Day ".concat(n[l].dayNum):"",City:i&&o?i[o].cityName:""}},r.getFirstHalfContent=function(){var e=r.state.currentDetails,t="Day:",a="";return e&&e.activityCostingId?(t="Date: ",a="".concat(e.dayOfWeek,", ").concat(e.day," ").concat(e.mon)):a=r.getDay().Day,{header:t,content:a}},r.onMobileModalClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r.setState({currentMobileModalView:e}),"NONE"===e?Object(j.a)():Object(I.a)()},r.closeAuth=function(){r.props.resetAuth({alert:{show:!1}}),r.props.history.push("/")},r.toggleUpgrade=function(){r.setState((function(e){return{showUpgrades:!e.showUpgrades}}))},r.onTGSelect=function(e,t,a){var n=r.props.itineraryInfo,i=r.state.currentDetails,l=Object(o.a)(r);"COLLISION_WITH_ACTIVITY"===t?swal({title:"Another activity already exists in this time slot",text:"Do you want to replace?",animation:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Ok, Go ahead",cancelButtonText:"No, Cancel",closeOnConfirm:!0,closeOnCancel:!0},(function(t){t&&l.props.updateTourGrade(n.itinerary.itineraryId,i.activitySlotDetail.activityId,e,l.closeActivityDetail,l.props.generateActivityPreviewList,a)})):r.props.updateTourGrade(n.itinerary.itineraryId,i.activitySlotDetail.activityId,e,r.closeActivityDetail,l.props.generateActivityPreviewList,a)},r.state={currentDetails:{},currentMobileModalView:"",showUpgrades:!0,review:{}},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.itineraryId,a=e.itineraryInfo,n=e.previewList;Object(N.a)(),Object(k.a)(),window.scroll(0,0),window.addEventListener(Object(S.a)(),this.props.resizeHandler),Object(E.a)(a)?this.props.getItinerary(t):(this.getCurrentDetails(),n||this.initFetchActivityPreviewList());var i=document.getElementsByClassName("activity-alternate")[0];i&&i.classList.add("hide-out-div")}},{key:"componentWillUnmount",value:function(){Object(w.a)(),Object(j.a)(),window.removeEventListener(Object(S.a)(),this.props.resizeHandler);var e=document.getElementsByClassName("activity-alternate")[0];e&&e.classList.remove("hide-out-div")}},{key:"componentDidUpdate",value:function(e){Object(et.a)(e.itineraryInfo)&&!Object(et.a)(this.props.itineraryInfo)&&(this.getCurrentDetails(),this.initFetchActivityPreviewList())}},{key:"render",value:function(){var e,t,a,n,i,r,o,l,c,s,m,p=this.props,f=p.itineraryInfo,h=p.unAuth,v=p.isReadOnly,g=p.user_details,y=p.itineraryAlerts,C=this.state,x=C.currentDetails,O=C.currentMobileModalView,N=C.showUpgrades,w=C.tourGradeOptions,k=C.tourGradeIsTitleOnly,S=C.review,A=Object(tt.f)("",f.flow);if(Object(E.a)(f)||Object(E.a)(x))return null;var j=Object(at.a)({permissions:null===g||void 0===g?void 0:g.permissions,key:nt.B}),I=g&&g.loggedIn&&"ADMIN"===g.userType,T=x.activitySlotDetail,R=T.selectedTourGrade,D=f.itinerary?f.itinerary.regionCode:"",F=!Object(E.a)(f)&&(f.itinerary.booking||f.itinerary.frozen),P=x&&Object(Ye.a)(R.inclusion),M=x&&Object(Ye.a)(R.exclusion),L=x&&R.departureTime&&b()(R.departureTime,"HHmm").format("hh:mm a"),B=this.isFromAlternate(),H={cost:null,priceIncreased:null};B&&R.cost?H.cost=R.cost:R.diff&&(H.cost=R.diff.diffCost,H.priceIncreased="PRICEDECREASE"!==R.diff.diffChangeType);var V=T.costingInfo,z=void 0===V?{}:V,U=T.activityCostingIdentifier,K=T.ticketsPerBooking,W=T.ticketTypes,G=this.getDay(),Y=z.cityText,q=void 0===Y?G.City:Y,J=z.day,Q=void 0===J?G.Day:J,X=z.mon,$=void 0===X?"":X,Z=z.upgradable,ee="".concat($," ").concat(Q,", ").concat(q),te=(x||{}).activityName,ae=B?te:null;return u.a.createElement(d.Fragment,null,u.a.createElement(We,{policyAdditional:"Pick up and drop time of the activity might vary and it will be confirmed two days prior to your activity commencement.",lastLocation:this.props.lastLocation,location:this.props.location,ticketsPerBooking:K,ticketTypes:W,onTriggerDetailPage:this.onTriggerDetailPage,refundPolicies:"If the activity is cancelled by our partners due to bad weather conditions, then refund for the activity will be provided",closeActivityDetail:this.closeActivityDetail,backActivityDetails:this.backActivityDetails,headerTopContent:"ITINERARY / ACTIVITY",headerContent:this.isFromAlternate()?"Change Activity":ee,activityHeader:ae,title:T.title,images:"string"===typeof T.mainPhoto?[T.mainPhoto]:T.mainPhoto,name:x.name,highlights:T.highlights?T.highlights:[],inclusions:P,exclusions:M,shortDescription:T.shortDesc?T.shortDesc:"",overView:T.longDesc,duration:R.duration,currentTourGrade:R.gradeCode,currentStartSlot:R.startSlot,startTime:null===z||void 0===z?void 0:z.startTime,privateTour:T.privateTour,refundable:void 0===T.refundable&&T.costingInfo&&void 0!==T.costingInfo.refundable?T.costingInfo.refundable:T.refundable,transferIncluded:T.transferIncluded,keyValue:U,departureTime:L,dateOfTravel:this.getFirstHalfContent(),isAdmin:I,isBooked:F,changeButtonText:"Change Activity",isDisabledChange:B,onChangeAction:this.goToAlternateActivity,isUpdate:B,onUpdateAction:this.addActivity,isReadOnly:A||v,removeButtonText:"Remove",onRemoveAction:this.removeButtonClickHandler,isDisabledRemove:B,enableExpand:!1,fromAlternates:B,createMarkup:Ye.a,currentMobileModalView:O,onMobileModalClick:this.onMobileModalClick,diffCost:H.cost,isUpdatePriceIncreased:H.priceIncreased,regionCode:D.toLowerCase(),transferType:R.transferType,disablePriceVariation:!R.diff,likeCount:T.likeCount,dislikeCount:T.dislikeCount,itineraryAlerts:this.isFromAlternate()?[]:y,appReview:{reviews:T.appReviews.activityReviews,activityReview:!0,moreResultsAvailable:T.appReviews.moreResultsAvailable,planningToolId:T.planningToolId},onCollapseClickAction:B?null:this.toggleUpgrade,showUpgrades:!B&&N,onTGSelect:this.onTGSelect,tourGradeOptions:w,tourGradeIsTitleOnly:k,upgradable:Z,staleCost:null===f||void 0===f||null===(e=f.itinerary)||void 0===e?void 0:e.staleCost,additionalInfo:null===(t=x.activitySlotDetail)||void 0===t?void 0:t.additionalInfo,whatToExport:null===(a=x.activitySlotDetail)||void 0===a?void 0:a.activityItinerary,activityId:null===(n=x.activitySlotDetail)||void 0===n?void 0:n.activityId,bannerData:null===x||void 0===x||null===(i=x.activitySlotDetail)||void 0===i?void 0:i.photos,endPoint:null===x||void 0===x||null===(r=x.activitySlotDetail)||void 0===r?void 0:r.endPoints,redemptionPoints:null===x||void 0===x||null===(o=x.activitySlotDetail)||void 0===o?void 0:o.redemptionPoints,redemptionPointsDescription:null===x||void 0===x||null===(l=x.activitySlotDetail)||void 0===l?void 0:l.redemptionPointsDescription,startPoints:null===x||void 0===x||null===(c=x.activitySlotDetail)||void 0===c?void 0:c.startPoints,rating:null===x||void 0===x||null===(s=x.activitySlotDetail)||void 0===s?void 0:s.rating,reviewData:S,permission:j,recommendedActivity:null===x||void 0===x||null===(m=x.activitySlotDetail)||void 0===m?void 0:m.pickupAreas,userDetails:g}),u.a.createElement(_.d,Object.assign({},h,{callback:this.closeAuth})))}}]),a}(d.Component);t.default=Object(Ge.withLastLocation)(Object(m.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.alerts,i=void 0===n?{}:n;return{itineraryInfo:a.itineraryInfo,user_details:a.user_details,isReadOnly:a.isReadOnly,activityDetailsFromAlternates:a.activityDetailsFromAlternates,unAuth:a.unAuth,itineraryAlerts:Object(Y.a)(i,"itinerary_alerts.alertMessages.ACTIVITY.alerts")}}),(function(e){return{getItinerary:Object(p.b)(f.a,e),manageActivity:Object(p.b)(h.a,e),resetAuth:Object(p.b)(v.a,e),resizeHandler:Object(p.b)(A.a,e),updateTourGrade:Object(p.b)(Ze,e),generateActivityPreviewList:Object(p.b)(P.f,e)}}))(rt))},1477:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(38),r=a(39),o=a(46),l=a(56),c=a(29),s=a(0),d=a.n(s),u=a(36),m=a(30),p=a(54),f=a(192),h=a.n(f),v=a(42),g=a(1780),b=a(591),y=a(1960),E=a(2057),C=a(14),x=a(1793),O=a.n(x),N=a(22),w=a(190),k=function(e,t){var a=e.filter((function(e){return e.diff&&"PRICEDECREASE"===e.diff.diffChangeType}));if(a.length>0){var n="ASC"===t?"desc":"asc";return a=O()(a,["diff.diffCost"],n)}return[]},S=function(e,t){var a=e.filter((function(e){return e.diff&&"PRICEINCREASE"===e.diff.diffChangeType}));return a.length>0?a=O()(a,["diff.diffCost"],[t]):[]};var A=C.a.api_url;function j(e){return function(t){return new Promise((function(a,i){t({type:"FLIGHT_ALTERNATES_FETCHING"});var r="".concat(A,"flight/alternateflights");Object(N.a)({url:r,method:"POST",body:e,onSuccess:function(e){var i=e&&e.data||{};if(e){var r=(i.comboFlightCostings||[]).map((function(e){return Object(n.a)(Object(n.a)({},e),{},{cost:isNaN(e.cost)?Number(e.cost&&e.cost.replace(/,/g,"")):e.cost})}));i.comboFlightCostings=r}t({type:"FLIGHT_ALTERNATES",payload:i}),a(i)},onFailure:function(e){Object(w.a)(e,t),i("Failed - stats")}})}))}}function I(e){var t=e.list,a=e.splitPricing,i=e.sortOption;return function(e){return new Promise((function(r){var o=t.alternates&&t.alternates.comboFlightCostings;switch(i.type){case"PRICE":o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",n=e,i=[];if(t)i=O()(n,["cost"],[a]);else{var r=n.filter((function(e){return!e.diff}));r.length>0&&(r=O()(r,["cost"],[a]),i=i.concat(r));var o=[];o="asc"===a?k(n,a):S(n,a),i=i.concat(o);var l=n.filter((function(e){return e.diff&&"NONE"===e.diff.diffChangeType}));l.length>0&&(i=i.concat(l));var c=[];c="asc"===a?S(n,a):k(n,a),i=i.concat(c)}return i}(o,a,i.orderBy.toLowerCase());break;case"DURATION":o=o.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{totalDuration:e.flightCostingsList[0].totalDuration})})),o=O()(o,["totalDuration"],i.orderBy.toLowerCase());break;case"DEPARTURE_TIME":o=o.map((function(e){var t=parseInt(e.tripTimingsList[0][0].substring(0,5).split(":").join(""));return Object(n.a)(Object(n.a)({},e),{},{departureTime:t})})),o=O()(o,["departureTime"],i.orderBy.toLowerCase())}var l=Object(n.a)(Object(n.a)({},t.alternates),{},{comboFlightCostings:o});e({type:"FLIGHT_ALTERNATES",payload:l}),r(l)}))}}function T(e){return function(t){return new Promise((function(a){t({type:"FLIGHT_ALTERNATES_DETAILS",payload:e}),a(e)}))}}function R(){return function(e){return new Promise((function(t){e({type:"RESET_FLIGHTS",payload:null}),t("reset")}))}}var D=a(137),F=a(1595),P=a(1596),M=a(1684),_=a(1702),L=a(1621),B=a(1656),H=a(1693),V=a(1653),z=a(62),U=a(1598),K=a(20),W=a(7),G=a(1659),Y=a(2074),q=a(1674),J=a(290),Q=a(15),X=a(55);function $(e){var t=e.flight,a=e.closeAction,n=e.backAction,i=e.enableSorting,r=void 0===i||i,o=e.onChangeSearchTerm,l=e.sortOption,c=e.filters,u=e.spanContent,m=e.headerContent,p=e.triggerSort,f=e.publishedCost,h=void 0===f?null:f,v={value:h},g=[];return c&&c.applyOJFilter&&g.push(0),l&&"PRICE"===l.type&&(g=[0]),l&&"DEPARTURE_TIME"===l.type&&(g=[1]),l&&"DURATION"===l.type&&(g=[2]),d.a.createElement(J.a,{enabled:!0},d.a.createElement("div",{className:"clearfix fw mbottom-medium"},d.a.createElement(q.a,{rootClassName:"subheader-modals",isMobile:Object(K.a)(),onClickBackAction:function(){Object(Q.Ld)(Q.t,{page:"Flight Alternates"}),n()},onClickCloseAction:a,spanContent:u,headerContent:m,enableSearch:!1,defaultActiveIndes:g,onChangeAction:function(e){o(e)},sortingContents:r?[{iconClassName:"icon pyt-wallet-24",title:"Price",sortOrder:l.orderBy,subtextContent:d.a.createElement(s.Fragment,null,l&&"PRICE"===l.type?d.a.createElement("i",{className:"".concat("ASC"===l.orderBy?"pyt-arrow-down-circle-16 color-primary":"pyt-arrow-up-circle-16 color-secondary")}):null," ",l&&"PRICE"===l.type?"ASC"===l.orderBy?"Low to High":"High to Low":"Order by price"),onClickAction:function(e){e&&e.preventDefault(),p({type:"PRICE",orderBy:l?l.orderBy:"DESC"})}},{title:"Departure Time",sortOrder:l.orderBy,subtextContent:d.a.createElement(s.Fragment,null,l&&"DEPARTURE_TIME"===l.type?d.a.createElement("i",{className:"".concat("ASC"===l.orderBy?"pyt-arrow-down-circle-16 color-primary":"pyt-arrow-up-circle-16 color-secondary")}):null," "),onClickAction:function(e){e&&e.preventDefault(),p({type:"DEPARTURE_TIME",orderBy:l?l.orderBy:"ASC"})}},{iconClassName:"icon pyt-clock-24",title:"Duration",sortOrder:l.orderBy,subtextContent:d.a.createElement(s.Fragment,null,l&&"DURATION"===l.type?d.a.createElement("i",{className:"".concat("ASC"===l.orderBy?"pyt-arrow-down-circle-16 color-primary":"pyt-arrow-up-circle-16 color-secondary")}):null," ",l&&"DURATION"===l.type?"ASC"===l.orderBy?"Shortest to Longest":"Longest to Shortest":"Order by duration"),onClickAction:function(e){e&&e.preventDefault(),p({type:"DURATION",orderBy:l?l.orderBy:"DESC"})}}]:[]}),t&&"SUCCESS"===t.status&&!Object(K.a)()?d.a.createElement("section",{className:"subheader-modals-info bold mbottom-medium"},d.a.createElement("div",{className:"container sm-full-width lg-container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-xs-7 col-sm-6 col-md-8 truncate"},"Now changing:",d.a.createElement("a",{href:"_",onClick:function(e){e&&e.preventDefault(),n()}}," ".concat(u))),d.a.createElement("div",{className:"col-xs-5 col-sm-6 col-md-4 text-right"},h?d.a.createElement("a",{href:"#"},d.a.createElement(X.a,{objectData:v,path:"value",defaultValue:"0"})):null)))):null))}function Z(e){var t=e.headerComponent,a=e.enableFilterOnMobile,n=e.filterComponent,i=e.contentComponent,r=e.footerComponent,o=e.titleComponent;return Object(K.a)()?d.a.createElement("div",{className:"hidden-md hidden-lg altermodal-xs-view xs-slide-up flights-alternate-xs"},t,d.a.createElement("div",{className:"altermodal-xs-content"},d.a.createElement("aside",{className:"altermodal-filters ".concat(a?"":"hide")},n),a?null:o,a?null:i),r):d.a.createElement("div",{className:"hidden-sm hidden-xs flights-alternate mbottom-large"},t,d.a.createElement("div",{className:"container lg-container"},d.a.createElement("div",{className:"row"},d.a.createElement("aside",{className:"col-md-3 altermodal-filters",id:"hotel_filter_options"},n),d.a.createElement("div",{className:"col-md-9"},i))))}var ee=a(68),te=a(1678),ae=a(1640),ne=a(1661),ie=a(1639),re=a(106),oe=a(1604);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}function ce(e){var t=e.triggerSort,a=e.alternatesFlights,n=void 0===a?[]:a,i=e.showLoading,r=e.sortOption;return d.a.createElement(s.Fragment,null,d.a.createElement("section",{className:"options-hdr"},d.a.createElement("div",{className:"row vertical-center"},d.a.createElement("div",{className:"col-xs-4"},i?d.a.createElement("p",null,"Fetching flights based on your filter..."):d.a.createElement("p",null,n.length>0?"".concat(n.length," option").concat(1===n.length?"":"s"," found"):null)),d.a.createElement("div",{className:"col-xs-8"},d.a.createElement("ul",{className:"tab-links"},i||n.length>0?d.a.createElement(s.Fragment,null,d.a.createElement("li",{className:"".concat("PRICE"===r.type?"active":"")},d.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),t({orderBy:r.orderBy,type:"PRICE"})}},r&&"PRICE"===r.type?d.a.createElement("i",{className:"".concat("ASC"===r.orderBy?"pyt-sort-ascending-16":"pyt-sort-descending-16")}):null,d.a.createElement("span",null,"Price"))),d.a.createElement("li",{className:"".concat(r&&"DEPARTURE_TIME"===r.type?"active":"")},d.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),t({orderBy:r.orderBy,type:"DEPARTURE_TIME"})}},r&&"DEPARTURE_TIME"===r.type?d.a.createElement("i",{className:"".concat("ASC"===r.orderBy?"pyt-sort-ascending-16":"pyt-sort-descending-16")}):null,d.a.createElement("span",null,"Departure Time"))),d.a.createElement("li",{className:"".concat(r&&"DURATION"===r.type?"active":"")},d.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),t({orderBy:r.orderBy,type:"DURATION"})}},r&&"DURATION"===r.type?d.a.createElement("i",{className:"".concat("ASC"===r.orderBy?"pyt-sort-ascending-16":"pyt-sort-descending-16")}):null,d.a.createElement("span",null,"Duration")))):null)))))}var se=function(e){Object(o.a)(a,e);var t=le(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).onChangeAirportCode=function(t,a){var i,r=h()(e.props.filters);r=Object(n.a)(Object(n.a)({},r),{},(i={},Object(ee.a)(i,t,a),Object(ee.a)(i,"isInternational",!0),i)),e.props.handler(r)},e.renderAirportRadioButtons=function(t,a,n){try{if(void 0===t)return null;var i=h()(a||[]);return i.unshift(t),d.a.createElement(ae.a,{onClickAction:e.props.updateFilters,ref:null,orientation:"Vertical",target:n,componentValues:(i||[]).map((function(e){return{text:e,value:e}}))})}catch(r){return null}},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=h()(e.flight),a=h()(e.isMobileDevice),n=h()(e.componentName),i=h()(e.headerTopContent),r=h()(e.headerContent),o=h()(e.airlineOptions),l=h()(e.filters),c=h()(e.user_details),u=h()(e.splitPricingEnabled),m=h()(e.minPrice),p=h()(e.maxPrice),f=h()(e.selectedMinPrice),v=h()(e.selectedMaxPrice),g=h()(e.sortOption),b=h()(e.alternatesFlights),y=h()(e.showLoading),E=h()(e.departureTimesList),C=this.props,x=C.onCloseModal,O=C.updateFilters,N=C.onClickBackAction,w=C.updatePriceFilters,k=C.triggerSort,S={content:d.a.createElement("div",{className:"smart-filter mbottom-medium"},"Smart Filter",d.a.createElement(re.a,{placement:"bottom",text:oe.g},d.a.createElement("i",{className:"cursor-pointer pyt-help-16"})),d.a.createElement(ie.a,{onChangeAction:function(e){O(null,e,"applyOJFilter")}}))},A={header:t&&"SUCCESS"===t.status?"Departure time at ".concat(t&&t.allTrips[0].split("_")[0]):"Onward departure time",content:d.a.createElement(ae.a,{onClickAction:O,ref:this.props.onwardReference,orientation:"Vertical",target:"onwardDepartureTimes",componentValues:E})},j=t&&t.allTrips&&t.allTrips.length>1?{header:t&&"SUCCESS"===t.status?"Departure time at ".concat(t&&t.allTrips[t.allTrips.length-1].split("_")[0]):"Return departure time",content:d.a.createElement(ae.a,{ref:this.props.returnReference,onClickAction:O,orientation:"Vertical",target:"returnDepartureTimes",componentValues:E})}:null,I=[];l&&l.includeNonStop&&I.push("includeNonStop"),l&&l.includeOneStop&&I.push("includeOneStop"),l&&l.includeTwoStops&&I.push("includeTwoStops");var T={header:"Number of stops",content:d.a.createElement(ae.a,{ref:this.props.stopReference,buttonClass:"opt-list",onClickAction:function(e,t){return O({},t,t)},componentValues:[{text:"Direct",value:"includeNonStop"},{text:"1 stop",value:"includeOneStop"},{text:"2 stops",value:"includeTwoStops"}]})},R=[];l&&l.includeRefundable&&R.push("includeRefundable"),l&&l.includeNonRefunable&&R.push("includeNonRefunable");var D={header:"Payment options",content:d.a.createElement(ae.a,{ref:this.props.paymentReference,buttonClass:"opt-list",onClickAction:function(e,t){O({},t,t)},componentValues:[{text:"Refundable",value:"includeRefundable"},{text:"Non Refundable",value:"includeNonRefunable"}]})},F=[];(o||[]).map((function(e){l.airlineCodesToBeIncluded.includes(e.airlineCode)&&F.push(e.airlineCode)}));var P=o?o.map((function(e){return{text:e.airlineName,value:e.airlineCode}})):[];P.length>1&&P.push({text:"View All",value:"VIEWALL",disablePill:!0});var M=o&&{header:"Airlines",content:d.a.createElement(ae.a,{isCheckBox:!0,ref:this.props.airlineReference,orientation:"Vertical",buttonClass:"opt-list",enableCollapse:!1,moreCounts:o.length-4,lessCounts:o.length-4,activeCounts:4,onClickAction:function(e,t){O({},t,"airlineCodesToBeIncluded")},componentValues:P})},_=[],L=null,B=[];l&&l.flightClasses?B=l.flightClasses:t.flightClass&&B.push(t.flightClass),c&&"ADMIN"===c.userType&&"PYTON"!==l.sourceProvider&&"SKYPICKER"!==l.sourceProvider&&(L={header:"Flight Class",content:d.a.createElement(ae.a,{ref:this.props.providerReference,onClickAction:O,target:"flightClasses",allowMultiple:!0,activeButtons:B,componentValues:[{text:"Economy",value:"ECONOMY"},{text:"Business",value:"BUSINESS"}]})});var H=[];l&&"PYTON"===l.sourceProvider&&H.push("PYTON"),l&&"SKYPICKER"===l.sourceProvider&&H.push("SKYPICKER");var V=null;c&&"ADMIN"===c.userType&&(V="PYTON"!==l.sourceProvider&&"MYSTIFLY"!==l.sourceProvider?{header:"Provider",content:d.a.createElement(ae.a,{ref:this.props.providerReference,onClickAction:O,target:"sourceProvider",allowMultiple:!0,activeButtons:H,componentValues:[{text:"TBO",value:"TBO"},{text:"Amadeus",value:"AMADEUS"}]})}:"");var z=u&&o?{header:"Price",content:m!==p&&d.a.createElement(s.Fragment,null,d.a.createElement(te.a,{min:m,max:p,defaultValue:[m,p],range:!0,allowCross:!1,name:"price",onChange:function(e){return w(e,"priceFilter")},onAfterChange:function(e){return O({},e,"priceFilter")}}),d.a.createElement("div",null,d.a.createElement("span",{className:"slider-price"},d.a.createElement(X.a,{objectData:{value:f},path:"value",defaultValue:"0"})),d.a.createElement("span",{className:"pull-right slider-price"},d.a.createElement(X.a,{objectData:{value:v},path:"value",defaultValue:"0"}))))}:null,U=this.renderAirportRadioButtons(l.onwardSelectedDepAirportCode,l.onwardDepAirportOptions,"onwardDepartureAirportCode",!0),K=this.renderAirportRadioButtons(l.onwardSelectedArrAirportCode,l.onwardArrAirportOptions,"onwardArrivalAirportCode",!0),W=this.renderAirportRadioButtons(l.returnSelectedDepAirportCode,l.returnDepAirportOptions,"returnDepartureAirportCode",!0),G=this.renderAirportRadioButtons(l.returnSelectedArrAirportCode,l.returnArrAirportOptions,"returnArrivalAirportCode",!0);switch(_=[S,T,A,j,M,D,z,V,c&&"ADMIN"===c.userType&&U&&K?{header:"Onward Journey",content:[d.a.createElement("p",{key:1,className:"mbottom-medium"},"From"),U,d.a.createElement("p",{key:2,className:"mtop-medium"},"To"),K]}:null,c&&"ADMIN"===c.userType&&W&&G?{header:"Return Journey",content:[d.a.createElement("p",{key:1,className:"mbottom-medium"},"From"),W,d.a.createElement("p",{key:2,className:"mtop-medium"},"To"),G]}:null,L],n){case"HEADER_TITLE":return d.a.createElement(ce,{triggerSort:k,updateFilters:O,alternatesFlights:b,showLoading:y,sortOption:g});case"HEADER":return d.a.createElement($,{lastLocation:this.props.lastLocation,isMobile:a,flight:t,backAction:N,closeAction:x,spanContent:i,headerContent:r,updateFilters:O,triggerSort:k,sortOption:g,filters:l,publishedCost:"SUCCESS"===t.status?t.ourCost:null});case"FILTER":default:return a?d.a.createElement("div",{className:"panel-group"},_.map((function(e,t){return d.a.createElement("section",{key:t,className:"panel"},d.a.createElement("div",{className:"panel-heading"},(e||{}).header),d.a.createElement("div",{className:"panel-body"},(e||{}).content))}))):d.a.createElement(J.a,{enabled:!0,top:144},d.a.createElement(ne.a,{components:_}))}}}]),a}(s.Component),de=a(35),ue=a.n(de),me=a(1635),pe=a(342);function fe(e){var t=e.data,a=void 0===t?[]:t,n=e.isMobileDevice,i="Multiple carriers",r=Object(me.a)(a,"imageSrc").splice(0,2);return 1===r.length&&(i=r[0].name),d.a.createElement("div",{className:"left-col"},d.a.createElement("div",null,r.map((function(e,t){return d.a.createElement("span",{key:t,className:"flight-icon"},d.a.createElement(pe.a,{disableLazyLoad:!0,src:e.imageSrc,defaultImage:e.defaultIcon,alt:e.altContent||" "}))}))),d.a.createElement("span",{className:ue()({"airline-txt light text-center":!n,txt:n})},i))}var he=a(1617);function ve(e){var t=e.duration,a=e.fromCity,n=e.toCity,i=e.departureDate,r=e.departureTime,o=e.arrivalTime,l=e.arrivalDate,c=e.stops,s=c&&c.split("\u2192").length,u=2===s?"Direct":s-2>1?"".concat(s-2," stops"):"1 stop";return Object(K.a)()?d.a.createElement("div",{className:"time_des"},d.a.createElement("p",null,d.a.createElement("strong",null,r),d.a.createElement("span",{className:"color-accent-13 semi-bold"}," ".concat(i)),d.a.createElement("i",{className:"pyt-flight-16"}),d.a.createElement("strong",null,o),i!==l&&d.a.createElement("span",{className:"color-accent-13 semi-bold"}," ".concat(l))),d.a.createElement("p",{className:"chain-text"},t," . ",u," . ",c)):d.a.createElement("div",{className:"clearfix route"},d.a.createElement("p",{className:"split-width"},d.a.createElement("strong",null,r,"\xa0",d.a.createElement("span",{className:"color-grey regular"},a)),d.a.createElement("i",{className:"regular"}," ".concat(i)),d.a.createElement("span",{className:"fine-text"},c)),d.a.createElement("div",{className:"split-width text-center"},d.a.createElement(he.e,{content:"".concat(t,", ").concat(u)})),d.a.createElement("p",{className:"split-width"},d.a.createElement("strong",null,d.a.createElement("span",{className:"color-grey regular"},n,"\xa0"),o),i!==l&&d.a.createElement("i",{className:"regular"}," ".concat(l))))}var ge=a(1603);function be(e){var t=e.routes,a=void 0===t?[]:t,n=e.icons,i=e.optionsCount,r=e.isMobileDevice,o=e.showTabPanel,l=e.changeActiveTab;return d.a.createElement("div",{className:"middle-col"},a.map((function(e,t){return e&&Object.keys(e).length?d.a.createElement(ve,Object.assign({},e,{key:t})):null})),r?d.a.createElement(ye,{count:i,showTabPanel:o,changeActiveTab:l}):d.a.createElement(Ee,{icons:n,count:i,showTabPanel:o,changeActiveTab:l}))}function ye(e){var t=e.count,a=void 0===t?0:t,n=e.showTabPanel,i=e.changeActiveTab;return 0===a?null:d.a.createElement("div",{onClick:function(e){e&&e.stopPropagation(),i()}},d.a.createElement("a",{className:"caps-text-mini bold"},n?"view less options":"+".concat(a," FLIGHTS AT SAME PRICE")))}function Ee(e){var t=e.icons,a=void 0===t?[]:t,n=e.count,i=void 0===n?0:n,r=e.showTabPanel,o=e.changeActiveTab;return d.a.createElement("div",{className:"card-footer"},d.a.createElement(ge.a,{rootClassName:"list-unstyled",icons:a}),d.a.createElement("ul",{className:"list-unstyled text-right bold caps-text tab-links"},i?d.a.createElement(s.Fragment,null,d.a.createElement("li",{className:"option ".concat(r?"active":""),onClick:function(e){e&&e.stopPropagation(),o()}},"+".concat(i," more flight options"))):null))}var Ce=a(1647),xe=a(191);function Oe(e){var t=e.cost,a=e.isPriceIncreased,n=e.disablePriceVariation,i=e.replaceAction,r=void 0===i?function(){}:i,o=0===t?d.a.createElement("p",{className:"main-text mb-0"},"At same price"):d.a.createElement(Ce.a,{price:t,rootClassName:"varied-price",isPriceIncreased:a,disablePriceVariation:n});return Object(K.a)()?d.a.createElement("div",{className:"right-col"},o):d.a.createElement("div",{className:"right-col price-variant-col"},d.a.createElement("div",{className:"price-col"},o,d.a.createElement(xe.a,{buttonClass:"btn btn-primary btn-sm",buttonText:"Replace",onClickAction:r})))}function Ne(e){var t=e.fromCity,a=e.toCity,n=e.date;return d.a.createElement("li",null,d.a.createElement("strong",{className:"color-grey-secondary"},"".concat(t," \u2192 ").concat(a)),d.a.createElement("span",{className:"color-accent-13 meta-text semi-bold"}," ".concat(n)))}function we(e){if(e.routes){var t=-1,a="";return e.routes.map((function(e){++t,a+=t?" \u2192 ".concat(e.arrivalAirportCode):"".concat(e.departureAirportCode," \u2192 ").concat(e.arrivalAirportCode)})),a}return null}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.routes,a=void 0===t?[]:t,n=e.flyTime,i=a.length;if(!i)return null;var r=a[i-1],o=a[0].departureTime.substring(0,a[0].departureTime.length-3),l=r.arrivalTime.substring(0,a[0].arrivalTime.length-3);return{departureTime:o,arrivalTime:l,fromCity:a[0].departureAirportCode,toCity:r.arrivalAirportCode,duration:n,departureDate:e.day+" "+e.landMon,departureDayOfWeek:e.dayOfWeek,arrivalDate:r.arrDateOfMonth+" "+r.arrMonth,arrivalDayOfWeek:r.arrivalDayOfWeek,stops:we(e)}}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ke(e),a=t.departureTime,n=t.arrivalTime,i=t.fromCity,r=t.toCity,o=t.duration,l=t.stops,c=l.split("\u2192"),s=c[0],u=c[c.length-1];return d.a.createElement("div",{className:"details"},d.a.createElement("p",null,d.a.createElement("span",null,d.a.createElement("b",null,a," ")," ",i||s),l),d.a.createElement("p",null,d.a.createElement("span",null,r||u," ",d.a.createElement("b",null,n))),d.a.createElement("p",null,d.a.createElement("span",null,o," ")))}function Ae(e){var t=e.flightCostingsList,a=void 0===t?[]:t,n=e.flightIndex,i=e.selectedRow,r=e.changeActiveRow;return a.map((function(e,t){var a=e.allTrips,o=void 0===a?[]:a,l=e.trips,c=void 0===l?{}:l,s=c[o[0]],u=o.length>1?c[o[1]]:null,m="option-"+n+"-1";return d.a.createElement("div",{className:"opt-details",key:t},d.a.createElement("input",{name:m,type:"radio",id:"option_".concat(t),value:"Option",checked:i===t,onChange:function(e){e.stopPropagation(),r(t,n)}}),d.a.createElement("label",{htmlFor:"option_".concat(t)},d.a.createElement(Se,s),u?d.a.createElement(Se,u):null,d.a.createElement("i",null)))}))}function je(e){var t=e.fromCity,a=e.toCity,i=e.departureDate,r=e.arrivalDate,o=e.flightCostingsList,l=e.flightIndex,c=e.identifier,s=e.selectedRow,u=e.changeActiveRow,m=e.isMobileDevice,p=e.onCardClick,f=e.priceDetails;return m?d.a.createElement("div",{className:"flight-options-details fw bg-grey-lighter"},o.map((function(e,t){if(0===t)return null;var a=e.allTrips,i=void 0===a?[]:a,r=e.trips,o=void 0===r?{}:r,l=o[i[0]].routes,c=void 0===l?[]:l,s=ke(o[i[0]]),u=i.length>1&&o[i[1]]?ke(o[i[1]]):null,m=[];Array.isArray(c)&&c.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(G.a)(e.carrierCode,e.carrierName);m.push({name:t.name,imageSrc:t.url,altContent:t.name,defaultIcon:t.url})}));var h=1===t?{borderBottomWidth:0}:null;return d.a.createElement("section",{key:t,className:"flight-card-xs",style:h,onClick:function(t){t.stopPropagation(),p(Object(n.a)(Object(n.a)({},e),{},{priceDetails:f}))}},d.a.createElement(fe,{data:m,isMobileDevice:!0}),d.a.createElement("div",{className:"middle-col"},d.a.createElement(ve,s),u?d.a.createElement(ve,u):null))}))):d.a.createElement("div",{className:"flight-options-details ".concat(a?"":"fw")},a?d.a.createElement("ul",{className:"pull-left list-unstyled mb-0"},d.a.createElement(Ne,{fromCity:t,toCity:a,date:i}),d.a.createElement(Ne,{fromCity:a,toCity:t,date:r})):null,d.a.createElement(Ae,{flightCostingsList:o,flightIndex:l,selectedRow:s,changeActiveRow:u,identifier:c}))}function Ie(e){var t=e.airlines,a=e.priceDetails,i=e.flightCostingsList,r=e.flightIndex,o=void 0===r?0:r,l=e.identifier,c=void 0===l?"":l,u=e.showTabPanel,m=void 0!==u&&u,p=e.selectedRow,f=void 0===p?0:p,h=e.changeActiveTab,v=e.changeActiveRow,g=e.icons,b=void 0===g?[]:g,y=e.onCardClick,E=m?i[f]:i[0],C=E.allTrips,x=void 0===C?[]:C,O=E.trips,N=void 0===O?{}:O,w=ke(N[(x=x||[])[0]]),k=x.length>1?ke(N[x[1]]):{},S=Object(K.a)(),A={routes:[w,k],optionsCount:i.length-1,icons:b,showTabPanel:m,changeActiveTab:h,isMobileDevice:S},j={fromCity:w&&w.fromCity,toCity:k&&k.fromCity,departureDate:w.departureDayOfWeek+" "+w.departureDate,arrivalDate:k.arrivalDayOfWeek+" "+k.arrivalDate,flightCostingsList:i,flightIndex:o,identifier:c,selectedRow:f,changeActiveRow:v,priceDetails:a};return S?d.a.createElement(s.Fragment,null,d.a.createElement("section",{className:"flight-card-xs",onClick:function(e){e.stopPropagation(),y(Object(n.a)(Object(n.a)({},i[0]),{},{priceDetails:a}))}},d.a.createElement(fe,{data:t,isMobileDevice:!0}),d.a.createElement(be,A),d.a.createElement(Oe,a)),m?d.a.createElement(je,Object.assign({},j,{onCardClick:y,isMobileDevice:!0})):null):d.a.createElement(s.Fragment,null,d.a.createElement("section",{className:ue()("flight-card ",{active:m}),onClick:function(e){e.stopPropagation(),y(Object(n.a)(Object(n.a)({},E),{},{priceDetails:a}))}},d.a.createElement(fe,{data:t,isMobileDevice:S}),d.a.createElement(be,A),d.a.createElement(Oe,a)),m?d.a.createElement(je,j):null)}var Te=a(289),Re=a.n(Te),De=a(1695),Fe=a(23),Pe=a(1638),Me=a(1694);function _e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var Le=function(e){Object(o.a)(a,e);var t=_e(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeActiveTab=function(e,t){t&&t.stopPropagation(),t&&t.preventDefault();var a=e;e===n.state.activeTab&&(a=null),n.setState({activeTab:a,activeRow:0})},n.changeActiveRow=function(e){if(e===n.state.activeRow)return null;n.setState({activeRow:e})},n.hideFlightFilters=function(){n.setState({enableFilterOnMobile:!1})},n.showFlightFilters=function(){n.setState({enableFilterOnMobile:!0})},n.mobileFilterAction=function(){n.setState({enableFilterOnMobile:!n.state.enableFilterOnMobile})},n.replaceFlight=function(e,t){var a=n.state,i=a.activeRow,r=void 0===i?0:i,o=a.activeTab,l=t&&t.flightCostingsList[0];o===e&&r&&(l=t&&t.flightCostingsList[r]);var c={selectedFlightIdentifier:l.identifier,tripIdentifiers:[l.identifier],validatingAirline:l.validatingAirline,flightSearchQueries:l.flightSearchQueries,sourceProvider:l.sourceProvider,flightClass:l.flightClass};l&&l.allTrips[0]&&l.trips[l.allTrips[0]].changesStayStartDate?n.setState({updateFlightData:c,showStartDateChangeAlert:!0}):n.proceedToChangeFlight(c)},n.proceedToChangeFlight=function(e){n.props.replaceFlightData(e||n.state.updateFlightData)},n.getContentComponent=function(){var e=n.props,t=e.alternates,a=void 0===t?{}:t,i=e.onCardClick,r=e.isAdmin,o=e.dataNotFoundText,l=e.onwardReference,c=e.returnReference,u=e.stopReference,m=e.paymentReference,p=e.airlineReference,f=e.providerReference,h=[],v=a&&"object"===typeof a&&a.comboFlightCostings||[];v.forEach((function(){var e,t,a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,l=i.flightCostingsList,c=void 0===l?[]:l,s=i.diff,d=void 0===s?null:s,u=i.refundable,m=i.cost,p=c[0]&&c[0].ourSourceProvider,f=c[0]&&(null===(e=c[0])||void 0===e?void 0:e.fareFamily),v=c[0]&&(null===(t=c[0])||void 0===t?void 0:t.freeCabinBaggage),g=c[0]&&(null===(a=c[0])||void 0===a?void 0:a.freeCheckInBaggage),b=[],y={},E=[];u?E.push({className:"pyt-refundable-16 color-primary-dark",text:"Refundable"}):E.push({className:"pyt-non-refundable-16 color-accent-7",text:"Non Refundable"}),r&&p&&E.push({className:"pyt-info-24",text:p}),f&&E.push({className:"pyt-info-24",text:f}),v&&E.push({className:"pyt-baggage-16",text:"Cabin: "+v}),g&&E.push({className:"pyt-baggage-16",text:"Checkin: "+g}),y=d&&"object"===typeof d?{cost:d.diffCost||0,isPriceIncreased:"PRICEINCREASE"===d.diffChangeType,replaceAction:function(e){e&&e.stopPropagation(),n.replaceFlight(o,i)}}:{cost:m,disablePriceVariation:!0,replaceAction:function(e){e&&e.stopPropagation(),n.replaceFlight(o,i)}},c.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allTrips,a=void 0===t?[]:t,n=e.trips,i=void 0===n?{}:n;a.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=i[e];if("object"===typeof t){var a=t.routes,n=void 0===a?[]:a;n.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(G.a)(e.carrierCode,e.carrierName);b.push({name:t.name,imageSrc:t.url,altContent:t.name,defaultIcon:t.default})}))}}))})),h.push({airlines:b,priceDetails:y,flightCostingsList:c,icons:E})}));var g=v.length;return d.a.createElement(s.Fragment,null,Object(K.a)()?null:d.a.createElement("div",{className:"option-header"},d.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium",style:{paddingLeft:"10px"}},g>0?"".concat(g," option").concat(1===g?"":"s"," found"):null),d.a.createElement(De.a,{pills:[l,c,u,m,p,f]})),g>0?d.a.createElement(s.Fragment,null,h.map((function(e,t){return d.a.createElement(Ie,Object.assign({key:t},e,{flightIndex:t,showTabPanel:n.state.activeTab===t,selectedRow:n.state.activeRow,onCardClick:i,changeActiveTab:function(e){return n.changeActiveTab(t,e)},changeActiveRow:n.changeActiveRow}))})),r&&!n.props.cacheCleared?d.a.createElement("div",{className:"text-center vpadding-medium",id:"load-more-link"},d.a.createElement(xe.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),n.props.triggerAlternates(null,!0)},buttonText:"Show flights from API"})):null):d.a.createElement(Pe.a,{image:Object(Fe.a)("https://d3lf10b5gahyby.cloudfront.net/packages/empty_state_illustration.png",Object(K.a)()?"w=100&h=96&fit=crop":"w=160&h=153&fit=crop",20,void 0,!1),text:Array.isArray(o)?o.map((function(e,t){return d.a.createElement("p",{key:"no-text-".concat(t)},e)})):o,rootClassName:Object(K.a)()?"col-xs-10 col-xs-offset-1":""}))},n.state={showSearch:!1,activeTab:null,activeRow:0,selectedData:null,updateFlightData:{},showStartDateChangeAlert:!1,enableFilterOnMobile:!1},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=Object(K.a)(),a=this.props,i=h()(a.headerContent),r=h()(a.headerTopContent),o=h()(a.isFetching),l=h()(a.flight),c=h()(a.filters),u=h()(a.showLoading),m=h()(a.user_details),p=h()(a.minPrice),f=h()(a.maxPrice),v=h()(a.selectedMinPrice),g=h()(a.selectedMaxPrice),b=h()(a.airlineOptions),y=h()(a.sortOption),E=h()(a.regionCode),C=h()(a.departureTimesList),x=h()(a.splitPricingEnabled),O=a.alternates,N=void 0===O?{}:O,w=a.closeFlightAlternates,k=a.goBackAction,S=a.updateFilters,A=a.updatePriceFilters,j=a.triggerSort,I=a.onwardReference,T=a.returnReference,R=a.stopReference,D=a.paymentReference,F=a.airlineReference,P=a.providerReference,M=N&&"object"===typeof N&&N.comboFlightCostings||[],_=this.state.enableFilterOnMobile;if(o&&!u)return d.a.createElement(Y.c,null,d.a.createElement($,{key:"Loader",isMobile:t,enableSorting:!1,spanContent:r,headerContent:i,backAction:k,closeAction:w,flight:l}));var L={isMobileDevice:t,onClickBackAction:k,onCloseModal:t&&_?this.mobileFilterAction:w,headerTopContent:r,headerContent:i,flight:l},B=Object(n.a)(Object(n.a)({},L),{},{updateFilters:S,filters:c,triggerSort:j,sortOption:y}),H=Object(n.a)(Object(n.a)({},L),{},{airlineOptions:b,filters:c,updateFilters:S,user_details:m,splitPricingEnabled:x,minPrice:p,maxPrice:f,selectedMinPrice:v,selectedMaxPrice:g,updatePriceFilters:A,regionCode:E}),V=function(){e.state.showStartDateChangeAlert&&e.setState({showStartDateChangeAlert:!1})};return d.a.createElement(s.Fragment,null,d.a.createElement(Re.a,{show:this.state.showStartDateChangeAlert,title:"Change in landing date",text:"This option shifts your landing date. We'll have to re-check the resort availability and other prices for the new dates. This might take a while, sit tight.",onConfirm:function(){e.setState({showStartDateChangeAlert:!1},(function(){e.proceedToChangeFlight()}))},showCancelButton:!0,animation:"pop",confirmButtonText:"Ok, Continue",cancelButtonText:"No, Don't change my flight",onEscapeKey:V,onCancel:V,onOutsideClick:V}),d.a.createElement(Z,{titleComponent:d.a.createElement(se,Object.assign({key:"title_component",componentName:"HEADER_TITLE",alternatesFlights:M,showLoading:u},B)),headerComponent:d.a.createElement(se,Object.assign({lastLocation:this.props.lastLocation,key:"header_component",componentName:"HEADER"},B)),filterComponent:d.a.createElement(se,Object.assign({key:"filter_component",componentName:"FILTER"},H,{onwardReference:I,returnReference:T,stopReference:R,paymentReference:D,airlineReference:F,providerReference:P,departureTimesList:C})),contentComponent:u?d.a.createElement("div",{className:"hotels-alternate mbottom-large"},d.a.createElement(Y.a,{loaderState:!1,isMobileDevice:t,title:"Change Flight"})):this.getContentComponent(),enableFilterOnMobile:_,footerComponent:d.a.createElement(Me.a,{showFilter:_,onFilterShow:this.mobileFilterAction,disableSearch:!0,onUpdateClick:this.hideFlightFilters,pills:[I,T,R,D,F,P]})}))}}]),a}(s.Component),Be=a(4),He=(a(1605),a(2075)),Ve=a(2076);function ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var Ue=[{text:"Early Morning",subText:"12am - 6am",value:"0_359"},{text:"Morning",subText:"6am - 12pm",value:"360_719"},{text:"Mid-Day",subText:"12pm - 6pm",value:"720_1079"},{text:"Night",subText:"6pm - 12pm",value:"1080_1440"}],Ke=["TBO","AMADEUS"],We=function(e){Object(o.a)(a,e);var t=ze(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).handleKeyUp=function(e){27===e.keyCode&&r.closeModal()},r.handleGuide=function(e){var t=r.props,a=t.setToStorage,n=t.getFromStorage;Object(Q.Ld)(Q.ld,{element_name:"city_itinerary_pg_btn"}),[g.c.FINISHED,g.c.SKIPPED].includes(e.status)&&1!==n("alternate_flight_user_guide")&&(a("alternate_flight_user_guide",1),r.setState({showGuide:!1}))},r.replaceFlightData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h()(r.props.itineraryInfo.itinerary),a=h()(r.props.flights),i=a.alternates,o=void 0===i?{}:i;r.props.actions.updateFlight(Object(n.a)(Object(n.a)({},e),{},{itineraryId:t.itineraryId,configKey:r.state.flight.configKey,costingId:r.state.flight.costingId,cacheRefKey:o&&o.referenceKeys})).then((function(){r.closeModal(),Object(Q.Ld)(Q.Sb,{category:"flight",action:Q.B,button_clicked:"Flight Card - Change Flight"})})).catch((function(){r.closeModal()}))},r.getCurrentDetail=function(){var e=Object(F.c)(r.props,r.state).flight;if(e){var t=r.props.getFromStorage,a=e.offline?null:e.ourSourceProvider,n=h()(r.state.filters);n.includeNonStop=null===n.includeNonStop||n.includeNonStop,n.includeOneStop=null===n.includeOneStop||n.includeOneStop,n.includeTwoStops=null===n.includeTwoStops||n.includeTwoStops,n.sourceProvider=Ke.indexOf(a)>-1?null:a;var i=Object(F.d)(e);if(Ke.indexOf(a)>-1&&!n.flightClasses){var o=[e.flightClass];n.flightClasses=o}r.setState({flight:e,filters:n,headerTopContent:i,ourSourceProvider:a},(function(){Object(P.a)(r.props.flights.alternates)&&r.triggerAlternates(),1!==t("alternate_flight_user_guide")&&r.setState({showGuide:!0})}))}},r.triggerAlternates=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=h()(r.state),i=a.flight,o=a.filters,l=a.minPrice,c=a.maxPrice,s=a.ourSourceProvider,d=r.props,u=d.itineraryInfo,m=d.actions,p=h()(o);if(p.liveSearch=t,p.includeNonStop=null===p.includeNonStop||p.includeNonStop,p.includeOneStop=null===p.includeOneStop||p.includeOneStop,p.includeTwoStops=null===p.includeTwoStops||p.includeTwoStops,p.airlineCodesToBeIncluded.length?p.includeAllAirlines=!1:delete p.airlineCodesToBeIncluded,p.onwardDepartureTimes.length){var f=p.onwardDepartureTimes.map((function(e){var t=e.split("_");return{flightStartTime:t[0],flightEndTime:t[1]}}));p.onwardDepartureTimes=f}else delete p.onwardDepartureTimes;if(p.returnDepartureTimes.length){var v=p.returnDepartureTimes.map((function(e){var t=e.split("_");return{flightStartTime:t[0],flightEndTime:t[1]}}));p.returnDepartureTimes=v}else delete p.returnDepartureTimes;p.includeAllTimings=!p.onwardDepartureTimes&&!p.returnDepartureTimes,p.fromPrice===l&&delete p.fromPrice,p.toPrice===c&&delete p.toPrice,delete p.isTBO,delete p.isAmadeus;var g="PYTON"===i.ourSourceProvider||"SKYPICKER"===i.ourSourceProvider,b={sourceProvider:g?p.sourceProvider:Object(V.a)(s)?i.offline?null:i.ourSourceProvider:s,itineraryId:u.itinerary.itineraryId,costingId:i.costingId,flightFiltersRequest:p};if(o.includeRefundable||o.includeNonRefunable||(b.flightFiltersRequest.includeNonRefunable=!0,b.flightFiltersRequest.includeRefundable=!0),e){var y={};switch(e){case"applyOJFilter":y.smart_filter=r.state.filters.applyOJFilter;break;case"includeRefundable":case"includeNonRefunable":y.payment_options=[],o.includeRefundable&&y.payment_options.push("Refundable"),o.includeNonRefunable&&y.payment_options.push("Non Refundable"),o.includeRefundable||o.includeNonRefunable||(y.payment_options.push("Refundable"),y.payment_options.push("Non Refundable"),b.flightFiltersRequest.includeRefundable=!0,b.flightFiltersRequest.includeNonRefunable=!0);break;case"includeNonStop":case"includeOneStop":case"includeTwoStops":y.no_of_stops=[],o.includeNonStop&&y.no_of_stops.push("Direct"),o.includeOneStop&&y.no_of_stops.push("1 stop"),o.includeTwoStops&&y.no_of_stops.push("2 stops");break;case"airlineCodesToBeIncluded":var E=[];Array.isArray(r.state.airlineOptions)&&r.state.airlineOptions.forEach((function(e){Array.isArray(o.airlineCodesToBeIncluded)&&o.airlineCodesToBeIncluded.includes(e.airlineCode)&&E.push(e.airlineName)})),y.airlines=E.sort();break;case"onwardDepartureTimes":case"returnDepartureTimes":var C=[];Array.isArray(r.state.filters[e])&&Ue.forEach((function(t){r.state.filters[e].includes(t.value)&&C.push(t.text)})),"onwardDepartureTimes"===e?y.onward_departure_times=C.sort():y.return_departure_times=C.sort()}Object(Q.Ld)(Q.Eb,y)}var x=r.filterApplied();m.getAlternateFlights(b).then((function(e){var a={showLoading:!1,dataNotFoundText:e.comboFlightCostings&&!e.comboFlightCostings.length?x?Ve.e:Ve.b:""},i=h()(r.state),o=i.minPrice,l=i.maxPrice,c=i.filters;void 0!==e.comboFlightCostings&&(c.onwardSelectedDepAirportCode=e.onwardSelectedDepAirportCode,c.onwardSelectedArrAirportCode=e.onwardSelectedArrAirportCode,c.returnSelectedDepAirportCode=e.returnSelectedDepAirportCode,c.returnSelectedArrAirportCode=e.returnSelectedArrAirportCode,c.onwardArrAirportOptions=e.onwardArrAirportOptions,c.onwardDepAirportOptions=e.onwardDepAirportOptions,c.returnArrAirportOptions=e.returnArrAirportOptions,c.returnDepAirportOptions=e.returnDepAirportOptions);var s=e.minFlightsPrice,d=e.maxFlightsPrice,u=Math.ceil(s),m=Math.ceil(d);o!==u&&(a=Object(n.a)(Object(n.a)({},a),{},{minPrice:u,selectedMinPrice:u})),l!==m&&(a=Object(n.a)(Object(n.a)({},a),{},{maxPrice:m,selectedMaxPrice:m})),a=Object(n.a)(Object(n.a)({},a),{},{airlineOptions:e.airlineCodeNameList,filters:c}),r.setState(Object(n.a)(Object(n.a)({},a),{},{cacheCleared:t}))})).catch((function(){r.setState({showLoading:!1,cacheCleared:t})}))},r.updatePriceFilters=function(e){var t=h()(r.state),a=t.selectedMinPrice,n=t.selectedMaxPrice;a=e[0],n=e[1],r.setState({selectedMaxPrice:n,selectedMinPrice:a})},r.updateInternationFlightFilter=function(e,t){var a=t.isTBO,n=t.isAmadeus;return"TBO"===e?a=!a:"AMADEUS"===e&&(n=!n),t.isTBO=a,t.isAmadeus=n,a===n?null:function(e,t){return e&&!t?"TBO":"AMADEUS"}(a,n)},r.updateFilters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==a){var n=h()(r.state.filters);if("flightClasses"===a){var i=[];n[a]&&(i=n[a]);var o=i.indexOf(t);o>-1?i.splice(o,1):i.push(t),n[a]=i}else if("sourceProvider"===a)n[a]=Ke.indexOf(t)>-1?r.updateInternationFlightFilter(t,n):t;else if("priceFilter"===a)n.fromPrice=t[0],n.toPrice=t[1];else if(Object(z.a)(a,["airlineCodesToBeIncluded","onwardDepartureTimes","returnDepartureTimes"],0,!0)){var l=h()(n[a]),c=l.indexOf(t);c>-1?l.splice(c,1):l.push(t);var s=r.state.airlineOptions;"VIEWALL"===t&&(l=(s||[]).map((function(e){return e.airlineCode}))),n[a]=l}else Object(z.a)(a,["onwardDepartureAirportCode","onwardArrivalAirportCode","returnArrivalAirportCode","returnDepartureAirportCode"],-1)?n[a]=t:(r.stopsUpdated||(n.includeNonStop=!1,n.includeOneStop=!1,n.includeTwoStops=!1,r.stopsUpdated=!0),n[a]=!n[a],n.includeNonStop||n.includeOneStop||n.includeTwoStops||(n.includeNonStop=null,n.includeOneStop=null,n.includeTwoStops=null,r.stopsUpdated=!1));r.setState({filters:n,showLoading:!0,sortOption:{type:"PRICE",orderBy:"ASC"}},(function(){r.triggerAlternates(a)}))}},r.triggerSort=function(e){var t=h()(e),a=r.props,n=a.flights,i=a.actions,o=a.splitPricingEnabled;t.orderBy="ASC"===e.orderBy?"DESC":"ASC",r.setState({sortOption:t},(function(){i.sortAlternateFlights({list:n,sortOption:t,splitPricing:o}).then((function(){var e=r.state.sortOption,t=e.type,a=e.orderBy;Object(Q.Ld)(Q.Rc,{page:"Flight Alternates",type:t,sort_order:a})}))}))},r.closeModal=function(){var e=r.props,t=e.history,a=e.location,n=e.itineraryInfo,i=e.actions,o=n.itinerary,l=o.itineraryId,c=o.regionCode,s=Object(W.Jb)({itineraryId:l,regionCode:c,location:a});t.push(s),i.resetFlightsData()},r.goBackModal=function(){if(r.state.enableFilterOnMobile)r.setState({enableFilterOnMobile:!1});else{var e=r.props,t=e.history,a=e.match.params,n=a.itineraryId,i=a.configKey,o=a.searchRegion;Object(K.a)()?Object(F.h)(r.props):t.push(Object(W.Jb)({itineraryId:n,regionCode:o,location:t.location,target:W.O,customParams:{configKey:i}}))}},r.onCardClick=function(e){var t=r.props.actions,a=e.trips&&e.trips[e.allTrips[0]]&&e.trips[e.allTrips[0]].routes||[],n={change_in_price:e.priceDetails.cost,departure_time:a[0]&&a[0].departureTime,arrival_time:a[1]&&a[1].arrivalTime,from_city:e.allTrips[0].split("_")[0],to_city:e.allTrips[0].split("_")[1],airline_name:e.airlineName};Object(Q.Ld)(Q.g,n),t.openFlightFromAlternates(e).then((function(){var e=r.props,t=e.history,a=e.itineraryInfo,n=r.state.flight,i=a.itinerary,o=i.itineraryId,l=i.regionCode,c=Object(W.Jb)({itineraryId:o,regionCode:l,location:t.location,target:W.g,customParams:{configKey:Object(U.a)(n.configKey)}});t.push(c)}))},r.filterApplied=function(){return[r.onwardReference,r.returnReference,r.stopReference,r.paymentReference,r.airlineReference,r.providerReference].some((function(e){return!!e&&e.current&&e.current.pillElements&&e.current.pillElements.length}))||r.state.filters.applyOJFilter},r.state={showModal:!1,showGuide:!1,cacheCleared:!1,flight:{},ourSourceProvider:"",filters:{airlineCodesToBeIncluded:[],applyOJFilter:!1,includeAllAirlines:!0,includeAllTimings:!0,includeNonRefunable:!1,includeNonStop:null,includeOneStop:null,includeTwoStops:null,includeRefundable:!1,onwardDepartureTimes:[],returnDepartureTimes:[],sourceProvider:null,isTBO:!1,isAmadeus:!1,fromPrice:0,toPrice:9999999999},stickyHeaderClassMobile:"",itineraryInfo:e.itineraryInfo,minPrice:null,maxPrice:null,selectedMinPrice:null,selectedMaxPrice:null,airlineOptions:null,headerContent:"Change Flights",headerTopContent:"",sortOption:{type:"PRICE",orderBy:"ASC"},dataNotFoundText:""},r.stopsUpdated=!1,r.onwardReference=d.a.createRef(),r.returnReference=d.a.createRef(),r.stopReference=d.a.createRef(),r.paymentReference=d.a.createRef(),r.airlineReference=d.a.createRef(),r.providerReference=d.a.createRef(),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){Object(L.a)();var e=this.props,t=e.location,a=e.match,n=e.actions,i=e.itineraryInfo,r=void 0===i?{}:i;if(Object(P.a)(r)){var o=a.params.itineraryId;o&&n.getItinerary(o,t.search).then((function(){})).catch((function(){}))}else this.getCurrentDetail();window.scroll(0,0),Object(M.a)(),window.addEventListener(Object(_.a)(),n.resizeHandler),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentDidUpdate",value:function(){Object(L.a)();var e=this.state.flight;Object(P.a)(e)&&!Object(P.a)(this.props.itineraryInfo)&&this.getCurrentDetail()}},{key:"componentWillUnmount",value:function(){Object(B.a)(),this.props.actions.resetFlightsData(),window.removeEventListener(Object(_.a)(),this.props.actions.resizeHandler),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this,t=h()(this.state),a=t.flight,n=t.filters,i=t.showLoading,r=t.minPrice,o=t.maxPrice,l=t.airlineOptions,c=t.headerContent,m=t.headerTopContent,p=t.selectedMinPrice,f=t.selectedMaxPrice,b=t.sortOption,y=t.cacheCleared,E=t.dataNotFoundText,C=this.props,x=C.flights,O=C.user_details,N=C.splitPricingEnabled,w=C.match,k=C.itineraryInfo,S=C.getFromStorage,A=k.itinerary,j=void 0===A?{regionCode:" "}:A,I=S("alternate_flight_user_guide");return Object(v.a)(a)?null:d.a.createElement(s.Fragment,null,d.a.createElement(u.Switch,null,d.a.createElement(u.Route,{path:W.Ib.ALTERNATE_FLIGHTS_DETAIL,component:function(t){return d.a.createElement(Be.Yb,Object.assign({},t,{isFromAlternate:!0,replaceFlightData:e.replaceFlightData}))}}),d.a.createElement(u.Route,{path:W.bb.ALTERNATE_FLIGHTS_DETAIL_ROUTE,exact:!0,component:function(t){return d.a.createElement(Be.Yb,Object.assign({},t,{isFromAlternate:!0,replaceFlightData:e.replaceFlightData}))}})),d.a.createElement("div",{style:w.path===W.Ib.ALTERNATE_FLIGHTS_DETAIL||w.path===W.bb.ALTERNATE_FLIGHTS_DETAIL_ROUTE?{display:"none"}:{}},Object(K.a)()||I?null:d.a.createElement(g.d,{run:this.state.showGuide,callback:this.handleGuide,steps:[{target:".smart-filter",placement:"right",textAlign:"left",hideCloseButton:!0,hideFooter:!0,disableBeacon:!0,content:d.a.createElement("div",{className:"text-right"},d.a.createElement("p",{className:"text-left mb-0"},d.a.createElement("strong",null,"New!"),"\xa0Enable the smart filter to get our recommended flights",d.a.createElement("a",{className:"bold color-white cursor-pointer pull-right",onClick:function(){return e.handleGuide({status:g.c.FINISHED})}},"Got It")))},{}],styles:{options:{arrowColor:"#1895b3",backgroundColor:"#1895b3",textColor:"#FFFFFF"},tooltipContent:{padding:"0px"}}}),d.a.createElement(Le,Object.assign({headerContent:c,lastLocation:this.props.lastLocation,regionCode:j.regionCode,headerTopContent:m,closeFlightAlternates:this.closeModal,goBackAction:this.goBackModal,replaceFlightData:this.replaceFlightData,flight:a},x,{filters:n,onCardClick:this.onCardClick,user_details:O,showLoading:i,sortOption:b,updateFilters:this.updateFilters,triggerSort:this.triggerSort,updatePriceFilters:this.updatePriceFilters,splitPricingEnabled:N,minPrice:r,maxPrice:o,selectedMinPrice:p,selectedMaxPrice:f,airlineOptions:l,departureTimesList:Ue,triggerAlternates:this.triggerAlternates,cacheCleared:y,isAdmin:this.props.isAdmin,dataNotFoundText:E,onwardReference:this.onwardReference,returnReference:this.returnReference,stopReference:this.stopReference,paymentReference:this.paymentReference,airlineReference:this.airlineReference,providerReference:this.providerReference}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.itineraryInfo!==t.itineraryInfo?{itineraryInfo:e.itineraryInfo}:t}}]),a}(s.Component);t.default=Object(D.withLastLocation)(Object(He.a)(Object(m.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.flights,i=void 0===n?{}:n;return{itineraryInfo:a.itineraryInfo,splitPricingEnabled:a.itineraryInfo&&a.itineraryInfo.itinerary&&a.itineraryInfo.itinerary.splitPricing||a.user_details&&"ADMIN"===a.user_details.userType,isAdmin:a.user_details&&"ADMIN"===a.user_details.userType,user_details:a.user_details,isReadOnly:a.isReadOnly,flights:i}}),(function(e){return{actions:{getItinerary:Object(p.b)(b.a,e),updateFlight:Object(p.b)(E.a,e),getAlternateFlights:Object(p.b)(j,e),sortAlternateFlights:Object(p.b)(I,e),openFlightFromAlternates:Object(p.b)(T,e),resetFlightsData:Object(p.b)(R,e),openDetailsFromAlternate:Object(p.b)(y.a,e),resizeHandler:Object(p.b)(H.a,e)}}}))(We)))},1480:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(33),r=a(38),o=a(39),l=a(46),c=a(56),s=a(29),d=a(0),u=a.n(d),m=a(30),p=a(54),f=a(1897),h=a(591),v=a(1862),g=a(14),b=a(1597),y=a(71),E=a(1616),C=a(600),x=a(1793),O=a.n(x),N=a(1826),w=a(35),k=a.n(w),S=a(1603),A=a(191),j=a(1725),I=a(1628),T=a(55),R=a(105),D=a(1630);function F(e){var t=e.roomType,a=e.roomImage,n=e.roomDetails,i=e.isMobile,r=void 0!==i&&i,o=e.roomOptions,l=void 0===o?[]:o,c=e.priceDetails,s=e.isAdmin,m=void 0!==s&&s,p=e.showAllocation,f=e.sourceProvider,h=e.booking,v=u.a.createElement(M,{image:a}),g=u.a.createElement(_,{isMobile:r,roomType:t,roomDetails:n});return u.a.createElement(d.Fragment,null,u.a.createElement("div",{className:"hotel-inner-card"},u.a.createElement("div",{className:r?"room-details":"options-details"},r?v:u.a.createElement("div",{className:"left-col"},v),r?u.a.createElement("aside",null,g):u.a.createElement("div",{className:"right-col"},g)),u.a.createElement(P,{roomOptions:l,isMobile:r,priceDetails:c,isAdmin:m,showAllocation:p,booking:h,sourceProvider:f})))}function P(e){var t=e.roomOptions,a=e.isMobile,n=e.priceDetails,i=e.isAdmin,r=e.showAllocation,o=e.booking,l=e.sourceProvider,c=t.map((function(e,t){return function(e,t){var c=e.roomLeftCount,s=void 0===c?0:c,m=e.isIncreased,p=void 0===m||m,f=e.enablePriceVariation,h=void 0===f||f,v=e.onClickAction,g=e.icons,b=e.price,y=e.buttonText,E=void 0===y?"Select":y,C=e.isHideOption,x=e.isHoneymoonSpecial,O=e.availability,N=t<10?"0"+(t+1):t+1,w={value:b},F="DATABASE"===l;return u.a.createElement("div",{key:t,className:a?"clearfix options-details":"room-options"},u.a.createElement("div",{className:"left-col"},u.a.createElement("p",{className:"mbottom-small"},u.a.createElement("span",{className:"color-grey-medium caps-text-small bold"},"Option ".concat(N)," "),s?u.a.createElement("span",{className:"count-left color-grey-medium"},u.a.createElement("i",{className:"bg-accent-1 color-white"},s),"Rooms left"):null),u.a.createElement(S.a,{rootClassName:"clearfix meta-text list-unstyled mb-0",icons:g}),x?u.a.createElement("span",{style:{marginTop:"10px"},className:"pill square md color-white bg-accent-13 mbottom-small"},u.a.createElement("i",{className:"pyt-star-16 color-accent-2"}),"Special inclusions"):null,r&&!o?u.a.createElement(R.a.Item,null,O?u.a.createElement("div",{className:"mbottom-medium"},u.a.createElement("span",{className:"pill square md color-white bg-accent-9"},O," ",F?Object(D.a)({count:O,keyword:"allocation"}):Object(D.a)({count:O,keyword:"API room"})," ","available")):!O&&F?u.a.createElement("div",{className:"mbottom-medium"},u.a.createElement("span",{className:"pill square md color-white bg-primary"},"On Request")):null):null),u.a.createElement("div",{className:k()("right-col",{"text-center":a})},u.a.createElement("div",{className:"replace-btn-wrap ".concat(C?"hide":"")},u.a.createElement("p",{className:"varied-price"},h?u.a.createElement("i",{className:k()("color-primary-dark",{"pyt-arrow-down-16":!p,"pyt-arrow-top-16":p})}):null,u.a.createElement("b",{className:"color-grey-secondary"},u.a.createElement(T.a,{objectData:w,path:"value",defaultValue:"0"}))),u.a.createElement(A.a,{buttonClass:k()("btn btn-grey-medium btn-outline replace-btn",a?"btn-xs":"btn-sm"),buttonText:E,onClickAction:v})),C?u.a.createElement(d.Fragment,null,u.a.createElement("span",{className:"room-picked"},"CURRENT SELECTION"),n&&!isNaN(null===n||void 0===n?void 0:n.cost)?u.a.createElement(j.a,{price:Object(I.a)(n.cost,n.ourCost),onEditClick:n.onEditClick,canEditPrice:n.canEditPrice,isAdmin:i}):null):null))}(e,t)}));return a?c:u.a.createElement("div",{className:"options-details"},c)}function M(e){var t=e.image;return u.a.createElement("figure",{style:{backgroundImage:"url(".concat(t,")")}})}function _(e){var t=e.isMobile,a=e.roomType,n=e.roomDetails,i=void 0===n?[]:n;return u.a.createElement(d.Fragment,null,u.a.createElement("p",{className:k()("color-black semi-bold mbottom-small",{"main-text":!t,"meta-text":t})},a),u.a.createElement(S.a,{icons:i,rootClassName:k()("list-unstyled",{"meta-text mb-0":!t,"color-grey-secondary fine-text mbottom-small":t})}))}var L=a(1595),B=a(2094),H=a(1600),V=a(256),z=a(22),U=a(1592),K=a(1593),W=a(169),G=a(1929);function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var q=g.a.api_url,J=function(e){Object(l.a)(a,e);var t=Y(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleKeyUp=function(e){27===e.keyCode&&n.closeModal()},n.buildRequstObjectAndMakeCall=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.setState({loading:!0}),"undefined"===typeof e?e=null:n.setState({showLoadMoreLink:!1});var a=n.state,i=a.hotel,r=a.activeRoom,o=void 0===r?{}:r,l={planningToolId:i.planningToolId,identifier:o.identifier,checkInDate:i.checkInDate,checkOutDate:i.checkOutDate,itineraryId:n.props.itineraryInfo.itinerary.itineraryId,hotelGuestRoomConfiguration:o.roomConfiguration,hotelCostingKey:i.configKey,roomIdentifier:o.roomIdentifier,fromCache:e,refreshAllocations:t};n.getAlternateHotelRooms(l)},n.getCurrentDetails=function(e,t){if(t||(t=n.state),e.itineraryInfo&&Object.keys(e.itineraryInfo).length&&e.itineraryInfo.hotelCostings&&!Object.keys(t.activeRoom).length){var a=e.configKey;a=Object(b.a)(a);var i=Object.assign({},e.itineraryInfo.hotelCostings.costingById[a]),r=Object.assign({},i.roomsInHotel),o=e.hotelRoomKey,l=Object(C.a)(r,(function(e){return e.identifier===o}));n.setState({hotel:i,activeRoom:l},(function(){n.buildRequstObjectAndMakeCall()}))}},n.closeModal=function(){setTimeout((function(){n.setState({showModal:!1},(function(){Object(L.h)(n.props)}))}),400)},n.updateSelectedRoom=function(e){var t=n.props,a=t.actions,i=t.itineraryDetail.itineraryId,r=n.state,o=r.roomList,l=r.activeRoom,c=r.hotel,s=o.roomQuery,d=o.offline,u={hotelPlanningToolId:c.planningToolId,configKey:c.configKey,itineraryId:i,currentIdentifier:l.identifier,selectedRoomTypeId:e.roomTypeId,roomQuery:s,offline:d,newIdentifier:e.identifier,selectedRateCode:e.rateCode,selectedRoomTypeCode:e.roomTypeCode};e.lineItemId&&(u.lineItemId=e.lineItemId),a.updateRoom(u).then((function(){n.props.onCollapseClickAction()})).catch((function(){n.closeModal()}))},n.customizeRoomData=function(e){var t=n.props,a=t.currentRoom,r=t.user_details,o=void 0===r?{loggedIn:!1,userType:null}:r,l=o.loggedIn&&"ADMIN"===o.userType;a.isSelected=!0;var c=Object(i.a)(e.roomCostingVOList);l?(c=Object(E.a)(c,["publishedCost"],!1),c=[a].concat(Object(i.a)(c))):(c=O()(c,["publishedCost"],["asc"])).unshift(a);var s=c.map((function(e){return e.name})),d={},u=[];s.map((function(e){d[e]||(d[e]=c.filter((function(t){return t.name===e})),u.push(d[e]))})),n.setState({roomList:e,rooms:u})},n.getRoomData=function(e){return e.map((function(e){var t=e.publishedCost,a=e.diff,i=void 0===a?{}:a,r=e.addOnCost,o=void 0===r?0:r,l=e.availability,c=void 0===l?0:l,s=i||{},d=s.diffCost,u=void 0===d?t+o:d,m=s.diffChangeType,p=void 0===m?"NONE":m,f=Array.isArray(e.extraInclusions)&&e.extraInclusions.length,h=Array.isArray(e.extraInclusions)&&e.extraInclusions;return{roomLeftCount:0,price:u,enablePriceVariation:"NONE"!==p,isIncreased:"PRICEINCREASE"===p,onClickAction:function(){return n.updateSelectedRoom(e)},icons:Object(L.g)(e),isHideOption:e.isSelected,isHoneymoonSpecial:f,extraInclusions:h,availability:c}}))},n.state={showModal:!1,roomList:{},activeRoom:{},rooms:[],hotel:{},roomOptions:[],showLoadMoreLink:!0,loading:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({roomList:{},activeRoom:{},hotel:{}}),this.getCurrentDetails(this.props),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"getAlternateHotelRooms",value:function(e){var t=this,a="".concat(q,"hotel/alternaterooms"),n=this.props.onCollapseClickAction;Object(z.a)({url:a,method:"POST",body:e,onSuccess:function(e){t.customizeRoomData(e?e.data:{}),t.setState({loading:!1})},onFailure:function(){swal({title:"Oops!",text:"An unexpected error occurred while fetching room.",animation:!0,showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Try again!",cancelButtonText:"Cancel",closeOnConfirm:!0,closeOnCancel:!0},(function(){n&&n()}))}})}},{key:"render",value:function(){var e=this,t=Object(y.a)(),a=this.state,n=a.rooms,r=a.showLoadMoreLink,o=a.hotel,l=this.props,c=l.onCollapseClickAction,s=l.content,d=void 0===s?"Retain this room":s,m=l.priceDetails,p=l.booking,f=l.user_details,h=void 0===f?{loggedIn:!1,userType:null}:f,v=h.loggedIn&&"ADMIN"===h.userType;return u.a.createElement("div",{className:"details-wrap"},n.length?null:u.a.createElement(V.b,null),n.length&&Object(U.a)({permissions:null===h||void 0===h?void 0:h.permissions,key:K.K})&&"DATABASE"===(null===o||void 0===o?void 0:o.sourceProvider)&&u.a.createElement(R.a.Item,null,u.a.createElement(W.a,{width:140,marginBottom:12,padding:12,fontSize:14,fontWeight:600,borderRadius:8,alignSelf:"flex-end",fontFamily:"Source Sans Pro",color:"#fff",backgroundColor:"rgb(125, 66, 161)",onPress:function(){return e.buildRequstObjectAndMakeCall(void 0,!0)}},"Refresh allocations")),this.state.loading?u.a.createElement(R.a,{direction:"column",height:"50vh",justifyContent:"center",alignItems:"center",gutter:18},u.a.createElement(G.a,{color:"#0051a2",type:"loading",width:60,height:60})):u.a.createElement(u.a.Fragment,null,n.length&&c?u.a.createElement(B.a,{rootClassName:"expand-link text-left clearfix semi-bold",boldClassName:"",directContent:d,onClickAction:c,enableCollapse:!0,collapseContent:"Collapse"}):null,n.map((function(a,r){var l=n[r][0],c=l.name,s=l.roomImages,d=void 0===s?[]:s,f=l.availability;return u.a.createElement(F,{key:r,roomType:c,roomImage:d&&d.length?d[0]:Object(H.a)("HOTEL"),onCollapseClickAction:e.props.collapseAction,roomDetails:Object(i.a)(Object(L.f)(a[0])),isMobile:t,roomOptions:e.getRoomData(a),priceDetails:m,isAdmin:v,availability:f,showAllocation:Object(U.a)({permissions:null===h||void 0===h?void 0:h.permissions,key:K.K}),sourceProvider:null===o||void 0===o?void 0:o.sourceprovider,booking:p})})),n.length&&r?u.a.createElement("div",{className:"text-center vpadding-medium",id:"load-more-link"},u.a.createElement(A.a,{buttonClass:"btn btn-sm btn-default btn-outline btn-outline-bg",onClickAction:function(t){t.preventDefault(),t.stopPropagation(),e.buildRequstObjectAndMakeCall(!1)},buttonText:"Show more rooms"})):null))}}]),a}(d.Component);var Q=Object(m.c)((function(e){var t=e.app,a=t.itineraryInfo,n=void 0===a?{}:a,i=t.user_details,r=n.itinerary;return{itineraryInfo:n,itineraryDetail:void 0===r?{}:r,user_details:i}}),(function(e){return{actions:{updateRoom:Object(p.b)(N.a,e)}}}))(J),X=a(1598),$=a(20),Z=a(11),ee=a(23),te=a(1692),ae=a(1828);function ne(e){var t=e.roomLeftCount,a=e.isMobile;return t?u.a.createElement("span",{className:k()("count-left color-grey-medium",{"mbottom-small":a})},u.a.createElement("i",{className:"bg-accent-1 color-white"},t)," Rooms left"," "):null}function ie(e){var t=e.isMobile,a=e.isReadOnly,n=e.buttonText,i=e.onClickAction,r=e.isDisabled,o="btn btn-grey-medium btn-outline"+(t?" btn-xs":"");return i&&!a?u.a.createElement(A.a,{buttonClass:o,buttonText:n,isDisabled:r,onClickAction:i}):null}function re(e){var t=e.roomImage,a=(e.isMobile,e.imageContent);return u.a.createElement("figure",{style:{backgroundImage:"url(".concat(t||Object(ee.a)(H.b.roomsLarge),")")}},u.a.createElement("figcaption",null,u.a.createElement("p",{className:"fig-title"},u.a.createElement("span",{className:"tag-tertiary white truncate medium"},"Room choice")),u.a.createElement("span",{className:"btm-txt fine-text color-white"},a)))}var oe=function(e){var t=e.roomImage,a=e.imageContent,n=void 0===a?"Best choice for couples":a,i=e.isMobile,r=void 0!==i&&i,o=e.roomDetails,l=e.hotelName,c=e.roomOptions,s=e.spanContent,m=e.boldContent,p=e.roomType,f=e.roomLeftCount,h=e.directContent,v=e.onCollapseClickAction,g=e.isDisabledChangeButton,b=void 0!==g&&g,y=e.isDisabledRemoveButton,E=void 0!==y&&y,C=e.removeText,x=void 0===C?"Remove Room":C,O=e.onRemoveClickAction,N=e.rootClassName,w=void 0===N?"hotel-main-card":N,A=e.isHoneymoonSpecial,I=void 0!==A&&A,T=e.extraInclusions,F=e.priceDetails,P=e.isReadOnly,M=e.isAdmin,_=void 0!==M&&M,L=e.offline,H=void 0!==L&&L,V=e.showAllocation,z=e.availability,U=e.booking,K=e.sourceProvider,W=Object(d.useState)(!1),G=Object(Z.a)(W,2),Y=G[0],q=G[1],J="DATABASE"===K,Q=u.a.createElement(d.Fragment,null,u.a.createElement(S.a,{icons:o,rootClassName:k()("list-unstyled color-grey-secondary",{"meta-text light mb-0":!r,"fine-text mbottom-small":r})}),(I||V)&&u.a.createElement(R.a,{alignItems:"baseline"},I?u.a.createElement("span",{className:"pill square md color-white bg-accent-13 mbottom-small cursor-pointer",onClick:q},u.a.createElement("i",{className:"pyt-star-16 color-accent-2"}),"View special inclusions"):null,V&&!U?u.a.createElement(R.a.Item,null,z?u.a.createElement("div",{className:"mbottom-medium"},u.a.createElement("span",{className:"pill square md color-white bg-accent-9"},z," ",J?Object(D.a)({count:z,keyword:"allocation"}):Object(D.a)({count:z,keyword:"API room"})," ","available")):!z&&J?u.a.createElement("div",{className:"mbottom-medium"},u.a.createElement("span",{className:"pill square md color-white bg-primary"},"On Request")):null):null)),X=u.a.createElement(S.a,{icons:c,rootClassName:k()("amenities-list list-unstyled meta-text color-grey-secondary mb-0",{"left-col":r})}),$=u.a.createElement("p",{className:k()("bold main-text",{"mbottom-small":!r})},p);return u.a.createElement("div",{className:w},r?u.a.createElement(d.Fragment,null,u.a.createElement(re,{roomImage:t,isMobile:r,imageContent:n}),$,Q,u.a.createElement("div",{className:"row card-details mbottom-small"},u.a.createElement("div",{className:"col-xs-8 left-col"},X),u.a.createElement("div",{className:"col-xs-4 right-col"},F&&F.cost&&u.a.createElement(j.a,{price:_?F.ourCost:F.cost,onEditClick:F.onEditClick,canEditPrice:F.canEditPrice,isAdmin:_}),u.a.createElement(ne,{roomLeftCount:f,isMobile:r}),O?u.a.createElement(ie,{isMobile:r,isReadOnly:P,isDisabled:E,buttonText:x,onClickAction:O}):null)),Y?u.a.createElement(ae.a,{hotelName:l,data:T,onModalClose:function(){return q(!1)},goBack:function(){return q(!1)}}):null):u.a.createElement("div",{className:"row vertical-center"},u.a.createElement("div",{className:"col-md-4"},u.a.createElement(re,{roomImage:t,isMobile:r,imageContent:n})),u.a.createElement("div",{className:"col-md-8"},u.a.createElement("div",{className:"row mbottom-medium"},u.a.createElement("div",{className:O?"col-md-6":"col-md-8"},u.a.createElement(ne,{roomLeftCount:f,isMobile:r}),$),u.a.createElement("div",{className:"".concat(O?"col-md-3":"col-md-4"," pl-0 text-right")},F&&!isNaN(F.cost)&&u.a.createElement(j.a,{price:_?F.ourCost:F.cost,onEditClick:F.onEditClick,canEditPrice:F.canEditPrice,isAdmin:_})),O?u.a.createElement("div",{className:"".concat(O?"col-md-3":"col-md-4"," pl-0 text-right")},u.a.createElement(ie,{isReadOnly:P,isMobile:r,buttonText:x,isDisabled:E,onClickAction:O})):null),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},Q,X))),Y?u.a.createElement(te.a,{offline:H,hotelName:l,data:T,onModalClose:function(){return q(!1)}}):null),!b&&v?u.a.createElement(B.a,{rootClassName:"expand-link text-left clearfix semi-bold",spanClassName:r?" ":"pull-left light fade",boldClassName:r?" ":"pull-right",spanContent:r?" ":s,boldContent:m,onClickAction:v,directContent:h,enableCollapse:!0}):null)},le=a(7);function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var se=function(e){Object(l.a)(a,e);var t=ce(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={activeIndex:Object($.a)()?null:0},e.onEditClick=function(t,a){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var n=e.props.hotelDetails,i=e.props,r=i.itineraryDetail,o=i.history,l=i.location,c=Object(X.a)(a);o.push(Object(le.Jb)({itineraryId:r.itineraryId,regionCode:r.regionCode,location:l,target:le.jb,customParams:{configKey:Object(X.a)(n.configKey),identifier:c,called_from:"HOTEL_ROOM_ROW"}}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.userDetails,n=t.hotelDetails,i=t.itineraryDetail,r=t.isReadOnly,o=t.hotelName,l=n.roomsInHotel,c=void 0===l?[]:l,s=n.configKey,m=void 0===s?"":s,p=n.offline,f=Object($.a)(),h=i.booking,v=i.frozen,g=h||v||r,b=this.state.activeIndex,y=void 0===b?null:b,E="ALTERNATE_HOTELS"===n.called_from;y=n.offline?null:y;var C=a&&a.loggedIn&&"ADMIN"===a.userType;return y=E||g?null:y,u.a.createElement(d.Fragment,null,c.map((function(t,i){var l,s=Object(H.a)("HOTEL"),d=t.roomImages,v=void 0===d?[s]:d,b=t.name,x=t.identifier,O=t.addOnCost,N=t.diff,w=x,k=Array.isArray(t.extraInclusions)&&t.extraInclusions.length,S=Array.isArray(t.extraInclusions)&&t.extraInclusions,A=null;return A=N&&"object"===typeof N?{cost:N.diffCost+O||null}:{cost:t.publishedCost+O,ourCost:t.ourCost+O,canEditPrice:!E&&!g&&C&&!n.offline,onEditClick:function(t){return C?e.onEditClick(t,x):null}},u.a.createElement("section",{className:"hotel-details-wrapper",key:i},u.a.createElement(oe,{offline:p,isReadOnly:r,isAdmin:C,rootClassName:"hotel-main-card ".concat(y===i?"hide":""),isHoneymoonSpecial:k,extraInclusions:S,hotelName:o,buttonText:f?"Change":"Change Room",roomType:b,priceDetails:A,roomImage:v?v[0]:s,imageContent:b,roomDetails:Object(L.f)(t),isMobile:f,roomOptions:Object(L.g)(t),directContent:"Choose for more options",onClickAction:E||n.offline?null:function(){e.setState({activeIndex:i})},onCollapseClickAction:E||n.offline?null:function(){e.setState({activeIndex:i})},isDisabledChangeButton:g,isDisabledRemoveButton:g,showAllocation:Object(U.a)({permissions:null===a||void 0===a?void 0:a.permissions,key:K.K}),sourceProvider:null===n||void 0===n?void 0:n.sourceprovider,availability:null===(l=c[i])||void 0===l?void 0:l.availability,booking:h}),y===i?u.a.createElement(Q,Object.assign({currentRoom:t,onCollapseClickAction:function(){e.setState({activeIndex:null})},priceDetails:A,configKey:Object(X.a)(m),hotelRoomKey:w,booking:h},e.props)):null)})))}}]),a}(d.Component);var de=Object(m.c)((function(e){var t=e.activeActivity,a=e.app.itineraryInfo;return{activeActivity:t,itineraryInfo:void 0===a?{itineraryDetail:{}}:a}}),(function(e){return{actions:{removeHotel:Object(p.b)(v.a,e)}}}))(se),ue=a(1596),me=a(62),pe=a(1656),fe=a(1621),he=a(341),ve=a(1684),ge=a(1702),be=a(1693),ye=a(213),Ee=a(1863),Ce=a(2136),xe=a(2202),Oe=a(2095),Ne=a(1978);function we(e){var t=e.description,a=void 0===t?"":t,n=function(){return{__html:a}};return a?Object(y.a)()?u.a.createElement("div",{dangerouslySetInnerHTML:n()}):u.a.createElement("div",{className:"overview-sec"},u.a.createElement("h6",{className:"title"},"Overview"),u.a.createElement("div",{className:"overview-txt",dangerouslySetInnerHTML:n()})):null}var ke=a(1830),Se=a(290);function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.match||{params:{itineraryId:null}}).params.itineraryId}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.history,n=void 0===a?{push:function(){}}:a;n.push(t)}function Ie(e,t,a){a&&a.preventDefault();var n=Object(X.a)(e.configKey),i=t.history,r=t.location,o=t.itinerary,l=t.match,c=void 0===l?{params:{configKey:n}}:l;e.offline?i.push(Object(le.Jb)({itineraryId:o.itineraryId,regionCode:o.regionCode,target:le.X,location:r,customParams:{configKey:Object(X.a)(e.configKey)}})):i.push(Object(le.Jb)({itineraryId:Ae(t),regionCode:o.regionCode,location:r,target:le.T,customParams:{configKey:c.params.configKey},retainQueryString:!0}))}function Te(e){var t=e.rightSideProps,a=e.hotel,n=e.isMobileFooter,r=void 0!==n&&n,o={isDisabled:!1},l=t.CHANGE,c=void 0===l?o:l,s=t.REMOVE,m=void 0===s?o:s,p=t.UPDATE,f=void 0===p?o:p,h=t.alerts,v=void 0===h?[]:h,g=t.recommendedHotelsOnly,b=a.checkInDayOfWeek,y=a.checkInDateDisplay,E=a.checkInMonthDisplay,C=a.allowedCheckInTime,x=a.checkOutDayOfWeek,O=a.checkOutDateDisplay,N=a.checkOutMonthDisplay,w=a.allowedCheckOutTime,k=a.roomsInHotel,S=void 0===k?[]:k,A=a.diff,j=a.offline,I=a.pytRecommended,T=Object($.a)(),R=A||{},D=R.diffChangeType,F=void 0===D?"NONE":D,P=R.diffCost,M=void 0===P?null:P;M||(M=a.publishedCost);var _={changeButtonText:j?c.isDisabled?"Edit":"Edit Custom Card":"Change Hotel",isDisabledChange:c.isDisabled,onChangeAction:c.actionHandler,isDisabledRemove:m.isDisabled,onRemoveAction:m.actionHandler,isUpdate:f.isDisabled,browsingText:"hotels",onUpdateAction:f.actionHandler,pytRecommended:I,recommendedHotelsOnly:g,firstHalf:{header:"Check-in",content:"".concat(b,", ").concat(y," ").concat(E),subText:"".concat(C||"02:00 pm")},secondHalf:{header:"Check-out",content:"".concat(x,", ").concat(O," ").concat(N),subText:"".concat(w||"10:00 am")},isUpdatePriceIncreased:"PRICEINCREASE"===F,disablePriceVariation:"NONE"===F,updatedPrice:M,alertIcons:v};return _.icons=Object(i.a)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[];return t.map((function(t,n){e=[],a.push({inLineStyle:{width:"100%"},text:u.a.createElement(d.Fragment,null,u.a.createElement("i",{className:"pyt-butler-service-16"}),u.a.createElement("b",null,"Room ".concat(n+1)),u.a.createElement("span",{className:"color-grey-secondary dim"},"\xa0\xa0",t.name))}),e=Object(L.g)(t),(a=[].concat(Object(i.a)(a),Object(i.a)(e))).push({text:u.a.createElement("br",null)})})),a}(S)),_.isMobileFooter=r,_.isMobile=T,T?u.a.createElement(ke.a,_):u.a.createElement(Se.a,{enabled:!T,top:124},u.a.createElement(ke.a,_))}var Re=a(194);function De(e){var t=e.headerComponent,a=e.bannerImageComponent,n=e.hotelHeader,i=e.hotelDetails,r=e.amenities,o=e.overView,l=e.reviewCard,c=e.rightSidePanel,s=e.ratingCard,m=e.mobileMenu,p=e.hotelPolicy,f=e.mobileFooter,h=e.cityName,v=e.alertsElement,g=e.isAdmin,b=e.appReviewCard;return Object($.a)()?u.a.createElement(d.Fragment,null,t,h?u.a.createElement("div",{className:"altermodal-xs-content"},a,u.a.createElement("section",{className:"container xs-full-width sm-full-width"},n,c,m,i,v,r,u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-12"},u.a.createElement("h6",{className:"sub-title"},"Ratings"),s)))):u.a.createElement(Re.a,{type:"ONE_SEC"}),f):u.a.createElement(d.Fragment,null,u.a.createElement(Se.a,null,t),h?u.a.createElement(d.Fragment,null,a,u.a.createElement("div",{className:"container lg-container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-8 pr-5"},n,i,r,g?b:null,l,o,p),u.a.createElement("div",{className:"col-md-4"},c)))," "):u.a.createElement(Re.a,{type:"ONE_MIN"}))}function Fe(e){var t=e.overviewClickAction,a=void 0===t?function(){}:t,n=e.reviewClickAction,i=void 0===n?function(){}:n,r=(e.nearClickAction,e.policyClickAction),o=void 0===r?function(){}:r,l=e.isPolicyAvailable,c=void 0===l||l,s=e.isReviewAvailable,d=void 0===s||s,m=e.isOverviewAvailable,p=void 0===m||m;return u.a.createElement("div",{className:"row details-list"},u.a.createElement("div",{className:"col-xs-12"},u.a.createElement("ul",{className:"tag-list list-unstyled"},p?u.a.createElement("li",null,u.a.createElement("a",{"data-toggle":"modal",onClick:a,"data-target":"#overview"},"Overview")):null,d?u.a.createElement("li",null,u.a.createElement("a",{"data-toggle":"modal",onClick:i,"data-target":"#review"},"Reviews")):null,c?u.a.createElement("li",null,u.a.createElement("a",{"data-toggle":"modal",onClick:o,"data-target":"#policy"},"Policy")):null)))}var Pe=a(1765),Me=a(137),_e=a(36),Le=(a(1605),a(15)),Be=a(18),He=a(42),Ve=a(1792),ze=a(358),Ue=a(245),Ke=a(190),We=a(4);function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var Ye=g.a.api_url,qe=function(e){Object(l.a)(a,e);var t=Ge(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleKeyUp=function(e){27===e.keyCode&&n.closeModal()},n.closeModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props,a=t.history,i=t.location,r=t.match,o=t.itinerary,l=o.itineraryId,c=o.regionCode;setTimeout((function(){!r.params.hotelCode||e||Object($.a)()?je(n.props,Object(le.Jb)({itineraryId:l,regionCode:c,location:i})):a.goBack()}),400)},n.goBackModal=function(){var e=n.props,t=e.history,a=e.lastLocation,i=void 0===a?{}:a;i&&i.pathname&&!Object(me.a)(i.pathname,["image-gallery"])?t.goBack():Object(L.h)(n.props)},n.getSplitRequestData=function(e){var t=n.props,a=t.location.search,i=t.match.params,r=i.itineraryId,o=i.configKey,l=Object(ze.a)(a,"lookingFor"),c=Object(ze.a)(a,"nights"),s=n.props.hotelDetailsFromAlternates.cacheKey;return{itineraryId:r,position:l,nights:c,updateHotelData:{planningToolId:e.planningToolId,configKey:Object(b.a)(o),cacheKey:s,itineraryId:r}}},n.saveSplitHotelInfo=function(e){var t=n.props.dispatch;Object(z.a)({url:"".concat(Ye,"hotel/split"),method:"POST",body:e,onSuccess:function(e){Object(Ue.a)(t,e.data),n.closeModal(!0)},onFailure:function(e){Object(Ke.a)(e,t),n.closeModal(!0)}})},n.handleSelectedAlternateHotel=function(e,t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var a=n.props.location.search,i=Object(ze.a)(a,"splitMode"),r=n.props,o=r.itineraryInfo,l=r.match,c=Object(b.a)(l.params.configKey);if(i){var s=n.getSplitRequestData(e),d=Object(Be.a)(o,"hotelCostings.costingById")[c]||{};return Object(Le.Ld)(Le.Tc,{order_of_stay:s.position,total_duration:d.numberOfNights,hotel_1_name:d.name,hotel_2_name:e.name,hotel_2_duration:s.nights}),void n.saveSplitHotelInfo(s)}var u={itineraryId:n.props.itinerary.itineraryId,planningToolId:e.planningToolId,cacheKey:n.props.hotelDetailsFromAlternates.cacheKey,hotelQuery:e.hotelQuery,offline:e.offlineHotels,configKey:c,roomIdentifierList:(e.roomsInHotel||[]).map((function(e){return e.identifier})),sourceProvider:e.sourceProvider};n.props.actions.updateHotel(u).then((function(){n.closeModal(!0)})).catch((function(){n.closeModal(!0)}))},n.removeButtonClickHandler=function(e){var t=n.props,a=t.itinerary,i=t.actions,r=n.state.hotelDetails,o=void 0===r?{}:r;i.removeHotel({itineraryId:a.itineraryId,configKey:e,offline:o.offline||!1}).then((function(){n.closeModal()})).catch((function(){n.closeModal()}))},n.bannerImageClickAction=function(e,t){t&&t.preventDefault();var a=Object(X.a)(e.configKey),r=n.props,o=r.history,l=r.location,c=r.itinerary,s=r.match,d=void 0===s?{params:{configKey:a}}:s,u=n.state,m=u.selectedAlternateHotel,p=u.hotelDetails,f=m||p,h=f.otherImages,v=void 0===h?[]:h,g=f.imageURL,b=[void 0===g?"":g];b.push.apply(b,Object(i.a)(v)),o.push(Object(le.Jb)({itineraryId:Ae(n.props),regionCode:c.regionCode,location:l,target:Object(me.a)(d.url,["alternate-hotels"])?le.h:le.Y,customParams:{configKey:d.params.configKey,hotelCode:d.params.hotelCode}}),{images:b,hotelName:e.name})},n.getAlerts=function(){var e=n.props.itineraryAlerts,t=n.state.selectedAlternateHotel||n.state.hotelDetails;return Object(L.b)(Object(Be.a)(e,Object(Be.a)(t,"configKey")),!0)},n.rightSidePanelHelper=function(){var e,t=n.props,a=t.itinerary,i=t.user_details,r=t.isReadOnly,o=t.itineraryInfo,l=n.state.selectedAlternateHotel||n.state.hotelDetails;if(Object(ue.a)(l))return{};var c=null===o||void 0===o||null===(e=o.cityById[null===l||void 0===l?void 0:l.cityId])||void 0===e?void 0:e.recommendedHotelsOnly,s=null===l||void 0===l?void 0:l.pytRecommended,d=l.configKey,u=void 0===d?"":d,m=l.offline,p=void 0!==m&&m,f=a.booking,h=a.frozen,v=r?{isDisabled:!0}:{isDisabled:f||h,actionHandler:function(e){n.removeButtonClickHandler(u,e)}},g={isDisabled:!Object(U.a)({permissions:null===i||void 0===i?void 0:i.permissions,key:K.a})&&p||f||h,actionHandler:function(e){Ie(l,n.props,e)}};return{pytRecommended:s,recommendedHotelsOnly:c,alerts:n.getAlerts(),REMOVE:Object(U.a)({permissions:null===i||void 0===i?void 0:i.permissions,key:K.v})&&!r?v:{isDisabled:!0},CHANGE:r?{isDisabled:!1}:g,UPDATE:"ALTERNATE_HOTELS"!==l.called_from?{}:{isDisabled:!0,actionHandler:function(e){n.handleSelectedAlternateHotel(l,e)}}}},n.disableAction=function(e){e&&e.preventDefault(),n.setState({activeModal:"NONE"}),Object(ye.a)()},n.setActiveModel=function(e,t){e&&e.preventDefault(),n.setState({activeModal:t}),Object(he.a)()},n.appReviewArray=function(){var e=n.state.selectedAlternateHotel||n.state.hotelDetails;return Object(ue.a)(e)?[]:e.appReviews&&e.appReviews.hotelReviews.length?e.appReviews.hotelReviews.reduce((function(e,t){var a="".concat(new Date(t.reviewTime)).split(" "),n="".concat(a[2]," ").concat(a[1]," ").concat(a[3]);return e.push({reviewText:t.review,reviewerName:t.customerName,commentedOn:n}),e}),[]):[]},n.state={itinerary:e.itinerary,hotelDetails:{},activeModal:"NONE",isGallery:e.isGallery},a.getCurrentDetails=a.getCurrentDetails.bind(a),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.match,i=e.actions,r=e.itinerary;if(Object(ue.a)(r)){var o=n.params.itineraryId;o&&i.getItinerary(o,t.search).then((function(){})).catch((function(){}))}window.scroll(0,0),Object(ve.a)(),window.addEventListener(Object(ge.a)(),this.props.actions.resizeHandler),Object(fe.a)(),this.setState(a.getCurrentDetails(this.props,this.state)),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){Object(pe.a)(),Object(ye.a)(),window.removeEventListener(Object(ge.a)(),this.props.actions.resizeHandler),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this,t=this.state,a=t.activeModal,n=t.selectedAlternateHotel,r=t.hotelDetails,o=n||r,l=o||{},c=l.numberOfNights,s=l.cityName,m=l.otherImages,p=void 0===m?[]:m,f=l.imageURL,h=void 0===f?"":f,v=l.name,g=l.location,b=l.stars,y=l.amenityDisplayList,E=l.reviewsList,C=void 0===E?[]:E,x=l.customerHappinessScores,O=l.description,N=l.lat,w=l.lon,k=this.props,S=k.user_details,A=k.itinerary,j=void 0===A?{}:A,I=k.packageRate,T=k.isReadOnly,R=k.hotelGuestRoomConfigurations,D=Object($.a)(),F=h?[h]:[];F.push.apply(F,Object(i.a)(p));var P=u.a.createElement(Oe.a,{amenities:y}),M=u.a.createElement(Ne.b,{reviews:C,customerScores:x}),_=u.a.createElement(Ne.b,{user_details:S,title:"Reviews from our customers in the app",reviews:this.appReviewArray(),appReview:{hotelReview:!0,planningToolId:Object.keys(o||{}).length?o.planningToolId:1,moreResultsAvailable:!!Object.keys(o||{}).length&&(o.appReviews&&o.appReviews.moreResultsAvailable)}}),L=u.a.createElement(Ne.a,{customerScores:x}),B=u.a.createElement(we,{description:O}),H=u.a.createElement(Te,{rightSideProps:this.rightSidePanelHelper(),hotel:o}),V=u.a.createElement(Te,{rightSideProps:this.rightSidePanelHelper(),hotel:o,isMobileFooter:!0}),z=this.props.location,U=z&&Object(me.a)(z.pathname,["/details/"])?"Back to list":null,K=u.a.createElement(Ee.a,{onClickBackAction:function(){Object(Le.Ld)(Le.t,{page:"Hotel Details"}),e.goBackModal()},alternateText:U,onClickCloseAction:function(){e.closeModal(!0)},onClickAlternateAction:function(t){Ie({},e.props,t)},spanContent:"ITINERARY / HOTEL",headerContent:s?"".concat(c," night").concat(c>1?"s":""," in ").concat(s):"",isMobile:D}),W={overviewClickAction:function(t){e.setActiveModel(t,"OVERVIEW")},reviewClickAction:function(t){e.setActiveModel(t,"REVIEW")},nearClickAction:function(t){e.setActiveModel(t,"NEAR")},policyClickAction:function(t){e.setActiveModel(t,"POLICY")},isReviewAvailable:C.length},G=u.a.createElement(Fe,W),Y=u.a.createElement(Ce.a,{images:F,isMobile:D,onClickAction:function(t){return e.bannerImageClickAction(o,t)}}),q=u.a.createElement(xe.a,{name:v,location:g,stars:b,lat:N,lon:w}),J=u.a.createElement(de,Object.assign({onCloseModal:this.closeModal,splitPricing:j.splitPricing,hotelName:v,userDetails:S,hotelDetails:o,itineraryDetail:j,itineraryId:j.itineraryId,packageRate:I,hotelGuestRoomConfigurations:R,removeButtonClickHandler:this.removeButtonClickHandler},this.props)),Q=D?[{name:"OVERVIEW",component:B},{name:"REVIEW",component:M}].map((function(t){return a===t.name?u.a.createElement(Pe.a,{key:t.name,onClickAction:e.disableAction,enable:!0},t.component):null})):null,X=this.getAlerts(),Z=D&&!Object(He.a)(X)?u.a.createElement(Ve.b,{alerts:X,rootClassName:"alternates-fyi-list"}):null;return u.a.createElement(d.Fragment,null,u.a.createElement("div",{className:D?"hidden-md hidden-lg altermodal-xs-view xs-slide-up activity-details-xs hotel-details-xs":"hidden-sm hidden-xs hotel-details activity-details"},u.a.createElement(De,{cityName:s,headerComponent:K,bannerImageComponent:Y,hotelHeader:q,hotelDetails:J,amenities:P,overView:B,reviewCard:M,rightSidePanel:H,ratingCard:L,mobileMenu:G,mobileFooter:V,isReadOnly:T,alertsElement:Z,isAdmin:S&&"ADMIN"===S.userType,appReviewCard:_})),Q,u.a.createElement(_e.Switch,null,u.a.createElement(_e.Route,{path:le.Ib.HOTEL_DETAILS_BLOCK_CARD,exact:!0,component:We.P}),u.a.createElement(_e.Route,{path:le.bb.HOTEL_DETAILS_BLOCK_CARD_ROUTE,exact:!0,component:We.P})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.itinerary!==t.itinerary?Object(n.a)({itinerary:e.itinerary},a.getCurrentDetails(e,t,!0)):t}},{key:"getCurrentDetails",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.itineraryInfo,i=e.hotelDetailsFromAlternates,r=e.match,o=r.params,l=n.hotelCostings;if(n&&Object.keys(n).length&&l&&(!Object.keys(t.hotelDetails).length||a)){var c=o.configKey,s=o.hotelCode,d=Object(b.a)(c),u=l.costingById[d];if(!s)return{hotelDetails:u};var m=i.selectedHotel;if(m)return m.called_from="ALTERNATE_HOTELS",{hotelDetails:u,selectedAlternateHotel:m};Ie({},e)}}}]),a}(d.Component);t.default=Object(Me.withLastLocation)(Object(m.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.alerts,i=void 0===n?{}:n,r=a.itineraryInfo,o=a.user_details,l=a.hotelDetailsFromAlternates,c=a.isReadOnly,s=a.isReload,d=r.itinerary;return{itineraryInfo:r,itinerary:void 0===d?{}:d,user_details:o,hotelDetailsFromAlternates:l,isReadOnly:c,isReload:s,itineraryAlerts:Object(Be.a)(i,"itinerary_alerts.alertMessages.HOTEL.alerts")}}),(function(e){return{actions:{updateHotel:Object(p.b)(f.a,e),getItinerary:Object(p.b)(h.a,e),removeHotel:Object(p.b)(v.a,e),resizeHandler:Object(p.b)(be.a,e)},dispatch:e}}))(qe))},1492:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(54),m=a(137),p=a(289),f=a.n(p),h=a(36),v=a(20),g=a(1596),b=a(1684),y=a(1621),E=a(1702),C=a(1693),x=a(1598),O=a(1656),N=a(62),w=a(2055),k=a(591),S=a(7),A=a(1863),j=a(290);function I(e){var t=e.headerComponent,a=e.flightHeader,n=e.flightDetails,i=e.rightSidePanel,r=e.mobileFooter,o=e.baggagePanel,l=e.alternateHeader,d=e.alertsElement,u=e.inclusionElement;return Object(v.a)()?s.a.createElement(c.Fragment,null,t,s.a.createElement("div",{className:"altermodal-xs-content"},i,s.a.createElement("section",{className:"container xs-full-width sm-full-width"},n,d,o)),r):s.a.createElement(c.Fragment,null,s.a.createElement(j.a,null,s.a.createElement(c.Fragment,null,t,l)),s.a.createElement("div",{className:"container lg-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},a,s.a.createElement("hr",{className:"mbottom-medium"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},n)),o,u),s.a.createElement("div",{className:"col-md-4"},i))))}var T=a(2202),R=a(1617),D=a(342);function F(e){var t=e.tripType,a=e.overallTime,n=e.carriersContent,i=e.flights,r=void 0===i?[]:i,o=e.isMobile,l=void 0!==o&&o,d=function(){return r.map((function(e,t){return s.a.createElement(c.Fragment,{key:t},function(e){var t=e.icon,a=e.departureDate,n=e.arrivalDate,i=e.airlineCode,r=void 0===i?"":i,o=e.departureTime,d=e.arrivalTime,u=e.departureCityAirport,m=e.arrivalCityAirport,p=e.airline,f=e.departureAirportName,h=e.arrivalAirportName,v=e.travelTime,g=e.pillClassName,b=void 0===g?"color-accent-11 orange":g,y=e.probability,E=e.probabilityContent,C=e.layoverTime,x=e.layoverPlace,O=e.flightCode,N=e.defaultIcon,w=e.alternateName;return l?s.a.createElement(c.Fragment,null,s.a.createElement("div",{className:"row row-eq-hgt route-details"},s.a.createElement("div",{className:"col-xs-2 col-sm-1 pl-0"},s.a.createElement("div",{className:"text-center"},s.a.createElement("span",{className:"flight-icon"},s.a.createElement(D.a,{disableLazyLoad:!0,src:t,defaultImage:N,alt:w||""})),s.a.createElement("p",{className:"txt"},p))),s.a.createElement("div",{className:"col-xs-4 col-sm-4 pl-0 pr-0"},s.a.createElement("p",{className:"light color-grey-secondary"},s.a.createElement("span",{className:"color-grey"},O," "),s.a.createElement("b",null,o)," ",u),s.a.createElement("p",{className:"txt"},f)),s.a.createElement("div",{className:"col-xs-2 col-sm-3 text-center"},s.a.createElement("span",{className:"pyt-clock-16clock-icon mbottom-small"}),s.a.createElement("p",{className:"txt"},v)),s.a.createElement("div",{className:"col-xs-4 col-sm-4 text-right pl-0 pr-0"},s.a.createElement("div",{className:"clearfix"},y?s.a.createElement(R.c,{rootClassName:"pill "+b,boldContent:y,content:E}):null),s.a.createElement("p",{className:"light color-grey-secondary"},m," ",s.a.createElement("b",null,d," "),s.a.createElement("i",null,n)),s.a.createElement("p",{className:"txt"},h))),C?s.a.createElement("div",{className:"line_layover text-center"},s.a.createElement("span",{className:"meta-text color-grey-secondary bg-white"},C,"layover at ".concat(x))):null):s.a.createElement(c.Fragment,null,s.a.createElement("section",{className:"route-details row ml-0 mr-0 mbottom-large"},s.a.createElement("div",{className:"col-md-1 vertical-center no-padding"},s.a.createElement("span",{className:"flight-icon text-center"},s.a.createElement(D.a,{disableLazyLoad:!0,src:t,defaultImage:N,alt:w||"",style:{margin:"0px 12px"}}),"".concat(r," ").concat(O))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"route-txt"},s.a.createElement("i",{className:"color-accent-13 semi-bold"},a),s.a.createElement("p",null,s.a.createElement("b",null,o)," ","".concat(u,","),s.a.createElement("span",null,"".concat(f," ").concat(p))))),s.a.createElement("div",{className:"col-md-4 vertical-center"},s.a.createElement("div",{className:"fw text-center"},s.a.createElement(R.e,{content:v}),y?s.a.createElement(R.c,{rootClassName:"pill "+b,boldContent:y,content:E}):null)),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"route-txt"},s.a.createElement("i",{className:"color-accent-13 semi-bold"},n),s.a.createElement("p",null,m," ",s.a.createElement("b",null,d),s.a.createElement("span",null,h))))),C?s.a.createElement("div",{className:"line_layover text-center mbottom-large"},s.a.createElement("span",{className:"color-grey-secondary bg-white"},C,"layover at ".concat(x))):null)}(e))}))},u=r.map((function(e){return e.cityName})),m=r.length-1;return l?s.a.createElement("div",{className:"flight-details-card mbottom-small"},s.a.createElement("div",{className:"title mbottom-small"},s.a.createElement("h6",{className:"no-margin"},u.join(" - ")),s.a.createElement("p",{className:"color-accent-13 fine-text"},"".concat(r[0]&&r[0].departureDate),s.a.createElement("span",{className:"color-grey"}," ".concat(a,", ").concat(m?m+" stop".concat(m>1?"s":""):"direct")))),d()):s.a.createElement("div",{className:"clearfix"},s.a.createElement("p",{className:"card-header"},s.a.createElement(R.c,{rootClassName:"pill color-white bg-grey caps-text",content:t}),n,s.a.createElement("i",{className:"pyt-clock-16"}),"".concat(a,", ").concat(m?m+" stop".concat(m>1?"s":""):"direct")),d())}function P(e){var t=e.tripValues,a=e.isMobileDevice;return s.a.createElement(c.Fragment,null,t.map((function(e,n){return s.a.createElement(c.Fragment,{key:n},s.a.createElement(F,{tripType:1===t.length?"Oneway":n?"Return":"Onward",overallTime:e[0].overAllDuration,carriersContent:1===e.length||e.every((function(t){return t.airlineCode===e[0].airlineCode}))?"Single Carrier ":"Multiple Carriers ",flights:e,isMobile:a}),s.a.createElement("hr",{className:"mbottom-medium"}))})))}F.defaultProps={tripType:"",overallTime:"",carriersContent:"",flights:[],isMobile:!1};var M=a(1830),_=a(1603),L=a(1651),B=a.n(L),H=a(1659),V=a(1825),z=a(55),U=a(1630);function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allTrips||[],a=t.length-1,n="";return t.map((function(t,i){var r=i===a-1&&i!==a?" / ":"",o=e.trips[t].routes.length-1;n+=e.trips[t].routes[0].departureCity+" \u2192 "+e.trips[t].routes[o].arrivalCity+r})),n}function W(e,t){var a="";void 0!==t&&(a=t.length-1===0?"Direct":t.length-1===0?"".concat(t.length-1," stop"):"".concat(t.length-1," stops"));var n=Math.floor(e/60),i=e%60;return 0!==n?i>0?{stops:a,duration:"".concat(n,"h ").concat(i,"m")}:n>1?{stops:a,duration:"".concat(n," hours")}:{stops:a,duration:"".concat(n," hour")}:{stops:a,duration:"".concat(i,"m")}}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return(e.allTrips||[]).map((function(a,n){t.push([]);var i;(i=e.trips[a]).routes.map((function(e,a){var r=e.flightNumber,o=e.depDateOfMonth,l=e.depMonth,c=e.arrDateOfMonth,s=e.arrMonth,d=e.departureTime,u=e.arrivalTime,m=e.departureAirportCode,p=e.arrivalAirportCode,f=e.carrierName,h=e.departureAirportName,v=e.arrivalAirportName,g=e.travelDuration,b=e.connectionDuration,y=e.arrivalCity,E=e.departureCity,C=e.carrierCode,x=i.landSameDay,O=i.duration,N=Object(H.a)(C);t[n].push({icon:N.url,defaultIcon:N.default,alternateName:r,departureDate:"".concat(o," ").concat(l),arrivalDate:"".concat(c," ").concat(s),departureTime:d.substring(0,5),arrivalTime:u.substring(0,5),departureCityAirport:m,arrivalCityAirport:p,airline:f,departureAirportName:h,arrivalAirportName:v,travelTime:g>0?W(g).duration:null,pillClassName:x||a!==i.routes.length-1?null:"color-accent-11 red",probability:x||a!==i.routes.length-1?null:"Arrives next day",layoverTime:Object(V.a)(b),layoverPlace:y,flightCode:r,overAllDuration:Object(V.a)(O).props.children.join(""),cityName:E,airlineCode:C})}))})),t}function Y(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="PYTON"===a.ourSourceProvider||"SKYPICKER"===a.ourSourceProvider,i=[],r=null===a||void 0===a?void 0:a.excessBaggageInfo,o=null===a||void 0===a||null===(e=a.excessBaggageInfo)||void 0===e?void 0:e.excessBaggages,l=!B()(r||{})&&(null===(t=o||[])||void 0===t?void 0:t.length);l&&(o||[]).forEach((function(e){var t=e.baggageOptions,a=void 0===t?[]:t;null===a||void 0===a||a.forEach((function(e){e.selectedQuantity&&null!==e&&void 0!==e&&e.weight&&i.push(" ".concat(null===e||void 0===e?void 0:e.weight,"Kg x ").concat(null===e||void 0===e?void 0:e.selectedQuantity," ").concat(Object(U.a)({count:null===e||void 0===e?void 0:e.selectedQuantity,keyword:"piece"})))}))}));var c=[];return a.refundable?c.push({className:"pyt-refundable-16 color-primary-dark",text:"Refundable"}):c.push({className:"pyt-non-refundable-16 color-accent-7",text:" Non-Refundable"}),c.push({className:"pyt-badge-16",text:a.flightClass}),n&&l||!n&&!l?c.push({className:"pyt-luggage-16",text:a.freeCheckInBaggage||a.freeCheckInBaggage+(i.length?null===i||void 0===i?void 0:i.join(","):"")}):!n&&l&&a.freeCheckInBaggage&&c.push({className:"pyt-luggage-16",text:a.freeCheckInBaggage+(i.length?" + "+(null===i||void 0===i?void 0:i.join(",")):"")}),a.publishedCost&&c.push({className:"",text:s.a.createElement("span",{className:"total-price bold opener"},s.a.createElement(z.a,{objectData:a,path:"publishedCost",defaultValue:"0"}))}),c}function q(e){var t=e.rightSideProps,a=e.flight,n=e.isMobileFooter,i=void 0!==n&&n,r=e.isFromAlternate,o=void 0!==r&&r,l=a.offline,c={isDisabled:!1},d=t.CHANGE,u=void 0===d?c:d,m=t.REPLACE,p=void 0===m?c:m,f=t.REMOVE,h=void 0===f?c:f,g=t.alerts,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,a=e.allTrips||[];if(2===a.length){var n=e.trips[a[0]],i=e.trips[a[1]],r=i.routes.length-1,o="".concat(n.routes[0].depMonth," ").concat(n.routes[0].depDateOfMonth),l="".concat(i.routes[r].arrMonth," ").concat(i.routes[r].arrDateOfMonth);return{startDate:o,endDate:l}}if(e.trips){var c=e.trips[a[0]],s=c.routes.length-1,d="".concat(c.routes[0].depMonth," - ").concat(c.routes[s].depDateOfMonth);return{startDate:"-",endDate:d}}return t}(a),y=Object(v.a)(),E={changeButtonText:l?u.isDisabled?"Edit":"Edit Custom Card":"Change Flight",isDisabledChange:u.isDisabled,onChangeAction:u.actionHandler,isDisabledRemove:h.isDisabled,onRemoveAction:h.actionHandler,icons:Y(a),browsingText:"flights",alertIcons:g},C=Object.keys(a.trips);return 1===(C||[]).length?E.firstHalf={header:"Oneway",content:"".concat(b.endDate),subText:a.trips[C[0]].landSameDay?"Arr. same day":" "}:(E.firstHalf={header:"Onward",content:"".concat(b.startDate),subText:a.trips[C[0]].landSameDay?"Arr. same day":" "},E.secondHalf={header:"Return",content:"".concat(b.endDate),subText:a.trips[C[C.length-1]].landSameDay?"Arr. same day":"Arr. next day "}),E.icons.length%2&&E.icons.push({text:s.a.createElement("br",null)}),E.isMobileFooter=i,E.isMobile=y,E.isUpdate=o,o&&(E.onUpdateAction=p.actionHandler,a.publishedCost?(E.updatedPrice=a.publishedCost,E.disablePriceVariation=!0):a.priceDetails&&(E.updatedPrice=a.priceDetails.cost,E.isUpdatePriceIncreased=a.priceDetails.isPriceIncreased,E.disablePriceVariation=0===a.priceDetails.cost)),y&&i?s.a.createElement(M.a,E):y?s.a.createElement("section",{className:"green-subheader mbottom-medium"},s.a.createElement(_.a,{icons:E.icons.splice(0,2)}),s.a.createElement("div",{className:"pill-rgt"},s.a.createElement("span",{className:"count-left color-grey-secondary"},s.a.createElement("i",{className:"bg-accent-1 color-white"},a.noOfSeatAvailable),"SEATS LEFT"))):s.a.createElement(j.a,{enabled:!y,top:o?132:85},s.a.createElement(M.a,E))}function J(e){var t=e.flight,a=void 0===t?{}:t,n=e.isMobileDevice,i=void 0!==n&&n,r=e.name,o=e.isInternalFlight,l=a.allTrips,c=a.excessBaggageInfo,d=a.offline,u=a.freeCheckInBaggage,m=a.freeCabinBaggage,p=function(e){var t=e.trip,a=e.tripInx,n="",l=0,p=0,f=0,h=[],v={},g=[],b=[],y=[],E=0;c&&c.excessBaggages&&c.excessBaggages.map((function(e){var a=(t.configKey||"").split("_").join("-");e.originDestinationKey===a?e.baggageOptions.map((function(e){!0===e.selected&&e.selectedQuantity>0&&o?(l+=null===e||void 0===e?void 0:e.weight,p+=null===e||void 0===e?void 0:e.selectedQuantity,h.push("".concat(null===e||void 0===e?void 0:e.weight,"KG x ").concat(null===e||void 0===e?void 0:e.selectedQuantity," ").concat(Object(U.a)({count:null===e||void 0===e?void 0:e.selectedQuantity,keyword:"piece"}))),f+=(null===e||void 0===e?void 0:e.weight)*(null===e||void 0===e?void 0:e.selectedQuantity),n=s.a.createElement("p",{className:" medium-bold "},"Extra baggage ",l*p," KG has been added.")):e.selectedQuantity&&(E+=(null===e||void 0===e?void 0:e.weight)*(null===e||void 0===e?void 0:e.selectedQuantity),null!==e&&void 0!==e&&e.weight&&g.push(" ".concat(null===e||void 0===e?void 0:e.weight,"Kg x ").concat(null===e||void 0===e?void 0:e.selectedQuantity," ").concat(Object(U.a)({count:null===e||void 0===e?void 0:e.selectedQuantity,keyword:"piece"}))))})):(l=0,e.baggageOptions.map((function(e){!0===e.selected&&e.selectedQuantity>0&&o?(l+=null===e||void 0===e?void 0:e.weight,p+=null===e||void 0===e?void 0:e.selectedQuantity,h.push(" ".concat(null===e||void 0===e?void 0:e.weight,"Kg x ").concat(null===e||void 0===e?void 0:e.selectedQuantity," ").concat(Object(U.a)({count:null===e||void 0===e?void 0:e.selectedQuantity,keyword:"piece"}))),f+=(null===e||void 0===e?void 0:e.weight)*(null===e||void 0===e?void 0:e.selectedQuantity)):e.selectedQuantity&&(E+=(null===e||void 0===e?void 0:e.weight)*(null===e||void 0===e?void 0:e.selectedQuantity),null!==e&&void 0!==e&&e.weight&&g.push(" ".concat(null===e||void 0===e?void 0:e.weight,"Kg x ").concat(null===e||void 0===e?void 0:e.selectedQuantity," ").concat(Object(U.a)({count:null===e||void 0===e?void 0:e.selectedQuantity,keyword:"piece"}))))}))),v["".concat(e.origin,"_").concat(e.destination)]=l,b.push(g.join(",")),y.push(E),E=0,g=[]}));return(t.routes||[]).filter((function(e,t){return o?t<1:e})).map((function(e,t){var l=i?e.departureAirportCode+"-"+e.arrivalAirportCode:e.departureCity+"-"+e.arrivalCity,c=i?"":e.carrierName;return s.a.createElement("div",{className:"box vpadding-small meta-text",key:t},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-4"},s.a.createElement("p",{className:"color-grey-secondary mb-0 truncate"}," ",o?r:l,s.a.createElement("span",{className:"fw pull-left color-accent-12 truncate"},c))),s.a.createElement("div",{className:"col-xs-4 col-sm-3"},s.a.createElement("p",{className:"color-accent-12 mb-0"},"Check-in:",d?s.a.createElement("span",{className:"fw pull-left color-grey-secondary"},u):s.a.createElement("span",{className:"fw pull-left color-grey-secondary"},""!==e.freeCheckInBaggage?"".concat(e.freeCheckInBaggage,"/person"):"",""===e.freeCheckInBaggage||null===e.freeCheckInBaggage||o?"":b.length&&!o&&b[a+t]?" + ".concat(b[a+t]):"",null!==h&&void 0!==h&&h.length?null===h||void 0===h?void 0:h.join(","):o?"0 kg":""))),s.a.createElement("div",{className:"col-xs-4 col-sm-3"},s.a.createElement("p",{className:"color-accent-12 mb-0"}," ","Cabin",d?s.a.createElement("span",{className:"fw pull-left color-grey-secondary"},m):s.a.createElement("span",{className:"fw pull-left color-grey-secondary"}," ","".concat(m,"/").concat(i?"per":"person"),s.a.createElement("span",null)))),s.a.createElement("div",{className:"col-md-2 text-right"}," ",0!==n.length?n:s.a.createElement("span",{className:"fw color-grey-secondary"},0!==Object.keys(v).length&&Object.prototype.hasOwnProperty.call(v,"".concat(e.departureAirportCode,"_").concat(e.arrivalAirportCode))&&0!==v["".concat(e.departureAirportCode,"_").concat(e.arrivalAirportCode)]?"Extra baggage ".concat(f," KG has been added."):null)),!y.length||1===y.length&&0===y[0]?null:s.a.createElement("div",{className:"col-md-2 text-right"},s.a.createElement("span",{className:"fw color-grey-secondary"},"Extra baggage ".concat(y[a+t]?y[a+t]:0," KG has been added.")))))}))},f=0;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("section",{className:"grey-content"},s.a.createElement("div",{className:"box-title color-grey-secondary mbottom-medium"},s.a.createElement("p",null,"Baggage Info")),s.a.createElement("div",{className:"clearfix"},(l||[]).map((function(e,t){var n,i=a.trips[e],r=s.a.createElement(p,{key:t,trip:i,tripInx:f});return f+=null===i||void 0===i||null===(n=i.routes)||void 0===n?void 0:n.length,r}))))))}var Q=a(1595),X=(a(1605),a(15)),$=a(18),Z=a(42),ee=a(1792),te=a(4),ae=a(1592),ne=a(1593),ie=a(105),re=a(141),oe=a(2595);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var ce=function(e){Object(r.a)(a,e);var t=le(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).goDetailModal=function(){var e=i.props,t=e.history,a=e.match.params,n=a.itineraryId,r=a.configKey,o=a.searchRegion;t.push(Object(S.Jb)({itineraryId:n,regionCode:o,location:t.location,target:S.O,customParams:{configKey:r}}))},i.getCurrentDetail=function(e){var t=Object(Q.c)(i.props,i.state,e),a=t.flight,n=t.currentFlight,r=t.isRefresh,o=void 0!==r&&r;a&&i.setState({flight:a,currentFlight:n,isRefresh:o})},i.goBackModal=function(){var e=i.props,t=e.history,a=e.lastLocation,n=void 0===a?{}:a;n&&n.pathname?t.goBack():Object(Q.h)(i.props)},i.closeModal=function(e){var t=e?"btn_alternate_flight_details_close":"btn_flight_details_close";Object(X.Ld)(X.G,{element_type:"button",element_name:t}),setTimeout((function(){Object(Q.h)(i.props)}),400)},i.changeButtonClickHandler=function(e,t){t&&t.preventDefault();var a=i.props,n=a.history,r=a.itinerary;if(e.offline)i.state.isRefresh=!1,n.push(Object(S.Jb)({itineraryId:r.itineraryId,location:n.location,regionCode:r.regionCode,target:S.P,customParams:{configKey:Object(x.a)(e.configKey)}}));else{var o=Object(x.a)(e.configKey);n.push(Object(S.Jb)({itineraryId:r.itineraryId,regionCode:r.regionCode,location:n.location,target:S.N,customParams:{configKey:o}}))}},i.replaceFlight=function(e,t){t&&t.preventDefault();var a={selectedFlightIdentifier:e.identifier,tripIdentifiers:[e.identifier],validatingAirline:e.validatingAirline,flightSearchQueries:e.flightSearchQueries,sourceProvider:e.sourceProvider};e&&e.allTrips[0]&&e.trips[e.allTrips[0]].changesStayStartDate?i.setState({updateFlightData:a,showStartDateChangeAlert:!0}):i.proceedToChangeFlight(a)},i.proceedToChangeFlight=function(e){(0,i.props.replaceFlightData)(e||i.state.updateFlightData)},i.getAlerts=function(){var e=i.props.itineraryAlerts,t=i.state.flight;return Object(Q.b)(Object($.a)(e,t.configKey),!0)},i.rightSidePanelHelper=function(){var e,t=i.props,a=t.itinerary,n=t.user_details,r=t.isReadOnly,o=t.isFromAlternate,l=i.state.flight,c=l.offline,s=i.state.flight;s.configKey||(s=i.state.currentFlight);var d,u=a.booking,m=a.frozen,p=a.flightsBlocked,f=u||m||p&&"BLOCKED"===l.status,h=r?{}:{isDisabled:f||m,actionHandler:function(e){i.deleteFlight(l,e)}},v=r?{}:{isDisabled:f||m||c&&!Object(ae.a)({permissions:null===(e=n||{})||void 0===e?void 0:e.permissions,key:ne.a}),actionHandler:function(e){i.changeButtonClickHandler(s,e)}};return o?{REMOVE:{},CHANGE:v,REPLACE:{actionHandler:function(e){i.replaceFlight(l,e)}},flight:l}:{REMOVE:Object(ae.a)({permissions:null===(d=n||{})||void 0===d?void 0:d.permissions,key:ne.u})&&!r?h:{},CHANGE:v,alerts:i.getAlerts()}},i.deleteFlight=function(e,t){t&&t.preventDefault(),Object(X.Ld)(X.Ec,{element_type:"button",element_name:"btn_flight_details_flight_remove"});var a=i.props,n=a.itinerary,r=a.actions,o={itineraryId:n.itineraryId,configKey:e.configKey};r.deleteFlight(o).then((function(){i.closeModal()})).catch((function(){i.closeModal()}))},i.state={showModal:!1,isRefresh:!1,flight:{},stickyHeaderClassMobile:"",itinerary:e.itinerary},i}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(){var e=(this.props.location.state||{isRefresh:!1}).isRefresh,t=this.state.flight;!Object(g.a)(t)&&e===this.state.isRefresh||Object(g.a)(this.props.itinerary)||this.getCurrentDetail(e)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.match,n=e.actions,i=e.itinerary,r=void 0===i?{}:i,o=e.isFromAlternate,l=e.history,c=e.flightDetailFromAlternate,s=a.params,d=s.itineraryId,u=s.configKey;o&&!c&&l.push(Object(S.Jb)({itineraryId:r.itineraryId,regionCode:r.regionCode,location:l.location,target:S.N,customParams:{configKey:u}})),Object(g.a)(r)?d&&n.getItinerary(d,t.search).then((function(){})).catch((function(){})):this.getCurrentDetail(),window.scroll(0,0),Object(b.a)(),window.addEventListener(Object(E.a)(),n.resizeHandler),Object(y.a)()}},{key:"componentWillUnmount",value:function(){Object(O.a)(),window.removeEventListener(Object(E.a)(),this.props.actions.resizeHandler)}},{key:"render",value:function(){var e,t,a=this,n=this.state,i=n.flight,r=n.currentFlight,o=[],l=[];((null===r||void 0===r||null===(e=r.extraFacilities)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.facilityDetails)||[]).forEach((function(e){e.included?o.push(e):l.push(e)}));var d=this.props,u=d.isFromAlternate,m=d.location,p="PYTON"===i.ourSourceProvider||"SKYPICKER"===i.ourSourceProvider;if(Object(Z.a)(i))return null;var g=Object(v.a)(),b=i.allTrips,y=m&&Object(N.a)(m.pathname,["/details"])?"Back to list":null,E=s.a.createElement(A.a,{rootClassName:"subheader-modals ".concat(u?"":"mbottom-medium"),onClickBackAction:function(){Object(X.Ld)(X.t,{page:"Flight Details"}),a.goBackModal()},alternateText:y,onClickCloseAction:function(){return a.closeModal(u)},onClickAlternateAction:function(){a.changeButtonClickHandler(a.state.currentFlight,null)},spanContent:u?"ITINERARY / ALTERNATES / FLIGHT":"ITINERARY / FLIGHT",headerContent:y?"Change Flights":b.length>1?"Round Trip Flight":"Flight Transfer",isMobile:g}),C=null;r&&(C=Object(Q.d)(r));var x=s.a.createElement(T.a,{name:K(i),seatLeft:i.noOfSeatAvailable,isFromAlternate:u,enableTagIndicator:!1}),O=s.a.createElement(q,{rightSideProps:this.rightSidePanelHelper(),isFromAlternate:u,flight:i}),w=s.a.createElement(q,{rightSideProps:this.rightSidePanelHelper(),isFromAlternate:u,flight:i,isMobileFooter:!0}),k=u&&y?s.a.createElement("section",{className:"subheader-modals-info bold mbottom-medium"},s.a.createElement("div",{className:"container sm-full-width lg-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-7 col-sm-6 col-md-12 truncate"},"Now changing:",s.a.createElement("a",{href:"_",onClick:function(e){e&&e.preventDefault()&&e.stopPropagation(),a.goDetailModal()}}," ".concat(C)))))):null,j=s.a.createElement(P,{tripValues:G(i),isMobileDevice:g}),R=s.a.createElement(J,{name:K(i),isInternalFlight:p,flight:i,isMobileDevice:g}),D=this.getAlerts(),F=!g||u||Object(Z.a)(D)?null:s.a.createElement(ee.b,{alerts:D,rootClassName:"alternates-fyi-list"}),M=s.a.createElement(ie.a,{direction:"column",gutter:40,paddingBottom:40},o.length&&s.a.createElement(ie.a.Item,{gap:20},s.a.createElement(re.a,{fontFamily:"Source Sans Pro",fontSize:18,fontWeight:700,color:"rgba(51, 51, 51, 1)",lineHeight:"24px"},"Free Inclusions"),s.a.createElement(ie.a,{flexWrap:"wrap",gutter:0,gap:20},o.map((function(e,t){return s.a.createElement(ie.a,{gutter:6,key:"free-inclusions-"+t,width:160,alignItems:"center"},s.a.createElement(oe.a,{width:18,height:18,fill:"rgba(0, 158, 106, 1)"}),s.a.createElement(re.a,{fontSize:15,color:"rgba(51, 51, 51, 1)",lineHeight:"20px"},e.name))})))),l.length&&s.a.createElement(ie.a.Item,{gap:20},s.a.createElement(re.a,{fontFamily:"Source Sans Pro",fontSize:18,fontWeight:700,color:"rgba(51, 51, 51, 1)",lineHeight:"24px"},"Paid Inclusions"),s.a.createElement(ie.a,{flexWrap:"wrap",gutter:0,gap:20},l.map((function(e,t){return s.a.createElement(ie.a,{gutter:6,key:"free-inclusions-"+t,width:160,alignItems:"center"},s.a.createElement(oe.a,{width:18,height:18,fill:"rgba(0, 158, 106, 1)"}),s.a.createElement(re.a,{fontSize:15,color:"rgba(51, 51, 51, 1)",lineHeight:"20px"},e.name))})))));return s.a.createElement(c.Fragment,null,s.a.createElement(f.a,{show:this.state.showStartDateChangeAlert,title:"Change in landing date",text:"This option shifts your landing date. We'll have to re-check the resort availability and other prices for the new dates. This might take a while, sit tight.",onConfirm:function(){a.setState({showStartDateChangeAlert:!1},(function(){a.proceedToChangeFlight()}))},showCancelButton:!0,animation:"pop",confirmButtonText:"Ok, Continue",cancelButtonText:"No, Don't change my flight",onEscapeKey:function(){return a.setState({showStartDateChangeAlert:!1})},onCancel:function(){return a.setState({showStartDateChangeAlert:!1})},onOutsideClick:function(){a.state.showStartDateChangeAlert&&a.setState({showStartDateChangeAlert:!1})}}),s.a.createElement("div",{className:g?"hidden-md hidden-lg altermodal-xs-view xs-slide-up flight-details-xs":"hidden-sm hidden-xs flights-details"},s.a.createElement(I,{isFromAlternate:u,headerComponent:E,flightHeader:x,flightDetails:j,rightSidePanel:O,baggagePanel:R,mobileFooter:w,alternateHeader:k,alertsElement:F,inclusionElement:M})),s.a.createElement(h.Switch,null,s.a.createElement(h.Route,{path:S.Ib.FLIGHT_DETAILS_BLOCK_CARD,exact:!0,component:te.P}),s.a.createElement(h.Route,{path:S.bb.FLIGHT_DETAILS_BLOCK_CARD_ROUTE,exact:!0,component:te.P})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.itinerary!==t.itinerary?{itinerary:e.itinerary}:t}}]),a}(c.Component);t.default=Object(m.withLastLocation)(Object(d.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.flights,i=void 0===n?{}:n,r=e.alerts,o=void 0===r?{}:r,l=a.itineraryInfo,c=void 0===l?{}:l,s=a.user_details,d=void 0===s?{}:s,u=a.isReload,m=c.adult_count,p=c.child_count;return{itineraryInfo:c,itinerary:c.itinerary,user_details:d,adult_count:m,child_count:p,isReload:u,flightDetailFromAlternate:i.flightDetailFromAlternate,itineraryAlerts:Object($.a)(o,"itinerary_alerts.alertMessages.FLIGHT.alerts")}}),(function(e){return{actions:{deleteFlight:Object(u.b)(w.a,e),getItinerary:Object(u.b)(k.a,e),resizeHandler:Object(u.b)(C.a,e)}}}))(ce))},1493:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(30),u=a(54),m=a(137),p=a(14),f=a(49),h=a.n(f),v=a(1959),g=a(591),b=a(1597),y=a(213),E=a(1693),C=a(1596),x=a(1684),O=a(1702),N=a(1621),w=a(1656),k=a(1616),S=a(20),A=a(1712),j=a(1595);function I(e){var t=e.headerComponent,a=e.enableFilterOnMobile,n=e.filterComponent,i=e.contentComponent,r=e.footerComponent,o=e.titleComponent,l=e.loadingStatus,c=e.desktopRootClassName,d=void 0===c?"":c,u=e.mobileRootCalssName,m=void 0===u?"":u,p=e.match,f=void 0===p?{params:{}}:p;if(Object(S.a)())return s.a.createElement("div",{className:"hidden-md hidden-lg altermodal-xs-view xs-slide-up hotels-alternate-xs ".concat(m)},t,s.a.createElement("div",{className:"altermodal-xs-content"},s.a.createElement("aside",{className:"altermodal-filters ".concat(a?"":"hide")},n),a?null:o,a?null:i),r);var h=f.params.hotelCode;return s.a.createElement("div",{className:"hidden-sm hidden-xs hotels-alternate ".concat(h?"hide":""," ").concat(d)},t,s.a.createElement("div",{className:"container lg-container"},s.a.createElement("div",{className:"row"},s.a.createElement("aside",{className:"col-md-3 altermodal-filters ".concat("FILTERING"!==l?"":"hide"),id:"hotel_filter_options"},n),s.a.createElement("div",{className:"col-md-9"},i))))}var T=a(1674),R=a(290),D=a(55);function F(e){var t=e.train,a=e.sortedTrain,n=void 0===a?{}:a,i=e.closeAction,r=e.backAction,o=e.enableSorting,l=void 0===o||o,d=e.onClickSortAction,u=e.priceMode,m=e.fastMode,p=e.departureMode,f=t.fromCity,h=t.toCity,v=t.publishedCost,g=t.pickup,b=t.drop,y={value:v},E=[];"NONE"!==u&&E.push(0),"NONE"!==p&&E.push(1),"NONE"!==m&&E.push(2);var C=n.duration,x=void 0===C?null:C,O=n.cost,N={value:void 0===O?null:O};return s.a.createElement(R.a,{enabled:!0},s.a.createElement("div",{className:"clearfix fw mbottom-medium"},s.a.createElement(T.a,{rootClassName:"subheader-modals",isMobile:Object(S.a)(),onClickBackAction:r,onClickCloseAction:i,spanContent:"SUCCESS"===t.status?"".concat(f," \u2192 ").concat(h):"",headerContent:"Change Train",defaultActiveIndes:E,sortingContents:l?[{iconClassName:"icon vehoicon-account_balance_wallet",title:"Price",sortOrder:u,subtextContent:s.a.createElement(c.Fragment,null,"NONE"!==u?s.a.createElement("i",{className:"".concat("ASC"===u?"pyt-arrow-down-24 color-primary":"pyt-arrow-top-24 color-secondary")}):null," ","".concat(x&&"NONE"!==u?s.a.createElement(D.a,{objectData:N,path:"value",defaultValue:"0"}):"Order by price")),onClickAction:function(e){e&&e.preventDefault(),d("CHEAPEST","ASC"===u?"DEC":"ASC")}},{title:"Departure Time",sortOrder:p,subtextContent:s.a.createElement(c.Fragment,null,"NONE"!==p?s.a.createElement("i",{className:"".concat("ASC"===p?"pyt-arrow-down-24 color-primary":"pyt-arrow-top-24 color-secondary")}):null," "),onClickAction:function(e){e&&e.preventDefault(),d("DEPARTURE_TIME","ASC"===p?"DEC":"ASC")}},{iconClassName:"icon pyt-clock-16",title:"Duration",sortOrder:m,subtextContent:s.a.createElement(c.Fragment,null,"NONE"!==m?s.a.createElement("i",{className:"".concat("ASC"===m?"pyt-arrow-down-24 color-primary":"pyt-arrow-top-24 color-secondary")}):null," ","".concat(x&&"NONE"!==m?"".concat(P(x)):"Order by duration")),onClickAction:function(e){e&&e.preventDefault(),d("FASTEST","ASC"===m?"DEC":"ASC")}}]:[]}),Object(S.a)()?null:s.a.createElement("section",{className:"subheader-modals-info bold"},s.a.createElement("div",{className:"container sm-full-width lg-container"},s.a.createElement("div",{className:"row"},"SUCCESS"===t.status?s.a.createElement("div",{className:"col-xs-7 col-sm-6 col-md-6 truncate"},"Now changing:",s.a.createElement("a",null,"  ".concat(g," \u2192 ").concat(b))):null,s.a.createElement("div",{className:"col-xs-5 col-sm-6 col-md-6 text-right"},v?s.a.createElement("a",{href:"#"},s.a.createElement(D.a,{objectData:y,path:"value",defaultValue:"0"})):null))))))}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"H[h] m[m]";return h()(e).format(t)}var M=a(1640),_=a(1661),L=a(895);function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var H=function(e){Object(r.a)(a,e);var t=B(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getStopOptions=function(e){return s.a.createElement(M.a,{buttonClass:"",onClickAction:function(t,a){e("NOS",a)},componentValues:[{text:"No stops",textClass:"hotel-refundable-filter",value:0},{text:"1",value:1},{text:"2",value:2}]})},e.getDepartureOptions=function(e){return s.a.createElement(M.a,{onClickAction:function(t,a){e("DEP",a)},orientation:"Vertical",target:"returnDepartureTimes",componentValues:[{text:"Early Morning",subText:"12am - 8am",value:"E_M",checked:!1},{text:"Morning",subText:"8am - 12pm",value:"M",checked:!1},{text:"Mid-Day",subText:"12pm - 4pm",value:"M_D",checked:!1},{text:"Evening",subText:"4pm - 8pm",value:"E",checked:!1},{text:"Night",subText:"8pm - 12am",value:"N",checked:!1}]})},e.getArrivalOptions=function(e){return s.a.createElement(M.a,{onClickAction:function(t,a){e("ARR",a)},orientation:"Vertical",target:"returnDepartureTimes",componentValues:[{text:"Early Morning",subText:"12am - 8am",value:"E_M",checked:!1},{text:"Morning",subText:"8am - 12pm",value:"M",checked:!1},{text:"Mid-Day",subText:"12pm - 4pm",value:"M_D",checked:!1},{text:"Evening",subText:"4pm - 8pm",value:"E",checked:!1},{text:"Night",subText:"8pm - 12am",value:"N",checked:!1}]})},e.getEarlier=function(t){return s.a.createElement(L.a,{width:"40%",height:"30px",border:"1px solid #cccccc",cursor:"pointer",borderRadius:4,alignItems:"center",justifyContent:"center",display:"flex",backgroundColor:"#e2e2e2",disabled:!e.props.earlier,onPress:function(){return t("Earlier",!0)},textProps:{fontSize:15,fontFamily:"Source Sans Pro",fontWeight:400,color:"#53576d"}},"Earlier")},e.getLater=function(t){return s.a.createElement(L.a,{width:"40%",height:"30px",border:"1px solid #cccccc",cursor:"pointer",borderRadius:4,alignItems:"center",justifyContent:"center",display:"flex",backgroundColor:"#e2e2e2",disabled:!e.props.later,textProps:{fontSize:15,fontFamily:"Source Sans Pro",fontWeight:400,color:"#53576d"},onPress:function(){return t("Later",!0)}},"Later")},e.earlierAndLater=function(t){return s.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingTop:"24px",justifyContent:"space-evenly"}},e.getEarlier(t),e.getLater(t))},e.getComponent=function(){var t=[],a=e.props.setFilterAction;return t.push({header:"Number of stops",content:e.getStopOptions(a)}),t.push({header:"Departure time",content:e.getDepartureOptions(a)}),t.push({header:"Arrival time",content:e.getArrivalOptions(a)}),t.push({header:"Earlier&Later",content:e.earlierAndLater(a)}),t},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.getComponent();return Object(S.a)()?s.a.createElement("div",{className:"panel-group"},e.map((function(e,t){return s.a.createElement("section",{key:t,className:"panel"},s.a.createElement("div",{className:"panel-heading"},e.header),s.a.createElement("div",{className:"panel-body"},e.content))}))):s.a.createElement(R.a,{enabled:!0,top:144},s.a.createElement(_.a,{components:e}))}}]),a}(c.Component),V=a(22),z=a(1),U=a(11),K=a(166),W=a(169),G=a(105),Y=a(141),q=a(1333),J=a(2596),Q=a(2437),X=a(2597),$=a(896),Z=a(1330),ee=a(1578),te=a(2598),ae=a(2599),ne=a(1331),ie=a(2436),re=a(2203),oe=a(1630);function le(e){var t,a,n=e.trains,i=e.isMobile,r=Object(c.useState)({index:null,clicked:!1}),o=Object(U.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)({show:!1,index:null}),m=Object(U.a)(u,2),p=m[0],f=m[1],v=Object(c.useState)(4),g=Object(U.a)(v,2),b=g[0],y=g[1],E=Object(c.useState)(!0),C=Object(U.a)(E,2),x=C[0],O=C[1],N=Object(c.useCallback)((function(e){if(null===e||void 0===e||!e.length)return[];var t=[],a=e[0],n=e[(null===e||void 0===e?void 0:e.length)-1],i={type:"start",departure:null===a||void 0===a?void 0:a.departure,duration:null===a||void 0===a?void 0:a.duration,station:null===a||void 0===a?void 0:a.originStation,vehicle:null===a||void 0===a?void 0:a.vehicleLabel,reference:null===a||void 0===a?void 0:a.reference,date:h()(null===a||void 0===a?void 0:a.departureDate).format("DD MMM"),cabinClass:null===a||void 0===a?void 0:a.cabinClass,comfortCategory:null===a||void 0===a?void 0:a.comfortCategory},r={type:"end",arrival:null===n||void 0===n?void 0:n.arrival,station:null===n||void 0===n?void 0:n.destinationStation};if(1===(null===e||void 0===e?void 0:e.length))t.push(i,r);else if((null===e||void 0===e?void 0:e.length)>1){var o={},l={};t.push(i),(e||[]).filter((function(e,t){return t>0})).forEach((function(e){o.type="interlink_start",o.departure=null===e||void 0===e?void 0:e.departure,o.station=null===e||void 0===e?void 0:e.originStation,o.connectionTime=null===e||void 0===e?void 0:e.connectionTime,l.type="interlink_end",l.departure=null===e||void 0===e?void 0:e.departure,l.duration=null===e||void 0===e?void 0:e.duration,l.station=null===e||void 0===e?void 0:e.originStation,l.vehicle=null===e||void 0===e?void 0:e.vehicleLabel,l.reference=null===e||void 0===e?void 0:e.reference,l.date=h()(null===e||void 0===e?void 0:e.departureDate).format("DD MMM"),l.cabinClass=null===e||void 0===e?void 0:e.cabinClass,l.comfortCategory=null===e||void 0===e?void 0:e.comfortCategory,t.push(o,l)})),t.push(r)}return t}),[]),w=function(e,t){e.stopPropagation(),t.clickAction(t)},k=function(){(null===n||void 0===n?void 0:n.length)===b&&O(!1),setTimeout((function(){y(b+4)}),500)},S=s.a.createElement(s.a.Fragment,null,n.filter((function(e,t){return t<b})).map((function(e,t){var a,n,r,o,u,m,h,v,g,b=e.cost,y=e.diff,E=e.stops,C=(e.trainNumber,e.ticketType),x=(e.category,l.clicked&&l.index===t),O=p.show&&p.index===t,k=null===e||void 0===e||null===(a=e.train)||void 0===a?void 0:a.fromCity,S=null===e||void 0===e||null===(n=e.train)||void 0===n?void 0:n.toCity,A=null===e||void 0===e||null===(r=e.train)||void 0===r?void 0:r.duration,j=null===e||void 0===e||null===(o=e.train)||void 0===o?void 0:o.departureTime,I=null===e||void 0===e||null===(u=e.train)||void 0===u?void 0:u.arrivalTime,T=y||{},R=T.diffChangeType,F=void 0===R?"":R,P=T.diffCost,M=void 0===P?0:P,_={value:b},B={value:M},H=null===e||void 0===e||null===(m=e.train)||void 0===m||null===(h=m.day)||void 0===h?void 0:h.trim(),V=null===e||void 0===e||null===(v=e.train)||void 0===v?void 0:v.mon,U=N(null===e||void 0===e||null===(g=e.train)||void 0===g?void 0:g.railEuropeSegments);return s.a.createElement(c.Fragment,{key:t},s.a.createElement("section",{key:t,className:"train-card-new",onMouseEnter:function(){f({show:!0,index:t})},onMouseLeave:function(){f({show:!1,index:null})}},s.a.createElement(W.a,Object.assign({width:"100%",borderWidth:1,marginTop:24,borderColor:"#E2E2E2",borderRadius:4,minHeight:152,position:"relative",cursor:"pointer",onPress:function(t){return i?null:w(t,e)}},i?Object(z.a)({},{shadowOffset:{width:0,height:2},shadowRadius:6,shadowColor:"rgba(57, 57, 57, 0.11)",shadowOpacity:1}):{}),s.a.createElement(G.a.Item,{flexDirection:"row",minHeight:i?144:152},s.a.createElement(G.a.Item,{width:i?"100%":"75%",paddingTop:i?16:30,paddingHorizontal:i?16:24},s.a.createElement(G.a.Item,null,s.a.createElement(G.a.Item,{flexDirection:"row",paddingBottom:i?16:U.length&&!i?28:24,gap:i?12:0},s.a.createElement(G.a.Item,{width:i?"20%":"15%",rowGap:4,justifyContent:"center",textAlign:"left"},s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:i?16:18,fontWeight:700,lineHeight:i?"20.11px":"22.63px",letterSpacing:"0.2px",color:"#444"},j),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:i?13:15,lineHeight:i?"16.34px":"18.86px",letterSpacing:"0.2px",color:"#5E5E5E"},H," ",V),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:i?13:15,lineHeight:i?"16.34px":"18.86px",letterSpacing:"0.2px",color:"#5E5E5E"},k)),s.a.createElement(G.a,{width:i?"80%":"70%",gutter:0,flex:1,alignItems:"center",separator:s.a.createElement(G.a.Item,{flex:1,height:1,backgroundColor:"#BDBDBD"}),zIndex:-99},s.a.createElement(J.a,{fill:"#787878"}),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontWeight:600,fontSize:i?13:14,lineHeight:i?"15.08px":"17.06px",letterSpacing:"0.2px",color:"#444444",paddingHorizontal:i?6:14},A)),s.a.createElement(G.a.Item,{width:i?"20%":"15%",rowGap:4,justifyContent:"center",textAlign:"right"},s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:i?16:18,fontWeight:700,lineHeight:i?"20.11px":"22.63px",letterSpacing:"0.2px",color:"#444"},I),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:i?13:15,lineHeight:i?"16.34px":"18.86px",letterSpacing:"0.2px",color:"#5E5E5E"},H," ",V),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:i?13:15,lineHeight:i?"16.34px":"18.86px",letterSpacing:"0.2px",color:"#5E5E5E"},S))),i&&s.a.createElement(G.a.Item,{flexDirection:"row",borderBottomWidth:i?1:0,borderBottomColor:"#EFEFEF",paddingBottom:14,gap:12},s.a.createElement(G.a.Item,{minHeight:14,paddingVertical:4,paddingHorizontal:12,backgroundColor:"#F2F2F2",borderRadius:13},s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:13,fontWeight:600,lineHeight:"16.34px",letterSpacing:"0.2px",color:"#444444",selectable:!1},E?"".concat(E," ").concat(Object(oe.a)({count:E,keyword:"stop"})):"Direct")),s.a.createElement(G.a.Item,{minHeight:14,paddingVertical:4,paddingHorizontal:12,backgroundColor:"#F2F2F2",borderRadius:13},s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:13,fontWeight:600,lineHeight:"16.34px",letterSpacing:"0.2px",color:"#444444",selectable:!1},C)))),i&&s.a.createElement(G.a.Item,{flexDirection:"row",paddingVertical:16,alignItems:"center",justifyContent:U.length?"flex-start":"flex-end"},U.length?s.a.createElement(W.a,{flex:1,onPress:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t===l.index?d({index:t,clicked:!l.clicked}):d({index:t,clicked:!0})}},s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:13,fontWeight:600,lineHeight:"16.34px",letterSpacing:"0.2px",color:"#444",textDecorationLine:"underline"},x?"Hide ".concat(Object(oe.a)({count:E+1,keyword:"route"})):"View ".concat(Object(oe.a)({count:E+1,keyword:"route"})))):null,s.a.createElement(G.a.Item,{paddingRight:8,textAlign:"right"},F&&"NONE"!==F?s.a.createElement(G.a.Item,{marginLeft:"auto",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:4,paddingTop:4},"PRICEINCREASE"===F?s.a.createElement(Q.a,{width:14,height:14,fill:"#A72F41"}):s.a.createElement(X.a,{width:14,height:14,fill:"#008046"}),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:12,fontWeight:600,lineHeight:"15.08px",letterSpacing:"0.2px",color:"PRICEINCREASE"===F?"#A72F41":"#008046",textTransform:"uppercase"},"PRICEINCREASE"===F?"higher by":"lower by")):null,b||M?s.a.createElement("p",{style:{fontFamily:"Source Sans Pro",fontSize:"18px",fontWeight:700,lineHeight:"22.63px",letterSpacing:"0.2px",color:"#333"}},s.a.createElement(D.a,{objectData:M?B:_,path:"value",defaultValue:"0"})):s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:13,fontWeight:600,lineHeight:"16.34px",letterSpacing:"0.2px",color:"#008046",marginRight:8},"SAME PRICE")),i&&s.a.createElement(W.a,{width:95,height:40,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#51AF6E",onPress:function(t){w(t,e)},borderRadius:8,gap:4},s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontWeight:600,fontSize:13,lineHeight:"16.34px",letterSpacing:"0.2px",color:"#FFFFFF"},"Change"),s.a.createElement($.a,{width:12,height:12,fill:"#FFFFFF"}))),!i&&U.length?s.a.createElement(G.a.Item,{paddingBottom:20,flexDirection:"row",gap:18},s.a.createElement(W.a,{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:4,height:34,width:154,columnGap:6,backgroundColor:"#ECF7F2",zIndex:999,onPress:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t===l.index?d({index:t,clicked:!l.clicked}):d({index:t,clicked:!0})}},s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:i?13:14,fontWeight:600,lineHeight:i?"16.34px":"17.6px",letterSpacing:"0.2px",color:"#008046",selectable:!1},x?"Hide ".concat(Object(oe.a)({count:E+1,keyword:"route"})):"View ".concat(Object(oe.a)({count:E+1,keyword:"route"}))),x?s.a.createElement(Z.a,{fill:"#008046",width:14,height:14}):s.a.createElement(ee.a,{fill:"#008046",width:14,height:14})),s.a.createElement(G.a.Item,{flexDirection:"row",gap:6,alignItems:"center"},s.a.createElement(te.a,{width:24,height:24,fill:"#5E5E5E"}),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:13,lineHeight:"16.34px",letterSpacing:"0.2px",color:"#5E5E5E",selectable:!1},C)),s.a.createElement(G.a.Item,{flexDirection:"row",gap:4,alignItems:"center"},s.a.createElement(ae.a,{width:24,height:24,fill:"#5E5E5E"}),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:13,lineHeight:"16.34px",letterSpacing:"0.2px",color:"#5E5E5E",selectable:!1},E?"".concat(E," ").concat(Object(oe.a)({count:E,keyword:"stop"})):"Direct"))):null),!i&&s.a.createElement(G.a.Item,{width:"25%",alignItems:"center",justifyContent:"center",borderLeftWidth:i?0:1,borderLeftColor:"#DADADA",gap:6},F&&"NONE"!==F?s.a.createElement(G.a.Item,{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:6},"PRICEINCREASE"===F?s.a.createElement(Q.a,{fill:"#A72F41"}):s.a.createElement(X.a,{fill:"#008046"}),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:i?13:16,fontWeight:600,lineHeight:i?"16.34px":"20.11px",letterSpacing:"0.2px",color:"PRICEINCREASE"===F?"#A72F41":"#008046",textTransform:"uppercase"},"PRICEINCREASE"===F?"higher by":"lower by")):null,b||M?s.a.createElement("p",{style:{fontFamily:"Source Sans Pro",fontSize:"26px",fontWeight:700,lineHeight:"37.71px",letterSpacing:"0.2px",color:"#333"}},s.a.createElement(D.a,{objectData:M?B:_,path:"value",defaultValue:"0"})):s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:16,fontWeight:600,lineHeight:"20.11px",letterSpacing:"0.2px",color:"#008046"},"SAME PRICE"),O&&s.a.createElement(L.a,{transition:"ease-in",width:126,height:43,borderRadius:4,marginTop:4,backgroundColor:"#09B367",justifyContent:"center",alignItems:"center",text:"Change",onPress:function(t){w(t,e)}}))),x&&!i&&s.a.createElement(G.a.Item,{borderTopWidth:1,borderTopColor:"#E3E3E3",paddingVertical:8},s.a.createElement(re.a,{isMobile:i,data:U})),s.a.createElement(q.a,{height:2===U.length?280:410,backgroundColor:"#fff",onClose:function(){return d({clicked:!1,index:null})},closeOnClickAway:!0,visible:x&&i},s.a.createElement(G.a.Item,{flexDirection:"row",borderBottomWidth:1,paddingHorizontal:16,borderBottomColor:"#C4C4C4",gap:12,marginTop:-14},s.a.createElement(W.a,{onPress:function(){return d({clicked:!1,index:null})}},s.a.createElement(ne.a,{fill:"#7A7A7A",width:18,height:18})),s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:17,fontWeight:600,lineHeight:"16px",letterSpacing:"0.2px",color:"#333",paddingBottom:22},"All Stations")),s.a.createElement(K.a,null,s.a.createElement(re.a,{isMobile:i,data:U}))))))})));return s.a.createElement(s.a.Fragment,null,i&&null!==n&&void 0!==n&&n.length?s.a.createElement("div",{id:"scrollableDiv",className:"train-card-scroll-mobile"},s.a.createElement(G.a.Item,{position:"fixed",top:102,width:"100%",backgroundColor:"#FCF2CF",flexDirection:"row",alignItems:"center",marginLeft:-16,paddingVertical:10,zIndex:999,marginTop:14},s.a.createElement(Y.a,{fontFamily:"Source Sans Pro",fontSize:14,fontWeight:600,lineHeight:"17.6px",letterSpacing:"0.2px",color:"#444444",paddingHorizontal:16},null===(t=n[0])||void 0===t||null===(a=t.train)||void 0===a?void 0:a.text)),s.a.createElement(ie.a,{dataLength:b,next:k,hasMore:x,scrollableTarget:"scrollableDiv"},s.a.createElement(G.a.Item,{paddingTop:16},S))):s.a.createElement(ie.a,{dataLength:b,next:k,hasMore:x},S))}var ce=a(2204),se=a(3),de=a.n(se),ue=p.a.images_cdn_misc_url;function me(){return s.a.createElement("div",{className:"col-xs-12 text-center"},s.a.createElement("br",null),s.a.createElement("img",{className:"no-alternates-illustrartion",src:ue+"not_found_icon.png",alt:"Not found"}))}function pe(e){var t=e.priceMode,a=void 0===t?"":t,n=e.fastMode,i=void 0===n?"":n,r=e.departureMode,o=void 0===r?"":r,l=e.onClickSortAction,c=void 0===l?function(){return!1}:l,d=e.headerText,u=void 0===d?"":d,m=e.visibleFilter,p=void 0!==m&&m;return s.a.createElement("section",{className:"options-hdr"},s.a.createElement("div",{className:"row vertical-center"},s.a.createElement("div",{className:"col-xs-4"},s.a.createElement("p",null,u)),s.a.createElement("div",{className:"col-xs-8"},p?s.a.createElement("ul",{className:"tab-links"},s.a.createElement("li",{className:"NONE"!==a?"active":""},s.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),c("CHEAPEST","ASC"===a?"DEC":"ASC")}},s.a.createElement("i",{className:"".concat("NONE"!==a?"ASC"===a?"pyt-sort-ascending-16":"pyt-sort-descending-16":"")}),s.a.createElement("span",null,"Price"))),s.a.createElement("li",{className:"NONE"!==o?"active":""},s.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),c("DEPARTURE_TIME","ASC"===o?"DEC":"ASC")}},s.a.createElement("i",{className:"".concat("NONE"!==o?"ASC"===o?"pyt-sort-ascending-16":"pyt-sort-descending-16":"")}),s.a.createElement("span",null,"Departure Time"))),s.a.createElement("li",{className:"NONE"!==i?"active":""},s.a.createElement("a",{onClick:function(e){e&&e.preventDefault(),c("FASTEST","ASC"===i?"DEC":"ASC")}},s.a.createElement("i",{className:"".concat("NONE"!==i?"ASC"===i?"pyt-sort-ascending-16":"pyt-sort-descending-16":"")}),s.a.createElement("span",null,"Duration")))):null)))}function fe(e){var t=e.componentStatus,a=e.alternates,n=s.a.createElement(c.Fragment,null,s.a.createElement("span",{className:"meta-text"},"Oops! No other trains found for the applied filters"),s.a.createElement(me,null));return"FILTERING"===t?n="Fetching trains based on your filters...":"LOADING"===t?n=s.a.createElement("span",{className:"meta-text"},"Loading..."):a.length>0&&(n="".concat(a.length," options found")),n}fe.propTypes={alternates:de.a.array,componentStatus:de.a.string};var he=a(1662);a(1605);function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var ge=p.a.api_url,be=function(e){Object(r.a)(a,e);var t=ve(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).toggleMobileFilter=function(){i.setState({enableFilterOnMobile:!i.state.enableFilterOnMobile})},i.getCurrentDetails=function(e){var t=e.itineraryInfo,a=e.match,n=t.trainCostings,r=t.itinerary;if(t&&Object.keys(t).length&&n&&!Object.keys(i.state.activeTrainDetails).length){var o=Object(b.a)(a.params.configKey),l=n.costingById[o];l||i.closeModal(),i.setState({activeTrainDetails:l},(function(){var e={itineraryId:r.itineraryId,configKey:encodeURIComponent(o)};i.getAlternateTrains(e)}))}},i.getAlternateTrains=function(e){var t=e.itineraryId,a=e.configKey,n="".concat(ge,"train/alternates/").concat(t,"/").concat(a,"?earlier=false&later=false&earlieravailable=true&lateravailable=true");Object(V.a)({url:n,method:"GET",body:{},onSuccess:function(e){var t=i.getTrainValues(e.data.alternates);0===t.length&&Object(A.a)(i.props,"There are no alternates"),i.setState({alternateTrains:t,alternates:t,showModal:!0,componentStatus:"IDLE",earlieravailable:e.data.earlier,lateravailable:e.data.later})},onFailure:function(){Object(A.a)(i.props)}})},i.handleReplaceButtonClick=function(e){var t=i.props,a=t.updateTrain,n=t.itinerary,r=i.state.activeTrainDetails;i.setState({componentStatus:"CHANGED"},(function(){a({itineraryId:n.itineraryId,configKey:r.configKey,identifier:e.trainId,trainCostingId:r.trainCostingId}).then((function(){i.closeModal(!0)})).catch((function(){i.setState({isLoading:!1},(function(){Object(A.a)(i.props)}))}))}))},i.getTrainValues=function(e){var t,a,n,r,o=i.state.activeTrainDetails.dateMillis,l=function(e){return 0<=e&&e<8?"E_M":8<=e&&e<12?"M":12<=e&&e<16?"M_D":16<=e&&e<20?"E":"N"};return(e||[]).map((function(e){return a=h()(e.arrivalTime||"00:00","HH:mm"),t=h()(e.departureTime||"00:00","HH:mm"),n=h()(a).format("H"),r=h()(t).format("H"),a=h()(o).set({h:a.hours(),m:a.minutes()}),t=h()(o).set({h:t.hours(),m:t.minutes()}),{train:e,stops:e.stops,arrivalTime:a,departureTime:t,duration:h.a.utc(a.diff(t)),arrivalZone:l(n),departureZone:l(r),isRefundanle:e.refundable,trainId:e.trainId,cost:(e.diff||{diffCost:e.publishedCost||e.internetCost}).diffCost,diff:e.diff,isFastest:!0,trainNumber:e.trainNumber,ticketType:e.ticketType,category:e.category,clickAction:function(){i.setState({isLoading:!0},(function(){i.handleReplaceButtonClick(e)}))}}}))},i.closeModal=function(){i.state.enableFilterOnMobile?i.toggleMobileFilter():setTimeout((function(){i.setState({showModal:!1},(function(){Object(y.a)(),Object(j.h)(i.props)}))}),400)},i.goBackModal=function(){if(i.state.enableFilterOnMobile)i.setState({enableFilterOnMobile:!1});else{var e=i.props,t=e.history,a=e.lastLocation,n=void 0===a?{}:a;n&&n.pathname?t.goBack():Object(j.h)(i.props)}},i.performFilterAction=function(e){var t=e.cheapest,a=e.fastest,n=e.noOfStops,r=e.departure,o=e.arrival,l=e.departureTime,c=e.comfortCategory,s=i.state.alternateTrains,d=(void 0===s?[]:s).filter((function(e){return(n.includes(e.stops)||!n.length)&&(r.includes(e.departureZone)||!r.length)&&(o.includes(e.arrivalZone)||!o.length)}));"NONE"!==t&&(d=Object(k.a)(d,["cost"],"DEC"===t)),"NONE"!==l&&(d=Object(k.a)(d,["departureTime"],"DEC"===l)),"NONE"!==a&&(d=Object(k.a)(d,["duration"],"DEC"===a)),null!==c&&void 0!==c&&c.length&&(d=d.filter((function(e){var t;return null===c||void 0===c?void 0:c.includes(null===e||void 0===e||null===(t=e.train)||void 0===t?void 0:t.category)}))),i.setState({alternates:d})},i.getAlternate=function(e,t){var a=i.props.itineraryInfo,n=Object(b.a)(i.props.match.params.configKey),r=encodeURIComponent(n),o="".concat(ge,"train/alternates/").concat(a.itinerary.itineraryId,"/").concat(r,"?earlier=").concat(e,"&later=").concat(t,"&earlieravailable=").concat(i.state.earlieravailable,"&lateravailable=").concat(i.state.lateravailable);Object(V.a)({url:o,method:"GET",onSuccess:function(e){var t=i.getTrainValues(e.data.alternates);0===t.length&&Object(A.a)(i.props,"There are no alternates"),i.setState({alternateTrains:t,alternates:t,showModal:!0,componentStatus:"IDLE",earlieravailable:e.data.earlier,lateravailable:e.data.later})},onFailure:function(){Object(A.a)(i.props)}})},i.setFilterAction=function(e,t){var a=i.state.filterObject,n=a.noOfStops,r=a.departure,o=a.arrival,l=a.comfortCategory;switch(e){case"CHEAPEST":a.cheapest=t,a.fastest="NONE",a.departureTime="NONE";break;case"FASTEST":a.fastest=t,a.cheapest="NONE",a.departureTime="NONE";break;case"DEPARTURE_TIME":a.cheapest="NONE",a.fastest="NONE",a.departureTime=t;break;case"NOS":n.includes(t)?a.noOfStops.splice(n.indexOf(t),1):a.noOfStops.push(t);break;case"DEP":r.includes(t)?a.departure.splice(r.indexOf(t),1):a.departure.push(t);break;case"CATEGORY":l.includes(t)?a.comfortCategory.splice(l.indexOf(t),1):a.comfortCategory.push(t);break;case"Earlier":i.getAlternate(t,a.later);break;case"Later":i.getAlternate(a.earlier,t);break;default:o.includes(t)?a.arrival.splice(o.indexOf(t),1):a.arrival.push(t)}i.setState({filterObject:a}),i.performFilterAction(a)},i.state={activeTrainDetails:{},componentStatus:"LOADING",alternateTrains:[],alternates:[],enableFilterOnMobile:!1,filterObject:{cheapest:"ASC",fastest:"NONE",departureTime:"NONE",noOfStops:[],departure:[],arrival:[],comfortCategory:[],later:!1,earlier:!1},earlieravailable:!1,lateravailable:!1},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.match,n=e.itinerary,i=e.getItinerary,r=e.resizeHandler;if(Object(C.a)(n)){var o=a.params.itineraryId;o&&i(o,t.search).then((function(){})).catch((function(){}))}window.scroll(0,0),Object(x.a)(),window.addEventListener(Object(O.a)(),r),Object(N.a)(),this.getCurrentDetails(this.props)}},{key:"componentWillUnmount",value:function(){Object(w.a)(),Object(y.a)()}},{key:"componentDidUpdate",value:function(e){e.itinerary!==this.props.itinerary&&this.getCurrentDetails(this.props)}},{key:"render",value:function(){var e=this.state,t=e.enableFilterOnMobile,a=e.filterObject,n=e.componentStatus,i=e.alternates,r=e.alternateTrains,o=e.isLoading,l=e.earlieravailable,d=e.lateravailable,u=a.cheapest,m=a.fastest,p=a.departureTime,f=s.a.createElement(fe,{componentStatus:n,trainList:r,alternates:i});return"LOADING"===n?s.a.createElement(he.c,null,s.a.createElement(F,{train:this.state.activeTrainDetails,closeAction:this.closeModal,backAction:this.goBackModal,enableSorting:!1})):s.a.createElement(I,{desktopRootClassName:"train-alternate mbottom-large",mobileRootCalssName:"altermodal-xs-view xs-slide-up hotels-alternate train-alternate",isGrouped:!0,enableFilterOnMobile:t,isLoading:o,isLoaded:"CHANGED"===n,headerComponent:s.a.createElement(F,{train:this.state.activeTrainDetails,closeAction:this.closeModal,backAction:this.goBackModal,enableSorting:"IDLE"===n,priceMode:u,fastMode:m,departureMode:p,onClickSortAction:this.setFilterAction,sortedTrain:this.state.alternates[0]}),titleComponent:s.a.createElement(pe,{priceMode:u,visibleFilter:i.length,fastMode:m,departureMode:p,headerText:f,onClickSortAction:this.setFilterAction}),filterComponent:s.a.createElement(H,{setFilterAction:this.setFilterAction,earlier:l,later:d}),contentComponent:s.a.createElement(c.Fragment,null,Object(S.a)()?null:f,s.a.createElement(le,{trains:this.state.alternates,isMobile:Object(S.a)()})),footerComponent:t?s.a.createElement(ce.a,{enableFilterOnMobile:!0,mobileFilterUpdate:this.toggleMobileFilter}):s.a.createElement(ce.a,{mobileFilterAction:this.toggleMobileFilter,enableFilterOnMobile:t,mobileFilterUpdate:this.toggleMobileFilter})})}}]),a}(c.Component);t.default=Object(m.withLastLocation)(Object(d.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=a.itineraryInfo,i=void 0===n?{}:n,r=a.user_details,o=a.isReload,l=i.itinerary;return{itineraryInfo:i,itinerary:void 0===l?{}:l,user_details:r,isReload:o}}),(function(e){return{updateTrain:Object(u.b)(v.a,e),getItinerary:Object(u.b)(g.a,e),resizeHandler:Object(u.b)(E.a,e)}}))(be))},1519:function(e,t,a){"use strict";a.r(t);var n=a(33),i=a(38),r=a(39),o=a(46),l=a(56),c=a(29),s=a(0),d=a.n(s),u=a(30),m=a(54),p=a(290),f=a(1597),h=a(1596),v=a(71),g=a(1656),b=a(1621),y=a(1712),E=a(1616),C=a(591),x=a(1959),O=a(14),N=a(22),w=a(245),k=a(15),S=a(190),A=a(12);function j(e){var t=e.itineraryId,a=e.configKey;return function(n){return new Promise((function(i,r){var o="".concat(O.a.api_url,"train/cheapestFare/").concat(t,"/").concat(encodeURIComponent(Object(f.a)(a)));Object(N.a)({url:o,method:"PUT",body:e,onSuccess:function(e){Object(w.a)(n,e.data),Object(k.Ld)(k.Sb,{transfer_changed:!0}),i("Promised resolved from fetch")},onFailure:function(e){Object(S.a)(e,n),n({type:A.Db,payload:e}),r("Failed")}})}))}}var I=a(1863),T=a(7),R=a(1830),D=a(10),F=a(105),P=a(141),M=a(2596),_=a(2203),L=a(1630),B=a(49),H=a.n(B);function V(e){var t=e.departureCity,a=void 0===t?"":t,n=e.arrivalCity,i=void 0===n?"":n,r=e.dayOfWeek,o=void 0===r?"":r,l=e.departureDate,c=void 0===l?"":l,u=e.departureTime,m=void 0===u?"":u,f=e.arrivalTime,h=void 0===f?"":f,v=e.handleChangeBtnClick,g=void 0===v?function(){return!1}:v,b=e.activeTrainDetails,y=void 0===b?{}:b,E=e.isAdmin,C=void 0!==E&&E,x=e.isMobile,O=void 0!==x&&x,N=e.icons,w=void 0===N?[]:N,k=e.isLoading,S=void 0!==k&&k,A=e.duration,j=void 0===A?"":A,I=e.text,T=e.railEuropeSegments,B=void 0===T?[]:T,V=e.stops,z=e.booking,U=y.internetCost,K=void 0===U?null:U,W=d.a.createElement(R.a,{isDisabledChange:z,changeButtonText:"Change Train",updateText:"Change Train",updatedPrice:K,isUpdate:C,disablePriceVariation:!0,disabledKeepBrowsing:!0,onUpdateAction:g,onChangeAction:g,firstHalf:{header:"Departure Date",content:o+", "+c},secondHalf:{header:"Departure time:",content:m},icons:w,isMobile:O,isMobileFooter:O}),G=Object(s.useMemo)((function(){if(null===B||void 0===B||!B.length)return[];var e=[],t=B[0],a=B[(null===B||void 0===B?void 0:B.length)-1],n={type:"start",departure:null===t||void 0===t?void 0:t.departure,duration:null===t||void 0===t?void 0:t.duration,station:null===t||void 0===t?void 0:t.originStation,vehicle:null===t||void 0===t?void 0:t.vehicleLabel,reference:null===t||void 0===t?void 0:t.reference,date:H()(null===t||void 0===t?void 0:t.departureDate).format("DD MMM"),cabinClass:null===t||void 0===t?void 0:t.cabinClass,comfortCategory:null===t||void 0===t?void 0:t.comfortCategory},i={type:"end",arrival:null===a||void 0===a?void 0:a.arrival,station:null===a||void 0===a?void 0:a.destinationStation};if(1===(null===B||void 0===B?void 0:B.length))e.push(n,i);else if((null===B||void 0===B?void 0:B.length)>1){var r={},o={};e.push(n),(B||[]).filter((function(e,t){return t>0})).forEach((function(t){console.log({val:t}),r.type="interlink_start",r.departure=null===t||void 0===t?void 0:t.departure,r.station=null===t||void 0===t?void 0:t.originStation,r.connectionTime=null===t||void 0===t?void 0:t.connectionTime,o.type="interlink_end",o.departure=null===t||void 0===t?void 0:t.departure,o.duration=null===t||void 0===t?void 0:t.duration,o.station=null===t||void 0===t?void 0:t.originStation,o.vehicle=null===t||void 0===t?void 0:t.vehicleLabel,o.reference=null===t||void 0===t?void 0:t.reference,o.date=H()(null===t||void 0===t?void 0:t.departureDate).format("DD MMM"),o.cabinClass=null===t||void 0===t?void 0:t.cabinClass,o.comfortCategory=null===t||void 0===t?void 0:t.comfortCategory,e.push(r,o),r={},o={}})),e.push(i)}return e}),[B]),Y=d.a.createElement(d.a.Fragment,null,d.a.createElement(F.a.Item,{flexDirection:"row",height:60,backgroundColor:"#EBEEF2",gap:O?8:12,paddingHorizontal:O?16:24,alignItems:"center"},d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:O?14:18,fontWeight:600,lineHeight:O?"17.6px":"22.63px",letterSpacing:"0.2px",color:"#444"},I),V?d.a.createElement(d.a.Fragment,null,d.a.createElement(F.a.Item,{height:22,borderRightWidth:1,borderRightColor:"#B5B5B5"}),d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:O?14:16,fontWeight:600,lineHeight:O?"17.6px":"20.11px",letterSpacing:"0.2px"},V," ",Object(L.a)({count:V,keyword:"stop"}))):null),d.a.createElement(F.a.Item,{flexDirection:"row",paddingVertical:20,justifyContent:"space-between",paddingHorizontal:O?16:24,gap:O?12:0},d.a.createElement(F.a.Item,{rowGap:4},d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:O?16:18,fontWeight:700,lineHeight:O?"20.11px":"22.63px",letterSpacing:"0.2px",color:"#444"},m),d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:O?13:15,lineHeight:O?"16.34px":"18.86px",letterSpacing:"0.2px",color:"#5E5E5E"},null===c||void 0===c?void 0:c.trim()),d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:O?13:15,lineHeight:O?"16.34px":"18.86px",letterSpacing:"0.2px",color:"#5E5E5E"},a)),d.a.createElement(F.a,{gutter:0,flex:1,alignItems:"center",justifyContent:"center",separator:d.a.createElement(F.a.Item,{width:O?50:194,height:1,backgroundColor:"#BDBDBD"})},d.a.createElement(M.a,{fill:"#787878"}),d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontWeight:600,fontSize:O?12:14,lineHeight:O?"15.08px":"17.06px",letterSpacing:"0.2px",color:"#444",paddingHorizontal:O?6:14},j)),d.a.createElement(F.a.Item,{rowGap:4,textAlign:"right"},d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:O?16:18,fontWeight:700,lineHeight:O?"20.11px":"22.63px",letterSpacing:"0.2px",color:"#444"},h),d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:O?13:15,lineHeight:O?"16.34px":"18.86px",letterSpacing:"0.2px",color:"#5E5E5E"},c),d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:O?13:15,lineHeight:O?"16.34px":"18.86px",letterSpacing:"0.2px",color:"#5E5E5E"},i))));return O?d.a.createElement(s.Fragment,null,d.a.createElement("div",{className:"altermodal-xs-content"},S?d.a.createElement(D.a,{rootClassName:"loader-wrapper",showLoading:!0}):d.a.createElement(s.Fragment,null,d.a.createElement("section",{className:"container xs-full-width"},d.a.createElement(F.a.Item,{width:"100%",borderWidth:1,marginTop:24,borderColor:"#DADADA",borderRadius:4,minHeight:162},Y,G.length?d.a.createElement(F.a.Item,{flexDirection:"row",height:32,backgroundColor:"#EBEEF2",gap:12,paddingHorizontal:16,alignItems:"center"},d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:14,fontWeight:600,lineHeight:"17.6px",letterSpacing:"0.2px",color:"#444"},"Detailed Route")):null,G.length?d.a.createElement(_.a,{isMobile:!0,data:G}):null)))),S?null:W):d.a.createElement("div",{className:"container lg-container xs-full-width"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-8 pr-5"},d.a.createElement(F.a.Item,{width:"100%",borderWidth:1,borderColor:"#DADADA",borderRadius:4,minHeight:162,marginTop:O?0:35},Y,G.length?d.a.createElement(F.a.Item,{flexDirection:"row",height:32,backgroundColor:"#EBEEF2",gap:12,paddingHorizontal:24,alignItems:"center"},d.a.createElement(P.a,{fontFamily:"Source Sans Pro",fontSize:16,fontWeight:600,lineHeight:"20.11px",letterSpacing:"0.2px",color:"#444"},"Detailed Route")):null,G.length?d.a.createElement(_.a,{isMobile:!1,data:G}):null)),d.a.createElement("div",{className:"col-md-4 hidden-xs hidden-sm right-side-panel"},d.a.createElement(p.a,{enabled:!O,top:124},W))))}a(2077),a(1603),a(191),a(2078);var z=a(1595),U=(a(1605),a(18)),K=a(42),W=(a(1792),a(55));function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var Y=O.a.api_url,q=function(e){Object(o.a)(a,e);var t=G(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={itinerary:e.props.itinerary,isLoading:!0,activeTrainDetails:{},updated:!1,isAlternateSelected:!1,alternateSheats:[],sheatStatus:"IDLE",selectedFare:null,showPriceAlert:!1},e.getCurrentDetails=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.itineraryInfo,i=t.match,r=i.params.configKey,o=n.trainCostings,l=n.itinerary;if(o&&(!Object.keys(e.state.activeTrainDetails).length||a)){var c,s=!1;c=Object(f.a)(r);var u=e.state.showPriceAlert,m=o.costingById[c];if(u){var p=m.diff,h=void 0===p?{diffChangeType:"NONE"}:p;"NONE"!==h.diffChangeType&&Object(y.a)(e.props,"Hey, please note that the latest price for this train has been updated and it has ".concat("PRICEINCREASE"===h.diffChangeType?"increased":"decreased"," by ").concat(d.a.createElement(W.a,{objectData:h,path:"diffCost",defaultValue:"0"}),"}"),!1,{confirmButtonText:"Okay, Got it",title:"Price change alert"})}m||e.closeModal(),"RAILS"!==m.sourceProvider||m.fareRules||"SOLD_OUT"===m.status||!l||l.booking?u=!1:(s=!0,u=!0,e.props.getFareTrain(e.props.match.params).catch((function(){Object(y.a)(e.props)})));var v=m.category,g=void 0===v?"Default Category":v,b=m.fareName,E=void 0===b?"Default Fare-Name":b;e.setState({isLoading:s,showPriceAlert:u,activeTrainDetails:m,updated:!0,alternateSheats:[{category:g,fareName:E}],selectedFare:{category:g,fareName:E}})}},e.handleChangeBtnClick=function(t){t.preventDefault();var a=e.props,n=a.history,i=a.match,r=a.itineraryInfo.itinerary,o=r.itineraryId,l=r.regionCode,c=i.params.configKey;n.push(Object(T.Jb)({itineraryId:o,regionCode:l,parentPage:T.Lb.inclusion,target:T.Ab,customParams:{configKey:c}}))},e.closeModal=function(){setTimeout((function(){Object(z.h)(e.props)}),400)},e.alternateSheatAction=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&t.preventDefault();var i=e.state,r=i.isAlternateSelected,o=i.alternateSheats;e.setState({isAlternateSelected:!r,sheatStatus:r||1!==o.length?"IDLE":"LOADING"},(function(){if(1===o.length&&a){var t=e.props.match.params,i=t.configKey,r=t.itineraryId,l="".concat(Y,"train/alternateFares/").concat(r,"/").concat(encodeURIComponent(Object(f.a)(i)));Object(N.a)({url:l,method:"GET",body:{},onSuccess:function(t){var a=t.data;a&&a.length||Object(y.a)(e.props,"No other fares are available..."),a=Object(E.a)(a,["internetCost"],!1),e.setState({alternateSheats:[e.state.selectedFare].concat(Object(n.a)(a)),sheatStatus:"IDLE"})},onFailure:function(){Object(y.a)(e.props)}})}else e.scrollIntoView()}))},e.scrollIntoView=function(){document.getElementById("parent-container").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},e.performAlternateSelection=function(t){var a=e.props.match.params,n=a.configKey,i=a.itineraryId;e.props.updateTrain({itineraryId:i,configKey:Object(f.a)(n),identifier:t.trainCostingId,fareOfferId:t.fareOfferId}).then((function(){e.scrollIntoView(),e.alternateSheatAction(null,!1)})).catch((function(){Object(y.a)(e.props,"Sorry about this. There seems to be an issue with this fare option.",!1)}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.match,n=e.getItinerary,i=e.itinerary,r=void 0===i?{}:i;if(Object(h.a)(r)){var o=a.params.itineraryId;o&&n(o,t.search).then((function(){})).catch((function(){}))}this.getCurrentDetails(this.props),Object(b.a)()}},{key:"componentDidUpdate",value:function(){this.state.updated||this.getCurrentDetails(this.props,!0)}},{key:"componentWillUnmount",value:function(){Object(g.a)()}},{key:"render",value:function(){var e=this.state.activeTrainDetails,t=e.fromCity,a=e.toCity,n=e.departureTime,i=e.arrivalTime,r=e.pickup,o=e.drop,l=e.duration,c=e.stops,s=e.mon,u=e.day,m=e.dayOfWeek,f=e.refundable,h=e.ticketType,g=e.sourceProvider,b=e.trainNumber,E=void 0===b?null:b,C=e.status,x=e.stopNames,O=e.segments,N=e.key,w=e.text,k=e.railEuropeSegments,S=this.state,A=S.isAlternateSelected,j=S.alternateSheats,T=S.sheatStatus,R=S.isLoading,D=this.props.userDetails,F=D&&D.loggedIn&&"ADMIN"===D.userType,P=Object(v.a)(),M=Object(U.a)(this.props.itineraryAlerts,N)||[];h&&"e-ticket"===h.trim().toLowerCase()&&M.push({type:"POSITIVE",message:" Electronic ticket: PDF ticket can be printed and used while boarding."});var _=this.props.itinerary,L=!Object(K.a)(_)&&(_.booking||_.frozen),B={departureDate:u+" "+s,arrivalDate:u+" "+s,departureTime:n,arrivalTime:i,departureCity:t,duration:l,text:w,day:u,mon:s,railEuropeSegments:k,arrivalCity:a,departureStationName:r,arrivalStationName:o,travelTime:l,refundable:f,stops:c,imageUrl:"https://pyt-images.imgix.net/images/misc/transfers-train.jpg",isMobile:P,dayOfWeek:m,handleChangeBtnClick:this.handleChangeBtnClick,icons:[{className:"pyt-clock-16",text:l+" duration"}],isRail:"RAILS"===g,alternateSheatAction:this.alternateSheatAction,performAlternateSelection:this.performAlternateSelection,isAlternateSelected:A,sheatStatus:T,alternateSheats:j,activeTrainDetails:this.state.activeTrainDetails,isAdmin:F,stopNames:x,trainNumber:E,segments:O,isLoading:R,isNonEditable:L,alerts:Object(z.b)(M,!0),booking:_.booking};return B.isRail||B.icons.push({className:f?"pyt-refundable-16 color-primary-dark":"pyt-non-refundable-16 color-accent-7",text:f?"Refundable":"Non Refundable"}),h&&B.icons.push({className:"pyt-ticket-16",text:h}),B.icons.push({isNonEditable:L,alerts:Object(z.b)(M,!0)}),"SOLD_OUT"===C&&Object(y.a)(this.props,"Choosen train is sold out. Please choose some other..."),d.a.createElement("div",{className:"train-details ".concat(P?"altermodal-xs-view xs-slide-up hotels-alternate":"")},d.a.createElement(p.a,null,d.a.createElement(I.a,{rootClassName:"subheader-modals ".concat(P?"":"mbottom-medium"),onClickBackAction:this.closeModal,onClickCloseAction:this.closeModal,spanContent:"ITINERARY / TRAIN",headerContent:"Train to ".concat(a),isMobile:P})),d.a.createElement(V,B))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.itinerary!==t.itinerary?{itinerary:e.itinerary,updated:!1}:t}}]),a}(s.Component);t.default=Object(u.c)((function(e){var t=e.app,a=void 0===t?{}:t,n=e.alerts,i=void 0===n?{}:n,r=a.itineraryInfo,o=void 0===r?{}:r,l=a.user_details,c=o.itinerary;return{itineraryInfo:o,itinerary:void 0===c?{}:c,userDetails:l,itineraryAlerts:Object(U.a)(i,"itinerary_alerts.alertMessages.TRAIN.alerts")}}),(function(e){return{updateTrain:Object(m.b)(x.a,e),getItinerary:Object(m.b)(C.a,e),getFareTrain:Object(m.b)(j,e)}}),null)(q)},1546:function(e,t,a){"use strict";a.r(t);var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(2),u=a(1),m=a(33),p=a(589),f=a.n(p),h=a(6),v=a(5),g=a(15),b=a(20);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var E=Object(b.a)(),C=d.default.div.withConfig({displayName:"ImageSlider__DetailsSliderCard"})(["&.details-slider-card{margin:48px auto 0;width:100%;"," .slick-prev,.slick-next{padding:10px;width:44px;height:44px;"," ","{padding:20px;width:64px;height:64px;}&:before{font-size:24px;","}}.slider-single{","{padding:0 16px !important;}figure{"," ","{","}}}","{width:70%;}.slider-nav .slick-track .slick-slide{text-align:center;}.slider-nav .slick-slide div{outline:0 none;}.slider-nav{","}}"],(function(e){return e.galleryTabSelectionView&&Object(d.css)(["height:100%;display:flex;flex-direction:column;justify-content:space-between;margin:0 auto !important;"])}),(function(e){return e.galleryTabSelectionView&&Object(d.css)(["width:24px;height:24px;padding:0;"])}),h.md,(function(e){return e.galleryTabSelectionView&&Object(d.css)(["font-size:14px;font-weight:700;"])}),h.md,(function(e){return e.galleryTabSelectionView&&Object(d.css)(["height:207px !important;"])}),h.md,(function(e){return e.galleryTabSelectionView&&Object(d.css)(["height:280px !important;"])}),h.md,(function(e){return e.galleryTabSelectionView&&Object(d.css)(["border-top:1px solid rgba(255,255,255,0.1);padding-top:24px;height:172px;"])})),x=d.default.p.withConfig({displayName:"ImageSlider__SubTitle"})(["font-size:14px;line-height:18px;margin:16px 16px 12px;"]),O=d.default.div.withConfig({displayName:"ImageSlider__PillWrapper"})(["overflow-x:scroll;margin:16px 0 12px 16px;height:32px;white-space:nowrap;::-webkit-scrollbar{width:0px;height:0px;background:transparent;}"]),N=d.default.button.withConfig({displayName:"ImageSlider__ButtonPill"})(["border:1px solid ",";box-sizing:border-box;border-radius:4px;background:transparent;font-size:15px;line-height:24px;letter-spacing:-0.02em;margin-right:8px;height:32px;min-width:84px;display:inline-flex;align-items:center;justify-content:center;outline:none;span{background:#ffd970;border-radius:60px;padding:0 12px;color:#000000;font-weight:",";font-size:11px;line-height:14px;height:16px;margin-left:4px;display:inline-flex;align-items:center;}",""],v.theme.white,v.theme.semiBold,(function(e){return e.highlight&&Object(d.css)(["color:#2d2e44;background:",";"],v.theme.white)})),w=d.default.span.withConfig({displayName:"ImageSlider__ChangeLink"})(["font-weight:bold;font-size:13px;line-height:16px;color:#00c684;letter-spacing:-0.02em;position:relative;display:inline-block;&:before{content:'\\e982';position:absolute;left:100%;font-family:'pyticon';display:block;transform:rotateZ(-90deg);}"]),k=function(e){Object(r.a)(a,e);var t=y(a);function a(e){var i;Object(n.a)(this,a),(i=t.call(this,e)).setCurrrentTabIndex=function(e){var t=i.props.images;i.slider1.slickGoTo(0),i.slider2.slickGoTo(0),i.setState({images:Object(m.a)(t[e].images),currentTabIndex:e,currentIndex:1})};var r=e.galleryTabSelectionView,o=e.images,l=e.currentTab;return i.state={currentIndex:1,nav1:null,nav2:null,images:(r?Object(m.a)(o[l||0].images):o)||[],imagesTab:r?o:[],currentTabIndex:r?l:0},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({nav1:this.slider1,nav2:this.slider2})}},{key:"componentDidUpdate",value:function(){"function"===typeof this.props.onImageChange&&this.props.onImageChange(this.state.currentIndex)}},{key:"render",value:function(){var e=this,t=this.props,a=t.prefixContent,n=t.suffixContent,i=t.enableContent,r=t.contentClassName,o=t.singleSliderClassName,l=t.navSliderClassName,c=t.singleSiderSettings,d=t.navSliderSettings,p=t.galleryTabSelectionView,h=t.history,v=this.state,b=v.images,y=v.imagesTab,k=v.currentTabIndex;c.afterChange=function(t){e.setState({currentIndex:t+1})},d.afterChange=function(t){e.setState({currentIndex:t+1}),e.slider1.slickGoTo(t)},E&&(d.slidesToShow=3,d.centerPadding="20px"),p&&b.length<=2&&(d.slidesToShow=2);var S=(y.filter((function(e){return e.currentRoom}))[0]||{}).changePath,A=void 0===S?"":S;return s.a.createElement(C,{className:"details-slider-card",galleryTabSelectionView:p},s.a.createElement("div",null,p?s.a.createElement(s.a.Fragment,null,s.a.createElement(x,null,"Current room selection-"," ",s.a.createElement("b",null,(y.filter((function(e){return e.currentRoom}))[0]||{}).name)," ",A?s.a.createElement(w,{onClick:function(){h.push(A)}},"CHANGE"):null),s.a.createElement(O,null,y.map((function(t,a){return s.a.createElement(N,{highlight:a===k,onClick:function(){if(Object.keys(t.eventDetails||{}).length){var n=t.eventDetails,i=void 0===n?{}:n,r=t.name;Object(g.Ld)(i.name,Object(u.a)(Object(u.a)({},i.attributes),{},{category:r}))}e.setCurrrentTabIndex(a)},key:"".concat(t.name,"-").concat(a)},t.name," ",t.currentRoom?s.a.createElement("span",null,"Current"):"")})))," "):null),s.a.createElement("div",null,s.a.createElement(f.a,Object.assign({className:o},c,{asNavFor:this.state.nav2,ref:function(t){return e.slider1=t}}),Object(m.a)(b).map((function(e,t){return s.a.createElement("div",{key:"main-".concat(k,"-").concat(t)},s.a.createElement("figure",{style:{backgroundImage:"url(".concat(e,")")}}))}))),i?s.a.createElement("p",{className:r},a,"".concat(this.state.currentIndex,"/").concat(b.length),n):null),s.a.createElement(f.a,Object.assign({ref:function(t){return e.slider2=t},asNavFor:this.state.nav1,className:l},d),Object(m.a)(b).map((function(e,t){return s.a.createElement("div",{key:"nav-".concat(k,"-").concat(t),className:"item"},s.a.createElement("img",{src:e,alt:""}))}))))}}]),a}(c.Component);k.defaultProps={rootClassName:"details-slider-card",contentClassName:"color-white text-center vmargin-small",enableContent:!0,singleSliderClassName:"slider slider-single",navSliderClassName:"slider slider-nav",singleSiderSettings:{slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,dots:!1,infinite:!1},navSliderSettings:{slidesToShow:4,slidesToScroll:1,dots:!1,arrows:!1,centerMode:!0,swipeToSlide:!0,focusOnSelect:!0,centerPadding:"10px"},images:[]};var S=a(62),A=a(7),j=a(191),I=(a(1605),a(41)),T=a(216);function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}a.d(t,"default",(function(){return M}));var D=d.default.div.withConfig({displayName:"hotel_image_panel__ModalBody"})(["width:100vw;min-height:100vh;","{padding:16px 24px;}"],h.md),F=d.default.div.withConfig({displayName:"hotel_image_panel__Container"})(["width:100vw;margin:auto;"," ","{width:65%;}.subheader-modals{"," ","{padding:12px;}}"],(function(e){return e.height&&Object(d.css)(["height:",";"],e.height)}),h.md,(function(e){return e.galleryTabSelectionView&&Object(d.css)(["border-bottom:1px solid rgba(255,255,255,0.1);"])}),h.sm),P=d.default.b.withConfig({displayName:"hotel_image_panel__Title"})(["font-size:17px;line-height:24px;color:",";"],v.theme.white),M=function(e){Object(r.a)(a,e);var t=R(a);function a(e){var i;Object(n.a)(this,a),(i=t.call(this,e)).onImageChange=function(e){i._viewedImagesCount=e},i.onClickAction=function(e){e&&e.preventDefault();var t=i.props,a=t.history,n=t.location,r=t.match,o=i.state.closePath,l="";if(r.path===I.a.DEALS_IMAGE_GALLERY_ROUTE)l=r.url.replace("/".concat(I.a.DEALS_IMAGE_GALLERY),"");else if(r.params.searchRegion&&r.params.itineraryId||o)l=o||Object(A.Jb)({itineraryId:r.params.itineraryId,regionCode:r.params.searchRegion,location:n,target:Object(S.a)(r.url,["alternate-hotels"])?A.U:Object(S.a)(r.url,["hotel-details"])?A.W:null,customParams:{configKey:r.params.configKey,hotelCode:r.params.hotelCode}}),Object(g.Ld)(g.H,{type:Object(S.a)(r.url,["alternate-hotels"])?"Hotel Alternate Details":"Hotel Details",hotel_name:i.state.hotelName,hotel_id:r.params.configKey,hotel_code:r.params.hotelCode,total_images:i.state.images.length,no_of_images_viewed:i._viewedImagesCount||1});else{var c=Object(T.a)(a.location.pathname);l="/".concat(c)}a.push(l)};var r=e.location&&e.location.state||{},o=r.images,l=void 0===o?[]:o,c=r.hotelName,s=void 0===c?"":c,d=r.closePath,u=void 0===d?null:d,m=r.galleryTabSelectionView,p=void 0!==m&&m,f=r.headerTitle,h=void 0===f?"ITINERARY / HOTEL":f,v=r.currentTab,b=void 0===v?0:v;return i.state={images:l,hotelName:s,closePath:u,headerTitle:h,galleryTabSelectionView:p,currentTab:b},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.state.images.length?this.props.history.replace({pathname:this.props.history.location.pathname,state:{}}):this.onClickAction()}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.hotelName,n=e.headerTitle,i=e.galleryTabSelectionView,r=e.currentTab,o=i?P:"span";return s.a.createElement("div",{className:"modal fade in modal-sticky-header details-slider width-auto"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content with-header bg-base color-white"},s.a.createElement("div",{className:"modal-header"},s.a.createElement(F,{galleryTabSelectionView:i},s.a.createElement("section",{className:"subheader-modals"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-10 left-txt"},s.a.createElement("p",null,s.a.createElement(o,null,n),a)),s.a.createElement("div",{className:"col-xs-2 text-right"},s.a.createElement(j.a,{buttonClass:"action-btn",onClickAction:this.onClickAction},s.a.createElement("i",{className:"pyt-close-16"}))))))),s.a.createElement(D,null,s.a.createElement(F,{height:i?"80vh":""},s.a.createElement(k,{images:t,onImageChange:this.onImageChange,galleryTabSelectionView:i,currentTab:r,history:this.props.history}))))))}}]),a}(c.Component)},1548:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(33),r=a(38),o=a(39),l=a(46),c=a(56),s=a(29),d=a(0),u=a.n(d),m=a(30),p=a(54),f=a(290),h=a(1662),v=a(1678),g=a(2065),b=a(591),y=a(42),E=a(1812),C=a(1613),x=a(20),O=a(1621),N=a(1596),w=a(1656),k=a(14),S=a(607),A=a(191),j=a(1603);function I(e){var t=e.carImage,a=e.rentalcarName,n=e.rentalcarIcons,i=void 0===n?[]:n,r=e.rentalcarTxt,o=e.rentalCarVehiclesTxt,l=e.rentalcarCost,c=e.onReplaceAction,s=e.isPriceIncreased,d=e.disablePriceIcon,m=e.isMobile,p=void 0!==m&&m,f={backgroundImage:"url(".concat(t,")")};return u.a.createElement("div",{className:"rentalcar-card",onClick:p?function(e){e&&e.preventDefault(),c()}:null},u.a.createElement("figure",{style:f}),u.a.createElement("div",{className:"detail-txt vmargin-medium mb-0"},u.a.createElement("p",{className:"txt semi-bold"},a,p&&l?u.a.createElement(S.a,{parentTag:"span",rootClassName:"varied-price",withoutIcon:d,iconClassName:"".concat(s?"pyt-arrow-top-16 color-secondary fade":"pyt-arrow-down-16 color-primary fade"),value:l}):null),u.a.createElement(j.a,{rootClassName:"color-grey-secondary fine-text list-unstyled mb-0",icons:i}),u.a.createElement("p",null,r),u.a.createElement("p",null,o),p?null:u.a.createElement("div",{className:"price-txt vertical-center"},l?u.a.createElement(S.a,{parentTag:"span",rootClassName:"varied-price",withoutIcon:d,iconClassName:"".concat(s?"pyt-arrow-top-16 color-secondary fade":"pyt-arrow-down-16 color-primary fade"),value:l}):null,u.a.createElement(A.a,{buttonClass:"btn btn-primary btn-sm",buttonText:"Replace",onClickAction:c}))))}I.defaultProps={amenitiesIcons:[],rentalcarCost:0,isMobile:!1,disablePriceIcon:!1};var T=a(1661),R=a(7),D=(a(1605),a(1640)),F=a(1674),P=a(15),M=a(22),_=a(2),L=a(5),B=a(55);function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var V=k.a.api_url,z=_.default.p.withConfig({displayName:"alternate_rental_cars_modal__NoAvailableOptionText"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;color:",";font-size:16px;line-height:1.125;letter-spacing:-0.26px;"],L.theme.greySecondary),U=function(e){if(!isNaN(e))return e;var t=e.toLowerCase();return t[0].toUpperCase()+t.slice(1)},K=function(e){Object(l.a)(a,e);var t=H(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).getCurrentDetails=function(e){if(e.itineraryInfo&&Object.keys(e.itineraryInfo).length&&e.itineraryInfo.rentalCarCostings&&!Object.keys(o.state.activeRCDetails).length){var t=o.props.match.params.configKey;t=Object(C.a)(t);var a=e.itineraryInfo.rentalCarCostings.costingById[t];a||o.closeModal(),o.setState({activeRCDetails:a,insuranceType:a.insuranceType,insuranceCost:a.insuranceCost,updated:!0},(function(){o.getRentalCarOptions(e.itineraryInfo.itinerary.itineraryId,t)}))}},o.closeModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o.props,a=t.history,n=t.location,i=t.itineraryInfo,r=void 0===i?{itinerary:{}}:i;setTimeout((function(){e?a.replace(Object(R.Jb)({itineraryId:r.itinerary.itineraryId,location:n,regionCode:r.itinerary.regionCode})):a.push(Object(R.Jb)({itineraryId:r.itinerary.itineraryId,location:n,regionCode:r.itinerary.regionCode}))}),400)},o.getRentalCarOptions=function(e,t){var a="".concat(V,"itinerary/").concat(e,"/alternateCarOptions");Object(M.a)({url:a,method:"POST",body:{configKey:t},onSuccess:function(e){var t=e.data,a=t.map((function(e){return"string"===typeof e.publishedCost?Number(e.publishedCost||""):e.publishedCost})),n=a.length?Math.min.apply(Math,Object(i.a)(a)):void 0,r=a.length?Math.max.apply(Math,Object(i.a)(a)):void 0;o.setState({rentalCarOptions:t,showContentPlaceHolders:!1,carCostFilter:{minPrice:n,maxPrice:r},minPrice:n,maxPrice:r})},onFailure:function(){swal("Something went wrong. Please try again.")}})},o.hideRCFilters=function(){o.setState({enableFilterOnMobile:!1})},o.showRCFilters=function(){o.setState({enableFilterOnMobile:!0})},o.changeRentalCar=function(e){o.props.actions.changeRentalCar({identifier:e,configKey:o.state.activeRCDetails.configKey,itineraryId:o.props.itineraryInfo.itinerary.itineraryId}).then((function(){o.closeModal(!0)})).catch((function(){o.closeModal(!0)}))},o.updateFilter=function(e,t){var a=Object(n.a)({},o.state),i=a[e+"Filter"];switch("carCost"!==e?t in i?delete i[t]:i[t]=!0:e&&(i.minPrice=t[0],i.maxPrice=t[1]),e){case"carType":Object(P.Ld)(P.Gc,{car_types:Object.keys(i).sort()});break;case"carCost":Object(P.Ld)(P.Gc,{car_cost_min:i.minPrice,car_cost_max:i.maxPrice});break;case"gearType":Object(P.Ld)(P.Gc,{transmission_types:Object.keys(i).sort()});break;case"maxSeats":Object(P.Ld)(P.Gc,{max_seats:Object.keys(i).sort()});break;case"provider":Object(P.Ld)(P.Gc,{provider:Object.keys(i).sort()})}o.setState(a)},o.filterRentalCarOptions=function(){var e=o.state.rentalCarOptions||[],t=o.state,a=t.carCostFilter,n=t.carTypeFilter,i=t.gearTypeFilter,r=t.maxSeatsFilter,l=t.providerFilter;return 0===e.length?[]:e.filter((function(e){var t="string"===typeof e.publishedCost?Number((e.publishedCost||"").replace(",","")):e.publishedCost;return(Object(y.a)(n)||e.carType.toLowerCase()in n)&&(Object(y.a)(i)||e.gearType.toLowerCase()in i)&&(Object(y.a)(r)||e.maxSeats.toString()in r)&&(Object(y.a)(l)||e.rentalCarProvider.toLowerCase()in l)&&(!(a.maxPrice||a.minPrice)||t<=a.maxPrice&&t>=a.minPrice)}))},o.getFilterChoices=function(){var e=o.state.rentalCarOptions,t={carTypeChoices:[],gearTypeChoices:[],maxSeatsChoices:[],providerChoices:[]};return e&&0!==e.length?(e.forEach((function(e){t.carTypeChoices.push(e.carType.toLowerCase()),t.gearTypeChoices.push(e.gearType.toLowerCase()),t.maxSeatsChoices.push(e.maxSeats),t.providerChoices.push(e.rentalCarProvider.toLowerCase())})),t.carTypeChoices=Object(E.a)(t.carTypeChoices),t.gearTypeChoices=Object(E.a)(t.gearTypeChoices),t.maxSeatsChoices=Object(E.a)(t.maxSeatsChoices),t.providerChoices=Object(E.a)(t.providerChoices),t):t},o.handleKeyUp=function(e){27===e.keyCode&&o.closeModal()},o.headerComponent=function(){var e=o.state,t=e.activeRCDetails,a=void 0===t?{}:t,n=e.itinerary,i=void 0===n?{}:n,r=a.pickupDayOfWeek,l=void 0===r?"":r,c=a.pickupDate,s=void 0===c?"":c,m=a.pickupMonth,p=void 0===m?"":m,f=a.mon,h=void 0===f?"":f;return u.a.createElement(d.Fragment,null,u.a.createElement(F.a,{rootClassName:"subheader-modals",isMobile:Object(x.a)(),onClickBackAction:function(){Object(P.Ld)(P.t,{page:"RentalCar Alternates"}),o.closeModal()},onClickCloseAction:o.closeModal,spanContent:"".concat(Object(x.a)()?"":"ITINERARY / ","DAY ").concat(a.day,", ").concat(i.regionName),headerContent:"Change rental car",enableSearch:!1}),Object(x.a)()?null:u.a.createElement("section",{className:"subheader-modals-info bold mbottom-medium"},u.a.createElement("div",{className:"container sm-full-width lg-container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-7 col-sm-6 col-md-6 truncate"},"Now changing:",u.a.createElement("a",null," ".concat(l,", ").concat(p," ").concat(s," ").concat(h?"(DAY ".concat(h,")"):""," - ").concat(i.regionName)))))))},o.state={showContentPlaceHolders:!0,carCostFilter:{minPrice:null,maxPrice:null},maxSeatsFilter:{},carTypeFilter:{},gearTypeFilter:{},providerFilter:{},activeRCDetails:{},enableFilterOnMobile:!1,updated:!1,itinerary:{}},o.typeReference=u.a.createRef(),o.suiteReference=u.a.createRef(),o.transmissionReference=u.a.createRef(),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.location,n=t.match,i=t.actions,r=t.itineraryInfo,o=void 0===r?{}:r;if(window.scrollTo(0,0),Object(N.a)(o)){var l=n.params.itineraryId;l&&i.getItinerary(l,a.search).then((function(){e.getCurrentDetails(e.props)})).catch((function(){}))}else this.getCurrentDetails(this.props);document.addEventListener("keyup",this.handleKeyUp),Object(O.a)()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp),Object(w.a)()}},{key:"componentDidUpdate",value:function(){this.state.updated||this.getCurrentDetails(this.props)}},{key:"render",value:function(){var e=this.filterRentalCarOptions(),t=Object.assign({},{carType:this.state.carTypeFilter},{gearType:this.state.gearTypeFilter},{maxSeats:this.state.maxSeatsFilter},{carCost:this.state.carCostFilter},{provider:this.state.providerFilter}),a=this.getFilterChoices(),n=this.state,i=n.enableFilterOnMobile,r=n.showContentPlaceHolders,o=this.props,l=o.itineraryInfo,c=void 0===l?{}:l,s=o.user_details,d=s&&s.loggedIn&&"ADMIN"===s.userType,m=(c.itinerary?c.itinerary:{}).splitPricing;return Object(x.a)()?u.a.createElement("div",{className:"hidden-md hidden-lg altermodal-xs-view xs-slide-up rentalcar-modal"},this.headerComponent(),i?u.a.createElement("div",{className:"altermodal-xs-content"},u.a.createElement(W,{filterChoices:a,updateFilter:this.updateFilter,filters:t,minPrice:this.state.minPrice,splitPricing:m,isAdmin:d,typeReference:this.typeReference,suiteReference:this.suiteReference,transmissionReference:this.transmissionReference,maxPrice:this.state.maxPrice})):u.a.createElement("div",{className:"altermodal-xs-content"},r?u.a.createElement("div",{className:"col-md-3"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-9"},u.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium mtop-small"},"Loading..."),u.a.createElement("div",{className:"hotels-alternate-xs"},u.a.createElement(h.b,{loaderState:!1,isMobileDevice:Object(x.a)(),title:" Rental Rental car"}))))):(e||[]).length?u.a.createElement(Y,{splitPricing:m,filteredRentalCarOptions:e,changeRentalCar:this.changeRentalCar}):u.a.createElement(z,null,"Sorry, no alternate rental car options available.")),u.a.createElement("div",{className:"altermodal-xs-ftr popular-search-ftr"},i?u.a.createElement(A.a,{buttonClass:"btn btn-primary btn-block",onClickAction:this.hideRCFilters,class:""},"Apply"):u.a.createElement("div",{className:"space-around-btns"},u.a.createElement(A.a,{buttonClass:"btn btn-link-grey",onClickAction:this.showRCFilters},u.a.createElement("i",{className:"pyt-filter-24"})," FILTER")))):u.a.createElement("div",{className:"hidden-sm hidden-xs rentalcar-modal"},u.a.createElement(f.a,null,this.headerComponent()),u.a.createElement("div",{className:"container lg-container xs-full-width"},u.a.createElement("div",{className:"row"},u.a.createElement(W,{filterChoices:a,updateFilter:this.updateFilter,filters:t,splitPricing:m,isAdmin:d,minPrice:this.state.minPrice,maxPrice:this.state.maxPrice}),r?u.a.createElement("div",{className:"col-md-9"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"activity-alternate"},u.a.createElement(h.b,{loaderState:!1,isMobileDevice:Object(x.a)(),title:"Change Rental car"})))):u.a.createElement("div",{className:"col-md-9"},u.a.createElement("p",{className:"color-grey-secondary small-heading"},e.length>0?e.length+" Option".concat(1===e.length?"":"s"," found"):"Sorry, no alternate rental car options available."),u.a.createElement("div",{className:"row row-eq-hgt rentalcar-card-outer"},u.a.createElement(Y,{splitPricing:m,filteredRentalCarOptions:e,changeRentalCar:this.changeRentalCar}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.itineraryInfo,n=void 0===a?{}:a;return n.itinerary!==t.itinerary?{itinerary:n.itinerary,updated:!1}:t}}]),a}(u.a.Component),W=function(e){var t=e.filterChoices,a=e.updateFilter,n=e.filters,i=void 0===n?{}:n,r=e.minPrice,o=e.maxPrice,l=e.splitPricing,c=void 0!==l&&l,s=e.isAdmin,d=void 0!==s&&s,m=e.typeReference,p=e.suiteReference,h=e.transmissionReference,v=t.carTypeChoices,g=t.maxSeatsChoices,b=t.gearTypeChoices,y=t.providerChoices,E=[{header:"Type",content:v&&u.a.createElement(D.a,{ref:m,onClickAction:function(e,t){return a("carType",t)},orientation:"Vertical",componentValues:v.map((function(e){return{value:e,text:U(e),checked:i.carType&&i.carType[e]}}))})},{header:"Suited for",content:g&&u.a.createElement(D.a,{ref:p,onClickAction:function(e,t){return a("maxSeats",t)},orientation:"Vertical",componentValues:g.map((function(e){return{value:e,text:U(e),checked:i.maxSeats&&i.maxSeats[e]}}))})},{header:"Transmission",content:b&&u.a.createElement(D.a,{ref:h,orientation:"Vertical",onClickAction:function(e,t){return a("gearType",t)},componentValues:b.map((function(e){return{value:e,text:U(e),checked:i.gearType&&i.gearType[e]}}))})}];return d&&E.push({header:"Providers",content:y&&u.a.createElement(D.a,{orientation:"Vertical",onClickAction:function(e,t){return a("provider",t)},componentValues:y.map((function(e){var t=U(e.replace(/_/g," "));return{value:e,text:t,checked:i.provider&&i.provider[e]}}))})}),(c||d)&&E.push({header:"Price",content:u.a.createElement(G,{minPrice:r,maxPrice:o,selectedMinPrice:i.carCost.minPrice,selectedMaxPrice:i.carCost.maxPrice,updateFilter:a})}),u.a.createElement("aside",{className:"altermodal-filters".concat(Object(x.a)()?"":" col-md-3 hidden-xs hidden-sm")},u.a.createElement("div",{className:"panel-group",id:"accordion"},u.a.createElement(f.a,{enable:!Object(x.a)(),top:125},u.a.createElement(T.a,{components:E,expandAll:Object(x.a)()}))))},G=function(e){return e.minPrice||e.maxPrice?u.a.createElement("div",{className:"filter-grp"},u.a.createElement("h6",{className:"fade"},"Price / Day"),u.a.createElement(v.a,{min:e.minPrice,max:e.maxPrice,defaultValue:[e.minPrice||0,e.maxPrice||100],range:!0,allowCross:!1,name:"price",onChange:function(t){return e.updateFilter("carCost",t)}}),u.a.createElement("div",null,u.a.createElement("span",{className:"slider-price"},u.a.createElement(B.a,{objectData:{value:e.selectedMinPrice},path:"value",defaultValue:"0"})),u.a.createElement("span",{className:"pull-right slider-price"},u.a.createElement(B.a,{objectData:{value:e.selectedMaxPrice},path:"value",defaultValue:"0"})))):u.a.createElement("div",null,"\xa0")},Y=function(e){var t=e.filteredRentalCarOptions,a=e.changeRentalCar;return t.map((function(e){var t=e.publishedCost,n=e.publishedCost,i=e.diff,r=!1;return n?(t=n,r=!0):i&&(t=i.diffCost,r=!1),u.a.createElement("div",{className:"col-md-4 mtop-medium",key:e.identifier},u.a.createElement(I,{carImage:e.image,rentalcarName:e.carTitle,rentalcarIcons:[{className:"pyt-luggage-16",text:e.gearType}],rentalcarTxt:"".concat(e.carType,", suited for ").concat(e.maxSeats," people"),rentalCarVehiclesTxt:e.passengerCount+" passengers in "+e.vehicleCount+(e.vehicleCount>1?" vehicles":" vehicle"),rentalcarCost:t,isMobile:Object(x.a)(),onReplaceAction:function(){return a(e.identifier)},isPriceIncreased:!r&&i&&"PRICEINCREASE"===i.diffChangeType,disablePriceIcon:r}))}))};t.default=Object(m.c)((function(e){var t=e.app,a=void 0===t?{}:t;return{itineraryInfo:a.itineraryInfo,user_details:a.user_details}}),(function(e){return{actions:{getItinerary:Object(p.b)(b.a,e),changeRentalCar:Object(p.b)(g.a,e)}}}))(K)},1592:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=e.permissions,a=e.key;return null===t||void 0===t?void 0:t.includes(a)}},1593:function(e,t,a){"use strict";a.d(t,"y",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"z",(function(){return r})),a.d(t,"G",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"r",(function(){return c})),a.d(t,"s",(function(){return s})),a.d(t,"d",(function(){return d})),a.d(t,"w",(function(){return u})),a.d(t,"j",(function(){return m})),a.d(t,"k",(function(){return p})),a.d(t,"q",(function(){return f})),a.d(t,"l",(function(){return h})),a.d(t,"L",(function(){return v})),a.d(t,"F",(function(){return g})),a.d(t,"v",(function(){return b})),a.d(t,"a",(function(){return y})),a.d(t,"t",(function(){return E})),a.d(t,"u",(function(){return C})),a.d(t,"x",(function(){return x})),a.d(t,"h",(function(){return O})),a.d(t,"I",(function(){return N})),a.d(t,"H",(function(){return w})),a.d(t,"J",(function(){return k})),a.d(t,"i",(function(){return S})),a.d(t,"D",(function(){return A})),a.d(t,"g",(function(){return j})),a.d(t,"B",(function(){return I})),a.d(t,"C",(function(){return T})),a.d(t,"m",(function(){return R})),a.d(t,"K",(function(){return D})),a.d(t,"A",(function(){return F})),a.d(t,"E",(function(){return P})),a.d(t,"b",(function(){return M})),a.d(t,"p",(function(){return _})),a.d(t,"o",(function(){return L})),a.d(t,"f",(function(){return B})),a.d(t,"n",(function(){return H}));var n="sendToPlato",i="applyOverallDiscount",r="share",o="splitPricing",l="changeBookingStatus",c="removeAllActivities",s="removeAllTransfers",d="blockFlight",u="removeTrain",m="emailQuote",p="emailQuoteForUser",f="rateMatch",h="enableNetBankingOnly",v="viewSplitPrice",g="shuffleCost",b="removeHotel",y="addBlockCard",E="removeBlockCard",C="removeFlight",x="removeTransfer",O="customPaymentSchedule",N="updateItineraryLocale",w="swapItinerary",k="updatePass",S="customInstalmentDeadline",A="showCuratorManagers",j="chooseHotelProvider",I="showAllActivities",T="cancellationTimeLine",R="enableSplitFlight",D="viewAllocation",F="showActivityTiming",P="showDealSizeHistory",M="allowBookingForPartialPayment",_="lineItemBookingNotes",L="itineraryBookingQuestions",B="choosePytRecommended",H="iPinLogin"},1594:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(590);function i(e,t){e(Object(n.a)({show_notification:!0,message:t,show_undo:!1}))}},1595:function(e,t,a){"use strict";a.d(t,"e",(function(){return N})),a.d(t,"k",(function(){return w})),a.d(t,"i",(function(){return k})),a.d(t,"c",(function(){return S})),a.d(t,"h",(function(){return A})),a.d(t,"a",(function(){return j})),a.d(t,"j",(function(){return I})),a.d(t,"b",(function(){return T})),a.d(t,"d",(function(){return R})),a.d(t,"f",(function(){return D})),a.d(t,"g",(function(){return F}));var n=a(1635),i=(a(350),a(49)),r=a.n(i),o=a(1608),l=a(1597),c=a(598),s=a(20),d=a(1606),u=a(7),m=a(14),p=a(15),f=a(590),h=a(43),v=a(22),g=a(1636),b=a(214),y=a(126),E=a(1592),C=a(1593),x=m.a.api_url,O=m.a.user_type_agent;function N(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,l=a&&a.itinerary||{},s={},d="",u="",m=Object(c.a)(a),p=a.costingConfiguration;s={title:m,unsavedChanges:"2 unsaved changes.",save:"Save this itinerary"};var f=l.costed&&!l.staleCost;if(f&&p){var h=p.departureDate;e=h&&r()(h,"DD/MMM/YYYY").format("MMM DD")}d=p&&"$$$"!==p.departureAirport?p.departureCity:null,u=Object(o.a)(n,i);var v=p&&"$$$"!==p.departureAirport&&p.departureAirport,g=p&&"$$$"!==p.departureAirport&&p.departureCityName||"",b={HeaderData:s,HeaderCostedData:[{title:m,costingConfig:t={totalAdults:u,dateMonth:e,from:v,departureCityName:g,price:l.totalCost,text:"Book Now"}}],costingConfiguration:t,departureAirport:v,departure_city:d,departure_date:e};return b}function w(e){var t,a=e.itineraryInfo,n=e.user_details,i=e.history,o=e.location,l=e.lastLocation,c=e.campaignDetail,s=e.actions,d=a&&a.itinerary.itineraryId||c&&(null===c||void 0===c||null===(t=c.seoDetails)||void 0===t?void 0:t._id),m=a.itinerary,p=m.regionCode,f=m.campaign;if(n.loggedIn){var h=a.costingConfiguration;if(r()(h.departureDate,"DD/MMM/YYYY").isSameOrBefore(r()())&&-1===i.location.pathname.indexOf(u.Db))i.push(Object(u.Jb)({itineraryId:d,regionCode:p,target:u.Db,location:o}));else{var v={itineraryId:d,costingType:"RECOST",costingConfig:h};s.getCost({itineraryId:d,regionCode:p,req_data:v,history:i,lastLocation:l,campaign:f})}}else-1===i.location.pathname.indexOf(u.Db)&&i.push(Object(u.Jb)({itineraryId:d,regionCode:p,target:u.Db,location:o}))}function k(e,t,a){e&&e.preventDefault();var n=a.history,i=a.isFromPackages,r=a.user_details,o=a.itineraryInfo,l=a.location,c=a.locale,s=i&&o.campaignItineraryId||null;if(Object(b.b)(o))n.push("".concat(l.pathname).concat(y.a.CBR_ROUTE));else{var d=o&&o.itinerary,m=d.itineraryId,p=d.regionCode,f=void 0===p?"region":p;if(o.itinerary.booking)return null;switch(t){case"Update":w(a);break;case"BookTrip":r.loggedIn||c?n.push(Object(u.Jb)({itineraryId:m,regionCode:f,target:u.k,location:l})):n.push("/login");break;default:n.push(s?n.location.pathname+"/get-cost/".concat(s):Object(u.Jb)({itineraryId:m,regionCode:f,target:"UCM"===t?u.Db:u.Q,location:l}))}}}function S(e,t,a){var n=null,i=null;if(e.itineraryInfo&&Object.keys(e.itineraryInfo).length&&e.itineraryInfo.flightCostings&&(!Object.keys(t.flight).length||a)){var r=Object(l.a)(e.match.params.configKey);n=e.itineraryInfo.flightCostings.costingById[r],i=e.itineraryInfo.flightCostings.costingById[r]}return e.flightDetailFromAlternate&&(i=e.flightDetailFromAlternate),{currentFlight:n,flight:i,isRefresh:a}}function A(e){var t=e.history,a=e.match,n=e.location;t.push(Object(u.Jb)({itineraryId:a.params.itineraryId,location:n,regionCode:a.params.searchRegion}))}function j(e){var t=e.props,a=e.emailId,n=e.callBack,i=e.isMobile,r=void 0!==i&&i,o=e.locale,l=t.user_details,c=t.history,s=t.itineraryInfo,d=a||l.email,m=s.itinerary.itineraryId,g=l.userType,b=l.loggedIn,y="".concat(x,"cost/").concat(m,"/downloadItineraryPdf"),N="".concat(x,"cost/").concat(m,"/emailquote/mail");if(r&&""!==o||(!o||""===o)&&!b)c.push(Object(u.Jb)({itineraryId:m,regionCode:s.itinerary.regionCode,location:c.location,target:Object(E.a)({permissions:null===l||void 0===l?void 0:l.permissions,key:C.k})?u.F:u.G}));else if(g===O)window.open(y,"_blank").focus();else if(Object(E.a)({permissions:null===l||void 0===l?void 0:l.permissions,key:C.k})){Object(p.Ld)(p.Cc);var w={itineraryId:m,email:d};Object(E.a)({permissions:null===l||void 0===l?void 0:l.permissions,key:C.k})||(w.cclist=l.email),Object(v.a)({url:N,method:"POST",body:w,onSuccess:function(e){n?n(e.emailSent?"Please check your inbox to see if you've received it":e.message,!0):h.b.dispatch(Object(f.a)({message:e.message,show_notification:!0,show_undo:!1}))},onFailure:function(e){n&&n(e.response&&401===e.response.status?"Looks like you are not authorized to do this action":"Unable to send email. Please try again.",!1)}})}else c.push(Object(u.Jb)({itineraryId:m,regionCode:s.itinerary.regionCode,location:c.location,target:u.G}))}function I(){localStorage.setItem("inclusion-scroll-position",window.scrollY)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.b,i=[];if(t){var r={NEUTRAL:"pyt-info-16",POSITIVE:"pyt-check-square-16 color-primary",NEGATIVE:"pyt-alert-square-16"};return e.map((function(e){if(!e.inventory||e.inventory.includes(a))return i.push({className:a===g.a?"pyt-radiobtn-checked-16 dim":r[e.type],text:e.message})})),Object(n.a)(i,"text")}return e.map((function(e){if(!e.inventory||e.inventory.includes(a))return i.push({type:"info",iconClass:"color-grey pyt-fyi-36",data:e.message})})),Object(n.a)(i,"data")}function R(e){var t=function(e){var t=e.split(":");return"".concat(t[0],":").concat(t[1])};return e.allTrips.map((function(a){if(Object(s.a)())return a.replace("_"," \u2192 ");var n=e.trips[a],i=n.routes,r=i[0],o=i[i.length-1];return"".concat(r.departureAirportCode," ").concat(t(r.departureTime)," \u2192 ").concat(n.flyTime," \u2192  ").concat(o.arrivalAirportCode," ").concat(t(o.arrivalTime))})).join(" / ")}function D(e){var t=[],a=e.maxRoomOccupancy,n=e.roomSize;return a&&t.push({className:"pyt-people-16",text:"Accommodates ".concat(a," adults")}),null!==n&&void 0!==n&&n.includes("Sq.m")||null!==n&&void 0!==n&&n.includes("Sq.ft")?t.push({className:"pyt-area-16",text:"Area ".concat(n)}):null!==n&&void 0!==n&&n.length&&t.push({className:"pyt-area-16",text:"Area ".concat(n," Sqft")}),t}function F(e){var t=[],a=Object(d.a)(e.mealType);return e.refundable?t.push({className:"pyt-refundable-16 color-primary-dark",text:"Refundable"}):t.push({className:"pyt-non-refundable-16 color-accent-7",text:" Non-Refundable"}),a?t.push({className:"pyt-included-16 color-primary-dark",text:" ".concat(a)}):t.push({className:e.freeBreakfast?"pyt-included-16 color-primary-dark":"pyt-excluded-16 color-accent-7",text:" ".concat(e.breakfastText)}),t.push({className:e.freeWireless?"pyt-included-16 color-primary-dark":"pyt-excluded-16 color-accent-7",text:" Wifi"}),t.push({className:e.acAvailable?"pyt-included-16 color-primary-dark":"pyt-excluded-16 color-accent-7",text:"Air Conditioner"}),t}},1596:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e||{}).length}a.d(t,"a",(function(){return n}))},1597:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g,"###")}a.d(t,"a",(function(){return n}))},1598:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/###/g,"-")}a.d(t,"a",(function(){return n}))},1599:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"h",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"k",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"i",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"j",(function(){return m}));var n="Change",i="Remove",r="Pick up",o="Drop off",l="NOT AVAILABLE",c="Retry",s="Add",d="Change room",u={HOTEL:"hotels",TRANSFER:"transfers",FLIGHT:"flights",RENTALCAR:"rentalcar",TRAIN:"trains",FERRY:"ferry",ACTIVITY:"activities",VISA:"visa",PASS:"passes",INSURANCE:"insurance",BUS:"bus"},m={AGODA:"AGODA",TRIP_ADVISOR:"ADVISOR"},p={HOTEL_AMENITIES:"Amenities",ROOM_SELECTED:"Room Selected",RATING:"Rating",ROOMS_LEFT:"Rooms left",ROOMS:"ROOMS",USER_REMOVED_HOTEL:"You have removed this hotel from itinerary!",HOTEL_FAILURE:"We aren't able to fetch your hotel details at the moment. Please refresh after a while."}},1600:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l}));var n=a(14),i=a(20),r=n.a.images_cdn_misc_url+"placeholders/",o={activitySmall:r+"Activity1-50x50.png",activityMedium:r+"Activity1-125x125.png",activityLarge:r+"Activity1-640x360.png",activity2Small:r+"Activity2-50x50.png",activity2Medium:r+"Activity2-125x125.png",activity2Large:r+"Activity2-640x360.png",activity3Small:r+"Activity3-50x50.png",activity3Medium:r+"Activity3-125x125.png",activity3Large:r+"Activity3-640x360.png",airLineLogo:r+"Airline-logo.png",citySmall:r+"Guides-City-395x360.png",cityLarge:r+"Guides-City-790x720.png",foodSmall:r+"Guides-Food-120x120.png",foodLarge:r+"Guides-Food-240x240.png",innerAreasSmall:r+"Guides-InnerAreas-230x140.png",innerAreasLarge:r+"Guides-InnerAreas-460x280.png",shoppingSmall:r+"Guides-Shopping-150x105.png",shoppingLarge:r+"Guides-Shopping-300x210.png",hotelSmall:r+"Hotel-50x50.png",hotelMedium:r+"Hotel-125x125.png",hotelBig:r+"Hotel-200x150.png",hotelLarge:r+"Hotel-640x360.png",roomsSmall:r+"HotelRooms-120x90.png",roomsLarge:r+"HotelRooms-240x180.png"};function l(e){var t=Object(i.a)()?"mobile":"desktop",a="https://pyt-images.imgix.net/images/costing_screen/placeholder";switch((e||"").toUpperCase()){case"ACTIVITIES":return"".concat(a,"/").concat(t,"/activities.png");case"CAR":return"".concat(a,"/").concat(t,"/car.png");case"HOTEL":return"".concat(a,"/").concat(t,"/hotels.png");case"INSURANCE":return"".concat(a,"/").concat(t,"/insurance.png");case"FLIGHT":return"".concat(a,"/").concat(t,"/plane.png");case"FERRY":return"".concat(a,"/").concat(t,"/ship.png");case"TRAIN":return"".concat(a,"/").concat(t,"/train.png");case"VISA":return"".concat(a,"/").concat(t,"/visa.png");default:return"".concat(a,"/").concat(t,"/default.png")}}},1601:function(e,t,a){"use strict";function n(e,t,a){1===arguments.length&&(t=e,e=0),t=t||0;var n=[];if(0!==(a=a||1)){if(t>0&&a>0)for(;e<t;e+=a)n.push(e);else if(t<0&&a<=0)for(;e>t;e+=a)n.push(e);else for(;e>t;e-=a)n.push(e);return n}return Array(t-e).fill(e,0,t-e)}a.d(t,"a",(function(){return n}))},1602:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/#/g,"-")}a.d(t,"a",(function(){return n}))},1603:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a.n(n);function r(e){var t=e.rootClassName,a=e.icons,r=e.suffix;return i.a.createElement("ul",{className:t},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=(e||[]).map((function(e,t){return i.a.createElement(n.Fragment,{key:t},"MoreActivity"!==e.amenityName&&"pyt-area-24"!==e.className?i.a.createElement("li",{key:t,className:e.strikeout?"strikethrough":"",style:e.inLineStyle||{}},e.progressElement,i.a.createElement("i",{className:e.className||e.iconUrl,"data-text":e.dataText||e.amenityName}),e.text?i.a.createElement("span",{className:e.textClassName}," ",e.text):null):null,"pyt-area-24"===e.className&&e.text?i.a.createElement("li",{className:e.strikeout?"strikethrough":""},i.a.createElement("i",null,i.a.createElement("span",{className:"pyt-area-24"},i.a.createElement("span",{className:"path1"}),i.a.createElement("span",{className:"path2"}),i.a.createElement("span",{className:"path3"}),i.a.createElement("span",{className:"path4"}))),e.text):null,"MoreActivity"===e.amenityName?i.a.createElement("li",{key:t,className:"fine-text"},e.iconUrl):null)}));t&&a.push(i.a.createElement("li",null,t));return i.a.createElement(n.Fragment,null,a)}(a,r))}r.defaultProps={rootClassName:""}},1604:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"i",(function(){return i})),a.d(t,"l",(function(){return r})),a.d(t,"k",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"j",(function(){return s})),a.d(t,"m",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return h}));var n="Add Night",i="Remove Night",r="Unable to decrease night",o="Unable to increase night",l="Remove City",c="Itinerary should have atleast one city",s="Unable to remove this city in this itinerary",d="View details",u="Pickyourtrail filters out flights with times inconvenient to your travel plans.\n Turn off the filter to have more flights listed.",m="Our expert's pick for a hassle-free stay during your vacation",p="Pickyourtrail has handpicked a list of activities that is value for money\nand is also best enjoyed by their customers! Click this for our special recommendations.",f="Next activity",h="Previous activity"},1605:function(e,t,a){},1606:function(e,t,a){"use strict";t.a=function(e){return e?e.includes("HB")?"Breakfast & Dinner":e.includes("FB")?"Breakfast, Lunch & Dinner":e.includes("BB")?"Bed & Breakfast":e.includes("AI")?"Breakfast, Lunch, Dinner & Unlimited Alcohol/Beverages":e:null}},1608:function(e,t,a){"use strict";function n(e,t){var a="";return e>0&&(a="".concat(e,1===e?" adult":" adults")),t>0&&(a+=", ".concat(t,1===t?" child":" children")),a}a.d(t,"a",(function(){return n}))},1611:function(e,t,a){},1613:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g,"#")}a.d(t,"a",(function(){return n}))},1616:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(595);function i(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e,r=function(e){return"string"===typeof e?+Object(n.a)(e,",",""):+e};return i.sort((function(e,n){for(var i=0,o=0,l=0;l<t.length;l++)i+=r(e[t[l]]),o+=r(n[t[l]]);return!a&&i<o||a&&i>o?-1:i===o?0:1})),i}},1617:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return d}));var n=a(0),i=a.n(n);function r(e){var t=e.rootClassName,a=void 0===t?"stop-indicator":t,n=e.content,r=e.iconClassName,o=void 0===r?"pyt-flight-16":r;return i.a.createElement("div",{className:a},i.a.createElement("span",null,n),i.a.createElement("i",{className:o}))}function o(e){var t=e.rootClassName,a=void 0===t?"pill color-accent-11 orange":t,n=e.boldContent,r=e.content;return i.a.createElement("span",{className:a},i.a.createElement("b",null,n)," ",r)}function l(e){var t=e.rootClassName,a=void 0===t?"badge-flame bg-accent-1":t,n=e.iconClassName,r=void 0===n?"pyt-fire-24 color-white":n,o=e.contentClassName,l=void 0===o?"color-accent-1 bg-accent-2":o,c=e.badgeValue;return i.a.createElement("span",{className:a},i.a.createElement("i",{className:r}),i.a.createElement("b",{className:l},c))}function c(e){var t=e.rootClassName,a=void 0===t?"pill square md bg-accent-2":t,n=e.iconClassName,r=void 0===n?"pyt-flash-on-16 color-accent-1":n,o=e.content,l=void 0===o?"Likely to sell out":o;return i.a.createElement("span",{className:a},i.a.createElement("i",{className:r}),l)}function s(e){var t=e.rootClassName,a=void 0===t?"free-activity color-grey-secondary":t,n=e.content,r=void 0===n?"EXPLORATION":n;return i.a.createElement("span",{className:a},"SELF",i.a.createElement("br",null),r)}function d(e){var t=e.rootClassName,a=void 0===t?"sold-out":t,n=e.content,r=void 0===n?"Sold Out":n;return i.a.createElement("span",{className:a},r)}},1619:function(e,t,a){"use strict";function n(e){return"string"===typeof e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():void 0}a.d(t,"a",(function(){return n}))},1621:function(e,t,a){"use strict";t.a=function(e){var t=document.getElementsByTagName("header")&&document.getElementsByTagName("header")[0];if(t||e){var a=document.getElementsByClassName("main-container")[0];!e&&t.classList.add("unpin-md"),a&&a.classList.add("hide-hdr")}}},1625:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(1601);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var m=function(e){Object(r.a)(a,e);var t=u(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.rating,a=void 0===t?0:t,n=e.fillEmpty,i=e.parentClass,r=e.insideFigure,o=e.parentElement,l=e.addStarClr,c=s.a.createElement("span",{className:"pyt-half-star-16 ".concat(l?"star-clr":"")}),u=o||"div",m=parseInt(a,10),p=a%m,f=Object(d.a)(0,m).map((function(e,t){return s.a.createElement("span",{key:"filled_star_"+t,className:"pyt-star-16 ".concat(l?"star-clr":"")})})),h=null;if(n){var v=5-Math.ceil(a);v>=1&&(h=Object(d.a)(0,v).map((function(e,t){return s.a.createElement("span",{key:"empty_star_"+t,className:"pyt-star-outline-16 ".concat(l?"star-clr":"")})})))}return r?s.a.createElement("figcaption",{className:"stars inverse text-left"},f,p>0?c:null,h):s.a.createElement(u,{className:i||""},f,p>0?c:null,h)}}]),a}(c.Component)},1628:function(e,t,a){"use strict";var n=a(43);t.a=function(e,t){var a=n.b.getState().app||{},i=a.user_details,r=void 0===i?{}:i,o=a.locale,l=(r||{}).loggedIn;return(r||{}).userType&&"ADMIN"===(r||{}).userType&&void 0!==t?t:o||l?e:""}},1630:function(e,t,a){"use strict";t.a=function(e){var t=e.count,a=e.keyword;return"".concat(a).concat(parseInt(t,10)>1?"s":"")}},1634:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return h})),a.d(t,"e",(function(){return v})),a.d(t,"a",(function(){return g})),a.d(t,"d",(function(){return b}));var n=a(0),i=a.n(n),r=a(1625),o=a(14),l=a(1601),c=a(289),s=a.n(c),d=a(23),u=a(15),m=o.a.images_cdn_icons_url,p=o.a.domain_url;function f(e){var t=e.rating;return i.a.createElement("div",{className:"rating-badge"},i.a.createElement("p",null,i.a.createElement("span",{className:"rating-per"},"4.8"),i.a.createElement(r.a,{rating:t,fillEmpty:!0,parentClass:"rating-star",parentElement:"span",insideFigure:!1}),i.a.createElement("span",{className:"rating-desc"},"Based on the opinions of 1000+ people on Facebook")))}function h(e){var t=e.rating,a=void 0===t?0:t,n=e.wrapperClass,r=e.logoAsImage,o=e.fillEmptyCircle,c=Object(d.a)("".concat(m,"tripadvisor-owl.png")),s=i.a.createElement("div",null,i.a.createElement("span",{className:"pyt-half-checked-16"})),u=parseInt(a,10),p=a%u,f=Object(l.a)(0,u).map((function(e,t){return i.a.createElement("div",{key:"full_star_"+t+Math.random()},i.a.createElement("span",{key:"filled_star_"+t,className:"pyt-radiobtn-checked-16"}))})),h=null;if(o){var v=5-Math.ceil(a);v>=1&&(h=Object(l.a)(0,v).map((function(e,t){return i.a.createElement("div",{key:"empty_star_"+t+Math.random()},i.a.createElement("span",{key:"empty_star_"+t,className:"pyt-radiobtn-unchecked-16"}))})))}return i.a.createElement("div",{className:"rating owl "+(n||"")},r?i.a.createElement("div",{className:"tripadvisor-logo"},i.a.createElement("img",{src:c,alt:"ta"})):i.a.createElement("div",null,i.a.createElement("span",{className:"pyt-trip-advisor-16"})),f,p>0?s:null,h)}function v(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4?arguments[4]:void 0,r=t?t.region:"",o=(r||"").split(" + ").join(" "),l=[],c=i?"".concat(p).concat(i,"/"):p;return e||r&&r.length>0?l.push({content:"Home",href:"".concat(c)}):a&&l.push({content:"Your Saved itineraries",href:"".concat(c,"your-vacations"),onClick:function(){Object(u.Ld)(u.Nc,{saved_itinerary_btn:!0})}}),e&&(n?"WORLDCUP_T20_MEN"===n&&l.push({content:"Men T20 Packages",href:"".concat(c,"icc-t20-worldcup-event-men")}):l.push({content:"Packages",href:"".concat(c,"packages")})),r&&r.length>0&&!n&&l.push({content:r,href:"".concat(c,"packages/").concat(o.toLowerCase().replace(/ /g,"-"))}),l}function g(e){var t=e.itinerary,a=e.campaignDetail,n=a?a.region:"",r=n.split(" + ").join(" ");return i.a.createElement("ol",{vocab:"http://schema.org/",typeof:"BreadcrumbList",className:"breadcrumb"},i.a.createElement("li",{property:"itemListElement",typeof:"ListItem"},i.a.createElement("i",{className:"home-icon "}),i.a.createElement("a",{href:"".concat(p),property:"item",typeof:"WebPage"},i.a.createElement("span",{property:"name"},"Home")),i.a.createElement("meta",{property:"position",content:"1"})),i.a.createElement("li",{property:"itemListElement",typeof:"ListItem"},i.a.createElement("a",{href:"".concat(p,"packages"),property:"item",typeof:"WebPage"},i.a.createElement("span",{property:"name"},"Packages")),i.a.createElement("meta",{property:"position",content:"2"})),n&&n.length>0?i.a.createElement("li",{property:"itemListElement",typeof:"ListItem"},i.a.createElement("a",{href:"".concat(p,"packages/").concat(r.toLowerCase().replace(/ /g,"-")),property:"item",typeof:"WebPage"},i.a.createElement("span",{className:"text-capitalize",property:"name"},n)),i.a.createElement("meta",{property:"position",content:"3"})):null,i.a.createElement("li",null,i.a.createElement("span",null,(t||{}).specialTitle)))}function b(e){var t=e.show,a=e.title,n=e.message,r=e.callback;return i.a.createElement(s.a,{show:t,title:a||"Oops, access denied!",text:n||"You don\u2019t have the permission to make changes in another user\u2019s itinerary.",onConfirm:r,animation:"pop",confirmButtonText:"Okay! Go to Homepage"})}},1635:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(33);function i(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function o(e,t){return e.reduce((function(e,a){if(a)if(0===e.length)e.push(a);else{var n,r=!1,o=i(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(t(l)===t(a)){r=!0;break}}}catch(c){o.e(c)}finally{o.f()}r||e.push(a)}return e}),[])}function l(e,t){return e&&Array.isArray(e)&&Array.length>0?t&&t.constructor===Function?o(e,t):t&&t.constructor===String?o(e,(function(e){return e[t]})):Object(n.a)(new Set(e)):[]}},1636:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n="BEFORE_YOU_BOOK",i="LINE_ITEM_CARD"},1637:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(2),o=r.default.ul.withConfig({displayName:"Checkbox__ChecKBoxStyle"})(["width:100%;padding:0;color:black;position:relative;overflow-y:scroll;margin-top:0;max-height:170px;transition:all 0.4s;cursor:pointer;li{list-style:none;margin-top:18px;cursor:pointer;&:first-child{margin-top:0;}label{position:relative;z-index:1;cursor:pointer;&:before{content:'';color:white;width:14px;height:14px;border:1px solid black;border-radius:2px;display:inline-block;text-align:center;margin-right:12px;vertical-align:text-top;}}input{display:inline-block;}&.checked{label:before{content:'\u2713';width:16px;height:16px;background:#00c684;border:none;}}}"]),l=function(e){var t=e.filterName,a=void 0===t?"":t,n=e.options,r=void 0===n?[]:n,l=e.checkedList,c=void 0===l?{}:l,s=e.onChangeFilterValue,d=void 0===s?function(){}:s;return i.a.createElement(o,{key:a},r.map((function(e,t){return i.a.createElement("li",{key:"".concat(t)},i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",name:e.name,checked:c[e.name],onChange:function(t){d({event:t,target:e.label,disableSubmit:!1})}}),"  ",e.label))})))};a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return f}));var c=r.default.li.withConfig({displayName:"specialInclusionList__ListItem"})(["font-size:15px;line-height:22px;"]),s=r.default.li.withConfig({displayName:"specialInclusionList__MobileListItem"})(["font-size:15px;padding-bottom:8px;line-height:22px;"]),d=function(e,t,a){return i.a.createElement("li",{key:"extra_inclusions_".concat(a),className:"title"===e||"empty"===e?"reset-list":""},"title"===e?i.a.createElement("b",null,t):"empty"===e?i.a.createElement("br",null):t)},u=function(e,t,a,n,r){var o=n?s:c;return r?i.a.createElement("div",{key:"extra_inclusions_".concat(a),dangerouslySetInnerHTML:{__html:t}}):i.a.createElement(o,{key:a,className:"empty"===e?"emptyPill":"title"===e?"titleLi":""},t)},m=function(e,t){return i.a.createElement(l,{options:[{key:1,label:"Send fewer email/text/whatsapp",name:"Send fewer email/text/whatsapp"},{key:2,label:"Write more relevant content",name:"Write more relevant conten"},{key:3,label:"I\u2019ve had a sub-par experience with Pickyourtrail",name:"I\u2019ve had a sub-par experience with Pickyourtrail"},{key:4,label:"Not Interested in international travel",name:"Not Interested in international travel"}],checkedList:e,onChangeFilterValue:t})},p=function(e,t,a){return"empty"===e?null:i.a.createElement("li",{style:{width:"100%"},key:"extra_inclusions_".concat(a)},i.a.createElement("i",{className:"pyt-arrow-fill-left-16 main-para"}),t)},f=function(e){var t=e.data,a=e.type,n=e.offline,i="modal"===a?u:"maldives"===a?p:d,r=[];return(t||[]).map((function(e,a){e.title?(r.push(i("title",e.title,a)),r.push(e.text.map((function(e,t){return i("",e,t,!1,n)}))),t.length-1>a&&r.push(i("empty"," ",a+"empty"))):e.text&&e.text.length&&r.push(e.text.map((function(e,t){return i("",e,t)})))})),r}},1638:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(2),o=a(57),l=a(61),c=a(5),s=a(6),d=a(250),u=a(110),m=r.default.div.withConfig({displayName:"NoItems__NoItemsWrapper"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;margin:40px 0;animation:"," 0.4s ease-in 0;animation-iteration-count:1;p{margin-bottom:8px;font-size:17px;line-height:1.09;letter-spacing:-0.25px;","{font-size:22px;}}span{margin-bottom:0;font-size:15px;line-height:22px;","{font-size:16px;}}button{margin-top:12px;margin-bottom:12px;}a{",";font-weight:bold;color:",";}img{width:100px;height:100px;","{width:160px;height:153px;}margin-bottom:24px;}"],d.e,s.sm,s.sm,u.c,c.theme.brandPrimary,s.sm);t.a=function(e){var t=e.image,a=e.text,n=e.ctaText,r=e.ctaAction,c=e.subLinkText,s=e.subLink,d=e.rootClassName,u=void 0===d?"":d;return i.a.createElement(m,{className:u},t?i.a.createElement("img",{src:t,alt:"No-items-found"}):null,a,n?i.a.createElement(l.a,{onClick:r,btnPrimary:!0},n):null,s?i.a.createElement(o.Link,{to:s},c):null)}},1639:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var u=a(2).default.label.withConfig({displayName:"Switch"})(["display:inline-block;width:",";height:",";position:relative;margin-left:",";margin-bottom:0;.slider{position:absolute;top:",";left:0;height:",";cursor:pointer;width:100%;background-color:#cccccc;transition-property:all;transition-duration:0.3s;transition-timing-function:ease;transition-delay:0s;border-radius:22px;&:before{content:'';position:absolute;left:",";top:",";height:",";width:",";vertical-align:",";border:",";background-color:",";border-radius:50%;transition:all 0.3s;}}input{opacity:0;width:0;height:0;&:checked + .slider{background-color:#1baacc;}&:checked + .slider:before{transform:",";border-color:",";}}"],(function(e){return e.v2?"30px":"44px"}),(function(e){return e.v2?"unset":"10px"}),(function(e){return e.v2?"8px":"0"}),(function(e){return e.v2?"0":"4px"}),(function(e){return e.v2?"18px":"16px"}),(function(e){return e.v2?"2px":"0"}),(function(e){return e.v2?"2px":"-3px"}),(function(e){return e.v2?"14px":"22px"}),(function(e){return e.v2?"14px":"22px"}),(function(e){return e.v2?"4px":null}),(function(e){return e.v2?"2px solid #FFFFFF":"1px solid #cccccc"}),(function(e){return e.v2?"transparent":"white"}),(function(e){return e.v2?"translateX(12px)":"translateX(22px)"}),(function(e){return e.v2?"#FFFFFF":"#1baacc"})),m=function(e){Object(r.a)(a,e);var t=d(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e))._handleChange=function(){var e=!i.state.value;i.setState({value:e},(function(){i.props.onChangeAction&&i.props.onChangeAction(e)}))},i.state={value:e.value||!1,defaultValue:e.value||!1},i}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement(u,{v2:this.props.v2},s.a.createElement("input",{type:"checkbox",checked:this.state.value,onChange:this._handleChange}),s.a.createElement("span",{className:"slider"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.defaultValue?{defaultValue:e.value,value:e.value}:t}}]),a}(c.Component)},1640:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(616),i=a(33),r=a(38),o=a(39),l=a(46),c=a(56),s=a(29),d=a(0),u=a.n(d),m=a(35),p=a.n(m),f=a(192),h=a.n(f),v=a(193),g=a(2);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var y=g.default.label.withConfig({displayName:"GroupButton__TripAdvisorLabel"})(["position:relative;font-weight:400;cursor:pointer;user-select:none;padding-left:24px;&.non-active{&:before{color:#aaaaaa;font-size:17px;font-family:'pyticon';line-height:1;content:'\\eac1';position:absolute;left:0;top:2px;}}&.active{&:before{content:'\\eac0';color:#26cf96;}}"]),E=g.default.div.withConfig({displayName:"GroupButton__GroupButtonWrapper"})(["padding:",";"],(function(e){var t=e.padding;return t||"15px"})),C=g.default.label.withConfig({displayName:"GroupButton__LabelWrapper"})(["display:block;color:",";font-size:",";font-weight:400;&:first-child{margin-top:0;}i{line-height:1;}span{color:",";font-size:",";}i{font-size:",";line-height:1;margin-right:10px;vertical-align:text-bottom;font-weight:",";}",""],(function(e){var t=e.labelColor;return t||"black"}),(function(e){var t=e.labelSize;return t||"16px"}),(function(e){var t=e.textColor;return t||"#53576d"}),(function(e){var t=e.textSize;return t||"18px"}),(function(e){var t=e.iconSize;return t||"20px"}),(function(e){var t=e.iconWeight;return t||400}),(function(e){var t=e.customOptions,a=e.active,n=e.nonActive;return t&&Object(g.css)([""," ",""],n&&Object(g.css)(["i{color:#aaaaaa;}"]),a&&Object(g.css)(["i{font-weight:100;color:",";}span{color:#000000;}"],(function(e){var t=e.iconActiveColor;return t||"#26cf96"})))})),x=function(e){Object(l.a)(a,e);var t=b(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).clickAction=function(e,t,a){var i=n.state,r=i.activeButtons,o=i.defaultActiveButtons,l=n.props,c=l.allowMultiple,s=l.componentValues,d=l.isRadio;if(e.target.blur(),e&&e.preventDefault()&&e.stopPropagation(),c)if(r.includes(t)){var u=r.indexOf(t);if(r.splice(u,1),o.includes(t)){var m=o.indexOf(t);o.splice(m,1)}if(r.includes("VIEWALL")){var p=r.indexOf(t);if(r.splice(p,1),o.includes(t)){var f=o.indexOf(t);o.splice(f,1)}}"VIEWALL"===t&&(r=[],o=[])}else"VIEWALL"===t?r=s.map((function(e){return e.value})):r.push(t);else d?r=t:(r=[]).push(t);n.setState({activeButtons:r,defaultActiveButtons:o},(function(){n.props.onClickAction&&n.props.onClickAction(e,t,a,n.state.activeButtons.includes(t))}))},n.renderPillElements=function(){var e=n.state,t=e.activeButtons,a=e.defaultActiveButtons,i=void 0===a?[]:a,r=n.props,o=r.target,l=r.componentValues,c=r.isRadio,s=[],d=null;return!c&&t.map((function(e,t){i.includes(e)||(d=function(e){var t=(l||[]).filter((function(t){return!t.disablePill&&t.value===e}));return!t.length||t[0].disablePill?null:t[0].pillContent||t[0].text}(e))&&s.push(u.a.createElement("li",{key:t},u.a.createElement("span",{className:"tag-sm round"},d,u.a.createElement("i",{className:"pyt-close-16 cursor-pointer",onClick:function(t){n.clickAction(t,e,o)}}))))})),s},n.state={activeButtons:[],defaultActiveButtons:[]},n.pillElements=null,n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.activeButtons,a=e.isRadio,r=a?t||"":h()(t)||[];Object(v.a)(this.state.activeButtons,r)||this.setState({activeButtons:a?r:Object(n.a)(Array,Object(i.a)(r)),defaultActiveButtons:a?r:Object(n.a)(Array,Object(i.a)(r))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.buttonClass,n=t.orientation,i=t.componentValues,r=t.target,o=t.allowMultiple,l=t.isCheckBox,c=void 0!==l&&l,s=t.isRadio,d=void 0!==s&&s,m=t.padding,f=void 0===m?"":m;return a+="Vertical"!==n?" btn-group":"",this.pillElements=this.renderPillElements(),u.a.createElement(E,{padding:f,className:c||d?"opt-list".concat(" ",a):p()(a,{"btn-group-vertical":"Vertical"===n,"btn-group-justified":"Horizontal"===n})},function(a){var n=a.buttons,i=a.target,r=a.isCheckBox,o=a.isRadio,l=e.state.activeButtons;return n.map((function(a,n){var c=a.text,s=void 0===c?"":c,d=a.subText,m=void 0===d?"":d,f=a.textClass,h=void 0===f?"":f,v=a.subTextClass,g=void 0===v?"":v,b=a.value,E=a.iconClass,x=void 0===E?[]:E,O=a.checked,N=a.name,w=void 0===N?"":N,k=a.iconText,S=void 0===k?"":k;h+=" btn btn-grey-lighter",g+=" pull-right color-grey fade";var A=t.textColor,j=void 0===A?"":A,I=t.textSize,T=void 0===I?"":I,R=t.labelColor,D=void 0===R?"":R,F=t.labelSize,P=void 0===F?"":F,M=t.iconSize,_=void 0===M?"":M,L=t.iconActiveColor,B=void 0===L?"":L,H=t.iconWeight,V=void 0===H?"":H;if(r||o){var z=function(e){return u.a.createElement(C,e)};"taRating"===w&&(z=y);var U=o?l===b:l.includes(b)||O,K=o?U?"pyt-radiobtn-checked-16":"pyt-radiobtn-unchecked-16":r?U?"pyt-check_box_active-16":"pyt-check_box_blank-16":null;return u.a.createElement(z,{className:p()("non-active",{active:U,radio:o}),key:n,name:w,value:b,onClick:function(t){t.preventDefault(),e.clickAction(t,b,i)},title:s,customOptions:"taRating"!==w,active:U,nonActive:!U,textColor:j,textSize:T,labelColor:D,labelSize:P,iconSize:_,iconActiveColor:B,iconWeight:V},u.a.createElement("i",{className:K}),u.a.createElement("span",null,s))}return u.a.createElement("a",{href:" ",name:w,value:b,key:n,className:p()("".concat(h),{active:o&&l===b||l.includes(b)||O}),onClick:function(t){t.preventDefault(),e.clickAction(t,b,i)},title:s},S," ",x.length?function(e){return e.map((function(e,t){return u.a.createElement("i",{key:t,className:e})}))}(x):null,s,m?u.a.createElement("span",{className:g},m):null)}))}({buttons:i,target:r,allowMultiple:o,isCheckBox:c,isRadio:d}))}}]),a}(d.Component);x.defaultProps={orientation:"Horizontal",allowMultiple:!0,buttonClass:"",componentValues:[],isVertical:!1}},1646:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(14),i=a(22),r=a(245),o=a(1594),l=a(15),c=a(190),s=a(171),d=a(62),u=a(18);function m(e){return function(t){return new Promise((function(a,m){var p={},f="POST";if("REMOVE"===e.action){var h=e.activitySlot,v=h.cityId,g=h.cityId,b="ACTIVITY_WITH_TRANSFER"===h.type;b&&(v=h.intercityTransferSlotDetailVO.fromCity,g=h.intercityTransferSlotDetailVO.toCity),p={itineraryId:e.itineraryId,newActivityId:h.activitySlotDetail.planningToolId,slotIdentifier:h.slotIdentifier,activityWithTransfer:b,modifyType:e.action,fromCityId:v,toCityId:g,cancelled:!(!h.activitySlotDetail.costingInfo||!h.activitySlotDetail.costingInfo.cancelled)}}else p="REMOVEALL"===e.action?{itineraryId:e.itineraryId}:{itineraryId:e.itineraryId,newActivityId:e.activitySlot.activitySlotDetail.planningToolId,slotIdentifier:e.activitySlot.slotIdentifier,activityWithTransfer:e.activityWithTransfer,modifyType:e.action,fromCityId:e.fromCityId,toCityId:e.toCityId,cancelled:e.cancelled,attractionId:e.attractionId};var y="".concat(n.a.api_url,"itinerary/activity/remove"),E="Removed activity from your itinerary";"ADD"===e.action?(y="".concat(n.a.api_url,"itinerary/activity/add"),E="Activity added to your itinerary"):"CHANGE"===e.action?(y="".concat(n.a.api_url,"itinerary/activity/replace"),E="Activity updated in your itinerary"):"REMOVEALL"===e.action&&(y="".concat(n.a.api_url,"itinerary/").concat(e.itineraryId,"/activity/removeAll"),f="GET",E="Removed all the activities from the itinerary"),Object(i.a)({url:y,method:f,body:p,onSuccess:function(n){if("REMOVE"===e.action?(t({type:"ACTIVITY_PREVIEW_REMOVED",payload:e.activitySlot.slotIdentifier}),Object(d.a)(window.location.pathname,["/".concat("activity-preview","/")])||Object(o.a)(t,E)):Object(o.a)(t,E),Object(r.a)(t,n.data,"ACTIVITY_".concat(e.action)),"ADD"===e.action){var i,c=Object(u.a)(e,"options.activitySlot.activitySlotDetail.title");"alternate_activity"===e.type?i="Activity Add - Activity Alternates - Choose":"activity_details"===e.type&&(i="Activity Add - Activity Details - Choose"),Object(l.Ld)(l.Xb,{activity_added:!0,action:l.e,category:l.z,button_clicked:i,from_name:"",to_name:c})}else if("REMOVE"===e.action){var s,m=Object(u.a)(e,"options.activitySlot.cityName"),p=Object(u.a)(e,"options.activitySlot.day"),f=Object(u.a)(e,"options.activitySlot.mon");"activity_details"===e.type&&(s="Activity Replace - Activity Details - Remove"),Object(l.Ld)(l.Xb,{activity_removed:!0,action:l.Dc,category:l.z,button_clicked:s,city:m,day:f+" "+p})}else if("CHANGE"===e.action){var h=Object(u.a)(e,"options.activitySlot.cityName"),v=Object(u.a)(e,"options.activitySlot.day"),g=Object(u.a)(e,"options.activitySlot.mon"),b=Object(u.a)(e,"options.activitySlot.activityName"),y=Object(u.a)(e,"options.activitySlot.activitySlotDetail.title"),C="";"alternate_activity"===e.type?C="Activity Replace - Activity Alternates - Update":"activity_details"===e.type&&(C="Activity Replace - Activity Details - Update"),Object(l.Ld)(l.Xb,{activity_changed:!0,action:l.B,category:l.z,button_clicked:C,city:h,day:g+" "+v,from_name:b,to_name:y})}a("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,t),Object(s.a)(e,t),m("Failed")}})}))}}},1647:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return x}));var n=a(0),i=a.n(n),r=a(35),o=a.n(r),l=a(589),c=a.n(l),s=a(191),d=a(1617),u=a(23),m=a(106),p=a(55),f=a(105),h=a(141),v=a(2592),g=a(1592),b=a(1593);function y(e){var t=e.badgeValue,a=void 0===t?0:t,r=e.images,o=void 0===r?[]:r,l=e.contentType,c=e.activityName,u=e.description,p=e.subText,f=e.isPriceIncreased,h=void 0===f||f,v=e.price,y=void 0===v?0:v,N=e.onReplaceAction,w=e.onCardClick,k=e.status,S=e.enableFreeTag,A=e.disableDiffIcon,j=e.likeCount,I=e.dislikeCount,T=e.sourceProvider,R=e.isAdmin,D=e.activityDetails,F=e.onChangeAlert,P=e.userDetails,M=e.recommendedActivity,_=Object(g.a)({permissions:P.permissions,key:b.f}),L=i.a.createElement(s.a,{buttonClass:"btn btn-primary btn-sm choose-btn",buttonText:"Choose",onClickAction:function(e){e.preventDefault(),e.stopPropagation(),M&&_?F(D):N(e)}});return i.a.createElement("div",{className:"activity-alter-card",onClick:function(e){e&&e.preventDefault(),w()}},a?i.a.createElement(d.a,{badgeValue:a}):null,i.a.createElement("div",{className:"pos-r"},function(e){switch(e){case"FILLING_FAST":return i.a.createElement(d.f,{rootClassName:"likely-tag bg-accent-1 color-white",iconClassName:"pyt-flash-on-16 color-accent-2",content:"Filling fast!"});case"SELL_OUT":return i.a.createElement(d.f,null);default:return null}}(l),i.a.createElement(E,{images:o,sliderSettings:{slidesToShow:1,slidesToScroll:1,arrows:!0,infinite:!0,speed:500,lazyLoad:"ondemand",responsive:[{settings:{infinite:!1,slidesToShow:1}}]}})),i.a.createElement("div",{className:"detail-box"},i.a.createElement(O,{activityName:c,description:u,subText:p,status:k,sourceProvider:T,isAdmin:R}),i.a.createElement("div",{className:"price-txt"},i.a.createElement(C,{likeCount:j,dislikeCount:I}),i.a.createElement("div",{className:"rgt-txt vertical-center"},S?i.a.createElement(m.a,{text:"Self Exploration"},i.a.createElement("span",{className:"pill square md color-white bg-black"},i.a.createElement("i",{className:"pyt-binocular-16 color-accent-2"}),i.a.createElement("b",{className:"semi-bold"},"\xa0Self Exploration"))):i.a.createElement(x,{disableDiffIcon:A,enableFreeTag:S,isPriceIncreased:h,price:y}),i.a.createElement(n.Fragment,null,L))),i.a.createElement("p",{className:"desc"},i.a.createElement("span",{className:"fw truncate-3-lines"},u),i.a.createElement("a",null,"Read more ",i.a.createElement("i",{className:"pyt-arrow-right-24"})))))}var E=function(e){var t=e.images,a=void 0===t?[]:t,n=e.sliderSettings,r=a.map((function(e,t){var a={backgroundImage:"url(".concat(Object(u.a)(e,"h=200&w=260&fit=crop&crop=faces"),")")};return i.a.createElement("div",{key:t},i.a.createElement("figure",{style:a}))}));return i.a.createElement(c.a,Object.assign({className:"activity-alter-slider"},n),r)},C=function(e){var t=e.likeCount,a=void 0===t?0:t,n=e.dislikeCount,r=void 0===n?0:n;return i.a.createElement("div",{className:"like-icon"},a?i.a.createElement("span",null,i.a.createElement("i",{className:"pyt-thumb-up-16"}),i.a.createElement("b",{className:"semi-bold"},a)):null,r?i.a.createElement("span",null,i.a.createElement("i",{className:"pyt-thumb-down-16"}),i.a.createElement("b",{className:"semi-bold"},r)):null)};function x(e){var t=e.enableFreeTag,a=void 0!==t&&t,n=e.disableDiffIcon,r=void 0!==n&&n,l=e.price,c=e.isPriceIncreased,s=e.disablePriceVariation,u=void 0!==s&&s,m=e.rootClassName,f=void 0===m?"varied-price":m,h=e.RootElement,v=void 0===h?"p":h;if(!a&&!l)return null;var g={value:l};return a?i.a.createElement(d.b,{rootClassName:"pull-right free-activity color-grey-secondary"}):l?i.a.createElement(v,{className:f},r?null:i.a.createElement("i",{className:o()({"pyt-arrow-down-16":!c&&!u,"pyt-arrow-top-16":c&&!u})}),i.a.createElement("b",null,"\xa0",i.a.createElement(p.a,{objectData:g,path:"value",defaultValue:"0"}))):null}var O=function(e){var t=e.activityName,a=e.subText,n=e.status,r=e.sourceProvider,o=e.isAdmin;return i.a.createElement("p",{className:"detail-txt"},i.a.createElement("span",{className:"meta-text bold"},t),i.a.createElement(f.a,{gutter:4,alignItems:"center"},i.a.createElement("b",{className:"semi-bold"},a),r&&o&&i.a.createElement(f.a.Item,{maxWidth:"40%",flexDirection:"row",backgroundColor:"#feda46",paddingVertical:4,paddingHorizontal:8,alignItems:"center",justifyContent:"center",borderRadius:4,marginBottom:10,gap:4},i.a.createElement(v.a,{fill:"rgb(102, 102, 102)"}),i.a.createElement(h.a,{fontFamily:"Source Sans Pro",color:"rgb(102, 102, 102)",fontWeight:600,fontSize:12,lineHeight:16,letterSpacing:"-0.1px"},r))),n)}},1648:function(e,t,a){"use strict";var n=a(11),i=a(0),r=a.n(i),o=a(35),l=a.n(o),c=a(71);t.a=function(e){var t=e.type,a=void 0===t?"info":t,o=e.iconClass,s=void 0===o?"pyt-warning-16 color-accent-10":o,d=e.data,u=e.moreText,m=e.noBorder,p=e.count,f=e.onClick,h=void 0===f?null:f,v=e.alerts,g=void 0===v?[]:v,b=Object(i.useState)(!1),y=Object(n.a)(b,2),E=y[0],C=y[1],x=Object(c.a)(),O={info:x?"alert-info":"",success:x?"alert-success":"",warning:"alert-warning",danger:"alert-danger"};if(!d)return null;var N=O[a.toLowerCase()]||O.info,w=E?" expanded":"";m&&(N+=" no-border");var k=null;return k=E?r.a.createElement(i.Fragment,null,r.a.createElement("i",{className:s||"color-grey pyt-fyi-36"}),r.a.createElement("ul",{className:"dot-list"},g.map((function(e,t){return r.a.createElement("li",{key:"alert_in_"+t},r.a.createElement("span",{className:"fine-text"},e.data))}))),x&&r.a.createElement("a",{className:"view-less",href:" ",onClick:function(e){e.preventDefault()}},"Show less")):r.a.createElement(i.Fragment,null,"string"!==typeof d?null:r.a.createElement("i",{className:s}),"string"!==typeof d?d:r.a.createElement("span",{className:l()({truncate:!x,"fine-text":x})},d),u?r.a.createElement("span",{className:"color-primary-dark"},u):null,p?r.a.createElement("a",{style:{width:"60px"}},"\xa0"," +".concat(p," alert").concat(p>1?"s":"")):null),r.a.createElement("div",{className:"row",onClick:function(e){e.stopPropagation(),e.preventDefault(),x?p&&C(!E):C(!E),"function"===typeof h&&h()}},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"alert cursor-pointer ".concat(N).concat(w)},k)))}},1649:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(11);function i(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function o(e,t){return e&&e.length>0?t.constructor===Function?e.findIndex(t):function(e,t){if(t.constructor===Object){var a,r=i(e.entries());try{for(r.s();!(a=r.n()).done;){var o=Object(n.a)(a.value,2),l=o[0],c=o[1],s=!0;for(var d in t)s=!!Object.prototype.hasOwnProperty.call(c,d)&&(c[d]===t[d]&&s);if(s)return l}}catch(C){r.e(C)}finally{r.f()}return-1}if(t.constructor===Array){var u,m=i(e.entries());try{for(m.s();!(u=m.n()).done;){var p=Object(n.a)(u.value,2),f=p[0],h=p[1];if(Object.prototype.hasOwnProperty.call(h,t[0])&&h[t[0]]===t[1])return f}}catch(C){m.e(C)}finally{m.f()}return-1}if(t.constructor===String){var v,g=i(e.entries());try{for(g.s();!(v=g.n()).done;){var b=Object(n.a)(v.value,2),y=b[0],E=b[1];if(Object.prototype.hasOwnProperty.call(E,t)&&E[t])return y}}catch(C){g.e(C)}finally{g.f()}return-1}}(e,t):-1}},1650:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(30),o=a(589),l=a.n(o),c=a(2),s=a(1599),d=a(1600),u=a(11),m=a(219),p=a(601),f=a(1606),h=a(191),v=a(35),g=a.n(v),b=a(1692),y=31104e6,E=2592e6,C=864e5,x=36e5,O=6e4;var N=function(e){var t=Date.now()-e,a=Math.floor(t/y),n=Math.floor(t/E),i=Math.floor(t/C),r=Math.floor(t/x),o=Math.floor(t/O),l="Just now";return t>y?l=Math.floor(t/y)+"y":t>C?l=Math.floor(t/C)+"d":t>x?l=Math.floor(t/x)+"h":t>O&&(l=Math.floor(t/O)+"m"),{year:a,month:n,days:i,hour:r,minute:o,text:l}},w=a(105),k=a(1630),S=function(e){var t=e.roomsCount,a=e.roomList,r=void 0===a?[]:a,o=e.rating,l=void 0===o?0:o,c=e.tripAdvisorReviewCount,d=void 0===c?0:c,v=e.starRating,y=void 0===v?0:v,E=e.discountAppliedBatch,C=void 0===E?null:E,x=e.AOTpills,O=void 0===x?null:x,S=e.status,A=e.isBlockCard,j=void 0!==A&&A,I=e.sourceProvider,T=void 0===I?"":I,R=e.isAdmin,D=void 0!==R&&R,F=e.blockCardClickAction,P=void 0===F?function(){}:F,M=e.hotelName,_=void 0===M?"":M,L=e.offline,B=void 0!==L&&L,H=e.lastDataUpdatedMillis,V=e.showAllocation,z=e.isBooked,U=Object(n.useState)(!1),K=Object(u.a)(U,2),W=K[0],G=K[1],Y=s.e.USER_REMOVED_HOTEL,q=s.e.HOTEL_FAILURE,J=s.j.AGODA,Q=N(H),X=Q.text,$=Q.days,Z=H&&i.a.createElement("span",{className:g()("discount-ribbon",{"accent-4":$<30,"accent-7":$>30})},"Last updated ",X," ago");if(!t||0===t)return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"".concat(j?"col-md-6":"col-md-12")},i.a.createElement("p",{className:"meta-text vmargin-large vertical-center"},i.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"}),"\xa0\xa0","USER_REMOVED"===S?Y:q)),j?i.a.createElement("div",{className:"text-right col-md-6 vmargin-medium"},i.a.createElement(h.a,{buttonClass:"btn btn-default btn-outline btn-outline-bg btn-sm",buttonText:"Add Custom Item",onClickAction:P})):null);var ee=Object.values(Object(m.a)(r,(function(e){return e.name}))),te=1===r.length||1===ee.length,ae=r.find((function(e){return Array.isArray(e.extraInclusions)&&e.extraInclusions.length})),ne=T===J?"AGODA":"ADVISOR",ie=T===J?10:5,re=T!==J||!!D&&(!isNaN(l)&&0!==l&&!isNaN(d)&&0!==d),oe="DATABASE"===T;return i.a.createElement("div",{className:"row vmargin-medium mb-0"},(C||O||Z)&&i.a.createElement("div",{className:"col-md-12 text-right mbottom-small"},O," ",C," ",Z),i.a.createElement("div",{className:"col-md-8"},i.a.createElement("h5",null,"Room details:"),ee.map((function(e,t){var a,n,r,o,l,c,s,d,u=Object(f.a)(e[0].mealType);return i.a.createElement("div",{key:t,className:"room-list"},i.a.createElement("p",{className:"meta-text semi-bold"},"".concat(te?"":"#".concat(t+1)," ").concat(e[0].name," ").concat(e.length>1?" x".concat(e.length):"")),i.a.createElement("ul",{className:"list-inline meta-text incexc-list"},i.a.createElement("li",null,i.a.createElement("i",{className:e[0].refundable?"pyt-refundable-16 color-primary-dark":"pyt-non-refundable-16 color-accent-7"}),e[0].refundable?"Refundable":"Non Refundable"),i.a.createElement("li",{className:e[0].freeWireless?"tick":"cross"},"Wifi"),u?i.a.createElement("li",{className:"tick"},u):i.a.createElement("li",{className:e[0].freeBreakfast?"tick":"cross"},e[0].breakfastText),i.a.createElement("li",{className:e[0].acAvailable?"tick":"cross"},"Air Conditioner"),i.a.createElement("li",null,i.a.createElement("i",{className:"pyt-people-16"}),"Accomodates ",e[0].maxRoomOccupancy," adults"),null!==(a=e[0].roomSize)&&void 0!==a&&a.length?i.a.createElement("li",null,i.a.createElement("i",{className:"pyt-area-16"}),"Area ",e[0].roomSize," ",null!==(n=e[0].roomSize)&&void 0!==n&&n.includes("Sq.m")||null!==(r=e[0].roomSize)&&void 0!==r&&r.includes("Sq.ft")?null:"Sqft"):null),i.a.createElement(w.a,{alignItems:"baseline"},ae?i.a.createElement("span",{className:"pill square md color-white bg-accent-13",onClick:function(e){e.stopPropagation(),e.preventDefault(),G(!0)}},i.a.createElement("i",{className:"pyt-star-16 color-accent-2"})," View special inclusions"):null,V&&!z?i.a.createElement(w.a.Item,null,null!==(o=e[t])&&void 0!==o&&o.availability?i.a.createElement("div",{className:"mbottom-medium"},i.a.createElement("span",{className:"pill square md color-white bg-accent-9"},null===(l=e[t])||void 0===l?void 0:l.availability," ",oe?Object(k.a)({count:null===(c=e[t])||void 0===c?void 0:c.availability,keyword:"allocation"}):Object(k.a)({count:null===(s=e[t])||void 0===s?void 0:s.availability,keyword:"API room"})," ","available")):null!==(d=e[t])&&void 0!==d&&d.availability||!oe?null:i.a.createElement("div",{className:"mbottom-medium"},i.a.createElement("span",{className:"pill square md color-white bg-primary"},"On Request"))):null))}))),i.a.createElement("div",{className:"col-md-4"},isNaN(y)||0===y?null:i.a.createElement("div",{className:"star-category mbottom-medium"},i.a.createElement(p.a,{rootClassName:"stars",starClassName:"pyt-star-16",rating:y}),i.a.createElement("span",{className:"fine-text"},"Star Category")),isNaN(l)||0===l?null:i.a.createElement("div",{className:g()("fine-text",{"ta-rating":T!==J,"agoda-rating":T===J})},re&&i.a.createElement(p.a,{ratingType:ne,rating:l,tripAdvisorReviewCount:d,rootClassName:"ta-dots",defaultClassName:"pyt-radiobtn-unchecked-16",starClassName:"pyt-radiobtn-checked-16",halfStarClassName:"pyt-half-checked-16",maximumRating:ie}),T!==J&&i.a.createElement("span",{className:"clearfix fw fine-text"},"On Trip Advisor"))),W?i.a.createElement(b.a,{offline:B,hotelName:_,data:(r.find((function(e){return Array.isArray(e.extraInclusions)&&e.extraInclusions}))||{}).extraInclusions,onModalClose:function(){return G(!1)}}):null)},A=a(1725),j=a(106),I=a(1604),T=a(110),R=a(5),D=c.default.span.withConfig({displayName:"ActivityCardHeader__SplitStayButton"})(["display:inline-block;font-weight:",";",";padding:5px 10px;background-color:",";border-radius:24px;color:",";"],R.theme.semiBold,T.c,(function(e){return e.disabled?"#e8e5e5":"rgba(38, 119, 240, 0.2)"}),(function(e){return e.disabled?"#b7b6b6":R.theme.accent15})),F=s.k.HOTEL,P=s.k.FLIGHT,M=s.k.TRAIN,_=s.k.FERRY,L=s.k.RENTALCAR,B=s.k.PASS,H=s.k.TRANSFER;function V(e){var t=e.title,a=void 0===t?"":t,n=e.type,r=void 0===n?"":n,o=e.fromDate,l=void 0===o?"":o,c=e.firstTitle,s=void 0===c?"":c,d=e.nightStay,u=void 0===d?"":d,m=e.toDate,f=void 0===m?"":m,v=e.rating,g=void 0===v?0:v,b=e.startDate,y=e.onChange,E=e.price,C=void 0===E?null:E,x=e.publishedPrice,O=void 0===x?null:x,N=e.changeDisabled,k=void 0!==N&&N,S=e.removeDisabled,j=void 0!==S&&S,I=e.viewDisabled,T=void 0!==I&&I,R=e.onView,M=e.onSplitFlight,_=e.buttonsClassName,L=void 0===_?null:_,B=e.onChangeRoom,H=e.changeButtonText,V=void 0===H?null:H,K=e.viewButtonText,W=void 0===K?null:K,G=e.removeButtonText,Y=void 0===G?null:G,q=e.onRemove,J=e.isReadOnly,Q=void 0!==J&&J,X=e.isT20,$=void 0!==X&&X,Z=e.isFree,ee=void 0!==Z&&Z,te=e.onEditClick,ae=void 0===te?null:te,ne=e.canEditPrice,ie=void 0!==ne&&ne,re=e.discountType,oe=void 0===re?null:re,le=e.isBooked,ce=e.isPriceStrikethrough,se=void 0!==ce&&ce,de=e.onSplitClicked,ue=void 0===de?function(){return!1}:de,me=e.showSplitOption,pe=void 0!==me&&me,fe=e.trackerClass,he=void 0===fe?null:fe,ve=e.enableOnRequest,ge=void 0!==ve&&ve,be=e.disableOnRequest,ye=void 0!==be&&be,Ee=e.isOnRequested,Ce=void 0!==Ee&&Ee,xe=e.onRequestChangeAction,Oe=void 0===xe?function(){}:xe,Ne=e.isAdmin,we=void 0!==Ne&&Ne,ke=e.hideHeader;return i.a.createElement("div",{className:"row vertical-center item-header"},i.a.createElement("div",{className:q||ge?"col-md-8":"col-md-9"},i.a.createElement("h4",null,r===P?s:a+" ",r===F&&pe&&i.a.createElement(D,{onClick:k?function(e){e.preventDefault(),e.stopPropagation()}:ue,disabled:k},"+ Add split stay"),r===F&&$?"or Similar":"",r===P?null:i.a.createElement(p.a,{rootClassName:"rating",starClassName:"pyt-star-16",rating:g})),i.a.createElement(z,{type:r,fromDate:l,toDate:f,startDate:b,nightStay:u})),ge?i.a.createElement("div",{className:"text-right col-md-3 ".concat(ye?"cursor-not-allowed":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),ye||Oe(!Ce)}},i.a.createElement("p",{className:"color-grey meta-text"},"Auto Booking for Flight"),i.a.createElement("label",{className:"switch"},i.a.createElement("input",{type:"checkbox",checked:Ce}),i.a.createElement("span",{className:"slider ".concat(ye?"cursor-not-allowed":"")}))):null,Q?null:i.a.createElement("div",{className:"text-right "+(L||(q?"col-md-4":M?"col-md-5":"col-md-3"))},(C||O||ee)&&i.a.createElement(A.a,{price:C,publishedPrice:O,isFree:ee,onEditClick:ae,canEditPrice:ie,discountType:oe,isPriceStrikethrough:se,isAdmin:we}),i.a.createElement(w.a,{gutter:0,justifyContent:M?"space-around":"flex-end"},M&&i.a.createElement(h.a,{buttonClass:"btn btn-default btn-outline btn-outline-bg btn-sm "+he,buttonText:"Split Flight",onClickAction:M}),i.a.createElement(U,{isBooked:le,onChange:y,onChangeRoom:B,onView:R,viewButtonText:W,onRemove:q,removeButtonText:Y,changeButtonText:V,changeDisabled:k,viewDisabled:T,removeDisabled:j,trackerClass:he,enableOnRequest:ge,disableOnRequest:ye,isOnRequested:Ce,onRequestChangeAction:Oe,type:r,hideHeader:ke}))))}var z=function(e){var t=e.type,a=e.fromDate,n=e.toDate,r=e.nightStay,o=e.startDate,l=function(e){var t=e.text;return t?i.a.createElement("span",{className:"color-accent-13 semi-bold"},t):null};if(!a.trim()&&!n.trim()&&t!==B)return null;if(a.trim()&&""===n.trim())return i.a.createElement("p",null,i.a.createElement(l,{text:a}));switch(t){case B:return i.a.createElement("p",null,"Starts from: ",i.a.createElement(l,{text:o}));case F:return i.a.createElement("p",null,i.a.createElement("i",{className:"pyt-location-16 valign-middle"}),r,"\xa0\xa0\xa0\xa0",i.a.createElement(l,{text:a}),"\xa0 \u2192 \xa0 ",i.a.createElement(l,{text:n}));case L:case H:return i.a.createElement("p",null,s.g,": ",i.a.createElement(l,{text:a}),"\xa0\xa0",s.d,": ",i.a.createElement(l,{text:n}));case M:case _:case P:return i.a.createElement("p",null,i.a.createElement(l,{text:a})," / ",i.a.createElement(l,{text:n}));default:return null}},U=function(e){var t=e.onChange,a=e.onView,r=e.onRemove,o=e.onChangeRoom,l=e.changeButtonText,c=e.viewButtonText,d=e.removeButtonText,u=e.changeDisabled,m=e.viewDisabled,p=e.removeDisabled,f=e.isBooked,v=e.trackerClass,g=e.hideHeader,b=e.type,y="btn btn-default btn-outline btn-outline-bg btn-sm",E=(g||b!=B)&&t?i.a.createElement(h.a,{buttonClass:y+" "+v,buttonText:l||s.b,onClickAction:t,isDisabled:u||f}):null,C=E;return a&&(C=i.a.createElement("div",{className:"btn-group"},l===s.i?null:i.a.createElement(h.a,{buttonClass:y+" info-icon",onClickAction:a,isDisabled:m},i.a.createElement(j.a,{text:c?"":I.m},i.a.createElement("i",{className:"pyt-serif-info-24"})),c?" "+c:null),E)),o&&(C=i.a.createElement(n.Fragment,null,i.a.createElement(h.a,{buttonClass:y,buttonText:s.c,onClickAction:o,isDisabled:p})," ",C)),r&&(C=i.a.createElement("div",{className:"btn-group"},i.a.createElement(h.a,{buttonClass:y,onClickAction:r,isDisabled:p},i.a.createElement(j.a,{text:d||s.h},i.a.createElement("i",{className:"pyt-delete-16"}))),C)),C},K=a(1603),W=a(68),G="tag",Y="count",q="free-activity",J=function(e){var t,a=e.containerClass,n=void 0===a?"bg-accent-2":a,r=e.iconClass,o=void 0===r?"colot-accent-1":r,l=e.iconText,c=void 0===l?null:l,s=e.text,d=e.type,u=e.hideIcon,m=e.hideText;if(u&&m)return null;var p=(t={},Object(W.a)(t,G,{root:"likely-tag ",icon:"pyt-flash-on-16 "}),Object(W.a)(t,Y,{root:"count-left "}),Object(W.a)(t,q,{root:"free-activity ",content:"FREE<br/>ACTIVITY"}),t)[d||G],f=p.root,h=p.icon,v=void 0===h?"":h,g=p.content,b=void 0===g?"":g;return i.a.createElement("span",{className:f+n},u?null:i.a.createElement("i",{className:v+o},c),m?null:s||b)},Q=a(49),X=a.n(Q),$=a(2592),Z=a(141),ee=function(e){var t=e.time,a=e.text,r=e.headerText,o=e.onClickAction,l=void 0===o?function(){}:o;if(!t)return null;var c=X()(t,"YYYY-MM-DD HH:mm:ss.sss").toDate().getTime(),s=Object(n.useState)(te(c)),d=Object(u.a)(s,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){return clearInterval(window&&window._PNRtimerID),window._PNRtimerID=setInterval((function(){p(te(c))}),1e3),function(){clearInterval(window._PNRtimerID)}})),i.a.createElement("div",{className:"tag-tertiary turn-left accent-1 medium bold",onClick:l},i.a.createElement("i",{className:"color-accent-8 pyt-clock-16"}),i.a.createElement("span",{className:"caps-text-tiny color-accent-2"},r?"PNR: "+r:""),i.a.createElement("span",{className:"caps-text-tiny"},a||""),i.a.createElement("span",{className:"meta-text color-accent-2"},m))};function te(e){var t=e-X()().toDate().getTime(),a=Math.floor(t/36e5);a=a<10?"0"+a:a;var n=Math.floor(t%36e5/6e4);n=n<10?"0"+n:n;var i=Math.floor(t%6e4/1e3);return i=i<10?"0"+i:i,t>0&&a+":"+n+":"+i}var ae=function(e){var t=e.data,a=void 0===t?[]:t,r=e.type,o=e.tagsArr,l=void 0===o?[]:o,c=e.dataContainerClass,s=void 0===c?"col-md-12":c,d=e.tagsContainerClass,u=void 0===d?"":d,m=e.isTagsVisible,p=e.isCountdownVisible,f=e.countdownText,h=e.headerText,v=e.countdownStartTime,b=e.ourSourceProviders,y=e.isDiscountApplied,E=e.paraContent,C=e.pnrEditAction,x=void 0===C?function(){}:C,O=e.dataContainerStyle,k=void 0===O?{}:O,S=e.lastDataUpdatedMillis,A=N(S),j=A.text,I=A.days,T=null!==b&&void 0!==b&&b.length?b.map((function(e,t){return"activities"===r?i.a.createElement(w.a.Item,{key:t,position:"absolute",flexDirection:"row",backgroundColor:"#feda46",top:12,right:20,paddingVertical:4,paddingHorizontal:8,borderRadius:4,gap:4},i.a.createElement($.a,{fill:"rgb(102, 102, 102)"}),i.a.createElement(Z.a,{fontFamily:"Source Sans Pro",color:"rgb(102, 102, 102)",fontWeight:600,fontSize:12,lineHeight:16,letterSpacing:"-0.1px"},e)):i.a.createElement("figcaption",{key:t,className:"stars inverse text-right bold"},i.a.createElement("span",{className:"pill color-white bg-accent-4"},e))})):[],R=y?i.a.createElement("span",{className:"discount-ribbon accent-3"}," Admin Price "):null,D=S&&i.a.createElement("span",{className:g()("discount-ribbon",{"accent-4":I<30,"accent-7":I>30})},"Last updated ",j," ago");return i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:g()("row vertical-center bordered-list",{"with-timer":p})},i.a.createElement("div",Object.assign({className:s},k),E?i.a.createElement("p",{className:"semi-bold main-para vmargin-medium"},E):null,(a||[]).length?i.a.createElement(K.a,{rootClassName:"list-unstyled no-margin",icons:a}):[]),T.length>0?T:null,m||p?i.a.createElement("div",{className:u},m?l.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return i.a.createElement(J,Object.assign({key:t,type:"tag",containerClass:"bg-accent-2",iconClass:"color-accent-1"},e))})):null,p?i.a.createElement(ee,{onClickAction:x,text:f,time:v,headerText:h}):null):null),y||D?i.a.createElement("div",{className:"row mbottom-small"},i.a.createElement("div",{className:"col-sm-12 text-right"},R," ",D)):null)},ne=a(1648),ie=a(352),re=function(e){var t=e.inclusion,a=void 0===t?[]:t,n=e.exclusion,r=void 0===n?[]:n,o=e.comboPricingMessageBox,l=e.isFree;return i.a.createElement("div",{className:"col margin-bottom-15"},i.a.createElement("div",{className:"row"},a.length?i.a.createElement("div",{className:"col-md-6 activity-card-items"},i.a.createElement("h5",{className:"activity-card-heading"},"Inclusions"),i.a.createElement("div",{className:"incexc-list tick meta-text",dangerouslySetInnerHTML:Object(ie.a)(a)})):null,r.length?i.a.createElement("div",{className:"col-md-6 activity-card-items"},i.a.createElement("h5",{className:"activity-card-heading"},"Exclusions"),i.a.createElement("div",{className:"incexc-list cross meta-text",dangerouslySetInnerHTML:Object(ie.a)(r)})):null,l?i.a.createElement("div",{className:"col-md-12"},i.a.createElement("span",{className:"pill square md color-white bg-black mbottom-medium"},i.a.createElement("i",{className:"pyt-binocular-16 color-accent-2"})," Self Exploration"),i.a.createElement("span",{className:"row meta-text"}," ","Transfers and fees for self exploration activities are to be borne by you. We\u2019d be happy to share details on request."," ")):null),o?i.a.createElement("span",{className:"tag-secondary color-white bg-base"},i.a.createElement("span",{className:"pyt-check-circle-24 color-accent-2 swiss-pass-icon"}),i.a.createElement("span",{className:""},o)):null)},oe=function(e){var t=e.children;return i.a.createElement("p",{className:"meta-text light mbottom-small"},t)},le=function(e){var t=e.title,a=e.text;return i.a.createElement(oe,null,i.a.createElement("strong",{className:"text-uppercase fine-text color-grey-medium clearfix fw"},t),a)},ce=function(e){var t=e.vehicleDetails,a=void 0===t?[]:t,n=e.detailsHeader,r=e.fullContent,o=void 0===r?"":r,l=e.pickup,c=e.drop,d=e.labelIn,u=void 0===d?s.g:d,m=e.labelOut,p=void 0===m?s.d:m,f=e.paraContent,h=void 0===f?"":f,v=e.comboPricingMessageBox,g=e.alerts,b=void 0===g?[]:g,y=e.data,E=void 0===y?[]:y,C=e.rootClassName,x=void 0===C?"row":C,O=e.status,N=void 0===O?"SUCCESS":O,w=v?i.a.createElement("span",{className:"tag-secondary color-white bg-base"},i.a.createElement("span",{className:"pyt-check-circle-24 color-accent-2 swiss-pass-icon"}),i.a.createElement("span",{className:""},v)):null;if(o){var k=i.a.createElement("div",{className:"".concat(b.length?"col-md-6":"col-md-12")},i.a.createElement("p",{className:"meta-text light vmargin-medium"},o),w);return i.a.createElement("div",{className:"row"},k,b.length?b.map((function(e,t){return i.a.createElement(ne.a,Object.assign({key:t},e,{isInsideCard:!1,alerts:b}))})):null)}return"SUCCESS"!==N?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("p",{className:"meta-text vmargin-large vertical-center"},i.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"}),"\xa0\xa0","USER_REMOVED"===N?"You have removed this transfer from itinerary!":"We aren't able to fetch your transfer details at the moment. Please refresh after a while."))):i.a.createElement("div",{className:x},n&&i.a.createElement("div",{className:"col-md-12"},i.a.createElement("p",{className:"semi-bold main-para vmargin-small mt-0"},n)),i.a.createElement("div",{className:"col-md-6"},h?i.a.createElement(oe,null,h):null,i.a.createElement(K.a,{rootClassName:"amenities-list with-icons meta-text",icons:E})),i.a.createElement("div",{className:"col-md-6"},l?i.a.createElement(le,{title:u,text:l}):null,c?i.a.createElement(le,{title:p,text:c}):null,a.map((function(e,t){var a=e.label,n=e.text,r=e.linkText,o=e.linkAction,l=void 0===o?function(){}:o;return i.a.createElement(oe,{key:t},a?i.a.createElement("span",{className:"color-grey-medium"},a," "):null,n,r?i.a.createElement("span",{onClick:function(e){l(e)},className:"anchor-link"}," "+r):null)})),w))},se=a(1617),de=a(342),ue=function(e){var t=e.details,a=void 0===t?"":t,n=e.isBlockCard,r=void 0!==n&&n,o=e.blockCardClickAction,l=void 0===o?function(){}:o;return Array.isArray(a)&&a.length?a.map((function(e,t){var a=e.duration,n=e.stops,r=e.airlineLogos,o=e.fromDetails,l=void 0===o?{}:o,c=e.toDetails,s=void 0===c?{}:c,d=a+", "+n;return i.a.createElement("div",{key:t,className:"row mbottom-large"},i.a.createElement("div",{className:"col-md-2 text-center"},(r||[]).map((function(e,t){return i.a.createElement("span",{key:t,className:"flight-icon"},i.a.createElement(de.a,{disableLazyLoad:!0,src:e.url,defaultImage:e.default,alt:e.name||" "}))}))),i.a.createElement("div",{className:"col-md-10"},i.a.createElement("div",{className:"row route-details"},i.a.createElement("div",{className:"col-md-5 col-lg-4"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("p",null,i.a.createElement("b",null,l.time)," ",l.from," ",i.a.createElement("sup",{className:"fine-text color-grey-medium"},l.date),i.a.createElement("span",{className:"color-grey-medium"},l.stops)))),i.a.createElement("div",{className:"col-md-4 col-lg-4 pl-0 pr-0"},i.a.createElement(se.e,{content:d})),i.a.createElement("div",{className:"col-md-3 col-lg-4"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("p",null,s.to," ",i.a.createElement("b",null,s.time)))))))})):i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"".concat(r?"col-md-6":"col-md-12")},i.a.createElement("p",{className:"meta-text vmargin-large vertical-center"},i.a.createElement("i",{className:"color-accent-10 pyt-alert-square-16"}),"\xa0\xa0",a)),r?i.a.createElement("div",{className:"text-right col-md-6 vmargin-medium"},i.a.createElement(h.a,{buttonClass:"btn btn-default btn-outline btn-outline-bg btn-sm",buttonText:"Add Custom Item",onClickAction:l})):null)},me=a(1653),pe=a(23),fe=function(e){var t,a=e.fullContent,n=e.departureTime,r=e.pickup,o=e.arrivalTime,l=e.drop,c=e.duration,d=e.departureDate,u=e.arrivalDate,m=e.type,p=e.comboPricingMessageBox,f=(t={},Object(W.a)(t,s.k.FERRY,"pyt-ship-16"),Object(W.a)(t,s.k.TRAIN,"pyt-train-16"),Object(W.a)(t,s.k.BUS,"pyt-bus-16"),t);return a?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("p",{className:"meta-text light vmargin-medium"},a))):i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("section",{className:"route-details row row-eq-hgt vmargin-medium"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("p",null,i.a.createElement("b",null,n,"\xa0"),i.a.createElement("sup",{className:"color-grey-medium"},d),i.a.createElement("span",null,r)))),i.a.createElement("div",{className:"col-md-4 pl-0 pr-0"},i.a.createElement(se.e,{content:c,iconClassName:f[m]||f[s.k.TRAIN]})),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("p",null,i.a.createElement("b",null,o,"\xa0"),i.a.createElement("sup",{className:"color-grey-medium"},u),i.a.createElement("span",null,l))))),p?i.a.createElement("span",{className:"tag-secondary color-white bg-base"},i.a.createElement("span",{className:"pyt-check-circle-24 color-accent-2 swiss-pass-icon"}),i.a.createElement("span",{className:""},p)):null))},he=a(1741),ve=a(214),ge=a(1768),be=function(e){var t=Object.assign({},e);return i.a.createElement(ge.a,Object.assign({speed:1,width:"100%",height:140,viewBox:"0 0 1020 210",backgroundColor:"#d6d6d6",foregroundColor:"#ecebeb"},t),i.a.createElement("rect",{x:"6",y:"38",rx:"3",ry:"3",width:"328",height:"16"}),i.a.createElement("rect",{x:"58",y:"70",rx:32,ry:32,width:"44",height:"44"}),i.a.createElement("rect",{x:"126",y:"70",width:"160",height:"16"}),i.a.createElement("rect",{x:"126",y:"100",width:"124",height:"16"}),i.a.createElement("rect",{x:"404",y:"98",width:"38",height:"2.5"}),i.a.createElement("rect",{x:"440",y:"86",rx:16,ry:16,width:"104",height:"24"}),i.a.createElement("rect",{x:"544",y:"98",width:"38",height:"2.5"}),i.a.createElement("rect",{x:"720",y:"70",width:"160",height:"16"}),i.a.createElement("rect",{x:"756",y:"100",width:"124",height:"16"}))},ye=a(1711),Ee=a(1592),Ce=a(1593);a.d(t,"a",(function(){return De}));var xe=s.k.HOTEL,Oe=s.k.FLIGHT,Ne=s.k.TRAIN,we=s.k.FERRY,ke=s.k.RENTALCAR,Se=s.k.TRANSFER,Ae=s.k.VISA,je=s.k.PASS,Ie=s.k.ACTIVITY,Te=s.k.BUS,Re=Object(c.default)(he.a).withConfig({displayName:"InclusionCardWrapper__RecommendedTag"})(["position:absolute;top:8px;left:8px;z-index:1;"]),De=c.default.span.withConfig({displayName:"InclusionCardWrapper__ExclusiveTag"})(["margin-top:12px;width:125px;font-style:normal;font-weight:600;font-size:12px;font-weight:700;text-transform:uppercase;line-height:1.18;letter-spacing:-0.15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:absolute;top:0;left:0;z-index:1;padding:8px;i{padding-right:4px;}*::after{background:#000;padding-left:4px;font-size:11px;content:'';position:absolute;left:-16px;top:0;width:100%;height:100%;transform:skew(22deg);transform-origin:100% 0;z-index:-1;}"]);t.b=function(e){var t=e.type,a=e.rootClassName,o=void 0===a?"":a,c=e.header,u=e.secondaryHeader,m=void 0===u?{}:u,p=e.details,f=e.contentClickAction,h=void 0===f?null:f,v=e.contentRootClass,b=void 0===v?"":v,y=e.image,E=e.logo,C=e.hasSlider,x=e.sliderSettings,O=void 0===x?{}:x,k=e.sliderContainer,A=void 0===k?"incl-slider":k,j=e.sliderImages,I=void 0===j?{}:j,T=e.disableLeftSection,R=e.isDisabled,D=e.disableText,F=void 0===D?s.f:D,P=e.alerts,M=void 0===P?[]:P,_=e.isReadOnly,L=void 0!==_&&_,B=e.isT20,H=void 0!==B&&B,z=e.price,U=void 0===z?null:z,K=e.sourceProvider,W=void 0===K?"":K,G=e.publishedPrice,Y=void 0===G?null:G,q=e.isFree,J=void 0!==q&&q,Q=e.onEditClick,X=void 0===Q?null:Q,$=e.canEditPrice,ee=void 0!==$&&$,te=e.ourSourceProviders,ie=e.discountAppliedBatch,oe=e.AOTpills,le=e.IslandHopperDiscountBadge,se=e.discountBadge,he=e.isDiscountApplied,ge=e.isBooked,Fe=e.isBlockCard,Pe=void 0!==Fe&&Fe,Me=e.recommendedHotel,_e=e.exclusiveRecommended,Le=e.blockCardClickAction,Be=void 0===Le?function(){}:Le,He=e.itineraryVersion,Ve=void 0===He?null:He,ze=e.isAdmin,Ue=void 0!==ze&&ze,Ke=e.tripAdvisorReviewCount,We=void 0===Ke?0:Ke,Ge=e.hotelName,Ye=void 0===Ge?"":Ge,qe=e.offline,Je=void 0!==qe&&qe,Qe=e.isLoading,Xe=void 0!==Qe&&Qe,$e=e.isRoundTrip,Ze=void 0!==$e&&$e,et=e.lastDataUpdatedMillis,tt=e.showAllocation,at=e.costingId,nt=e.entityType,it=e.bookingNotes,rt=e.status,ot=e.userDetails,lt=null,ct="col-md-4 pl-0 pr-0",st=T?"col-md-12":"col-md-8",dt=t===Ne?"n-tracker-inclusions-change-train":t===Oe?"n-tracker-inclusions-change-flight":"",ut=!ge&&Pe;switch(t){case xe:lt=i.a.createElement(S,Object.assign({},p,{offline:Je,starRating:c.starRating,discountAppliedBatch:ie,ourSourceProviders:te,status:c&&c.status,AOTpills:oe,IslandHopperDiscountBadge:le,discountBadge:se,isBlockCard:ut,blockCardClickAction:Be,sourceProvider:W,isAdmin:Ue,tripAdvisorReviewCount:We,hotelName:Ye,lastDataUpdatedMillis:et,showAllocation:tt,isBooked:ge}));break;case Se:case ke:lt=i.a.createElement(ce,Object.assign({},p,{labelIn:s.g,labelOut:s.d,alerts:M,type:t}));break;case Oe:lt=i.a.createElement(ue,{details:p,isBlockCard:ut,blockCardClickAction:Be});break;case Te:case we:case Ne:lt=i.a.createElement(fe,Object.assign({},p,{type:t}));break;case Ie:lt=i.a.createElement(re,Object.assign({},p,{isFree:J}));break;case je:case Ae:var mt=p.title,pt=p.list,ft=void 0===pt?[]:pt,ht=p.childElement,vt=void 0===ht?null:ht,gt=p.visaClassName,bt=void 0===gt?"vertical-center":gt,yt=N(et),Et=yt.text,Ct=yt.days,xt=et&&i.a.createElement("span",{className:g()("discount-ribbon",{"accent-4":Ct<30,"accent-7":Ct>30})},"Last updated ",Et," ago");lt=i.a.createElement("div",{className:bt},i.a.createElement("div",{className:"vmargin-large"},xt&&i.a.createElement("div",{className:"col-md-12 text-right mbottom-small"},xt),mt?i.a.createElement("p",{className:"small-heading"},mt):null,vt,i.a.createElement("ul",{className:"dot-list meta-text light"},ft.map((function(e,t){return i.a.createElement("li",{key:t},e)})))));break;default:return null}var Ot=i.a.createElement(Re,null,i.a.createElement("i",{className:"pyt-thumb-up-16"}),i.a.createElement("b",null,"Top Recommended")),Nt=_e?i.a.createElement(De,{className:"color-white"},i.a.createElement("i",{className:"color-primary-dark pyt-flag-16"}),"PYT EXCLUSIVE"):Me?Ot:null,wt=R?{_disableRoot:"disabled ",_disableContent:"disabled-layer ",_disableOverlay:i.a.createElement("span",{className:"sold-out"},F),_clickAction:function(){}}:{_clickAction:h},kt=wt._disableRoot,St=void 0===kt?"":kt,At=wt._disableContent,jt=void 0===At?"":At,It=wt._disableOverlay,Tt=void 0===It?null:It,Rt=wt._clickAction,Dt=Object(r.e)((function(e){var t=e.app;return(void 0===t?{}:t).itineraryInfo})),Ft=Object(ve.b)(Dt),Pt=Object(Ee.a)({permissions:null===ot||void 0===ot?void 0:ot.permissions,key:Ce.p});return i.a.createElement("section",{className:"inclusion-box ".concat(h?"cursor-pointer":""," ").concat(St," ").concat(o),onClick:Ft?null:Rt},i.a.createElement(V,Object.assign({type:t},c,{isReadOnly:L,isT20:H,price:U,isFree:J,onEditClick:X,canEditPrice:ee&&!Pe,isBooked:ge,publishedPrice:Y,trackerClass:dt,itineraryVersion:Ve,isAdmin:Ue,canEditHod:Pt})),t===Oe?i.a.createElement(n.Fragment,null,Xe?i.a.createElement(w.a,{direction:"column",paddingTop:12,paddingLeft:12,gutter:0},i.a.createElement(Z.a,{fontFamily:"Source Sans Pro",color:"#444444",fontSize:13},Ze?"Reverting back to round trip flight":"Checking API price for one way flight"),i.a.createElement(be,null)):i.a.createElement(i.a.Fragment,null,Object.keys(m).length?i.a.createElement(ae,Object.assign({},m,{isDiscountApplied:he})):null,lt)):t!==Ae||p.childElement?i.a.createElement("div",{className:"row ".concat(jt," ").concat(b)},T?null:i.a.createElement("div",{className:ct},function(){if(C&&I.imageUrl&&I.imageUrl.length){var e=Object.assign({dots:!0,infinite:!1,slidesToShow:1,slidesToScroll:1},O);return I.imageUrl.length>5&&I.imageUrl.splice(5,I.imageUrl.length),i.a.createElement(n.Fragment,null,Nt,i.a.createElement(l.a,Object.assign({className:A},e),I.imageUrl.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("div",{className:I.sliderClass,style:{backgroundImage:"url(".concat(""===e&&Object(me.a)(e)?Object(pe.a)(d.b.roomsLarge):Object(pe.a)(e),")")}}))}))))}return y?i.a.createElement(n.Fragment,null,Nt,i.a.createElement(de.a,{className:"left-img",src:y,defaultImage:Object(d.a)(t),alt:"inclusions-img",imgFactor:"rentalcar"===t?"w=250&h=220&fit=fill&fill=solid":"w=250&h=180&fit=crop"})):E?(ct="col-md-4",i.a.createElement("img",{className:"center-block other-logo",alt:t+" Logo",src:E})):null}()),i.a.createElement("div",{className:st},Tt,Object.keys(m).length?i.a.createElement(ae,Object.assign({},m,{type:t,ourSourceProviders:te,isDiscountApplied:he,lastDataUpdatedMillis:et})):null,lt)):null,M.length?i.a.createElement(ne.a,Object.assign({},M[0],{alerts:M,count:M.length>1?M.length-1:null})):null,at&&nt&&Pt&&"NOT_COSTED"!==rt&&"USER_REMOVED"!==rt?i.a.createElement(ye.a,{itineraryInfo:Dt,isAdmin:Ue,canEditHod:Pt,costingId:at,entityType:nt,bookingNotes:it}):null)}},1653:function(e,t,a){"use strict";function n(e){return void 0===e||null===e}a.d(t,"a",(function(){return n}))},1655:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(2).default.div.withConfig({displayName:"ModalHeader__HeaderContainer"})(["position:absolute;left:0;top:",";width:100%;display:flex;align-items:center;justify-content:space-between;padding:8px 16px;min-height:64px;background-color:#000;color:#fff;text-align:center;font-size:20px;.medium-heading{color:rgba(0,0,0,0.3);}button{background-color:transparent;color:#fff;border:none;padding:4px;line-height:1;i{font-size:24px;&.pyt-close-16{font-size:20px;}}}"],(function(e){return e.isPDG?"84px":"0"})),o=i.a.createElement("i",null);t.a=function(e){var t=e.title,a=e.isPDG,n=e.showActionButtons,l=e.leftIcon,c=void 0===l?"pyt-arrow-left-24":l,s=e.rightIcon,d=void 0===s?"pyt-close-16":s,u=e.onLeftClick,m=e.onRightClick;return i.a.createElement(r,{isPDG:a},n&&"function"===typeof u?i.a.createElement("button",{type:"button",className:"btn",onClick:u},i.a.createElement("i",{className:c})):o,i.a.createElement("span",{className:"semi-bold"},t),n&&"function"===typeof m?i.a.createElement("button",{type:"button",className:"btn",onClick:m},i.a.createElement("i",{className:d})):o)}},1656:function(e,t,a){"use strict";t.a=function(){var e=document.getElementsByTagName("header")[0];if(e){var t=document.getElementsByClassName("main-container")[0];e.classList.remove("unpin-md"),t&&t.classList.remove("hide-hdr")}}},1659:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(23),i=a(14).a.images_cdn_url_s3;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no-image",t=arguments.length>1?arguments[1]:void 0;return{name:t||e,url:Object(n.a)(i+"web_app/itinerary/airline-logos/square/".concat(e||"".trim(),".jpg")),default:Object(n.a)(i+"web_app/itinerary/airline-logos/square/default-logo.jpg")}}},1661:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(35),u=a.n(d);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var p=function(e){Object(r.a)(a,e);var t=m(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).clickAction=function(e,t){e&&e.preventDefault();var a=i.props.onClickAction,n=void 0===a?function(){}:a,r=i.state.disableIndex,o=r.indexOf(t);t=i.state.activeIndex===t?null:t,o>=0?r.splice(o,1):r.push(t),i.setState({activeIndex:t,disableIndex:r},(function(){n(e,t)}))},i.accordianElements=function(){var e=i.props,t=e.rootClassName,a=void 0===t?"panel":t,n=e.components,r=void 0===n?[]:n,o=e.expandAll,l=void 0===o||o,c=i.state,d=c.activeIndex,m=c.disableIndex;return r.map((function(e,t){if(!e)return null;var n=e.header,r=e.headerClassName,o=void 0===r?"panel-heading":r,c=e.content,p=e.contentClassName,f=void 0===p?"panel-collapse collapse":p,h=!(l||d===t)||l&&m.indexOf(t)>=0;return s.a.createElement("section",{itemProp:"mainEntity",itemScope:"",itemType:"http://schema.org/Question",key:t,className:a},n?s.a.createElement("div",{className:u()(o,{collapsed:h}),"data-toggle":"collapse","data-parent":"#accordion",onClick:function(e){i.clickAction(e,t)},"aria-expanded":!h},n):null,s.a.createElement("div",{className:u()(f,{in:!h}),"aria-expanded":!h},s.a.createElement("div",{className:"panel-body"},c)))}))},i.state={activeIndex:e.activeIndex,disableIndex:[]},i}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"panel-group",id:"accordion"},this.accordianElements())}}]),a}(c.Component);p.defaultProps={headerClassName:"panel-heading",childrenClassName:"panel-collapse collapse",rootClassName:"panel"}},1662:function(e,t,a){"use strict";a.d(t,"d",(function(){return b})),a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return E})),a.d(t,"c",(function(){return C}));var n=a(0),i=a.n(n),r=a(900),o=a(1601),l=a(196),c=a.n(l),s=a(20),d=function(){return i.a.createElement("div",null,"Dummy")},u=function(e){var t=e.loaderState,a=e.rows,n=void 0===a?2:a;return i.a.createElement(c.a,{color:"transparent",className:"animated-background",type:"text",rows:n,ready:t},i.a.createElement(d,null))},m=function(e){var t=e.loaderState;return i.a.createElement(r.RectShape,{color:"transparent",className:"animated-background media-image",style:{width:"100%"},ready:t},i.a.createElement(d,null))},p=function(e){return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(u,e)))};function f(e){return Object(s.a)()?Object(o.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"hotel-alter-card",style:{padding:"5px",border:"1px solid #dddddd",height:"180px"}},i.a.createElement("div",{style:{height:"100px"}},i.a.createElement(m,e)),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))))})):Object(o.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"flight-card"},i.a.createElement("div",{className:"left-col"},i.a.createElement(m,e)),i.a.createElement("div",{className:"middle-col"},i.a.createElement("div",{className:"clearfix route"},i.a.createElement("div",{className:"split-width",style:{width:"98%"}},i.a.createElement(u,e))),i.a.createElement("div",{className:"clearfix route"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"clearfix route"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"card-footer"},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"col-xs-4 col-xs-offset-4",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))))),i.a.createElement("div",{className:"right-col price-variant-col"},i.a.createElement(m,e)))}))}function h(e){return Object(s.a)()?Object(o.a)(0,4).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"hotel-alter-card mbottom-medium",style:{padding:"5px",border:"1px solid #dddddd",height:"180px"}},i.a.createElement("div",{style:{height:"100px"}},i.a.createElement(m,e)),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))))})):Object(o.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"train-card"},i.a.createElement("div",{className:"left-col"},i.a.createElement(m,e)),i.a.createElement("div",{className:"middle-col"},i.a.createElement("div",{className:"clearfix route"},i.a.createElement("p",{className:"split-width",style:{width:"98%"}},i.a.createElement(u,e))),i.a.createElement("div",{className:"clearfix route mtop-small"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:"1"})))),i.a.createElement("div",{className:"clearfix route mtop-small"},i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"split-width text-center",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:"1"})))),i.a.createElement("div",{className:"card-footer mtop-small"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4 col-xs-offset-4",style:{width:"32%"}},i.a.createElement(u,Object.assign({},e,{rows:"1"})))))),i.a.createElement("div",{className:"right-col price-variant-col"},i.a.createElement(m,Object.assign({},e,{height:"100px"}))))}))}function v(e){return Object(o.a)(0,6).map((function(t){return i.a.createElement("div",{className:"col-md-4",key:"loading_placeholder_"+t},i.a.createElement("div",{className:"activity-alter-card"},i.a.createElement("div",{className:"pos-r"},i.a.createElement("div",{className:"activity-alter-slider slick-initialized slick-slider"},i.a.createElement(m,e))),Object(s.a)()?null:i.a.createElement("div",{className:"detail-box"},i.a.createElement("div",{className:"detail-txt"},i.a.createElement("span",{className:"meta-text"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("span",{style:{width:"50%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"row clearfix"},i.a.createElement("div",{className:"col-md-6 pr-0"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(u,Object.assign({},e,{rows:1})))))))}))}function g(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),Object(o.a)(0,5).map((function(t,a){return i.a.createElement(n.Fragment,{key:a},i.a.createElement("section",{className:"panel"},i.a.createElement(u,e),i.a.createElement(p,e)),i.a.createElement("hr",null))})))}function b(e){var t=Object(s.a)();return i.a.createElement("div",{tabIndex:"0",className:"flights-alternate mbottom-large"},e.children,i.a.createElement("div",{className:"container lg-container"},i.a.createElement("div",{className:"row"},t?null:i.a.createElement("aside",{className:"col-md-3 altermodal-filters",style:{zIndex:1}},i.a.createElement("div",{className:"panel-group"},i.a.createElement(g,{loaderState:!1}))),i.a.createElement("div",{className:"col-md-9"},i.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium"},"Loading..."),i.a.createElement(f,{loaderState:!1,isMobileDevice:t,title:"Change Flight"})))))}function y(e){return Object(s.a)()?Object(o.a)(0,3).map((function(t){return i.a.createElement("section",{key:"loading_placeholder_"+t,className:"hotel-alter-card",style:{padding:"5px",border:"1px solid #dddddd",height:"180px"}},i.a.createElement("div",{style:{height:"100px"}},i.a.createElement(m,e)),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))),i.a.createElement("div",{className:"card-footer",style:{marginTop:"12px"}},i.a.createElement("div",{className:"row mbottom-medium"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(u,Object.assign({},e,{rows:"1"}))))))})):Object(o.a)(0,6).map((function(t){return i.a.createElement("div",{className:"col-md-4",key:"loading_placeholder_"+t},i.a.createElement("div",{className:"activity-alter-card"},i.a.createElement("div",{className:"pos-r"},i.a.createElement("div",{className:"activity-alter-slider slick-initialized slick-slider"},i.a.createElement(m,e))),Object(s.a)()?null:i.a.createElement("div",{className:"detail-box"},i.a.createElement("div",{className:"detail-txt"},i.a.createElement("span",{className:"meta-text"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("span",{style:{width:"50%"}},i.a.createElement(u,Object.assign({},e,{rows:1})))),i.a.createElement("div",{className:"row clearfix"},i.a.createElement("div",{className:"col-md-6 pr-0"},i.a.createElement(u,Object.assign({},e,{rows:1}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(u,Object.assign({},e,{rows:1})))))))}))}function E(){var e=Object(s.a)();return i.a.createElement(v,{loaderState:!1,isMobileDevice:e,title:"Change Hotel"})}function C(e){var t=Object(s.a)();return i.a.createElement("div",{tabIndex:"0",className:"hotels-alternate train-alternate mbottom-large mbottom-large"},e.children,i.a.createElement("div",{className:"container lg-container"},i.a.createElement("div",{className:"row"},t?null:i.a.createElement("aside",{className:"col-md-3 altermodal-filters"},i.a.createElement("div",{className:"panel-group"},i.a.createElement(g,{loaderState:!1}))),i.a.createElement("div",{className:"col-md-9"},i.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium"},"Loading..."),i.a.createElement(h,{parentClass:"train-card",loaderState:!1,isMobileDevice:t,title:"Change Train"})))))}},1667:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(55);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var m=function(e){Object(r.a)(a,e);var t=u(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.diff||{};return s.a.createElement("span",{className:this.props.classNames},"PRICEINCREASE"===e.diffChangeType?s.a.createElement("span",{className:"pyt-arrow-top-16 color-danger"}):null,"PRICEDECREASE"===e.diffChangeType?s.a.createElement("span",{className:"pyt-arrow-down-16 color-success"}):null,s.a.createElement(d.a,{objectData:e,path:"diffCost",defaultValue:"0"}))}}]),a}(c.Component)},1668:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(590);function i(e,t,a){e(Object(n.a)({island_notification:!0,message:t,currentTarget:a}))}},1669:function(e,t,a){"use strict";function n(e,t){var a;if(!e)return 0;try{switch(typeof e){case"object":a=+e[t];break;case"string":a=+e;break;case"undefined":a=0;break;default:a=e||0}return a}catch(n){return 0}}a.d(t,"a",(function(){return n}))},1673:function(e,t,a){"use strict";var n=a(11),i=a(0),r=a.n(i),o=a(2),l=a(20),c=o.default.div.withConfig({displayName:"ScrollProgressBar__ProgressContainer"})(["position:absolute;left:0;top:0;right:0;background:",";height:4px;z-index:2;"],(function(e){return e.backgroundColor||"#000"})),s=o.default.span.withConfig({displayName:"ScrollProgressBar__ProgressLine"})(["position:absolute;top:0px;bottom:0px;left:0px;background:#777777;transition:width 0.3s;"]);t.a=function(e){var t=e.backgroundColor,a=void 0===t?"":t,i=r.a.useState(0),o=Object(n.a)(i,2),d=o[0],u=o[1];r.a.useEffect((function(){return window.addEventListener("scroll",m),function(){window.removeEventListener("scroll",m)}}),[]);var m=function(){var e=document.scrollingElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,a="".concat(e/t*100,"%");u(a)};return Object(l.a)()?null:r.a.createElement(c,{backgroundColor:a},r.a.createElement(s,{style:{width:d}}))}},1674:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(35),u=a.n(d),m=a(191),p=a(1673),f=a(23),h=a(156);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var g=function(e){Object(r.a)(a,e);var t=v(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeIndes:[],searchExpand:!1},e.onClickAction=function(t,a,n){t&&t.preventDefault();var i=e.state.activeIndes,r=i.indexOf(n);r>-1?i.splice(r,1):i.push(n),e.setState({activeIndex:i}),a.onClickAction()},e.onChangeAction=function(t){t&&t.preventDefault();var a=t.currentTarget.value;e.props.onChangeAction(a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isMobile,n=void 0!==a&&a,i=t.onClickCloseAction,r=t.headerContent,o=t.sortingContents,l=void 0===o?[]:o,d=t.searchPlaceHolder,v=void 0===d?"Find":d,g=t.enableSearch,b=void 0!==g&&g,y=t.rootClassName,E=void 0===y?null:y,C=t.defaultActiveIndes,x=void 0===C?null:C,O=t.isFetching,N=void 0===O?null:O,w=t.buttonText,k=void 0===w?"Back to itinerary":w,S=s.a.createElement("div",{className:"container sm-full-width lg-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:u()("col-xs-9 col-sm-11 left-txt",{"col-md-10":n,"col-md-3":!n})},s.a.createElement("p",{style:{display:"inline-block"}},s.a.createElement("img",{width:n?26:28,src:Object(f.a)("https://pyt-images.imgix.net/images/web_app/logo/logo-mark-white.svg"),onClick:function(){Object(h.a)("/","")},alt:"pickyourtrail",style:{marginRight:"6px",marginBottom:"2px"}}),r)),n?null:function(){var t=e.state.activeIndes,a=l.map((function(a,n){var i=(x||t).indexOf(n)>-1;return s.a.createElement("li",{onClick:function(t){return e.onClickAction(t,a,n)},key:n,className:u()("",{active:i})},i?s.a.createElement("i",{className:"pyt-sort-".concat("ASC"!=(a.sortOrder||"").toUpperCase()?"descending":"ascending","-16")}):null," ".concat(a.title))}));return s.a.createElement("div",{className:"col-md-6 hidden-sm hidden-xs"},s.a.createElement("section",{className:"mid-tabs"},N?null:s.a.createElement(c.Fragment,null,b?s.a.createElement("div",{className:"search ".concat(e.state.searchExpand?"expand":"")},s.a.createElement("input",{onChange:e.onChangeAction,onFocus:function(t){t&&t.preventDefault(),e.setState({searchExpand:!0})},value:e.props.searchTerm,onBlur:function(t){t&&t.preventDefault(),e.setState({searchExpand:!1})},type:"text",placeholder:v}),s.a.createElement("i",{className:"pyt-backspace-24",onClick:function(t){t&&t.preventDefault(),e.setState({searchExpand:!1,textValue:""},(function(){e.props.onChangeAction("")}))}})):null,s.a.createElement("ul",null,a))))}(),s.a.createElement("div",{className:u()("col-xs-3 col-sm-1 text-right",{"col-md-2":n,"col-md-3":!n})},n?s.a.createElement(m.a,{buttonClass:"action-btn",onClickAction:i},s.a.createElement("i",{className:"pyt-close-16"})):s.a.createElement(m.a,{buttonClass:"back-link",onClickAction:i,buttonText:k}))));return n?s.a.createElement("div",{className:E||"subheader-modals"},S):s.a.createElement("section",{className:E||"subheader-modals mbottom-medium"},s.a.createElement(p.a,null),S)}}]),a}(c.Component)},1684:function(e,t,a){"use strict";function n(){window.currentSize={width:window.innerWidth,height:window.innerHeight}}a.d(t,"a",(function(){return n}))},1692:function(e,t,a){"use strict";var n=a(11),i=a(0),r=a.n(i),o=a(45),l=a.n(o),c=a(2),s=a(349),d=a(20),u=a(253),m=a(1637),p=c.default.div.withConfig({displayName:"SpecialInclusionsModal__ModalWrapper"})(["cursor:default;color:black;"]),f=c.default.button.withConfig({displayName:"SpecialInclusionsModal__SaveButton"})(["float:right;margin-right:2rem;margin-bottom:1rem;"]),h=c.default.ul.withConfig({displayName:"SpecialInclusionsModal__ModalContainer"})(["border:1px solid #e3e3e3;margin-top:16px;padding-left:36px;border-radius:4px;padding-bottom:16px;padding-top:16px;li{padding-left:0px !important;margin-bottom:1px !important;color:black;}.titleLi{list-style:none;margin-left:-1em;color:#666666;font-weight:bold;}.emptyPill{list-style:none;min-height:0.5em;}"]),v=c.default.h1.withConfig({displayName:"SpecialInclusionsModal__ModalTitle"})(["font-size:19px;line-height:24px;color:#848791;float:left;"]),g=c.default.h1.withConfig({displayName:"SpecialInclusionsModal__PrefTitle"})(["font-size:19px;line-height:24px;color:black;float:left;"]),b=c.default.li.withConfig({displayName:"SpecialInclusionsModal__HotelTitle"})(["font-weight:600;font-size:16px;list-style:none;margin-left:-1em;padding-bottom:0.5em;"]),y=c.default.div.withConfig({displayName:"SpecialInclusionsModal__ModalBody"})(["margin:0 32px 32px 9px;overflow:auto;"]),E=c.default.div.withConfig({displayName:"SpecialInclusionsModal__PrefModal"})(["margin:0 32px 32px 9px;overflow:auto;"]),C=c.default.div.withConfig({displayName:"SpecialInclusionsModal__MobileBar"})(["position:absolute;top:auto;bottom:0px;left:0px;width:100%;min-height:32px;z-index:1;box-shadow:rgba(48,80,89,0.3) 0px -1px 10px;padding:8px;"]),x=Object(d.a)();t.a=function(e){var t=e.data,a=void 0===t?[]:t,o=e.onModalClose,c=e.hotelName,d=e.pref,O=e.saveModal,N=e.handleCheckboxChange,w=e.checked,k=e.disableSubmit,S=e.offline,A=void 0!==S&&S,j=Object(i.useState)(null),I=Object(n.a)(j,2),T=I[0],R=I[1];Object(i.useEffect)((function(){return R(document.querySelector("#modal-portal-container")),Object(s.a)(),function(){Object(u.a)()}}),[]);return T?l.a.createPortal(r.a.createElement(p,{className:"modal-open",onClick:function(e){e&&e.stopPropagation()}},r.a.createElement("div",{className:"modal fade before-you-book modal-sticky-bars in"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content with-header"},r.a.createElement("div",{className:"modal-header"},d?r.a.createElement(g,null," ",r.a.createElement("b",null,d?"Did we cross the Line?":"Here\u2019s what you get with your stay"," ")):r.a.createElement(v,null," ",r.a.createElement("b",null,d?"Did we cross the Line?":"Here\u2019s what you get with your stay"," ")),r.a.createElement("button",{type:"button",className:"close",onClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation(),Object(u.a)(),o()}},r.a.createElement("i",{className:"pyt-close-16"}))),d?r.a.createElement(E,null,r.a.createElement("div",{className:"col-xs-12"},d?r.a.createElement("span",null,"While we never intended on being pushy, we acknowledge"," ",r.a.createElement("br",null)," you didn\u2019t feel the same. We\u2019d like to know your thoughts on ",r.a.createElement("br",null)," how we could improve our communication"):null,r.a.createElement(b,{key:"hotelName"},c),d?Object(m.a)(w,N):Object(m.b)({data:a,type:"modal"}))):r.a.createElement(y,null,r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(h,null,d?"While we never intended on being pushy, we acknowledge you didn\u2019t feel the same. We\u2019d like to know your thoughts on how we could improve our communication":null,r.a.createElement(b,{key:"hotelName"},c),d?Object(m.a)(w,N):Object(m.b)({data:a,type:"modal",offline:A})))),x&&d?r.a.createElement(C,null,r.a.createElement("button",{className:"btn btn-primary btn-block ",onClick:O,disabled:k},"Submit Feedback"," ")):null,d&&!x?r.a.createElement(f,{type:"button",className:"btn btn-primary ",onClick:O,disabled:k},"Submit Feedback"," "):null))),r.a.createElement("div",{className:"modal-backdrop fade in"})),T):null}},1693:function(e,t,a){"use strict";function n(e){return function(t){var a=(window.currentSize||{}).width,n=void 0===a?null:a;if(!e||!e.target||null===n)return null;var i=e.target.innerWidth,r=e.target.innerHeight;(n>=767&&i<=767||n<=767&&i>=767||n>=991&&i<=991||n<=991&&i>=991)&&(window.currentSize={width:i,height:r},t({type:"RELOAD_COMPONENT",payload:[]}))}}a.d(t,"a",(function(){return n}))},1694:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n),r=a(191),o=function(e){var t=e.disableSearch,a=e.showSearch,n=e.updateShowSearch,o=e.showFilter,l=e.onUpdateClick,c=e.onFilterShow,s=e.searchTerm,d=e.onChangeSearchTerm,u=e.pills,m=0;(void 0===u?[]:u).map((function(e){e.current&&e.current.pillElements&&(m+=e.current.pillElements.length)}));var p=m>0;return i.a.createElement("div",{className:"altermodal-xs-ftr popular-search-ftr"},i.a.createElement("div",{className:"space-around-btns"},!o&&i.a.createElement(r.a,{buttonClass:"btn btn-link-grey ".concat(p?"pos-r":""),onClickAction:c},i.a.createElement("i",{className:"pyt-filter-24"})," ","FILTER",p?i.a.createElement("span",{className:"highlight"},m):null),t?null:!a&&!o&&i.a.createElement(r.a,{buttonClass:"btn btn-link-grey showSearch",onClickAction:n},i.a.createElement("i",{className:"pyt-search-24"})," SEARCH")),a&&!o&&i.a.createElement("div",{className:"search-input"},i.a.createElement("input",{type:"text",placeholder:"Popular Search",onChange:function(e){e&&e.preventDefault(),d(e.currentTarget.value)},value:s}),i.a.createElement("i",{className:"pyt-search-16"}),i.a.createElement("i",{className:"pyt-backspace-fill-16 closeSearch",onClick:n})),o&&i.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:l},"Update"))}},1695:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a.n(n);function r(e){var t=e.pills,a=[];return(void 0===t?[]:t).map((function(e){e.current&&e.current.pillElements&&a.push(e.current.pillElements)})),a.length?i.a.createElement("ul",{className:"popular-tags list-inline no-margin"},a):null}},1702:function(e,t,a){"use strict";function n(){return function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}()&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize"}a.d(t,"a",(function(){return n}))},1710:function(e,t,a){"use strict";a.d(t,"b",(function(){return H})),a.d(t,"a",(function(){return z}));var n=a(68),i=a(1),r=a(38),o=a(39),l=a(46),c=a(56),s=a(29),d=a(0),u=a.n(d),m=a(20),p=a(106),f=a(35),h=a.n(f),v=a(290),g=a(1678),b=a(192),y=a.n(b),E=a(1674),C=a(1600),x=a(1647),O=a(1640),N=a(1661),w=a(1694),k=a(1662),S=a(1695),A=a(1639),j=a(1604),I=a(15),T=a(7),R=a(23),D=a(1638),F=a(55),P=a(898),M=a.n(P),_=a(105),L=a(895);function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var H=function(e,t){return t?void 0===t.cost||null===t.cost?t.diff&&"PRICEINCREASE"===t.diff.diffChangeType:e-t.cost>0:0},V=function(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText},z=function(e){Object(l.a)(a,e);var t=B(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).closeFilter=function(){var e=y()(o.props.filterData);o.setState({showFilter:!1,filters:e})},o.onFilterShow=function(){var e=y()(o.props.filterData);o.setState({showFilter:!0,filters:e})},o.onUpdateClick=function(){var e=y()(o.state.filters);o.props.onUpdateButtonClick(e),o.closeFilter()},o.onTriggerDetailPage=function(){var e=o.props,t=e.history,a=e.location,n=e.params,i=n.searchRegion,r=n.itineraryId,l=n.configKey;t.push(Object(T.Jb)({itineraryId:r,regionCode:i,location:a,target:T.d,customParams:{configKey:l}}))},o.onFilterChange=function(e,t,a){var r=y()(o.state.filters[a]),l=r.indexOf(t);l>-1?r.splice(l,1):r.push(t),o.props.onClickRemoveNotFoundText(),o.setState((function(e){var t=e.filters;return{filters:Object(i.a)(Object(i.a)({},t),{},Object(n.a)({},a,r))}}))},o.onOtherFilterChange=function(e){null!==e&&(o.props.onClickRemoveNotFoundText(),o.setState((function(t){var a=t.filters,r=a.otherFilters,o=void 0===r?{}:r;return{filters:Object(i.a)(Object(i.a)({},a),{},{otherFilters:Object(i.a)(Object(i.a)({},o),{},Object(n.a)({},e,!o[e]))})}})))},o.updateShowSearch=function(){o.setState({showSearch:!o.state.showSearch},(function(){o.state.showSearch||o.props.onSearchAction("")}))},o.onChangeAlert=function(e){o.setState({openAlert:!0,currenActivity:e})},o.setAlert=function(){o.setState((function(e){return{showAlert:!e.showAlert}}))},o.state={showFilter:!1,showSearch:!1,filters:{},showAlert:!1,openAlert:!1,currenActivity:{}},o.durationReference=u.a.createRef(),o.slotReference=u.a.createRef(),o.typeReference=u.a.createRef(),o.interestReference=u.a.createRef(),o.otherReference=u.a.createRef(),o.transferReference=u.a.createRef(),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=y()(this.props.filterData);this.setState({filters:e})}},{key:"render",value:function(){var e=this,t=Object(m.a)(),a=this.props,n=a.headerTopContent,i=a.headerContent,r=a.currentPrice,o=a.alternates,l=void 0===o?[]:o,c=a.totalLength,s=a.filteredDataLength,f=a.pagination,b=a.otherFilters,T=void 0===b?[]:b,P=a.interestFilterOptions,B=void 0===P?[]:P,z=a.pytFilterApplied,U=a.sortApplied,K=a.isFilterApplied,W=a.replaceActivity,G=a.onCardClick,Y=a.updateFilters,q=a.updateOtherFilter,J=a.filterOnPytRecommended,Q=a.handlePriceRangeSliderChange,X=a.sortByPrice,$=a.closeActivityAlternate,Z=a.goBackAction,ee=a.onSearchAction,te=a.updatePagination,ae=a.fetchAlternateActivites,ne=a.showSearchResult,ie=a.detailsOpened,re=a.searchTerm,oe=a.splitPricingEnabled,le=a.minPrice,ce=a.maxPrice,se=a.selectedMinPrice,de=a.selectedMaxPrice,ue=a.filterData,me=a.showLoading,pe=a.costed,fe=a.staleCost,he=a.isFetching,ve=a.current_slot,ge=a.activityHeader,be=a.dataNotFoundText,ye=void 0===be?"":be,Ee=a.isAdmin,Ce=a.userDetails,xe=c>=250&&re&&!this.props.showReset&&ne,Oe=u.a.createElement(D.a,{image:Object(R.a)("https://d3lf10b5gahyby.cloudfront.net/packages/empty_state_illustration.png",t?"w=100&h=96&fit=crop":"w=160&h=153&fit=crop",20,void 0,!1),text:xe?u.a.createElement(d.Fragment,null,u.a.createElement("p",{key:"no-text-showAllActivitiesFetchCta"},"Oops! We couldn\u2019t find the activity you were looking for."),u.a.createElement("p",{key:"no-text-showAllActivitiesFetchCta"},u.a.createElement("b",null,"Try loading all activities")," and check if your activity is present in that list."," ")):Array.isArray(ye)?ye.map((function(e,t){return u.a.createElement("p",{key:"no-text-".concat(t)},e)})):ye,rootClassName:t?"col-xs-offset-1":"",ctaText:xe?"Load all activities":"",ctaAction:this.setAlert}),Ne=this.state,we=Ne.showFilter,ke=Ne.showSearch,Se=Ne.showAlert,Ae=Ne.openAlert,je=Ne.currenActivity,Ie=ue,Te=Y,Re=q;t&&(Ie=y()(this.state.filters),Te=this.onFilterChange,Re=this.onOtherFilterChange);var De=[{text:"Top Highlight",value:"highlight",defaultSelected:T.highlight},{text:"Kid Friendly",value:"kidFriendly",defaultSelected:T.kidFriendly},{text:"Fast Selling",value:"fastSelling",defaultSelected:T.fastSelling},{text:"Less explored gems",value:"explored",defaultSelected:T.explored},{text:"Self Exploration",value:"free",defaultSelected:T.free}],Fe=[];De.map((function(e){e.defaultSelected&&Fe.push(e.value)}));var Pe=[],Me={content:u.a.createElement("div",{className:"smart-filter mbottom-medium"},"Smart Filter",u.a.createElement(p.a,{placement:"bottom",text:j.c},u.a.createElement("i",{className:"cursor-pointer pyt-help-16"})),u.a.createElement(A.a,{onChangeAction:J}))},_e={header:"Activity Duration",content:u.a.createElement(O.a,{ref:this.durationReference,orientation:"Vertical",buttonClass:"",target:"durationFilters",activeButtons:Ie.durationFilters,onClickAction:Te,componentValues:[{text:"Quarter Day",value:"quarter",active:!0},{text:"Half Day",value:"half"},{text:"Full Day",value:"full"}]})},Le={header:"Time slot",content:u.a.createElement(O.a,{ref:this.slotReference,buttonClass:"",target:"timeFilters",orientation:"Vertical",activeButtons:Ie.timeFilters,onClickAction:Te,componentValues:[{text:"Morning",value:"morning"},{text:"Afternoon",value:"noon"},{text:"Evening",value:"evening"}]})},Be={header:"Group Type",content:u.a.createElement(O.a,{ref:this.typeReference,buttonClass:"",activeButtons:Ie.typeFilters,onClickAction:Te,target:"typeFilters",componentValues:[{text:"Shared",value:"shared"},{text:"Private",value:"private"}]})},He={header:"Interests",content:u.a.createElement(O.a,{ref:this.interestReference,activeButtons:Ie.interestFilters,onClickAction:Te,target:"interestFilters",buttonClass:"",orientation:"Vertical",componentValues:B.map((function(e){return{text:e.category.name,value:e.category.id}}))})},Ve={header:"Other filters",content:u.a.createElement(O.a,{ref:this.otherReference,orientation:"Vertical",onClickAction:Re,activeButtons:Fe,componentValues:De})};Pe=[Me,Le,_e,{header:"Transfer",content:u.a.createElement(O.a,{ref:this.transferReference,onClickAction:Re,componentValues:[{text:"Included",value:"transferIncluded"},{text:"Not Included",value:"transferNotIncluded"}]})},Be,He,Ve,oe?{header:"Price",content:le!==ce?u.a.createElement(d.Fragment,null,u.a.createElement(g.a,{min:le,max:ce,defaultValue:[se||0,de||100],disabled:!!T.free,range:!0,allowCross:!1,name:"price",onChange:Q}),u.a.createElement("div",null,u.a.createElement("span",{className:"slider-price"},u.a.createElement(F.a,{objectData:{value:se},path:"value",defaultValue:"0"})),u.a.createElement("span",{className:"pull-right slider-price"},u.a.createElement(F.a,{objectData:{value:de},path:"value",defaultValue:"0"})))):u.a.createElement("span",{className:"fade"},"All options are at same price of",u.a.createElement(F.a,{objectData:{value:le},path:"value",defaultValue:"0"}))}:null];var ze=[];pe&&!fe&&ze.push({iconClassName:"icon pyt-wallet-16",title:"Price",subtextContent:U.price?"asc"===U.price?"Low to High":"High to Low":"Order by price",onClickAction:X,sortOrder:U.price,active:!0,type:"SORTING"});var Ue=ve.publishedCost,Ke=u.a.createElement(d.Fragment,null,u.a.createElement(E.a,{rootClassName:"subheader-modals",isMobile:t,onClickBackAction:function(){Object(I.Ld)(I.t,{page:"Activity Alternates"}),Z()},searchTerm:re,onClickCloseAction:t&&we?this.closeFilter:$,spanContent:n,headerContent:i,enableSearch:!0,searchPlaceHolder:"Find an activity",onChangeAction:ee,defaultActiveIndes:[0],sortingContents:ze,isFetching:he}),(ve&&"LEISURE"!==ve.type||pe&&!fe&&"SUCCESS"===(ve||{}).status)&&ge&&!t?u.a.createElement("section",{className:"subheader-modals-info bold mbottom-medium"},u.a.createElement("div",{className:"container sm-full-width lg-container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-7 col-sm-6 col-md-6 truncate"},"Now changing:",u.a.createElement("a",{href:"_",onClick:function(t){t&&t.preventDefault(),e.onTriggerDetailPage()}}," ".concat(ge))),u.a.createElement("div",{className:"col-xs-5 col-sm-6 col-md-6 text-right"},Ue?u.a.createElement("a",{href:"#"},u.a.createElement(F.a,{objectData:{value:Ue},path:"value",defaultValue:"0"})):null)))):u.a.createElement("br",null)),We=Array.isArray(l)?l.map((function(t,a){if(!t.selectedTourGrade)return null;var n,i;Array.isArray(null===t||void 0===t?void 0:t.pickupAreas)&&(n=null===t||void 0===t||null===(i=t.pickupAreas)||void 0===i?void 0:i.includes("outside-sic"));return u.a.createElement("div",{className:t.recommended&&Ee?"col-md-6":"col-md-4",key:a},u.a.createElement(x.b,{onCardClick:function(){return G(t)},activityName:t.title,images:t.mainPhoto?[t.mainPhoto]:[Object(C.a)("ACTIVITIES","")],contentType:t.fastSelling?"FILLING_FAST":"NONE",description:V(t.shortDesc),subText:"".concat(t.selectedTourGrade.durationType," Day. ").concat(t.free?"":t.privateTour?"Private":"Shared"),isPriceIncreased:H(r,t.selectedTourGrade),disableDiffIcon:!!t.selectedTourGrade.cost,price:null===t.selectedTourGrade.cost?t.selectedTourGrade.diff&&t.selectedTourGrade.diff.diffCost:t.selectedTourGrade.cost,onReplaceAction:function(e){e&&(e.preventDefault(),e.stopPropagation()),W(t)},sourceProvider:null===t||void 0===t?void 0:t.sourceProvider,enableFreeTag:t.free,status:t.status,likeCount:t.likeCount,dislikeCount:t.dislikeCount,isAdmin:Ee,activityDetails:t,userDetails:Ce,onChangeAlert:e.onChangeAlert,recommendedActivity:n}))})):[],Ge=s-l.length,Ye=s>l.length?u.a.createElement("div",{className:"col-xs-12 mbottom-large text-center"},u.a.createElement("button",{className:"btn btn-sm btn-default btn-outline mbottom-medium",onClick:te},"View ",Ge<f?Ge:f," more"," ",Ge>1?"activities":"activity")):(xe||me)&&s?u.a.createElement("div",{className:"col-xs-12 mbottom-large text-center"},u.a.createElement("button",{className:"btn btn-sm btn-default btn-outline mbottom-medium",onClick:this.setAlert},me?"Loading...":"Load search results")):null,qe=me||he?"Loading...":z||K?"Showing ".concat(s," of ").concat(c," available"):s>0?"".concat(s," option").concat(1===s?"":"s"," found"):null;return u.a.createElement(d.Fragment,null,t?u.a.createElement("div",{className:"hidden-md hidden-lg altermodal-xs-view xs-slide-up activity-alternate"},Ke,u.a.createElement("div",{className:"altermodal-xs-content"},u.a.createElement("section",{className:"options-hdr ".concat(t&&we?"hide":"")},u.a.createElement("div",{className:"row vertical-center"},u.a.createElement("div",{className:"col-xs-7"},qe),u.a.createElement("div",{className:"col-xs-5"},0===c?null:u.a.createElement("ul",{className:"tab-links"},ze.map((function(e,t){return u.a.createElement("li",{key:t,className:e.active?"active":""},u.a.createElement("a",{href:" ",onClick:function(t){t?(t.preventDefault(),t.stopPropagation(),e.onClickAction()):e.onClickAction()}},"SORTING"===e.type&&e.active?u.a.createElement("i",{className:"".concat("asc"===e.sortOrder?"pyt-sort-ascending-16":"pyt-sort-descending-16")}):null,u.a.createElement("span",null,"".concat(e.title))))})))))),u.a.createElement("div",{className:"panel-group"},u.a.createElement("aside",{className:"altermodal-filters ".concat(we?"":"hide")},Pe.map((function(e,t){return u.a.createElement("section",{key:t,className:"panel"},u.a.createElement("div",{className:"panel-heading"},(e||{}).header),u.a.createElement("div",{className:"panel-body"},(e||{}).content))})))),u.a.createElement(d.Fragment,null,We.length?u.a.createElement("div",{className:"".concat(we?"hide":"")}," ",We," "):me?"":Oe,We.length||!me||we?null:u.a.createElement(k.a,null),we?null:Ye)),0===c?null:u.a.createElement(w.a,{showSearch:ke,updateShowSearch:this.updateShowSearch,showFilter:we,onChangeSearchTerm:ee,onUpdateClick:this.onUpdateClick,onFilterShow:this.onFilterShow,searchTerm:re,pills:[this.durationReference,this.slotReference,this.typeReference,this.interestReference,this.otherReference,this.transferReference]})):u.a.createElement("div",{className:h()("hidden-sm hidden-xs activity-alternate",{"details-modal-opened":ie})},u.a.createElement(v.a,{enabled:!t},Ke),u.a.createElement("div",{className:"container lg-container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{id:"activity_filter_options",className:"col-md-3 altermodal-filters"},u.a.createElement(v.a,{enabled:!t,top:145},u.a.createElement(N.a,{components:Pe,activeIndex:K?null:0}))),u.a.createElement("div",{className:"col-md-9"},u.a.createElement("div",{className:"option-header clearfix",style:{"padding-top":"10px"}},u.a.createElement("p",{className:"color-grey-secondary small-heading"},qe),u.a.createElement(S.a,{pills:[this.durationReference,this.slotReference,this.typeReference,this.interestReference,this.otherReference,this.transferReference]})),this.props.showReset&&u.a.createElement(_.a,{justifyContent:"flex-end",marginRight:6},u.a.createElement(L.a,{padding:12,onPress:function(){return ae(ve,!1,!0)}},"Reset Search")),u.a.createElement("div",{className:h()("row",{"row-eq-hgt activity-card-outer":We.length})},We.length?We:me?"":Oe,!We.length&&me||he?u.a.createElement(k.a,null):null),Ye)))),u.a.createElement(M.a,{show:Ae,title:"Activity not in SIC area",text:"The activity that you are about to add to the itinerary is not in the SIC pickup area. Please proceed with caution.",animation:!0,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel",onConfirm:function(){e.setState({openAlert:!1}),W(je)},onCancel:function(){e.setState({openAlert:!1})}}),u.a.createElement(M.a,{show:Se,title:"Caution!",html:!0,text:'<h5 class="meta-text">Fetching all activities might take some time. Do not refresh the page, or the fetching progress will be lost.</h5>',onConfirm:function(){ae(ve,!0,!1,!0),e.setAlert()},animation:"pop",closeOnConfirm:!0,confirmButtonText:"Understood, fetch all",closeOnCancel:!0}))}}]),a}(d.Component)},1711:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(36),o=a(105),l=a(141),c=a(169),s=a(895),d=a(7),u=a(18),m=a(92);t.a=function(e){var t,a,p=e.itineraryInfo,f=e.costingId,h=e.entityType,v=e.bookingNotes,g=e.reviewPage,b=void 0!==g&&g;if(!p)return null;var y=Object(r.useHistory)(),E=Object(n.useMemo)((function(){return"https://oceanjar-new.s3.ap-south-1.amazonaws.com/PDF_thumbail.png"}),[]),C=function(e){var t="",a=f||"summary",n=h||"itinerary",i=Object(u.a)(p,"itinerary.itineraryId");t=b?"/booking-notes/".concat(d.f,"/").concat(n,"/").concat(f,"/").concat(i):Object(d.Jb)({itineraryId:i,regionCode:Object(u.a)(p,"itinerary.regionCode"),target:d.f,parentPage:d.ab,customParams:{costingId:a,entityType:n}}),e?y.push(t,{latestBookingNote:e,reviewPage:b}):y.push(t,{reviewPage:b})},x=Object(n.useMemo)((function(){if(v){var e=v.find((function(e){return!1===e.deleted}));if(e)return{latestBookingNote:e,isNoteSkipped:null===e||void 0===e?void 0:e.skipBookingNotes}}return{}}),[v]),O=x.latestBookingNote,N=x.isNoteSkipped;return i.a.createElement("div",{className:b?void 0:"row",onClick:function(e){e.stopPropagation(),e.preventDefault()}},O&&(null===(t=(null===O||void 0===O?void 0:O.bookingNotes)||"")||void 0===t?void 0:t.length)>0?i.a.createElement(o.a,{gutter:24,width:"100%",paddingVertical:8,paddingHorizontal:16,backgroundColor:b?"#fff":"#F7F7F7",justifyContent:"space-between",alignItems:"flex-start",borderBottomLeftRadius:b?8:0,borderBottomRightRadius:b?8:0},i.a.createElement(o.a.Item,{width:"calc(100% - 204px)",style:{wordWrap:"break-word"}},N?i.a.createElement(l.a,null,"Skipped note for this item"):i.a.createElement("div",{dangerouslySetInnerHTML:{__html:null===O||void 0===O?void 0:O.bookingNotes}}),null!==O&&void 0!==O&&null!==(a=O.bookingAttachmentsPreview)&&void 0!==a&&a.length?i.a.createElement(o.a.Item,{flexDirection:"row",rowGap:10,columnGap:16,flexWrap:"wrap",paddingVertical:16},((null===O||void 0===O?void 0:O.bookingAttachmentsPreview)||[]).map((function(e,t){var a,n=null===O||void 0===O||null===(a=O.bookingAttachments[t])||void 0===a?void 0:a.split("/");return i.a.createElement(c.a,{key:"attachment"+t,gap:4,maxWidth:80,onPress:function(){return Object(m.a)(e,"__blank")}},i.a.createElement("img",{alt:"attachment",style:{maxWidth:"80px"},src:e.includes(".pdf")?E:e}),i.a.createElement("span",{className:"h6",style:{wordWrap:"break-word",maxWidth:"100%"}},n[(null===n||void 0===n?void 0:n.length)-1]))}))):null),i.a.createElement(o.a.Item,{width:"170px"},i.a.createElement(o.a,{gutter:16,direction:"column",width:"100%"},i.a.createElement(o.a.Item,null,i.a.createElement(s.a,{alignSelf:"flex-end",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#3A4BB9",padding:15,borderRadius:4,textProps:{color:"#3A4BB9",fontSize:15,fontWeight:600,lineHeight:20},onPress:function(){return C(O)},width:"100%"},"Edit Note"))))):i.a.createElement(o.a,{gutter:24,paddingVertical:8,paddingHorizontal:16,backgroundColor:b?"#fff":"#F7F7F7",borderBottomLeftRadius:b?8:0,borderBottomRightRadius:b?8:0},i.a.createElement(o.a.Item,null,i.a.createElement(s.a,{alignSelf:"flex-end",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#3A4BB9",padding:15,borderRadius:4,textProps:{color:"#3A4BB9",fontSize:15,fontWeight:600,lineHeight:20},disabledProps:{cursor:"not-allowed",backgroundColor:"#E5E5E5",opacity:.8},onPress:function(){return C()}},"Add New Note"))))}},1712:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1),i=a(1595);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Sorry about this. But there seems to be an issue with Pickyourtrail.",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{title:"Sorry about this!",confirmButtonText:"Try again!"};swal(Object(n.a)(Object(n.a)({},r),{},{text:t,animation:!0,showCancelButton:!1,confirmButtonColor:"#DD6B55",cancelButtonText:"No, cancel!",closeOnConfirm:!0,closeOnCancel:!0}),(function(t){t&&a&&Object(i.h)(e)}))}},1715:function(e,t,a){"use strict";t.a=function(e){var t=e.duration,a=e.execute,n=e.timing,i=e.end,r=performance.now();requestAnimationFrame((function e(o){var l=(o-r)/t;l>1&&(l=1);var c=n(o-r);a(c),l<1?requestAnimationFrame(e):i&&i()}))}},1725:function(e,t,a){"use strict";var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(607),u=a(1669);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var p=function(e){Object(r.a)(a,e);var t=m(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.price,a=e.publishedPrice,n=e.onEditClick,i=e.isFree,r=void 0!==i&&i,o=e.canEditPrice,l=void 0!==o&&o,c=e.isPriceStrikethrough,m=void 0!==c&&c;if(r)return s.a.createElement("span",null);var p=Object(u.a)(t)<=Object(u.a)(a)?null:t;return s.a.createElement("div",null,p?s.a.createElement("span",{className:"strikethrough",style:{marginRight:"5px"}},s.a.createElement(d.a,{value:p,withoutIcon:!0,rootClassName:"",parentTag:"span",priceTag:" "})):null,s.a.createElement(d.a,{value:a,withoutIcon:!0,rootClassName:m?"strikethrough":"",parentTag:"span"}),l&&!m?s.a.createElement("i",{onClick:n,className:"cursor-pointer pyt-edit-16 small-heading"}):null)}}]),a}(c.PureComponent);t.a=p},1735:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return d})),a.d(t,"c",(function(){return c}));var n=a(2),i=n.default.div.withConfig({displayName:"TopStickyFilterStyles__Box"})(["display:flex;align-items:center;width:100%;border-radius:4px;background-clip:padding-box;font-size:15px;font-weight:600;line-height:1.2;letter-spacing:-0.3px;background-color:#fff;border:1px solid rgba(0,0,0,0.25);padding:8px 12px;position:relative;transition:background-color 0.25s ease;"," color:",";"," &.active,:hover,:focus{opacity:1;cursor:pointer;color:",";border:1px solid rgba(0,0,0,0.25);background-color:",";}i{margin-right:8px;}"],(function(e){return!e.v2&&Object(n.css)(["opacity:",";"],(function(e){return e.highlight?"1":.6}))}),(function(e){return e.labelColor?e.labelColor:"black"}),(function(e){return e.highlight&&!e.v2?Object(n.css)(["color:rgba(255,255,255,0.9);border-color:#1baacc;background-color:#1baacc;"]):""}),(function(e){return e.highLightBgColor?e.highLightBgColor:"#2c2f42"}),(function(e){return e.highLightBgColor?e.highLightBgColor:"rgba(0, 0, 0, 0.1)"})),r=n.default.div.withConfig({displayName:"TopStickyFilterStyles__DropdownMenu"})(["display:",";padding:8px 0px;margin-top:10px;margin-bottom:0px;white-space:normal;min-width:240px;text-align:left;color:#2c2f42;background-color:#fff;border-radius:4px;background-clip:padding-box;box-shadow:0px 0px 14px rgba(0,0,0,0.175);position:absolute;top:100%;z-index:1000;","::after,::before{content:' ';bottom:100%;"," border:solid transparent;height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(255,255,255,0);border-bottom-color:#ffffff;border-width:8px;}"],(function(e){return e.show?"block":"none"}),(function(e){return Object(n.css)(["",":0px;"],e.left?"right":"left")}),(function(e){return Object(n.css)(["",":11px;"],e.left?"right":"left")})),o=n.default.ul.withConfig({displayName:"TopStickyFilterStyles__DropdownMenuList"})(["margin:0;padding:0;display:block;list-style:none;position:relative;max-height:270px;overflow-y:scroll;"]),l=n.default.li.withConfig({displayName:"TopStickyFilterStyles__DropdownMenuItem"})(["display:block;margin:0;padding:0;:hover{background-color:rgba(24,149,179,0.04);}"]),c=n.default.div.withConfig({displayName:"TopStickyFilterStyles__DropdownMenuFooter"})(["display:flex;margin:0;padding:0;align-items:center;justify-content:space-between;"]),s=n.default.label.withConfig({displayName:"TopStickyFilterStyles__MenuItemLabel"})(["padding:8px 16px 8px 42px;width:100%;font-size:17px;i{left:16px;top:7px;font-size:20px;}"]),d=(Object(n.default)(s).withConfig({displayName:"TopStickyFilterStyles__FilterMenuItemLabel"})(["margin-bottom:0;line-height:1.2;letter-spacing:-0.3px;position:relative;font-weight:400;cursor:pointer;user-select:none;color:#777;"]),n.default.label.withConfig({displayName:"TopStickyFilterStyles__TripAdvisorLabel"})(["margin-bottom:0;line-height:1.2;letter-spacing:-0.3px;position:relative;font-weight:400;cursor:pointer;user-select:none;padding:8px 16px 8px 42px;width:100%;font-size:17px;color:#777777;input[type='checkbox']{position:absolute;left:0;top:0;opacity:0;margin:0;}input[type='checkbox'] ~ i:after{color:#aaaaaa;font-family:'pyticon';line-height:1;content:'\\eac1';position:absolute;left:16px;top:11px;font-size:20px;font-style:normal;}input[type='checkbox']:checked ~ i:after{content:'\\eac0';color:#00c684;}"]))},1741:function(e,t,a){"use strict";var n=a(2),i=a(5),r=n.default.span.withConfig({displayName:"TopRecommended"})(["display:inline-block;vertical-align:top;margin-left:10px;i{display:inline-block;vertical-align:top;background:#00c684;color:",";font-size:",";line-height:24px;padding:0 4px;}b{display:inline-block;vertical-align:top;font-weight:",";font-size:",";line-height:24px;letter-spacing:-0.25px;background-color:",";padding:0 4px;}"],i.theme.white,i.theme.baseSecondary,i.theme.semiBold,i.theme.microSecondary,i.theme.white);t.a=r},1761:function(e,t,a){"use strict";var n=a(2).default.div.withConfig({displayName:"ScreenOverlay"})(["position:fixed;left:0;top:0;width:100%;height:100%;background-color:",";z-index:2;transition:all 0.3s;visibility:",";opacity:",";"],(function(e){return e.bgColor||"rgba(44, 47, 66, 0.5)"}),(function(e){return e.show?"visible":"hidden"}),(function(e){return e.show?1:0}));t.a=n},1765:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(38),i=a(39),r=a(58),o=a(46),l=a(56),c=a(29),s=a(0),d=a.n(s),u=a(191),m=a(1716),p=a.n(m),f=a(1715),h=a(20),v=a(345);a(1611);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var b=function(e){Object(o.a)(a,e);var t=g(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).onSwipeMove=function(e){var t=document.getElementById("modal-container-mobile");i.setState({positionY:e.y}),t&&e.y>0&&(t.style.top=e.y+"px")},i.onSwipeEnd=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.a)(i),a=i.state.positionY,n=0,o=!1;Math.round(a/window.innerHeight*100)>20||e?(o=!0,n=window.innerHeight-a):n-=a;var l=e?400:200,c=document.getElementById("modal-container-mobile");c&&Object(f.a)({duration:l,timing:function(e){return-n*Math.cos(e/l*(Math.PI/2))+n+a},execute:function(e){e>0&&(c.style.top=e+"px")},end:function(){o&&t.props.onClickAction()}}),i.setState({positionY:0})},i.handleKeyUp=function(e){27===e.keyCode&&i.handleClickAction()},i.handleClickAction=function(e){i.setState({modalClassName:"",isUpdate:!1},(function(){setTimeout((function(){i.props.onClickAction&&i.props.onClickAction(e)}),200)}))},i.state={enableModal:e.enable,modalClassName:"",isUpdate:!0},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.rootClassName,i=void 0===n?"modal fade details-modal-xs":n,r=t.enableModalHeader,o=void 0!==r&&r,l=t.contentClassName,c=void 0===l?"inner-content":l,s=t.enableTabAction,m=void 0!==s&&s,f=this.state,g=f.enableModal,b=f.modalClassName;return f.isUpdate&&(g&&"in"!==b||!g&&"in"===b)&&setTimeout((function(){e.setState({modalClassName:g?"in":""})}),100),d.a.createElement("div",{className:"".concat(i," ").concat(Object(h.a)()?"slideUp primary-popups modal-touch-header modal-sticky-header":""," ").concat(b," parent-close"),style:{display:g?"block":"none"},onClick:function(t){Object(v.a)(t,e.handleClickAction)}},d.a.createElement("div",{className:"modal-dialog",id:"modal-container-mobile"},d.a.createElement("div",{className:"modal-content with-header"},Object(h.a)()?d.a.createElement(p.a,{onSwipeMove:this.onSwipeMove,onSwipeEnd:this.onSwipeEnd},d.a.createElement("div",{className:"modal-header touch-header","data-dismiss":"modal"},d.a.createElement(u.a,{buttonClass:"tap-btn",onClickAction:m?function(){e.onSwipeEnd(!0)}:null}))):null,o&&!Object(h.a)()?d.a.createElement("div",{className:"modal-header"},d.a.createElement(u.a,{buttonClass:"close",onClickAction:this.handleClickAction,dataDismiss:"modal"},d.a.createElement("i",{className:"pyt-close-16"}))):null,d.a.createElement("div",{className:"modal-body"},d.a.createElement("div",{className:c},o?null:d.a.createElement(u.a,{buttonClass:"details-modal-close hidden-xs",onClickAction:this.handleClickAction},d.a.createElement("i",{className:"pyt-close-16"})),a)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.enableModal!==e.enable?{enableModal:e.enable,isUpdate:!0}:null}}]),a}(s.Component)},1766:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),r=a(245),o=a(1668),l=a(1594),c=a(190),s=a(340);function d(e){var t=e.itineraryId,a=e.key,d=e.method,u=void 0===d?"POST":d,m="POST"===u?s.i:"PUT"===u?s.k:s.j;return function(s){return new Promise((function(d,p){var f="".concat(n.a.api_url,"insurance/").concat(t,"/").concat(a);Object(i.a)({url:f,method:u,body:e,onSuccess:function(e){Object(r.a)(s,e.data),"SPEEDBOAT"===e.data.version?Object(o.a)(s,m,"INSURANCE"):Object(l.a)(s,m),d("done")},onFailure:function(e){Object(c.a)(e,s),p("rejected")}})}))}}},1775:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(33);function i(e){if(Array.isArray(e)&&e.length>0){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];if(!(a.length>0))return Object(n.a)(new Set(e));var r=a.filter((function(e){return Array.isArray(e)}));if(a.length===r.length){var o=e.filter((function(e){return r.filter((function(t){return-1!==t.indexOf(e)})).length===r.length}));return Object(n.a)(new Set(o))}}return[]}},1792:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n),r=a(1603);function o(){return i.a.createElement("div",{className:"text-center mbottom-medium"},i.a.createElement("button",{className:"btn btn-sm btn-default btn-outline text-uppercase cursor-default"},"FOR YOUR INFO"))}function l(){return i.a.createElement("button",{className:"btn btn-xs btn-default btn-outline text-uppercase cursor-default mbottom-medium"},"FOR YOUR INFO")}t.b=function(e){var t=e.alerts,a=void 0===t?[]:t,n=e.smallTitle,c=void 0!==n&&n,s=e.rootClassName,d=void 0===s?"info-list":s;return i.a.createElement("div",{className:"mbottom-large bg-yellow ".concat(d)},c?i.a.createElement(l,null):i.a.createElement(o,null),i.a.createElement(r.a,{icons:a,rootClassName:" "}))}},1812:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(33);function i(e){if(e){if(Array.isArray(e))return 0===e.length?[]:Object(n.a)(new Set(JSON.parse(JSON.stringify(e))));if("string"===typeof e)return Object(n.a)(new Set(e.split("")))}return[]}},1824:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),r=a(245),o=a(1594),l=a(190),c=a(171),s=a(340);function d(e){return function(t){return new Promise((function(a,d){var u="".concat(n.a.api_url,"itinerary/visa/modify");Object(i.a)({url:u,method:"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data),Object(o.a)(t,s.y),a("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,t),Object(c.a)(e,t),d("Failed")}})}))}}},1825:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){var t=Math.floor(e/60),a=e%60;return 0!==t&&0!==a?i.a.createElement("span",null,t,"h ",a,"m"):0!==t&&0===a?i.a.createElement("span",null,t,"h"):0===t&&0!==a?i.a.createElement("span",null,a,"m"):null}},1826:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(14),i=a(22),r=a(245),o=a(1594),l=a(1668),c=a(190),s=a(171),d=a(15),u=a(340);function m(e,t){return function(a){return new Promise((function(m,p){var f="".concat(n.a.api_url,"itinerary/hotel/updateroom");Object(i.a)({url:f,method:"POST",body:e,onSuccess:function(e){Object(r.a)(a,e.data),Object(d.Ld)(d.Sb,{room_changed:!0}),Object(o.a)(a,u.g),Object(l.a)(a,t||"updatedroom","ROOM_".concat(localStorage.getItem("roomId"))),m("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,a),Object(s.a)(e,a),p("Failed")}})}))}}},1828:function(e,t,a){"use strict";var n=a(11),i=a(0),r=a.n(i),o=a(45),l=a.n(o),c=a(2),s=a(86),d=a(1655),u=a(356),m=a(357),p=a(1637),f=c.default.ul.withConfig({displayName:"MobileSpecialInclusionModal__ModalContainer"})(["border:1px solid #e3e3e3;padding-top:13px;padding-bottom:13px;margin:16px;border-radius:4px;li{margin-bottom:1px !important;color:black;display:list-item !important;}.titleLi{list-style:none;margin-left:-1em;color:#666666;font-weight:bold;}.emptyPill{list-style:none;min-height:0.5em;}"]),h=c.default.li.withConfig({displayName:"MobileSpecialInclusionModal__HotelTitle"})(["font-weight:600;font-size:16px;list-style:none;margin-left:-1em;padding-bottom:0.5em;"]);t.a=function(e){var t=e.data,a=void 0===t?[]:t,o=e.onModalClose,c=e.goBack,v=e.hotelName,g=Object(i.useState)(null),b=Object(n.a)(g,2),y=b[0],E=b[1];Object(i.useEffect)((function(){return E(document.querySelector("#modal-portal-container")),Object(u.a)(),function(){Object(m.a)()}}),[]);return y?l.a.createPortal(r.a.createElement("div",{className:"modal modal-sticky-header false in"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement(s.d,null,r.a.createElement(d.a,{title:"Here\u2019s what you get with your stay",showActionButtons:!0,onLeftClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation(),Object(m.a)(),c()},onRightClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation(),Object(m.a)(),o()}}),r.a.createElement(s.a,{padding:"0",top:"64px",bottom:null},r.a.createElement(f,null,r.a.createElement(h,{key:"hotelName"},v),Object(p.b)(a,"modal"))))))),y):null}},1830:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(11),i=a(0),r=a.n(i),o=a(191),l=a(1603),c=a(1647),s=a(1792),d=a(898),u=a.n(d),m=a(1593),p=a(1592);function f(e){var t,a=e.changeButtonText,d=void 0===a?"Change":a,f=e.onChangeAction,g=e.isDisabledRemove,b=void 0===g||g,y=e.removeButtonText,E=void 0===y?"Remove":y,C=e.onRemoveAction,x=e.firstHalf,O=void 0===x?{}:x,N=e.secondHalf,w=void 0===N?{}:N,k=e.icons,S=void 0===k?[]:k,A=e.alertIcons,j=void 0===A?[]:A,I=e.testimonials,T=void 0===I?[]:I,R=e.isUpdate,D=void 0!==R&&R,F=e.onUpdateAction,P=e.updateText,M=void 0===P?"Add to itinerary":P,_=e.updatedPrice,L=e.isUpdatePriceIncreased,B=e.disablePriceVariation,H=void 0!==B&&B,V=e.disableNotifications,z=void 0!==V&&V,U=e.isDisabledChange,K=void 0!==U&&U,W=e.isMobileFooter,G=void 0!==W&&W,Y=e.isMobile,q=e.isReadOnly,J=e.disabledKeepBrowsing,Q=void 0!==J&&J,X=e.browsingText,$=e.activityIcons,Z=void 0===$?[]:$,ee=e.pytRecommended,te=e.recommendedHotelsOnly,ae=e.recommendedActivity,ne=e.userDetails,ie=Object(i.useState)(!1),re=Object(n.a)(ie,2),oe=re[0],le=re[1],ce=Object(i.useState)(!1),se=Object(n.a)(ce,2),de=se[0],ue=se[1],me=Object(i.useState)(!1),pe=Object(n.a)(me,2),fe=pe[0],he=pe[1],ve=Object(i.useState)(!1),ge=Object(n.a)(ve,2),be=ge[0],ye=ge[1],Ee=Object(p.a)({permissions:null===ne||void 0===ne?void 0:ne.permissions,key:m.f});if(Array.isArray(ae)&&(t=null===ae||void 0===ae?void 0:ae.includes("outside-sic")),Y&&!G)return r.a.createElement("div",{className:"green-content",style:{backgroundColor:"#FCF3E9",marginTop:20}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("p",null,r.a.createElement("span",null,O.header," "),O.content," ")),r.a.createElement("div",{className:"col-xs-6 pl-0"},r.a.createElement("p",null,r.a.createElement("span",null,w.header," "),w.content," "))),r.a.createElement("hr",{className:"vmargin-small"}),r.a.createElement(l.a,{rootClassName:"clearfix list-unstyled light fine-text color-grey-secondary mb-0",icons:S}));Object(i.useEffect)((function(){t&&Ee&&ue(!0),!ee&&te&&le(!0)}),[ee,te]);return Y&&G?r.a.createElement("div",{className:"altermodal-xs-ftr notify-ftr"},D&&!Q?r.a.createElement("div",{className:"left-icons"},r.a.createElement("p",{className:"browse-link meta-text"},r.a.createElement("span",{className:"anchor-link",onClick:f},"View more ".concat(X)))):null,D||b||Z.length?null:r.a.createElement("div",{className:"row fw ml-0"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(o.a,{isDisabled:b,onClickAction:C,buttonClass:"btn btn-warning btn-outline btn-outline-bg fw",buttonText:"Remove"})),r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(o.a,{buttonClass:"btn btn-primary-dark btn-outline fw",isDisabled:K,buttonText:d,onClickAction:f}))),(Z||[]).map((function(e,t){return r.a.createElement("span",{key:t,style:{margin:"4px"}}," ",r.a.createElement("i",{className:e.className})," ",e.text)})),r.a.createElement("div",{className:"right-btns text-right"},D?0===_?r.a.createElement("p",{className:"meta-text mb-0 fw"},"At same price"):r.a.createElement("p",null,r.a.createElement(c.a,{price:_,rootClassName:"varied-price",isPriceIncreased:L,disablePriceVariation:H})):q?null:r.a.createElement(i.Fragment,null,D||b||!Z.length?null:r.a.createElement(o.a,{isDisabled:b,buttonClass:"btn btn-danger btn-outline btn-outline-bg",onClickAction:C}," ",r.a.createElement("i",{className:"pyt-delete-24 color-grey"})),D||b||Z.length?r.a.createElement(o.a,{buttonClass:"btn btn-primary-dark btn-outline",isDisabled:K,buttonText:d,onClickAction:f}):null),D?r.a.createElement(o.a,{buttonClass:"btn btn-primary btn-block",buttonText:M,onClickAction:function(e){D?de?ye(!0):oe?he(!0):F(e):C(e)}}):null),r.a.createElement(u.a,{show:fe,title:"Not a recommended hotel",text:"The hotel that you are about to add to the itinerary is not a recommended hotel. This could be because the hotel gave poor experience to our customer's in the past or is not a part of the SIC  transfer zone. Please  proceed with caution.",animation:!0,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel",onConfirm:function(){he(!1),le(!1)},onCancel:function(){he(!1)}}),r.a.createElement(u.a,{show:be,title:"Activity not in SIC area",text:"The activity that you are about to add to the itinerary is not in the SIC pickup area. Please proceed with caution.",animation:!0,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel",onConfirm:function(){ye(!1),ue(!1)},onCancel:function(){ye(!1)}})):r.a.createElement("aside",{className:"update-card"},r.a.createElement("section",{className:"row top-btn twin-btns"},r.a.createElement("div",{className:D?"col-md-6":!D&&b?"col-md-12":"col-md-7"},D?r.a.createElement(c.a,{price:_,rootClassName:"varied-price",isPriceIncreased:L,disablePriceVariation:H}):q?null:r.a.createElement(o.a,{buttonClass:K?"btn btn-grey-medium btn-outline btn-huge btn-block":"btn btn-primary btn-outline btn-huge btn-block",isDisabled:K,buttonText:d,onClickAction:f})),!D&&b||q?null:r.a.createElement("div",{className:D?"col-md-6":"col-md-5"},r.a.createElement(o.a,{buttonClass:D?"btn btn-primary btn-huge btn-block":"btn btn-grey-medium btn-outline btn-huge btn-block",isDisabled:!D&&b,buttonText:D?M:E,onClickAction:function(e){D?de?ye(!0):oe?he(!0):F(e):C(e)}}))),D&&!Q?r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-6"},r.a.createElement("p",{className:"browse-link"},r.a.createElement("span",{className:"anchor-link",href:" ",onClick:f},"View more ".concat(X))))):null,r.a.createElement("div",{style:{}},r.a.createElement("div",{className:"row bordered-col"},r.a.createElement(h,O),r.a.createElement(h,w)),r.a.createElement("div",null,r.a.createElement(l.a,{rootClassName:"icon-list",icons:S}),z||!j.length?null:r.a.createElement(i.Fragment,null,r.a.createElement(s.b,{alerts:j,smallTitle:!0}),T.length>0?r.a.createElement("section",{className:"btm-note"},r.a.createElement(v,{testimonials:T})):null))),r.a.createElement(u.a,{show:fe,title:"Not a recommended hotel",text:"The hotel that you are about to add to the itinerary is not a recommended hotel. This could be because the hotel gave poor experience to our customer's in the past or is not a part of the SIC  transfer zone. Please  proceed with caution.",animation:!0,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel",onConfirm:function(){he(!1),le(!1)},onCancel:function(){he(!1)}}),r.a.createElement(u.a,{show:be,title:"Activity not in SIC area",text:"The activity that you are about to add to the itinerary is not in the SIC pickup area. Please proceed with caution.",animation:!0,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel",onConfirm:function(){ye(!1),ue(!1)},onCancel:function(){ye(!1)}}))}function h(e){var t=e.header,a=e.content,n=e.subText;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null,r.a.createElement("span",null,t),r.a.createElement("b",null,a),r.a.createElement("i",null,n))))}function v(e){return e.testimonials.map((function(e,t){return r.a.createElement("p",{key:t,className:e.className},e.iconClassName?r.a.createElement("i",{className:e.iconClassName}):r.a.createElement("img",{src:e.img,alt:e.alt}),e.content)}))}},1862:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),r=a(245),o=a(1594),l=a(190),c=a(171),s=a(340),d=a(1598);function u(e){return function(t){return new Promise((function(a,u){console.log({reqData:e});var m=e.offline,p=void 0!==m&&m,f=e.configKey,h=void 0===f?"":f,v=e.itineraryId,g=void 0===v?"":v,b=p?"".concat(n.a.api_url,"offline/").concat(g,"/hotel/").concat(Object(d.a)(h)):"".concat(n.a.api_url,"itinerary/hotel/removehotel");Object(i.a)({url:b,method:p?"DELETE":"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data),setTimeout((function(){Object(o.a)(t,s.f)}),300),a("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,t),Object(c.a)(e,t),u("Failed")}})}))}}},1863:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),i=a.n(n),r=a(191),o=a(23),l=a(156);function c(e){var t=e.isMobile,a=void 0!==t&&t,c=(e.onClickBackAction,e.onClickCloseAction),s=e.onClickAlternateAction,d=e.headerContent,u=e.rootClassName,m=void 0===u?"subheader-modals":u,p=e.buttonText,f=void 0===p?"Back to itinerary":p,h=e.alternateText,v=void 0===h?null:h,g=i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"container sm-full-width lg-container",style:{paddingTop:0}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-9 col-sm-11 ".concat(v?"col-md-8":"col-md-10","  left-txt")},i.a.createElement("p",null,i.a.createElement("img",{width:a?26:28,src:Object(o.a)("https://pyt-images.imgix.net/images/web_app/logo/logo-mark-white.svg"),onClick:function(){Object(l.a)("/","")},alt:"pickyourtrail",style:{marginRight:"6px",marginBottom:"2px"}}),d)),i.a.createElement("div",{className:"col-xs-3 col-sm-1 ".concat(v?"col-md-4":"col-md-3"," text-right")},a?i.a.createElement(r.a,{buttonClass:"action-btn",onClickAction:c},i.a.createElement("i",{className:"pyt-close-16"})):i.a.createElement(n.Fragment,null,v?i.a.createElement(r.a,{buttonClass:"back-link",onClickAction:s,buttonText:v}):null,i.a.createElement(r.a,{buttonClass:"back-link",onClickAction:c,buttonText:f}))))));return a?i.a.createElement("div",{className:m},g):i.a.createElement("section",{className:m},g)}},1886:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m}));var n=a(1),i=a(69),r=a(0),o=a.n(r),l=a(2),c=["children","id","className","style"],s=l.default.div.withConfig({displayName:"CollapsibleGroup__Panel"})([".panel-heading::before{transition:transform 0.2s ease-out;}input[type='checkbox']:checked + .panel-heading::before{transform:rotate(-90deg);}input[type='checkbox']:checked + .panel-heading + .panel-body{max-height:0px;padding:0px;}label{margin-bottom:0;}"]),d=l.default.div.withConfig({displayName:"CollapsibleGroup__PanelBody"})(["max-height:1500px;overflow:hidden;transition:all "," ease-in-out;transition-property:max-height,padding;"],(function(e){return e.optionsLength<=6?"0.1s":"0.25s"})),u=function(e){var t=e.children,a=e.id,r=e.className,l=e.style,s=Object(i.a)(e,c),d=a||"accordion-group";return o.a.createElement("div",{className:"panel-group ".concat(r),style:l},o.a.Children.map(t,(function(e,t){return e&&o.a.cloneElement(e,Object(n.a)({id:d+t},s))})))},m=function(e){var t=e.id,a=void 0===t?"collapsible":t,n=e.title,i=e.toggle,r=void 0===i||i,l=e.collapsed,c=e.bodyStyle,u=e.children,m=(u.props.componentValues||[]).length;return o.a.createElement(s,{className:"panel"},n&&r&&o.a.createElement("input",{id:a,className:"hidden",type:"checkbox",defaultChecked:l}),n&&o.a.createElement("label",{htmlFor:a,className:"panel-heading cursor-pointer"},n),o.a.createElement(d,{style:c,className:r?"panel-body":"",optionsLength:m},u))}},1897:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),r=a(245),o=a(15),l=a(1594),c=a(340),s=a(190),d=a(171);function u(e){return function(t){return new Promise((function(a,u){var m="".concat(n.a.api_url,"itinerary/hotel/updatehotel");Object(i.a)({url:m,method:"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data),Object(o.Ld)(o.Sb,{hotel_changed:!0}),a("Promised resolved from fetch"),setTimeout((function(){Object(l.a)(t,c.h)}),300)},onFailure:function(e){Object(s.a)(e,t),Object(d.a)(e,t),u("Failed")}})}))}}},1898:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(14),i=a(22),r=a(610);function o(e,t){return function(a){return new Promise((function(o,l){var c="".concat(n.a.api_url,"itinerary/").concat(e,"/name"),s={itineraryId:e,name:t};Object(i.a)({url:c,method:"POST",body:s,onSuccess:function(e){"SUCCESS"===e.status.toUpperCase()?o():l()},onFailure:function(e){e.responseJSON,401===(e.responseJSON||{}).status&&a(Object(r.a)({show:!0}))}})}))}}},1899:function(e,t,a){"use strict";function n(){var e=document.querySelector("body"),t=document.querySelector(".offcanvas-bg"),a=document.querySelector(".offcanvas-menu");e.classList.add("scroll-locked"),t.classList.add("in"),a&&a.classList.add("open-menu")}a.d(t,"a",(function(){return n}))},1912:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(33);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e.map((function(e){return r(e.amenityName,e.strikethrough,e.iconUrl)})),i=t.map((function(e){return r(e.name,!1)}));return[].concat(Object(n.a)(a),Object(n.a)(i))}function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";switch(e){case"FREE BREAKFAST":return{className:"pyt-restaurant-16",text:" ".concat(e),strickout:t};case"FREE WIFI":return{className:"pyt-wifi-16",text:" ".concat(e),strickout:t};case"Swimming Pool":return{className:"pyt-pool-16",text:" ".concat(e),strickout:t};case"Shuttle Service":return{className:"pyt-van-16",text:" ".concat(e),strickout:t};case"Concierge Service":return{className:"pyt-service-16",text:" ".concat(e),strickout:t};case"Laundry facility":return{className:"pyt-laundry-16",text:" ".concat(e),strickout:t};case"Parking Facility":return{className:"pyt-parking-16",text:" ".concat(e),strickout:t};default:return{className:a,text:" ".concat(e),strickout:t}}}},1929:function(e,t,a){"use strict";var n=a(69),i=a(0),r=a.n(i),o=a(2),l=function(e){var t=e.width,a=e.height,n=e.color,i=e.style,o=e.className,l=e.onClick,c=e.loading;return r.a.createElement("svg",{width:t||16,height:a||16,style:i,className:o,loading:c,onClick:function(e){return l&&l(e)},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z",fill:n||"black"}))},c=function(e){var t=e.width,a=e.height,n=e.color,i=e.style,o=e.className,l=e.onClick;return r.a.createElement("svg",{width:t||16,height:a||16,style:i,className:o,onClick:function(e){return l&&l(e)},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 0 1 755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 0 1 512.1 856a342.24 342.24 0 0 1-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 0 0-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 0 0-8-8.2z",fill:n||"black"}))},s=["type"],d=o.default.div.withConfig({displayName:"spin__Wrapper"})(["width:","px;height:","px;display:block;animation-name:spin;animation-duration:2000ms;animation-iteration-count:infinite;animation-timing-function:linear;@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"],(function(e){return e.width}),(function(e){return e.height})),u=function(e){var t=e.type,a=Object(n.a)(e,s);return r.a.createElement(d,a,"loading"===t?r.a.createElement(l,a):r.a.createElement(c,a))};u.defaultProps={width:64,height:64,type:"loading",color:"black"};t.a=u},1959:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),r=a(245),o=a(15),l=a(1594),c=a(190),s=a(340),d=a(12);function u(e){var t=e.itineraryId,a=e.configKey;return function(u){return new Promise((function(m,p){var f="".concat(n.a.api_url,"train/").concat(t,"/").concat(encodeURIComponent(a));Object(i.a)({url:f,method:"PUT",body:e,onSuccess:function(e){Object(r.a)(u,e.data),Object(o.Ld)(o.Sb,{transfer_changed:!0}),Object(l.a)(u,s.q),m("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,u),u({type:d.Db,payload:e}),p("Failed")}})}))}}},1960:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(7),i=a(12);function r(e){return function(t){return new Promise((function(a){t({type:i.Gb,payload:e}),e.history.push(Object(n.Jb)({itineraryId:e.itineraryId,regionCode:e.regionCode,parentPage:e.location.pathname.indexOf(n.cb)>0?n.cb:n.ab,target:n.c,customParams:{configKey:e.configKey,activityCode:e.selectedActivity.activitySlotDetail.planningToolId}})),a("Promised resolved from fetch")}))}}},1978:function(e,t,a){"use strict";var n=a(33),i=a(11),r=a(0),o=a.n(r),l=a(38),c=a(39),s=a(46),d=a(56),u=a(29),m=a(193),p=a(15),f=a(14),h=a(22);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var g=f.a.api_url,b=function(e){Object(s.a)(a,e);var t=v(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).onCollapse=function(){var e=n.state,t=e.totalCounts,a=e.activeCounts,i=e.isMore,r=n.props,o=r.moreCounts,l=r.lessCounts,c=r.appReview;c&&(o=4,l=4),c||i&&"string"===typeof n.props.eventName&&Object(p.Ld)(n.props.trackEventName,n.props.trackEventProps),i=t>(a=t>=(a=i?a+o:a-l)?a:t),n.setState({activeCounts:a,isMore:i})},n.loadAppReview=function(){var e=n.props,t=e.appReview,a=e.moreResultsAvailable,i=e.page,r=e.activeCounts,o=t.activityReview,l=t.planningToolId;if(a){var c=o?"".concat(g,"activity/reviews/?activityId=").concat(l,"&page=").concat(i,"&size=5"):"".concat(g,"hotel/reviews/?hotelId=").concat(l,"&page=").concat(i,"&size=5");Object(h.a)({url:c,method:"GET",body:{},onSuccess:function(e){var t=(o?e.data.activityReviews:e.data.hotelReviews).reduce((function(e,t){var a="".concat(new Date(t.reviewTime)).split(" "),n="".concat(a[2]," ").concat(a[1]," ").concat(a[3]);return e.push({reviewText:t.review,reviewerName:t.customerName,commentedOn:n}),e}),[]);t.length&&(n.props.updateReviews(t),n.props.updateCounts(r+t.length)),n.props.updateLoadMoreAvailable(e.data.moreResultsAvailable),e.data.moreResultsAvailable&&n.props.setPageCount(e.data.page+1)}})}else n.onCollapse()},n.renderChildElementsElements=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length&&e.map((function(e,t){return t<n.state.activeCounts?e:null}))};var i=e.children.length,r=e.enableCollapse&&e.activeCounts||i;return n.state={totalCounts:i,activeCounts:r,isMore:e.appReview&&i==r?e.moreResultsAvailable:i>r,preProps:e},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.rootClassName,n=t.enableCollapse,i=t.children,l=t.collapseClassName,c=t.collapseMoreName,s=t.collapseLessName,d=t.appReview,u=void 0===d?{}:d,m=this.state.isMore,p=u.activityReview,f=u.hotelReview;return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:a},this.renderChildElementsElements(i)),n&&1!==i.length?o.a.createElement("a",{href:" ",onClick:function(t){t&&t.preventDefault(),p||f?e.loadAppReview():e.onCollapse()},className:l},m?c:s):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!Object(m.a)(e.children,t.preProps.children)||e.activeCounts!==t.preProps.activeCounts){var a=e.children.length,n=e.enableCollapse&&e.activeCounts||a;return{totalCounts:a,activeCounts:n,preProps:e,isMore:e.appReview&&a==n?e.moreResultsAvailable:a>n}}return t}}]),a}(r.Component);function y(e){var t=e.rootClassName,a=void 0===t?"review-card":t,n=e.reviewerClassName,i=void 0===n?"reviewer":n,r=e.imgSrc,l=e.imgAlt,c=e.reviewerName,s=e.commentedOn,d=e.comment,u=e.commentClassName,m=void 0===u?"semi-bold":u,p=e.commentOnClassName,f=void 0===p?"color-grey fine-text":p;return o.a.createElement("div",{className:a},o.a.createElement("div",{className:i,style:{paddingLeft:r?"auto":"0px"}},r?o.a.createElement("img",{src:r,alt:l}):null,o.a.createElement("p",null,o.a.createElement("b",{className:m},c),s?o.a.createElement("p",null,o.a.createElement("span",{className:f},"reviewed on ",s)):null)),o.a.createElement("p",{className:"meta-text"},d))}function E(e){var t=e.rootClassName,a=void 0===t?"details-progress bg-grey-lighter":t,n=e.progressClassName,i=void 0===n?"prg":n,r=e.minValue,l=void 0===r?0:r,c=e.maxValue,s=void 0===c?100:c,d=e.currentValue,u={width:d+"%"};return o.a.createElement("span",{className:a},o.a.createElement("span",{className:i,role:"progressbar","aria-valuenow":d,"aria-valuemin":l,"aria-valuemax":s,style:u}))}b.defaultProps={collapseMoreName:"View more",collapseLessName:"View less",collapseClassName:"see-more-link btn btn-light round",moreIconClassName:"pyt-chevron-down-16",lessIconClassName:"pyt-chevron-top-16",activeCounts:null,enableCollapse:!1,moreCounts:1,lessCounts:1};var C=a(1603),x=a(71);function O(e){var t,a=e.reviews,l=void 0===a?[]:a,c=e.customerScores,s=void 0===c?[]:c,d=e.title,u=void 0===d?"Reviews from our travellers":d,m=e.showAsSubHeading,p=e.trackEventName,f=e.trackEventProps,h=e.appReview,v=Object(r.useState)(l),g=Object(i.a)(v,2);l=g[0],t=g[1];var E=Object(r.useState)(h?5:2),C=Object(i.a)(E,2),O=C[0],w=C[1],k=Object(r.useState)(1),S=Object(i.a)(k,2),A=S[0],j=S[1],I=Object(r.useState)(!!h&&h.moreResultsAvailable),T=Object(i.a)(I,2),R=T[0],D=T[1];return 0===l.length?null:o.a.createElement("div",{className:"row rating-content"},o.a.createElement("div",{className:"col-md-12"},m?o.a.createElement("h2",{className:"title"},u):o.a.createElement("h6",{className:"title"},u),o.a.createElement("div",{className:"row review-sec"},l.length?o.a.createElement("div",{className:"".concat(h?"col-sm-12":"col-sm-8")},o.a.createElement(b,{rootClassName:"".concat(l.length>2?"gradient-effect":""),enableCollapse:l.length>2,activeCounts:O,trackEventName:p,trackEventProps:f,updateReviews:function(e){return t([].concat(Object(n.a)(l),Object(n.a)(e)))},updateCounts:function(e){return w(e)},appReview:h,setPageCount:function(e){return j(e)},page:A,moreResultsAvailable:R,updateLoadMoreAvailable:function(e){return D(e)}},l.map((function(e,t){return o.a.createElement(y,{key:t,imgAlt:e.reviewerName,reviewerName:e.reviewerName,rating:5,commentedOn:h?e.commentedOn:"",comment:e.reviewText})})))):null,Object(x.a)()?null:o.a.createElement("div",{className:"col-sm-4"},o.a.createElement(N,{customerScores:s})))))}function N(e){var t=e.customerScores,a=void 0===t?[]:t,n=e.title,i=void 0===n?"":n,l={LOCATION:"pyt-great-location-16",ROOM:"pyt-bed-16",SERVICE_QUALITY:"pyt-service-16",FOOD:"pyt-restaurant-16",VALUE:"pyt-star-outline-24"},c=a.map((function(e){var t=e.score,a=e.scoreType,n=e.scoreLabel;return{className:l[a],textClassName:"caps-text-tiny",text:o.a.createElement(r.Fragment,null,o.a.createElement("b",null,n)," ",a),progressElement:o.a.createElement(E,{rootClassName:"progressbar ".concat(n.toLowerCase()," mbottom-small"),currentValue:10*t})}}));return o.a.createElement(r.Fragment,null,i?o.a.createElement("h5",{className:"title vmargin-large"},i):null,o.a.createElement(C.a,{rootClassName:Object(x.a)()?"clearfix ratings-list color-grey-secondary list-unstyled":"progressbar-list color-grey-secondary list-unstyled mb-0",icons:c}))}a.d(t,"b",(function(){return O})),a.d(t,"a",(function(){return N}))},2055:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),r=a(245),o=a(1668),l=a(1594),c=a(190),s=a(12),d=a(340);function u(e){return function(t){return new Promise((function(a,u){var m="".concat(n.a.api_url,"flight/removeflight");Object(i.a)({url:m,method:"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data),"SPEEDBOAT"===e.data.version?Object(o.a)(t,d.d,"FLIGHT"):setTimeout((function(){Object(l.a)(t,d.d)}),300),a("Promised resolved from fetch")},onFailure:function(e){Object(c.a)(e,t),t({type:s.Eb,payload:e}),u(e)}})}))}}},2057:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(14),i=a(22),r=a(245),o=a(1668),l=a(1594),c=a(190),s=a(340),d=a(12);function u(e){return function(t){return new Promise((function(a,u){var m="".concat(n.a.api_url,"flight/updateflight");Object(i.a)({url:m,method:"POST",body:e,onSuccess:function(e){a("Promised resolved from fetch");var n="SPEEDBOAT"===e.data.version;n&&e.data.itinerary.staleCost?t({type:d.Bc,payload:!0}):setTimeout((function(){Object(r.a)(t,e.data)}),300),n?Object(o.a)(t,"Flight has been updated in your itinerary.","FLIGHT"):setTimeout((function(){Object(l.a)(t,s.e)}),300)},onFailure:function(e){Object(c.a)(e,t),t({type:d.Eb,payload:e}),u("Failed")}})}))}}},2058:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(14),i=a(22),r=a(245),o=a(190);function l(e){return function(t){return new Promise((function(a,l){var c="".concat(n.a.api_url,"itinerary/bus/modify");Object(i.a)({url:c,method:"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data),a()},onFailure:function(e){Object(o.a)(e,t),l()}})}))}}},2059:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(14),i=a(22),r=a(245),o=a(190);function l(e){return function(t){return new Promise((function(a,l){var c="".concat(n.a.api_url,"itinerary/ferry/modify");Object(i.a)({url:c,method:"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data),a()},onFailure:function(e){Object(o.a)(e,t),l()}})}))}}},2060:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(7),i=a(12);function r(e){return function(t){return new Promise((function(a){t({type:i.Hb,payload:e}),e.history.push(Object(n.Jb)({itineraryId:e.itineraryId,regionCode:e.regionCode,location:e.location,target:n.U,customParams:{hotelCode:e.selectedHotel.hotelCode,configKey:e.configKey},retainQueryString:e.retainQueryString})),a("Promised resolved from fetch")}))}}},2064:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),r=a(245),o=a(1594),l=a(190),c=a(171),s=a(340);function d(e){return function(t){return new Promise((function(a,d){var u="".concat(n.a.api_url,"itinerary/").concat(e.itineraryId,"/update/carinsurance");delete e.itineraryId,Object(i.a)({url:u,method:"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data),Object(o.a)(t,s.m),a("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,t),Object(c.a)(e,t),d("Failed")}})}))}}},2065:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(14),i=a(22),r=a(245),o=a(1594),l=a(190),c=a(171),s=a(340);function d(e){return function(t){return new Promise((function(a,d){var u="".concat(n.a.api_url,"itinerary/").concat(e.itineraryId,"/changeCar");delete e.itineraryId,Object(i.a)({url:u,method:"POST",body:e,onSuccess:function(e){Object(r.a)(t,e.data),Object(o.a)(t,s.n),a("Promised resolved from fetch")},onFailure:function(e){Object(l.a)(e,t),Object(c.a)(e,t),d("Failed")}})}))}}},2074:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return g}));var n=a(1),i=a(0),r=a.n(i),o=a(900),l=a(1601),c=a(196),s=a.n(c),d=a(20),u=function(){return r.a.createElement(i.Fragment,null,"Dummy")},m=function(e){var t=e.loaderState,a=e.rows,n=void 0===a?2:a;return r.a.createElement(s.a,{color:"transparent",className:"animated-background",type:"text",rows:n,ready:t},r.a.createElement(u,null))},p=function(e){var t=e.loaderState,a=e.styleObj;return r.a.createElement(o.RectShape,{color:"transparent",className:"animated-background media-image",style:Object(n.a)({width:"100%"},a),ready:t},r.a.createElement(u,null))},f=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(m,e)))};function h(e){return Object(d.a)()?Object(l.a)(0,6).map((function(t){return r.a.createElement("section",{key:"loading_placeholder_"+t,className:"flight-card"},r.a.createElement("div",{className:"left-col",style:{width:"33%"}},r.a.createElement(o.RoundShape,{style:{height:50,width:50,margin:"0 auto"},color:"transparent",className:"animated-background"})),r.a.createElement("div",{className:"card-footer",style:{marginTop:"12px",width:"37%"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12  mbottom-small"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"col-xs-12  mbottom-small"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"col-xs-12  mbottom-small"},r.a.createElement(m,Object.assign({},e,{rows:1}))))),r.a.createElement("div",{className:"right-col",style:{width:"30%",padding:"18px 12px"}},r.a.createElement(p,e)))})):Object(l.a)(0,3).map((function(t){return r.a.createElement("section",{key:"loading_placeholder_"+t,className:"flight-card"},r.a.createElement("div",{className:"left-col"},r.a.createElement(p,e)),r.a.createElement("div",{className:"middle-col"},r.a.createElement("div",{className:"clearfix route"},r.a.createElement("div",{className:"split-width"},r.a.createElement(m,e)),r.a.createElement("div",{className:"split-width text-center"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"split-width"},r.a.createElement(m,e))),r.a.createElement("div",{className:"clearfix route"},r.a.createElement("div",{className:"split-width"},r.a.createElement(m,e)),r.a.createElement("div",{className:"split-width text-center"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"split-width"},r.a.createElement(m,e))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row mbottom-medium"},r.a.createElement("div",{className:"col-xs-4"},r.a.createElement(m,Object.assign({},e,{rows:1}))),r.a.createElement("div",{className:"col-xs-4 col-xs-offset-4"},r.a.createElement(m,Object.assign({},e,{rows:1})))))),r.a.createElement("div",{className:"right-col price-variant-col"},r.a.createElement(p,e)))}))}function v(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),Object(l.a)(0,5).map((function(t,a){return r.a.createElement(i.Fragment,{key:a},r.a.createElement("section",{className:"panel"},r.a.createElement(m,e),r.a.createElement(f,e)),r.a.createElement("hr",null))})))}function g(e){var t=Object(d.a)();return r.a.createElement("div",{tabIndex:"0",className:"flights-alternate mbottom-large"},e.children,r.a.createElement("div",{className:"container lg-container"},r.a.createElement("div",{className:"row"},t?null:r.a.createElement("aside",{className:"col-md-3 altermodal-filters"},r.a.createElement("div",{className:"panel-group"},r.a.createElement(v,{loaderState:!1}))),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("p",{className:"small-heading color-grey-secondary mbottom-medium"},"Loading..."),r.a.createElement(h,{loaderState:!1,isMobileDevice:t,title:"Change Flight"})))))}},2075:function(e,t,a){"use strict";var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}t.a=function(e){return function(t){Object(r.a)(o,t);var a=d(o);function o(){var e;Object(n.a)(this,o);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=a.call.apply(a,[this].concat(i))).state={localStorageAvailable:!1},e.getFromStorage=function(t){return e.state.localStorageAvailable?JSON.parse(localStorage.getItem(t)):null},e.setToStorage=function(t,a){e.state.localStorageAvailable&&localStorage.setItem(t,a)},e.removeFromStorage=function(t){e.state.localStorageAvailable&&localStorage.removeItem(t)},e}return Object(i.a)(o,[{key:"componentDidMount",value:function(){this.checkLocalStorageExists()}},{key:"checkLocalStorageExists",value:function(){try{localStorage.setItem("test","test"),localStorage.removeItem("test"),this.setState({localStorageAvailable:!0})}catch(e){this.setState({localStorageAvailable:!1})}}},{key:"render",value:function(){return s.a.createElement(e,Object.assign({getFromStorage:this.getFromStorage,setToStorage:this.setToStorage,removeFromStorage:this.removeFromStorage},this.props))}}]),o}(s.a.Component)}},2076:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return s})),a.d(t,"h",(function(){return d}));var n="Oh no! We currently don\u2019t provide activities for this region.",i=["Uh-oh. We couldn\u2019t find activities for this time slot.","Why don\u2019t you try some self-exploration?"],r=["Oops! We couldn\u2019t find the activity you were looking for.","Try searching a different activity."],o=["We're sorry! Flights are sold out for the dates you've selected.","Kindly check for another date."],l=["Uh-oh. We couldn\u2019t find flights for the filters you\u2019ve applied.","Please try again with a different filter"],c=["We're sorry! Our hotels are sold out for the dates you've selected.","Kindly check for another date."],s=["Uh-oh! We can't seem to find any hotels matching your interests.","Please try again with a different filter."],d=["Oh-no! We couldn\u2019t find the hotel you were looking for.","Try searching a different hotel."]},2077:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n),r=a(1617);function o(e){var t=function(e){var t=e.departureDate,a=void 0===t?"":t,o=e.arrivalDate,l=void 0===o?"":o,c=e.departureTime,s=void 0===c?"":c,d=e.arrivalTime,u=void 0===d?"":d,m=e.departureStationName,p=void 0===m?"":m,f=e.arrivalStationName,h=void 0===f?"":f,v=e.travelTime,g=void 0===v?"":v,b=e.trainNumber,y=void 0===b?"":b,E=e.lineText,C=void 0===E?"":E,x=e.trainName,O=void 0===x?"":x;return i.a.createElement(n.Fragment,null,i.a.createElement("section",{className:"route-details train-route-details row ml-0 mr-0 mbottom-medium row-eq-hgt"},i.a.createElement("div",{className:"col-xs-1 col-sm-2"},i.a.createElement("span",{className:"train-icon"},i.a.createElement("img",{src:"https://d3lf10b5gahyby.cloudfront.net/misc/train-icon.png",alt:""})),y||O?i.a.createElement("span",{className:"train-txt color-grey text-center hidden-xs"},"".concat(O?"".concat(O,", "):""," ","".concat(y?"".concat(y):""))):null),i.a.createElement("div",{className:"col-xs-4 col-sm-3 pl-0"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("i",{className:"color-accent-13 semi-bold hidden-xs"},a),y||O?i.a.createElement("i",{className:"semi-bold visible-xs"},"".concat(O?"".concat(O,", "):""," ","".concat(y?"".concat(y):""))):null,i.a.createElement("p",null,i.a.createElement("b",null,s),i.a.createElement("span",{className:"txt"},"".concat(p)," ")))),i.a.createElement("div",{className:"col-xs-3"},i.a.createElement(r.e,{rootClassName:"stop-indicator hidden-xs",content:"".concat(g),iconClassName:"vehoicon-train"}),i.a.createElement("div",{className:"text-center visible-xs"},i.a.createElement("span",{className:"pyt-clock-16 clock-icon"}),i.a.createElement("p",{className:"txt color-grey"},g))),i.a.createElement("div",{className:"col-xs-4 col-sm-4"},i.a.createElement("div",{className:"route-txt"},i.a.createElement("i",{className:"color-accent-13 semi-bold hidden-xs"},l),i.a.createElement("p",null,i.a.createElement("b",null,u," ",i.a.createElement("i",{className:"color-grey visible-xs arr-time"},l)),i.a.createElement("span",{className:"txt"},h))))),C?i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"line_layover text-center mbottom-large hidden-xs"},i.a.createElement("span",{className:"meta-text color-grey-secondary bg-white"},C)),i.a.createElement("div",{className:"line_layover text-left mbottom-large visible-xs"},i.a.createElement("span",{className:"color-grey-secondary bg-white"},C))):null)},a=e.isRail,o=e.segments,l=e.departureDate,c=e.arrivalDate,s=e.stops;return a&&(o||[]).length&&s?o.map((function(e,a){return t({departureDate:l,arrivalDate:c,departureTime:e.departureTime,arrivalTime:e.arrivalTime,departureStationName:e.departureStation,arrivalStationName:e.arrivalStation,travelTime:e.travelDuration,trainNumber:e.trainNumber,trainName:e.trainName,lineText:a<s?"Change of train @ ".concat(o[a+1].departureStation):null})})):t(e)}},2078:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var u={bus:[{title:"Refund Policy",data:"Card payment commissions might not be refunded in case of refund after payment confirmation."},{title:"Additional Info",data:["Ticket with seat reservation included.","In the case of an open ticket - no particular seat will be mapped to your ticket number.","Mandatory printouts of the bus tickets are required.","We don't provide transfers from the bus station to the hotel and vice versa."]}],train:[{title:"Refund Policy",data:["Card payment commissions might not be refunded in case of refund after payment confirmation.","Non refundable after departure."]},{title:"Seat Reservation:",data:["Ticket with seat reservations included.","In the case of an open ticket - no particular seat will be mapped to your ticket number.","Mandatory printouts of the train tickets are required.","If you miss a train during an inter-city connection, you need to reach out to the station officials who will coordinate with you and help you board the next train."]}],ferry:[{title:"Refund Policy",data:"If the supplier cancels the ferry due to bad weather conditions, you will be given a full refund."},{title:"Additional Info",data:["Mandatory printouts of the ferry tickets are required.","You must reach the ferry point at least 1 hour prior to your ferry commute.","Transfers from the ferry point to the hotel and vice versa is not included in this."]}],rentalCar:[{title:"Refund Policy",data:"Card payment commissions might not be refunded in case of refund after payment confirmation."},{title:"Additional Info",data:"Car pickup and drop time are dependent on the supplier's policy."}]},m=function(e){Object(r.a)(a,e);var t=d(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.policyData||u[this.props.type];return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("section",{className:"grey-content vmargin-medium"},s.a.createElement("div",{className:"box-title mbottom-large"},s.a.createElement("p",null,"Policy")),e.map((function(e,t){return s.a.createElement("div",{className:"box-para",key:t},s.a.createElement("strong",{className:"subtitle"},e.title),Array.isArray(e.data)?s.a.createElement("div",{className:"color-grey-secondary"},(a=e.data,s.a.createElement("ul",null,a.map((function(e,t){return s.a.createElement("li",{key:t},e)}))))):s.a.createElement("div",{className:"color-grey-secondary"},e.data));var a})))))}}]),a}(s.a.Component)},2094:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a.n(n);function r(e){var t=e.rootClassName,a=void 0===t?"expand-link clearfix":t,n=e.onClickAction,r=e.spanClassName,o=void 0===r?"pull-left light fade":r,l=e.spanContent,c=e.boldClassName,s=void 0===c?"pull-right":c,d=e.boldContent,u=e.directContent,m=void 0===u?"":u,p=e.collapseClassName,f=void 0===p?"collapse-arrow":p,h=e.enableCollapse,v=void 0!==h&&h,g=e.collapseContent,b=void 0===g?"":g;return i.a.createElement("a",{className:"".concat(a," ").concat(v?"enable-collapse-arrow":""),href:" ",style:{marginTop:16},onClick:function(e){e&&e.preventDefault(),n()}},l?i.a.createElement("span",{className:o},l):null,d?i.a.createElement("b",{className:s},d):null,m,i.a.createElement("span",{className:f},b," ",i.a.createElement("i",{className:"".concat(b?"pyt-chevron-top-16":"pyt-chevron-down-16")})))}},2095:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),i=a.n(n),r=a(1603),o=a(1912),l=a(20);function c(e){var t=e.amenities,a=void 0===t?[]:t,n=e.showAsSubHeading,c=void 0!==n&&n,s=e.groupClassName,d=void 0===s?"clearfix meta-text color-grey-secondary list-unstyled mbottom-large":s;return a.length?i.a.createElement("div",{className:"row amenities-list mbottom-medium"},i.a.createElement("div",{className:"col-md-12"},c?i.a.createElement("h2",{className:Object(l.a)()?"title medium-heading-sm bold mbottom-medium":""},"Amenities"):i.a.createElement("h6",{className:"title"},"Amenities"),i.a.createElement(r.a,{rootClassName:d,icons:Object(o.a)(a)})," ")):null}},2097:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(18),i=a(1649),r=a(43),o=a(159);function l(){var e=Object(n.a)(r.b.getState().activitiesPreviewList,"activityList");if(e){var t=Object(i.a)(e,(function(e){return e.removed}));-1!==t&&(e.splice(t,1),r.b.dispatch({type:o.a,payload:e}))}}},2098:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1793),i=a.n(n),r=function(e,t){var a=e.filter((function(e){return e.selectedTourGrade.diff&&"PRICEDECREASE"===e.selectedTourGrade.diff.diffChangeType}));if(a.length>0){var n="asc"===t?"desc":"asc";return a=i()(a,["selectedTourGrade.diff.diffCost"],n)}return[]},o=function(e,t){var a=e.filter((function(e){return e.selectedTourGrade.diff&&"PRICEINCREASE"===e.selectedTourGrade.diff.diffChangeType}));return a.length>0?a=i()(a,["selectedTourGrade.diff.diffCost"],[t]):[]};function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",n=e,l=n?n.filter((function(e){return e.free})):[],c=n?n.filter((function(e){return!e.free})):[],s=[];if(t)s=i()(c,[function(e){return e.selectedTourGrade.cost}],[a]);else{var d=c.filter((function(e){return!e.selectedTourGrade.diff}));d.length>0&&(d=i()(d,[function(e){return Number(e.selectedTourGrade.cost)}],[a]),s=s.concat(d));var u=[];u="asc"===a?r(c,a):o(c,a),s=s.concat(u);var m=c.filter((function(e){return e.selectedTourGrade.diff&&"NONE"===e.selectedTourGrade.diff.diffChangeType}));m.length>0&&(s=s.concat(m));var p=[];p="asc"===a?o(c,a):r(c,a),s=s.concat(p)}return s=s.concat(l)}},2136:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(191),o=a(342),l=a(1600),c=a(23);function s(e){var t=e.rootClassName,a=void 0===t?"details-banner":t,n=e.children,r=e.bannerImages,o=void 0===r?["https://i.imgur.com/6cQf6Yb.jpg","https://i.imgur.com/5XtuL5o.jpg","https://i.imgur.com/npRYXs5.jpg"]:r,l=e.enableExpand,s=void 0===l||l,u=e.totalImageCount,m=e.onClickAction;return i.a.createElement("section",{className:a},i.a.createElement("ul",{className:"clearfix banner-image list-unstyled mb-0"},i.a.createElement(d,{totalImageCount:u,images:o.length?o:[Object(c.a)("https://oceanjar-new.s3.ap-south-1.amazonaws.com/images/web_app/itinerary/not_in_inventory.jpg")],enableExpand:!!u&&s,onClickAction:m})),n)}function d(e){var t=e.images,a=e.onClickAction,n=e.enableExpand,c=e.totalImageCount,s=t.length-1;return s?t.map((function(e,t){return s===t?i.a.createElement("li",{key:t},i.a.createElement(o.a,{src:e,defaultImage:Object(l.a)("hotel"),alt:" "}),n?i.a.createElement("div",{className:"btn-group"},i.a.createElement(r.a,{onClickAction:a,buttonText:"Pics",beforeTextElement:i.a.createElement("span",null,c)}),i.a.createElement(r.a,{onClickAction:a},i.a.createElement("i",{className:"pyt-image-16"}))):null):i.a.createElement("li",{key:t},i.a.createElement(o.a,{src:e,defaultImage:Object(l.a)("hotel"),alt:" "}))})):i.a.createElement("li",{style:{width:"100%"}},i.a.createElement(o.a,{src:Array.isArray(t)?t[0]:"",defaultImage:Object(l.a)("hotel"),alt:" "}))}var u=a(589),m=a.n(u),p=a(1653);function f(e){var t=e.sliderContainer,a=void 0===t?"details-banner-slider":t,n=e.sliderSettings,r=void 0===n?{}:n,o=e.sliderImages,s=void 0===o?[]:o,d=e.sliderClass,u=void 0===d?"":d,f=Object.assign({dots:!0,infinite:!1,slidesToShow:1,slidesToScroll:1},r);return s.length>5&&s.splice(5,s.length),i.a.createElement(m.a,Object.assign({className:a},f),s.map((function(e,t){return i.a.createElement("div",{key:t,className:u},i.a.createElement("figure",{style:{backgroundImage:"url(".concat(""===e&&Object(p.a)(e)?Object(c.a)(l.b.hotelMedium):Object(c.a)(e,"w=375&h=220&fit=crop&crop=faces"),")")}}))})))}function h(e){var t=e.images,a=void 0===t?[]:t,n=e.isMobile,r=e.onClickAction,o=e.enableExpand,l=a.length;return n?i.a.createElement("div",{className:"details-banner"},i.a.createElement(f,{sliderImages:a})):i.a.createElement(s,{totalImageCount:l,bannerImages:a.slice(0,3),onClickAction:r,enableExpand:o})}a.d(t,"a",(function(){return h}))},2202:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),i=a.n(n),r=a(601),o=a(20);function l(e){var t=e.name,a=e.location,n=e.stars,l=void 0===n?0:n,c=e.enableTagIndicator,s=void 0===c||c,d=e.seatLeft,u=void 0===d?0:d,m=(e.isFromAlternate,e.lat),p=e.lon;return Object(o.a)()?i.a.createElement("div",{className:"clearfix mbottom-large"},i.a.createElement("h6",{className:"title"},i.a.createElement("span",{className:"bold"},t),a,i.a.createElement("a",{href:"https://maps.google.com/?q=".concat(m,",").concat(p),className:"secondary-link dashed-underline",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("i",{className:"pyt-location-16"})," Map View"))):i.a.createElement("section",{className:"row details-title"},i.a.createElement("div",{className:"col-md-10"},u?i.a.createElement("span",{className:"count-left color-white"},u," Seats left"):null,i.a.createElement("h6",null,t,i.a.createElement(r.a,{rootClassName:"ratings",rating:l})),(a||s)&&m&&p?i.a.createElement("p",{className:"vertical-center"},a,"\xa0",i.a.createElement("a",{href:"https://maps.google.com/?q=".concat(m,",").concat(p),className:"secondary-link dashed-underline",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("i",{className:"pyt-location-16"})," Map View")):null))}},2203:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),i=a.n(n),r=a(105),o=a(141),l=a(2596),c=function(e){var t=e.isMobile,a=e.data,n=function(e){var a=e.cabinClass,n=e.comfortCategory;return i.a.createElement(r.a.Item,{marginTop:6,columnGap:t?0:6,rowGap:t?6:0,marginLeft:4,flexDirection:t?"column":"row",alignItems:"baseline"},a?i.a.createElement(r.a.Item,{flexDirection:"row"},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?13:14,lineHeight:t?"13.34px":"17.6px",letterSpacing:"0.2px",color:"#444444"},"Cabin class :"," "),i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?13:14,lineHeight:t?"13.34px":"17.6px",letterSpacing:"0.2px",color:"#444444"},a)):null,a&&n&&!t?i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:16,lineHeight:"17.6px",letterSpacing:"0.2px",color:"#B1B1B1"},"|"):null,n?i.a.createElement(r.a.Item,{flexDirection:"row",alignSelf:"baseline"},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?13:14,lineHeight:t?"13.34px":"17.6px",letterSpacing:"0.2px",color:"#444444"},"Comfort category :"," "),i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?13:14,lineHeight:t?"13.34px":"17.6px",letterSpacing:"0.2px",color:"#444444"},n)):null)};return i.a.createElement(r.a.Item,{paddingVertical:24,paddingHorizontal:t?16:24,rowGap:8},null!==a&&void 0!==a&&a.length?a.map((function(e,a){var c,s;return"start"===(null===e||void 0===e?void 0:e.type)?i.a.createElement(r.a,{columnGap:24,key:"train-detail-"+a},i.a.createElement(r.a.Item,{rowGap:4,alignSelf:"baseline"},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?16:18,fontWeight:700,lineHeight:t?"20.11px":"22.63px",letterSpacing:"0.2px",color:"#444"},null===e||void 0===e?void 0:e.departure),i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?12:14,lineHeight:t?"15.08px":"17.6px",letterSpacing:"0.2px",color:"#7A7A7A"},null===e||void 0===e?void 0:e.duration)),i.a.createElement(r.a.Item,null,i.a.createElement(r.a,{gutter:14},i.a.createElement(l.a,{fill:"#444444"}),i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?16:18,fontWeight:600,lineHeight:t?"20.11px":"22.63px",letterSpacing:"0.2px",color:"#444"},null===e||void 0===e?void 0:e.station)),i.a.createElement(r.a.Item,{borderLeftWidth:2,borderLeftColor:"#999999",marginTop:6,paddingLeft:18,marginLeft:t?7:8,minHeight:60},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?13:14,fontWeight:600,lineHeight:t?"15.08px":"17.6px",letterSpacing:"0.2px",color:"#444444",marginLeft:4},null!==e&&void 0!==e&&e.date?(null===e||void 0===e||null===(c=e.date)||void 0===c?void 0:c.trim())+" |":""," ",null===e||void 0===e?void 0:e.vehicle," ",null!==e&&void 0!==e&&e.reference?"#":"",null===e||void 0===e?void 0:e.reference),i.a.createElement(n,{cabinClass:null===e||void 0===e?void 0:e.cabinClass,comfortCategory:null===e||void 0===e?void 0:e.comfortCategory})))):"interlink_start"===(null===e||void 0===e?void 0:e.type)?i.a.createElement(r.a,{columnGap:24,key:"train-detail-"+a},i.a.createElement(r.a.Item,{rowGap:4,alignSelf:"baseline"},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?14:16,fontWeight:600,lineHeight:t?"17.06px":"20.11px",letterSpacing:"0.2px",color:"#444"},null===e||void 0===e?void 0:e.departure)),i.a.createElement(r.a.Item,{alignSelf:"baseline"},i.a.createElement(r.a,{gutter:14,marginLeft:t?6:8},i.a.createElement(r.a.Item,{height:14,width:14,borderWidth:2,borderRadius:"100%",borderColor:"#646464",alignItems:"center"}),i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?14:16,fontWeight:600,lineHeight:t?"17.06px":"20.11px",letterSpacing:"0.2px",color:"#444"},null===e||void 0===e?void 0:e.station)),i.a.createElement(r.a.Item,{borderStyle:"dashed",borderLeftWidth:2,borderLeftColor:"#999999",marginTop:6,paddingLeft:18,marginLeft:t?12:14,minHeight:60},null!==e&&void 0!==e&&e.connectionTime?i.a.createElement(r.a.Item,{marginTop:12,flexDirection:"row",height:24,borderRadius:4,alignItems:"center",gap:6,backgroundColor:"#F6EFD7",paddingHorizontal:8},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontWeight:600,fontSize:t?12:14,lineHeight:t?"15.08px":"17.6px",letterSpacing:"0.2px",color:"#816507"},"Interchange, ",null===e||void 0===e?void 0:e.connectionTime)):null))):"interlink_end"===(null===e||void 0===e?void 0:e.type)?i.a.createElement(r.a,{columnGap:24,key:"train-detail-"+a},i.a.createElement(r.a.Item,{rowGap:4,alignSelf:"baseline"},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?14:16,fontWeight:600,lineHeight:t?"17.06px":"20.11px",letterSpacing:"0.2px",color:"#444"},null===e||void 0===e?void 0:e.departure),i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?12:14,lineHeight:t?"15.08px":"17.6px",letterSpacing:"0.2px",color:"#7A7A7A"},null===e||void 0===e?void 0:e.duration)),i.a.createElement(r.a.Item,{alignSelf:"baseline"},i.a.createElement(r.a,{gutter:14},i.a.createElement(l.a,{fill:"#7A7A7A"}),i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?14:16,fontWeight:600,lineHeight:t?"17.06px":"20.11px",letterSpacing:"0.2px",color:"#444"},null===e||void 0===e?void 0:e.station)),i.a.createElement(r.a.Item,{borderLeftWidth:2,borderLeftColor:"#999999",marginTop:6,paddingLeft:18,marginLeft:7,minHeight:60},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?13:14,fontWeight:600,lineHeight:t?"15.08px":"17.6px",letterSpacing:"0.2px",color:"#444444",marginLeft:4},null!==e&&void 0!==e&&e.date?(null===e||void 0===e||null===(s=e.date)||void 0===s?void 0:s.trim())+" |":""," ",null===e||void 0===e?void 0:e.vehicle," ",null!==e&&void 0!==e&&e.reference?"#":"",null===e||void 0===e?void 0:e.reference),i.a.createElement(n,{cabinClass:null===e||void 0===e?void 0:e.cabinClass,comfortCategory:null===e||void 0===e?void 0:e.comfortCategory})))):"end"===e.type?i.a.createElement(r.a,{columnGap:24,key:"train-detail-"+a},i.a.createElement(r.a.Item,{rowGap:4,alignSelf:"baseline"},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?16:18,fontWeight:t?600:700,lineHeight:t?"20.11px":"22.63px",letterSpacing:"0.2px",color:"#444"},null===e||void 0===e?void 0:e.arrival)),i.a.createElement(r.a,{gutter:14,alignSelf:"baseline"},i.a.createElement(o.a,{fontFamily:"Source Sans Pro",fontSize:t?16:18,fontWeight:600,lineHeight:t?"20.11px":"22.63px",letterSpacing:"0.2px",color:"#444"},null===e||void 0===e?void 0:e.station))):void 0})):null)}},2204:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(290),u=a(191),m=a(2),p=a(113),f=a.n(p);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var v=m.default.div.withConfig({displayName:"footer__SubHeader"})(["display:flex;"]),g=m.default.input.withConfig({displayName:"footer__HotelSearch"})(["width:280px;height:48px;left:12px;top:98px;flex:1;background:rgb(238,240,242);border-radius:8px;padding:8px 42px;border:none;&:focus{outline:none;}"]),b=m.default.i.withConfig({displayName:"footer__SearchIcon"})(["position:absolute;left:10px;top:16px;"]),y=function(e){Object(r.a)(a,e);var t=h(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={enableSearch:!1},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.mobileFilterAction,a=e.mobileFilterUpdate,n=e.filtersList,i=e.onChangeSearchTerm,r=e.enableFilterOnMobile,o=e.isSearchable,l=void 0!==o&&o,m=0;(n||[]).forEach((function(e){e&&Array.isArray(e.activeItems)&&e.activeItems.length&&Array.isArray(e.content)&&e.content.forEach((function(t){e.activeItems.includes(t.value)&&(m+=1)}))}));var p=m>0;return s.a.createElement("div",{className:"popular-search-ftr"},r?s.a.createElement(u.a,{styleValues:{position:"absolute",bottom:"0px",width:"100%",height:"44px"},buttonClass:"btn btn-primary btn-block",buttonText:"Update",onClickAction:function(e){a(e)}}):l?s.a.createElement(d.a,{enabled:!0},s.a.createElement(c.Fragment,null,s.a.createElement(v,null,s.a.createElement(g,{placeholder:"Find a hotel",onChange:function(e){e&&e.preventDefault(),i(e.currentTarget.value)}}),s.a.createElement(b,{className:"pyt-search-24"}),s.a.createElement(u.a,{styleValues:{marginLeft:"1rem",width:"48px",height:"48px",left:"315px",top:"98px",background:"#EEF0F2",borderRadius:"8px"},onClickAction:function(e){e&&e.preventDefault(),t()}},s.a.createElement("i",{className:"pyt-filter-24"}),p?s.a.createElement("span",{className:"highlight"},m):null)))):s.a.createElement(u.a,{styleValues:{position:"absolute",background:"#EEF0F2",width:"100%",bottom:"0px",height:"52px",borderRadius:0},onClickAction:function(e){e&&e.preventDefault(),t()}},s.a.createElement("i",{className:"pyt-filter-24"})," Filters",p?s.a.createElement(f.a,{as:"span",display:"block",textTransform:"uppercase",fontSize:"10px",lineHeight:1.6,letterSpacing:"0.5px",fontWeight:"400"}," (",m," Applied)"):null))}}]),a}(c.Component)},2205:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a.n(n);function r(e){var t=e.handleChangeBtnClick;return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("a",{className:"expand-link text-center mbottom-large",href:" ",onClick:t},i.a.createElement("b",null,"Explore similar train options"))))}},2206:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(38),i=a(39),r=a(46),o=a(56),l=a(29),c=a(0),s=a.n(c),d=a(191),u=a(49),m=a.n(u),p=a(1616),f=a(256),h=a(55);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var g=function(e){Object(r.a)(a,e);var t=v(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).performSorting=function(e,t,a){e&&e.preventDefault();var n=i.state,r=n.sortingType,o=n.headers,l=o.length>0?o[t].sortingField:"";if(o.length>0&&!o[t].enableSorting)return i.setState({sorted:!0}),n.rows;r=a||("ASC"===r?"DEC":"ASC"),i.setState({sorted:!0,sortingIndex:t,sortingType:r,rows:Object(p.a)(n.rows,[l],"DEC"===r)})},i.getDateFormat=function(e,t){return m()(e).format(t)},i.state={headers:e.headers||[],preProps:e,sortingIndex:e.sortingIndex||null,sortingType:"ASC",rows:e.rows||[],sorted:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.rootClassName,a=e.targetComponent,n=this.state,i=n.sorted,r=n.sortingIndex,o=n.sortingType;return i||this.performSorting(null,r,o),s.a.createElement("div",{className:t,style:{minHeight:"300px"}},s.a.createElement(y,Object.assign({performSorting:this.performSorting},this.state)),this.state.rows&&this.state.rows.length?s.a.createElement(b,{rows:this.state.rows,targetComponent:a,getDateFormat:this.getDateFormat}):s.a.createElement("div",{className:"loader-wrapper"},s.a.createElement(f.a,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.headers.length!==t.headers.length||e.rows.length!==t.rows.length?{headers:e.headers,rows:e.rows,preProps:e,sorted:!1}:t}}]),a}(c.Component);function b(e){var t=e.rows,a=e.getDateFormat,n=e.targetComponent;return t.map((function(e,t){return function(e,t){var i,r=e.clickAction,o=e.diff,l=e.duration,u=e.arrivalTime,m=e.departureTime,p=e.departureFormat,f=void 0===p?"HH:mm":p,v=e.arrivalFormat,g=void 0===v?"HH:mm":v,b=e.durationFormat,y=void 0===b?"H[h] m[m]":b,E=e.arrivalSubTextFormat,C=void 0===E?"DD MMM":E,x=e.diffCost,O=e.ferryClass,N=o||{},w=N.diffChangeType,k=void 0===w?"":w,S=N.percentage,A=void 0===S?0:S,j={value:x};switch(k){case"PRICEINCREASE":s.a.createElement(c.Fragment,null,s.a.createElement("b",{className:"color-accent-11"},"".concat(A,"%"))," More comfitness"),i="pyt-arrow-top-16 color-secondary";break;case"PRICEDECREASE":s.a.createElement(c.Fragment,null,s.a.createElement("b",{className:"color-primary"},"".concat(A,"%"))," Less comfitness"),i="pyt-arrow-down-16 color-primary";break;case"NONE":"",i="pyt-arrow-top-16 color-primary";break;default:"Same comfitness",i=""}return s.a.createElement("div",{className:"row train-info",key:t,onClick:function(t){t&&t.preventDefault(),r(e)}},s.a.createElement("div",{className:"col-xs-4 col-sm-2"},s.a.createElement("p",{className:"bold"},a(m,f))),s.a.createElement("div",{className:"col-xs-4 col-sm-2"},s.a.createElement("p",{className:"arrival-txt bold"},a(u,g),s.a.createElement("br",null),s.a.createElement("span",{className:"fine-text regular color-grey"}," ".concat(a(u,C))))),s.a.createElement("div",{className:"col-sm-2 hidden-xs"},s.a.createElement("p",{className:"bold"},a(l,y))),"ferry"===n?s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("p",{className:"bold"},O)):null,s.a.createElement("div",{className:"ferry"===n?"col-xs-4 col-sm-4 price-txt":"col-xs-4 col-sm-6 price-txt"},s.a.createElement("div",null,s.a.createElement("p",{className:"varied-price"},s.a.createElement("i",{className:"".concat(i," fade")}),s.a.createElement("b",{className:"color-grey-secondary"},"\xa0",s.a.createElement(h.a,{objectData:j,path:"value",defaultValue:"0"})))),s.a.createElement(d.a,{buttonClass:"btn btn-primary choose-btn",buttonText:"Choose",onClickAction:function(t){t&&t.preventDefault(),t.stopPropagation(),r(e)}})))}(e,t)}))}function y(e){var t=e.sortingType,a=e.sortingIndex,n=e.headers,i=e.performSorting;return s.a.createElement("div",{className:"row train-title"},n.map((function(e,n){return function(e,n){var r=e.columnClass,o=void 0===r?"col-xs-4 col-sm-3":r,l=e.title,c=e.enableSorting;return s.a.createElement("div",{className:o,key:n},s.a.createElement("p",{onClick:function(e){return i(e,n)}},c&&n===a?s.a.createElement("i",{className:"pyt-arrow-top-16 ".concat("ASC"===t?"":"rotate-180")}):null,l))}(e,n)})))}g.defaultProps={headers:[],sortingIndex:0,rootClassName:"modal-body train-info-outer",rows:[]},b.defaultProps={rows:[]},y.defaultProps={sortingType:"",sortingIndex:0,headers:[]}}}]);